R7xOY[8328]=(function(){var S73=2;for(;S73 !== 9;){switch(S73){case 1:return globalThis;break;case 2:S73=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var g9_;try{var c_G=2;for(;c_G !== 6;){switch(c_G){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x65\u0057\u006c\u0050\u006e',{'\x67\x65\x74':function(){var n1Y=2;for(;n1Y !== 1;){switch(n1Y){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});g9_=eWlPn;g9_['\x6b\x6b\x45\x57\x38']=g9_;c_G=4;break;case 4:c_G=typeof kkEW8 === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";c_G=9;break;case 9:delete g9_['\x6b\x6b\x45\x57\x38'];var N24=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete N24['\u0065\x57\u006c\x50\x6e'];c_G=6;break;}}}catch(a7v){g9_=window;}return g9_;break;}}})();R7xOY[354730]=734;R7xOY[638093]="roq";R7xOY[1119]=(function(Y3N){return {L$q3dyn:function(){var l21,V5J=arguments;switch(Y3N){case 23:l21=V5J[1] / V5J[2] | V5J[0];break;case 14:l21=V5J[1] - V5J[2] + V5J[0];break;case 8:l21=(V5J[0] + V5J[2]) * V5J[1] - V5J[3];break;case 22:l21=V5J[3] + V5J[2] / V5J[1] * V5J[0];break;case 16:l21=-V5J[0] + V5J[2] + V5J[1];break;case 25:l21=V5J[3] + V5J[1] - V5J[0] + V5J[2] - V5J[4];break;case 10:l21=V5J[0] === V5J[1];break;case 13:l21=-V5J[1] - V5J[2] + V5J[0];break;case 12:l21=V5J[2] * V5J[3] * V5J[1] - V5J[0];break;case 4:l21=V5J[0] * V5J[1] / V5J[2];break;case 20:l21=(V5J[4] / V5J[3] - V5J[0]) * V5J[2] + V5J[1];break;case 2:l21=V5J[1] + V5J[2] + V5J[0];break;case 11:l21=(V5J[1] - V5J[0]) * V5J[2];break;case 19:l21=(V5J[3] - V5J[1]) * V5J[0] + V5J[2];break;case 7:l21=V5J[2] - V5J[1] - V5J[0] + V5J[3] - V5J[4];break;case 9:l21=V5J[0] == V5J[1];break;case 5:l21=V5J[0] - V5J[1];break;case 24:l21=(V5J[1] / V5J[0] | V5J[2]) * V5J[3];break;case 1:l21=V5J[1] + V5J[0] + V5J[3] + V5J[2] + V5J[4];break;case 0:l21=V5J[1] + V5J[0];break;case 17:l21=V5J[1] < V5J[0];break;case 6:l21=(V5J[2] + V5J[0] + V5J[4]) * V5J[3] - V5J[1];break;case 18:l21=(V5J[3] - V5J[4]) / V5J[2] + V5J[0] + V5J[1];break;case 26:l21=V5J[0] * V5J[2] / V5J[1] - V5J[3];break;case 21:l21=V5J[3] - V5J[2] - V5J[1] + V5J[0];break;case 3:l21=V5J[0] / V5J[1];break;case 15:l21=V5J[0] * V5J[1];break;}return l21;},j0d3p1f:function(E2y){Y3N=E2y;}};})();R7xOY[263027]=false;R7xOY.A_X=function(){return typeof R7xOY[1119].L$q3dyn === 'function'?R7xOY[1119].L$q3dyn.apply(R7xOY[1119],arguments):R7xOY[1119].L$q3dyn;};R7xOY[8328].a377=R7xOY;R7xOY.C8s=function(){return typeof R7xOY[1119].j0d3p1f === 'function'?R7xOY[1119].j0d3p1f.apply(R7xOY[1119],arguments):R7xOY[1119].j0d3p1f;};function R7xOY(){}R7xOY.m_t=function(){return typeof R7xOY[1119].j0d3p1f === 'function'?R7xOY[1119].j0d3p1f.apply(R7xOY[1119],arguments):R7xOY[1119].j0d3p1f;};R7xOY.N0G=function(){return typeof R7xOY[1119].L$q3dyn === 'function'?R7xOY[1119].L$q3dyn.apply(R7xOY[1119],arguments):R7xOY[1119].L$q3dyn;};R7xOY[112472]=R7xOY[8328];R7xOY[554796]=773;R7xOY[118015]=R7xOY[1119];R7xOY[113031]="XTY";R7xOY[21724]=R7xOY[8328];(function(){(function(nb,Db){var qc,Bc,Vb,kd,Jb,Mb,ac,ke,le,Tb,Sb,Kc,me,ld,ne,oe,Ed,Ga,Gb,Zc,pe,Fd,fb,xb,Hb,rc,jc,Yb,yb,bc,Ub,ad,Nb,Cc,Rb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(hb,gb){if(!gb || "utf-8" === gb)return Ad(hb);throw Error("unsupported encoding");}function fc(hb,gb){if(!gb || "utf-8" === gb)return Bd(hb);throw Error("unsupported encoding");}function Ad(hb){for(var gb=0,eb,$a=hb.length,lb="";gb < $a;){eb=hb[gb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (hb[gb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((hb[gb++] & 63) << 6) + (hb[gb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Bd(hb){var gb,eb,$a,lb,wb;gb=hb.length;eb=0;lb=0;for($a=gb;$a--;){wb=hb.charCodeAt($a);128 > wb?eb++:eb=2048 > wb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for($a=0;$a < gb;$a++){wb=hb.charCodeAt($a);128 > wb?eb[lb++]=wb:(2048 > wb?eb[lb++]=192 | wb >>> 6:(eb[lb++]=224 | wb >>> 12,eb[lb++]=128 | wb >>> 6 & 63),eb[lb++]=128 | wb & 63);}return eb;}function gc(hb,gb){if(hb === gb)return !0;if(!hb || !gb || hb.length != gb.length)return !1;for(var eb=0;eb < hb.length;++eb){if(hb[eb] != gb[eb])return !1;}return !0;}function hc(hb){var $a;if(!(hb && hb.constructor == Uint8Array || Array.isArray(hb)))throw new TypeError("Cannot compute the hash code of " + hb);for(var gb=1,eb=0;eb < hb.length;++eb){$a=hb[eb];if("number" !== typeof $a)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + $a);gb=31 * gb + $a & 4294967295;}return gb;}function be(hb,gb){var jb;if(hb === gb)return !0;if(!hb || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var eb=0;eb < gb.length;++eb){for(var $a=gb[eb],lb=!1,wb=0;wb < hb.length;++wb){jb=hb[wb];if($a.equals && "function" === typeof $a.equals && $a.equals(jb) || $a == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ce(hb,gb){return be(hb,gb) && (hb.length == gb.length || be(gb,hb));}function Na(hb,gb,eb){var $a,lb;eb && ($a=eb);if("object" !== typeof hb || "function" !== typeof hb.result || "function" !== typeof hb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=gb.call($a,hb);lb !== Db && hb.result(lb);}catch(wb){try{hb.error(wb);}catch(jb){}}}function cb(hb,gb,eb){if("object" !== typeof hb || "function" !== typeof hb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(hb,gb,eb);}function S(hb,gb,eb){1E5 > hb && (hb=1E5 + hb);Object.defineProperties(this,{internalCode:{value:hb,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Cd(hb){switch(hb){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(hb){switch(hb){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(hb){return hb.toJSON();}function ee(hb,gb){jd?gb.result(jd):Promise.resolve().then(function(){return Rb.getKeyByName(hb);}).catch(function(){return Rb.generateKey({name:hb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){jd=eb;gb.result(jd);}).catch(function(eb){gb.error(new fb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(hb,gb){var eb,$a;eb=gb.masterToken;$a=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:hb.method,UserId:hb.userId,UT:$a && $a.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:gb && gb.length};}function nf(hb){return hb.uniqueKey();}function of(hb,gb,eb,$a,lb){var Pa;function wb(va,ma){va.errorCode === Ga.ENTITY_REAUTH || va.errorCode === Ga.ENTITYDATA_REAUTH?($a.clearCryptoContexts(),Ka()):va.errorCode !== Ga.USER_REAUTH && va.errorCode !== Ga.USERDATA_REAUTH || jb(ma);}function jb(va){if(va=$a.getUserIdToken(va))($a.removeUserIdToken(va),Ka());}function Ba(va,ma,da){var X;X=[];(function V(){va.read(-1,ma,{result:function(ba){Na(da,function(){var W,fa,wa,ua,ia;if(ba)(X.push(ba),V());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(wa=X.length,ua=0);for(fa=W=0;fa < wa;fa++){W+=X[fa].length;}W=new Uint8Array(W);for(fa=0;fa < wa;fa++){ia=X[fa];W.set(ia,ua);ua+=ia.length;}return W;}});},timeout:function(){da.timeout();},error:function(ba){da.error(ba);}});})();}function Ka(){$a.getStoreState({result:function(va){for(var ma=Pa.slice(),da=0;da < ma.length;da++){ma[da]({storeState:va});}},timeout:function(){hb.error("Timeout getting store state","" + e);},error:function(va){hb.error("Error getting store state","" + va);}});}Pa=[];this.addEventHandler=function(va,ma){switch(va){case "shouldpersist":Pa.push(ma);}};this.send=function(va){return new Promise(function(ma,da){var X,T,V;X=va.timeout;T=new ge(hb,eb,va,$a.getKeyRequestData());V=new he(va.url);hb.trace("Sending MSL request");gb.request(eb,T,V,X,{result:function(ba){var W;hb.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && Ka();W=ba.getErrorHeader();W?(wb(W,va.profileGuid || va.userId),da({success:!1,error:W})):Ba(ba,X,{result:function(fa){ma({success:!0,body:ec(fa)});},timeout:function(){da({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(fa){da({success:!1,error:fa});}});}else da({success:!1,error:new fb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){da({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(ba){da({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!$a.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return $a.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){$a.clearUserIdTokens();Ka();};this.isErrorReauth=function(va){return va && va.errorCode == Ga.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var ma,da;ma=$a.getMasterToken();va=$a.getUserIdToken(va);da=$a.getCryptoContext(ma);return {masterToken:ma,userIdToken:va,cryptoContext:da};};this.buildPlayDataRequest=function(va,ma){var da;da=new ie();gb.request(eb,new ge(hb,eb,va),da,va.timeout,{result:function(){ma.result(da.getRequest());},error:function(){ma.result(da.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(va,ma){$a.rekeyUserIdToken(va,ma);Ka();};this.getServiceTokens=function(va){var ma;ma=$a.getMasterToken();(va=$a.getUserIdToken(va)) && !va.isBoundTo(ma) && (va=Db);return $a.getServiceTokens(ma,va);};this.removeServiceToken=function(va){var ma;ma=$a.getMasterToken();$a.getServiceTokens(ma).find(function(da){return da.name === va;}) && ($a.removeServiceTokens(va,ma),Ka());};}function pf(hb,gb,eb){var wb;function $a(){return Promise.resolve().then(function(){return Rb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Ba){return Promise.all([new Promise(function(Ka,Pa){Jc(jb,{result:Ka,error:function(va){Pa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(Ka,Pa){Sc(Ba,{result:Ka,error:function(va){Pa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(Ka){Ka=new Dd("rsaKeypairId",eb,Ka[0],Ka[1]);wb && (Ka.storeData={keyxPublicKey:jb,keyxPrivateKey:Ba});return Ka;});}wb=!hb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Ba;jb=hb.storeState;Ba=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return wb && Ba && jb?lb(Ba,jb):$a();}).then(function(jb){var Ba,Ka,Pa;Ba={};Ba[Wb.NONE]=new qf();Ka=new Yc(hb.esn);Pa=[new je()];return {entityAuthFactories:Ba,entityAuthData:Ka,keyExchangeFactories:Pa,keyRequestData:jb,createKeyRequestData:wb?$a:Db};});}Bc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(hb){var gb,eb;gb=(function(){function $a(lb,wb){lb instanceof gb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=wb || 0);}$a.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,wb,jb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,wb,jb);Ba.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return $a;})();eb={};(function(){var ba,W,fa,wa,ua,ia,ta,Aa,la;function $a(aa,ca){var ea;ca.writeByte(aa.tagClass << 6 | aa.constructed << 5 | aa.tag);ea=aa.payloadLen;if(128 > ea)ca.writeByte(ea);else {for(var xa=ea,Ra=0;xa;){++Ra;xa>>=8;}ca.writeByte(128 | Ra);for(xa=0;xa < Ra;++xa){ca.writeByte(ea >> 8 * (Ra - xa - 1) & 255);}}if(aa.child)for((aa.tag == ba.BIT_STRING && ca.writeByte(0),aa=aa._child);aa;){if(!$a(aa,ca))return !1;aa=aa.next;}else switch(aa.tag){case ba.INTEGER:aa.backingStore[aa.dataIdx] >> 7 && ca.writeByte(0);ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.BIT_STRING:ca.writeByte(0);ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OCTET_STRING:ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OBJECT_IDENTIFIER:ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);}return !0;}function lb(aa){var ca,ea;ca=aa.readByte();ea=ca & 127;if(ea == ca)return ea;if(3 < ea || 0 === ea)return -1;for(var xa=ca=0;xa < ea;++xa){ca=ca << 8 | aa.readByte();}return ca;}function wb(aa,ca,ea){var xa,Ra,Ma,Qa,Ua,pa,ya;xa=aa.backingStore;Ra=new gb(xa,ca);ca+=ea;ea=aa;if(8 < ua++)return Db;for(;Ra.getPosition() < ca;){Ra.getPosition();Qa=Ra.readByte();if(31 == (Qa & 31)){for(Ma=0;Qa & 128;){Ma<<=8;Ma|=Qa & 127;}Qa=Ma;}Ua=Qa;Ma=Ua & 31;if(0 > Ma || 30 < Ma)return Db;Qa=lb(Ra);if(0 > Qa || Qa > Ra.getRemaining())return Db;ea.constructed=Ua & 32;ea.tagClass=(Ua & 192) >> 6;ea.tag=Ma;ea.dataLen=Qa;ea.dataIdx=Ra.getPosition();Ma=Ra;pa=Ua;Ua=Qa;if(pa & 32)Ma=!0;else if(pa < ba.BIT_STRING || pa > ba.OCTET_STRING)Ma=!1;else {ya=new gb(Ma);pa == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?Ma=!1:(pa=lb(ya),Ma=ya.getPosition() - Ma.getPosition() + pa == Ua);}Ma && (Ma=Ra.getPosition(),Ua=Qa,ea.tag == ba.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Ma++,Ua--),ea.child=new W(xa,ea),wb(ea.child,Ma,Ua));ea.tag == ba.INTEGER && (Ma=Ra.getPosition(),0 == Ra.peekByte(Ma) && Ra.peekByte(Ma + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ra.skip(Qa);Ra.getPosition() < ca && (ea.next=new W(xa,ea.parent),ea=ea.next);}ua--;return aa;}function jb(aa,ca,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea){if(aa[ca++] != ia[ea])return !1;}return !0;}function Ba(aa){var ca;if(!(aa && aa.child && aa.child.next && aa.child.child && aa.child.next.child))return !1;ca=aa.child.child;return jb(ca.backingStore,ca.dataIdx,ca.dataLen) && 2 == aa.nChildren && 2 == aa.child.nChildren && 2 == aa.child.next.child.nChildren?!0:!1;}function Ka(aa){var ca;if(!(aa && aa.child && aa.child.next && aa.child.next.child && aa.child.next.next && aa.child.next.next.child))return !1;ca=aa.child.next.child;return jb(ca.backingStore,ca.dataIdx,ca.dataLen) && 3 == aa.nChildren && 2 == aa.child.next.nChildren && 9 == aa.child.next.next.child.nChildren?!0:!1;}function Pa(aa){var ca,ea;ca=fa.createSequenceNode();ea=new wa(ca);ea.addChild(fa.createSequenceNode());ea.addChild(fa.createOidNode(ia));ea.addSibling(fa.createNullNode());ea.addToParent(ca,fa.createBitStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(aa.n));ea.addSibling(fa.createIntegerNode(aa.e));return ca;}function va(aa){var ca;aa=aa.child.next.child.child;ca=aa.data;aa=aa.next;return new ta(ca,aa.data,null,null);}function ma(aa){var ca,ea;ca=fa.createSequenceNode();ea=new wa(ca);ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createSequenceNode());ea.addChild(fa.createOidNode(ia));ea.addSibling(fa.createNullNode());ea.addToParent(ca,fa.createOctetStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createIntegerNode(aa.n));ea.addSibling(fa.createIntegerNode(aa.e));ea.addSibling(fa.createIntegerNode(aa.d));ea.addSibling(fa.createIntegerNode(aa.p));ea.addSibling(fa.createIntegerNode(aa.q));ea.addSibling(fa.createIntegerNode(aa.dp));ea.addSibling(fa.createIntegerNode(aa.dq));ea.addSibling(fa.createIntegerNode(aa.qi));return ca;}function da(aa){var ca;ca=[];aa=aa.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++){ca.push(aa.data);aa=aa.next;}return new Aa(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5],ca[6],ca[7]);}function X(aa,ca,ea,xa){if(!(aa instanceof ta || aa instanceof Aa))return Db;if(ea)for(var Ra=0;Ra < ea.length;++Ra){if(-1 == la.indexOf(ea[Ra]))return Db;}ca={kty:"RSA",alg:ca,key_ops:ea || [],ext:xa == Db?!1:xa,n:Jb(aa.n,!0),e:Jb(aa.e,!0)};aa instanceof Aa && (ca.d=Jb(aa.d,!0),ca.p=Jb(aa.p,!0),ca.q=Jb(aa.q,!0),ca.dp=Jb(aa.dp,!0),ca.dq=Jb(aa.dq,!0),ca.qi=Jb(aa.qi,!0));return ca;}function T(aa){var ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea;if(!aa.kty || "RSA" != aa.kty || !aa.n || !aa.e)return Db;ca=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(aa.alg && -1 == ca.indexOf(aa.alg))return Db;ca=[];aa.use?"enc" == aa.use?ca=["encrypt","decrypt","wrap","unwrap"]:"sig" == aa.use && (ca=["sign","verify"]):ca=aa.key_ops;ea=aa.ext;xa=Mb(aa.n,!0);Ra=Mb(aa.e,!0);if(aa.d){Ma=Mb(aa.d,!0);Qa=Mb(aa.p,!0);Ua=Mb(aa.q,!0);pa=Mb(aa.dp,!0);ya=Mb(aa.dq,!0);Ea=Mb(aa.qi,!0);return new Aa(xa,Ra,Ma,Qa,Ua,pa,ya,Ea,aa.alg,ca,ea);}return new ta(xa,Ra,ea,ca);}function V(aa,ca,ea,xa){this.der=aa;this.type=ca;this.keyOps=ea;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};W=function(aa,ca,ea,xa,Ra,Ma){this._data=aa;this._parent=ca || Db;this._constructed=ea || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Ra || 0;this._dataLen=Ma || 0;};W.prototype={_child:Db,_next:Db,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(aa) {this._constructed=0 != aa?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(aa) {this._tagClass=aa;},get tag() {return this._tag;},set tag(aa) {this._tag=aa;},get dataIdx() {return this._dataIdx;},set dataIdx(aa) {this._dataIdx=aa;},get dataLen() {return this._dataLen;},set dataLen(aa) {this._dataLen=aa;},get child() {return this._child;},set child(aa) {this._child=aa;this._child.parent=this;},get next() {return this._next;},set next(aa) {this._next=aa;},get parent() {return this._parent;},set parent(aa) {this._parent=aa;},get payloadLen() {var aa;aa=0;if(this._child){for(var ca=this._child;ca;){aa+=ca.length;ca=ca.next;}this._tag == ba.BIT_STRING && aa++;}else switch(this._tag){case ba.INTEGER:aa=this._dataLen;this._data[this._dataIdx] >> 7 && aa++;break;case ba.BIT_STRING:aa=this._dataLen + 1;break;case ba.OCTET_STRING:aa=this._dataLen;break;case ba.NULL:aa=0;break;case ba.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (aa=9);}return aa;},get length() {var aa,ca;aa=this.payloadLen;if(127 < aa)for(ca=aa;ca;){ca>>=8;++aa;}return aa + 2;},get der() {var aa,ca;aa=this.length;if(!aa)return Db;aa=new Uint8Array(aa);ca=new gb(aa);return $a(this,ca)?aa:Db;},get nChildren() {for(var aa=0,ca=this._child;ca;){aa++;ca=ca.next;}return aa;}};fa={createSequenceNode:function(){return new W(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(aa){return new W(aa,null,!1,ba.OBJECT_IDENTIFIER,0,aa?aa.length:0);},createNullNode:function(){return new W(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(aa){return new W(aa,null,!1,ba.BIT_STRING,0,aa?aa.length:0);},createIntegerNode:function(aa){return new W(aa,null,!1,ba.INTEGER,0,aa?aa.length:0);},createOctetStringNode:function(aa){return new W(aa,null,!1,ba.OCTET_STRING,0,aa?aa.length:0);}};wa=function(aa){this._currentNode=this._rootNode=aa;};wa.prototype={addChild:function(aa){this.addTo(this._currentNode,aa);},addSibling:function(aa){this.addTo(this._currentNode.parent,aa);},addTo:function(aa,ca){this._currentNode=ca;this._currentNode.parent=aa;if(aa.child){for(aa=aa.child;aa.next;){aa=aa.next;}aa.next=ca;}else aa.child=ca;},addToParent:function(aa,ca){this.findNode(aa) && this.addTo(aa,ca);},findNode:function(aa){for(var ca=this._currentNode;ca;){if(aa == ca)return !0;ca=ca.parent;}return !1;}};ua=0;ia=new Uint8Array([42,134,72,134,247,13,1,1,1]);ta=function(aa,ca,ea,xa){this.n=aa;this.e=ca;this.ext=ea;this.keyOps=xa;};Aa=function(aa,ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea){this.n=aa;this.e=ca;this.d=ea;this.p=xa;this.q=Ra;this.dp=Ma;this.dq=Qa;this.qi=Ua;this.alg=pa;this.keyOps=ya;this.ext=Ea;};la=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");V.prototype.getDer=function(){return this.der;};V.prototype.getType=function(){return this.type;};V.prototype.getKeyOps=function(){return this.keyOps;};V.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(aa){ua=0;return wb(new W(aa),0,aa.length);};eb.show=function(aa,ca){};eb.isRsaSpki=Ba;eb.isRsaPkcs8=Ka;eb.NodeFactory=fa;eb.Builder=wa;eb.tagVal=ba;eb.RsaPublicKey=ta;eb.RsaPrivateKey=Aa;eb.buildRsaSpki=Pa;eb.parseRsaSpki=function(aa){aa=eb.parse(aa);return Ba?va(aa):Db;};eb.buildRsaPkcs8=ma;eb.parseRsaPkcs8=function(aa){aa=eb.parse(aa);return Ka(aa)?da(aa):Db;};eb.buildRsaJwk=X;eb.parseRsaJwk=T;eb.RsaDer=V;eb.rsaDerToJwk=function(aa,ca,ea,xa){aa=eb.parse(aa);if(!aa)return Db;if(Ba(aa))aa=va(aa);else if(Ka(aa))aa=da(aa);else return Db;return X(aa,ca,ea,xa);};eb.jwkToRsaDer=function(aa){var ca,ea;aa=T(aa);if(!aa)return Db;if(aa instanceof ta){ca="spki";ea=Pa(aa).der;}else if(aa instanceof Aa)(ca="pkcs8",ea=ma(aa).der);else return Db;return new V(ea,ca,aa.keyOps,aa.ext);};eb.webCryptoAlgorithmToJwkAlg=function(aa){return "RSAES-PKCS1-v1_5" == aa.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == aa.name?"SHA-256" == aa.hash.name?"RS256":"SHA-384" == aa.hash.name?"RS384":"SHA-512" == aa.hash.name?"RS512":Db:Db;};eb.webCryptoUsageToJwkKeyOps=function(aa){return aa.map(function(ca){return "wrapKey" == ca?"wrap":"unwrapKey" == ca?"unwrap":ca;});};})();hb.ASN1=eb;})(nb);(function(){for(var hb={},gb={},eb={"=":0,".":0},$a={"=":0,".":0},lb=/\s+/g,wb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Jb=function(Ba,Ka){for(var Pa="",va=0,ma=Ba.length,da=ma - 2,X=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Ka?"":"=";va < da;){Ka=65536 * Ba[va++] + 256 * Ba[va++] + Ba[va++];Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + X[Ka & 63];}va == da?(Ka=65536 * Ba[va++] + 256 * Ba[va++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + T):va == ma - 1 && (Ka=65536 * Ba[va++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + T + T);return Pa;};Mb=function(Ba,Ka){Ba=Ba.replace(lb,"");if(Ka && (Ka=Ba.length % 4)){Ka=4 - Ka;for(var Pa=0;Pa < Ka;++Pa){Ba+="=";}}Ka=Ba.length;if(0 != Ka % 4 || !wb.test(Ba))throw Error("bad base64: " + Ba);for(var va=Ka / 4 * 3 - ("=" == Ba[Ka - 1]?1:0) - ("=" == Ba[Ka - 2]?1:0),ma=new Uint8Array(va),da=0,X=0;da < Ka;){Pa=hb[Ba[da++]] + gb[Ba[da++]] + eb[Ba[da++]] + $a[Ba[da++]];ma[X++]=Pa >>> 16;X < va && (ma[X++]=Pa >>> 8 & 255,X < va && (ma[X++]=Pa & 255));}return ma;};})();ac={};(function(){var wb,jb,Ba,Pa;function hb(va){if(!(this instanceof hb))return new hb(va);for(var ma=0,da=jb.length;ma < da;ma++){this[jb[ma]]="";}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new wb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(va,ma,da){if(va[ma])va[ma](da);}function eb(va,ma){var da,X;da=va.opt;X=va.textNode;da.trim && (X=X.trim());da.normalize && (X=X.replace(/\s+/g," "));va.textNode=X;va.textNode && gb(va,ma?ma:"onvalue",va.textNode);va.textNode="";}function $a(va,ma){eb(va);ma+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;ma=Error(ma);va.error=ma;gb(va,"onerror",ma);return va;}function lb(va){va.state !== Ba.VALUE && $a(va,"Unexpected end");eb(va);va.c="";va.closed=!0;gb(va,"onend");hb.call(va,va.opt);return va;}wb=Array;ac.parser=function(va){return new hb(va);};ac.CParser=hb;ac.MAX_BUFFER_LENGTH=65536;ac.DEBUG=!1;ac.INFO=!1;ac.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];ac.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Ba=0;ac.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var Ka in ac.STATE){ac.STATE[ac.STATE[Ka]]=Ka;}Ba=ac.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Pa=/[\\"\n]/g;hb.prototype={end:function(){lb(this);},write:function(va){var X,T,V;if(this.error)throw this.error;if(this.closed)return $a(this,"Cannot write after close. Assign an onready handler.");if(null === va)return lb(this);for(var ma=va[0],da;ma;){da=ma;this.c=ma=va.charAt(this.index++);da !== ma?this.p=da:da=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && $a(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === ma){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === ma?this.state=Ba.STRING:$a(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Ba.VALUE):"}" === ma?(eb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === ma?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),eb(this),this.state=Ba.OPEN_KEY):$a(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Ba.VALUE,"]" === ma)){gb(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === ma?this.state=Ba.STRING:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"t" === ma?this.state=Ba.TRUE:"f" === ma?this.state=Ba.FALSE:"n" === ma?this.state=Ba.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):$a(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === ma)(this.stack.push(Ba.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === ma)(eb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else $a(this,"Bad array");continue;case Ba.STRING:da=this.index - 1;(X=this.slashed,T=this.unicodeI);a:for(;;){if(ac.DEBUG)for(;0 < T;){if((this.unicodeS+=ma,ma=va.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,da=this.index - 1):T++,!ma))break a;}if('"' === ma && !X){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=va.substring(da,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === ma && !X && (X=!0,this.textNode+=va.substring(da,this.index - 1),ma=va.charAt(this.index++),!ma))break;if(X)if((X=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(T=1,this.unicodeS=""):this.textNode+=ma,ma=va.charAt(this.index++),da=this.index - 1,ma))continue;else break;Pa.lastIndex=this.index;V=Pa.exec(va);if(null === V){this.index=va.length + 1;this.textNode+=va.substring(da,this.index - 1);break;}this.index=V.index + 1;ma=va.charAt(V.index);if(!ma){this.textNode+=va.substring(da,this.index - 1);break;}}this.slashed=X;this.unicodeI=T;continue;case Ba.TRUE:if("" === ma)continue;"r" === ma?this.state=Ba.TRUE2:$a(this,"Invalid true started with t" + ma);continue;case Ba.TRUE2:if("" === ma)continue;"u" === ma?this.state=Ba.TRUE3:$a(this,"Invalid true started with tr" + ma);continue;case Ba.TRUE3:if("" === ma)continue;"e" === ma?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):$a(this,"Invalid true started with tru" + ma);continue;case Ba.FALSE:if("" === ma)continue;"a" === ma?this.state=Ba.FALSE2:$a(this,"Invalid false started with f" + ma);continue;case Ba.FALSE2:if("" === ma)continue;"l" === ma?this.state=Ba.FALSE3:$a(this,"Invalid false started with fa" + ma);continue;case Ba.FALSE3:if("" === ma)continue;"s" === ma?this.state=Ba.FALSE4:$a(this,"Invalid false started with fal" + ma);continue;case Ba.FALSE4:if("" === ma)continue;"e" === ma?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):$a(this,"Invalid false started with fals" + ma);continue;case Ba.NULL:if("" === ma)continue;"u" === ma?this.state=Ba.NULL2:$a(this,"Invalid null started with n" + ma);continue;case Ba.NULL2:if("" === ma)continue;"l" === ma?this.state=Ba.NULL3:$a(this,"Invalid null started with nu" + ma);continue;case Ba.NULL3:if("" === ma)continue;"l" === ma?(gb(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):$a(this,"Invalid null started with nul" + ma);continue;case Ba.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):$a(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && $a(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || $a(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== da && "E" !== da && $a(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:$a(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max(ac.MAX_BUFFER_LENGTH,10);da=ma=0;for(X=jb.length;da < X;da++){T=this[jb[da]].length;if(T > va)switch(jb[da]){case "text":break;default:$a(this,"Max buffer length exceeded: " + jb[da]);}ma=Math.max(ma,T);}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var $a,lb,wb;function hb(jb,Ba){Ba || (Ba=jb.length);return jb.reduce(function(Ka,Pa,va){return va < Ba?Ka + String.fromCharCode(Pa):Ka;},"");}for(var gb={},eb=0;256 > eb;++eb){$a=hb([eb]);gb[$a]=eb;}lb=Object.keys(gb).length;wb=[];for(eb=0;256 > eb;++eb){wb[eb]=[eb];}ke=function(jb,Ba){var W,fa;function Ka(wa,ua){var ia;for(;0 < ua;){if(T >= X.length)return !1;if(ua > V){ia=wa;ia>>>=ua - V;X[T]|=ia & 255;ua-=V;V=8;++T;}else ua <= V && (ia=wa,ia<<=V - ua,ia&=255,ia>>>=8 - V,X[T]|=ia & 255,V-=ua,ua=0,0 == V && (V=8,++T));}return !0;}for(var Pa in gb){Ba[Pa]=gb[Pa];}for(var va=lb,ma=[],da=8,X=new Uint8Array(jb.length),T=0,V=8,ba=0;ba < jb.length;++ba){W=jb[ba];ma.push(W);Pa=hb(ma);fa=Ba[Pa];if(!fa){ma=hb(ma,ma.length - 1);if(!Ka(Ba[ma],da))return null;0 != va >> da && ++da;Ba[Pa]=va++;ma=[W];}}return 0 < ma.length && (Pa=hb(ma),fa=Ba[Pa],!Ka(fa,da))?null:X.subarray(0,8 > V?T + 1:T);};le=function(jb){var ba,W;for(var Ba=wb.slice(),Ka=0,Pa=0,va=8,ma=new Uint8Array(Math.ceil(1.5 * jb.length)),da=0,X,T=[];Ka < jb.length && !(8 * (jb.length - Ka) - Pa < va);){for(var V=X=0;V < va;){ba=Math.min(va - V,8 - Pa);W=jb[Ka];W<<=Pa;W&=255;W>>>=8 - ba;V+=ba;Pa+=ba;8 == Pa && (Pa=0,++Ka);X|=(W & 255) << va - V;}V=Ba[X];0 == T.length?++va:(V?T.push(V[0]):T.push(T[0]),Ba[Ba.length]=T,T=[],Ba.length == 1 << va && ++va,V || (V=Ba[X]));X=da + V.length;X >= ma.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(ma),ma=ba);ma.set(V,da);da=X;T=T.concat(V);}return ma.subarray(0,da);};})();(function(){var hb,gb,eb;Tb="utf-8";Sb=9007199254740992;hb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function($a){for(var lb=[hb.GZIP,hb.LZW],wb=0;wb < lb.length && 0 < $a.length;++wb){for(var jb=lb[wb],Ba=0;Ba < $a.length;++Ba){if($a[Ba] == jb)return jb;}}return null;};gb=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function($a){return gb.AES_CBC_PKCS5Padding == $a?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == $a?gb.RSA_ECB_PKCS1Padding:gb[$a];};eb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function($a){return eb[$a];};Ga={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ga);})();Gb={isObjectLiteral:function(hb){return null !== hb && "object" === typeof hb && hb.constructor === Object;},extendDeep:function(){var hb,gb,eb,$a,lb,wb,jb,Ba;hb=arguments[0];gb=1;eb=arguments.length;$a=!1;"boolean" === typeof hb && ($a=hb,hb=arguments[1],gb=2);for(;gb < eb;gb++){if(null != (lb=arguments[gb]))for(wb in lb){if(!($a && (wb in hb))){jb=lb[wb];if(hb !== jb && jb !== Db){Ba=hb[wb];hb[wb]=null !== Ba && null !== jb && "object" === typeof Ba && "object" === typeof jb?Gb.extendDeep($a,{},Ba,jb):jb;}}}}return hb;}};(function(){var jb,Ba;function hb(Ka,Pa){return function(){var va,ma;va=Ka.base;Ka.base=Pa;ma=Ka.apply(this,arguments);Ka.base=va;return ma;};}function gb(Ka,Pa,va){var ma,da,X,T;va=va || Ba;da=!!va.extendAll;for(ma in Pa){X=Pa.__lookupGetter__(ma);T=Pa.__lookupSetter__(ma);X || T?(X && Ka.__defineGetter__(ma,X),T && Ka.__defineSetter__(ma,T)):(X=Pa[ma],T=Ka[ma],"function" === typeof X && "function" === typeof T && X !== T?(X.base !== Function.prototype.base && (X=hb(X,T)),X.base=T):(da || va[ma]) && Gb.isObjectLiteral(X) && Gb.isObjectLiteral(T) && (X=Gb.extendDeep({},T,X)),Ka[ma]=X);}}function eb(){var Ka,Pa;Ka=Array.prototype.slice;Pa=Ka.call(arguments,1);return this.extend({init:function ma(){var da;da=Ka.call(arguments,0);ma.base.apply(this,Pa.concat(da));}});}function $a(Ka,Pa){var va;va=new this(jb);gb(va,Ka,Pa);return wb(va);}function lb(Ka,Pa){gb(this.prototype,Ka,Pa);return this;}function wb(Ka){var Pa;Pa=function(){var va;va=this.init;va && arguments[0] !== jb && va.apply(this,arguments);};Ka && (Pa.prototype=Ka);Pa.prototype.constructor=Pa;Pa.extend=$a;Pa.bind=eb;Pa.mixin=lb;return Pa;}jb={};Ba={actions:!0};Function.prototype.base=function(){};Gb.Class={create:wb,mixin:gb,extend:function(Ka,Pa){var va;va=wb();va.prototype=new Ka();return va.extend(Pa);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var jb,Ba,Ka;function hb(Pa,va){return function(){var ma,da;ma=Pa.base;Pa.base=va;da=Pa.apply(this,arguments);Pa.base=ma;return da;};}function gb(Pa,va,ma){var da,X,T,V;ma=ma || Ba;X=!!ma.extendAll;for(da in va){T=va.__lookupGetter__(da);V=va.__lookupSetter__(da);T || V?(T && Pa.__defineGetter__(da,T),V && Pa.__defineSetter__(da,V)):(T=va[da],V=Pa[da],"function" === typeof T && "function" === typeof V && T !== V?(T.base !== Ka && (T=hb(T,V)),T.base=V):(X || ma[da]) && Gb.isObjectLiteral(T) && Gb.isObjectLiteral(V) && (T=Gb.extendDeep({},V,T)),Pa[da]=T);}}function eb(){var Pa,va;Pa=Array.prototype.slice;va=Pa.call(arguments,1);return this.extend({init:function da(){var X;X=Pa.call(arguments,0);da.base.apply(this,va.concat(X));}});}function $a(Pa,va){var ma;ma=new this(jb);gb(ma,Pa,va);return wb(ma);}function lb(Pa,va){gb(this.prototype,Pa,va);return this;}function wb(Pa){var va;va=function(){var ma;ma=this.init;ma && arguments[0] !== jb && ma.apply(this,arguments);};Pa && (va.prototype=Pa);va.prototype.constructor=va;va.extend=$a;va.bind=eb;va.mixin=lb;return va;}jb={};Ba={actions:!0};Ka=function(){};Function.prototype.base=Ka;Gb.Class={create:wb,mixin:gb,extend:function(Pa,va){var ma;ma=wb();ma.prototype=new Pa();return ma.extend(va);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function hb(eb){return eb == Sb?1:eb + 1;}function gb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var $a=hb(eb._nextWaiter);!eb._waiters[$a];){$a=hb($a);}return $a;}Zc=Gb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var $a;if(this._waiters[eb]){$a=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=gb(this));$a.call(this,Db);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,$a){var lb,wb;lb=this;wb=hb(this._lastWaiter);this._lastWaiter=wb;cb($a,function(){var jb,Ba;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){$a.result(jb);},0);}else {-1 != eb && (Ba=setTimeout(function(){delete lb._waiters[wb];wb == lb._nextWaiter && (lb._nextWaiter=gb(lb));$a.timeout();},eb));this._waiters[wb]=function(Ka){clearTimeout(Ba);setTimeout(function(){$a.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=wb);}},lb);return wb;},add:function(eb){var $a;if(this._nextWaiter){$a=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);$a.call(this,eb);}else this._queue.push(eb);}});})();(function(){var hb;hb=0 - Sb;pe=Gb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Bc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var eb;if(null !== gb && gb !== Db){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;eb=new Uint8Array(4);Bc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Bc.getRandomValues(gb);eb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var gb=hb;gb == hb;){gb=new Uint8Array(7);Bc.getRandomValues(gb);eb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-eb - 1:eb;}return gb;},nextBytes:function(gb){Bc.getRandomValues(gb);}});})();(function(){function hb($a){return $a == Sb?1:$a + 1;}function gb($a){if(0 === Object.keys($a._waitingReaders).length)return 0;for(var lb=hb($a._nextReader);!$a._waitingReaders[lb];){lb=hb(lb);}return lb;}function eb($a){if(0 === Object.keys($a._waitingWriters).length)return 0;for(var lb=hb($a._nextWriter);!$a._waitingWriters[lb];){lb=hb(lb);}return lb;}Fd=Gb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function($a){var lb;if(this._waitingReaders[$a]){lb=this._waitingReaders[$a];delete this._waitingReaders[$a];$a == this._nextReader && (this._nextReader=gb(this));lb.call(this,!0);}this._waitingWriters[$a] && (lb=this._waitingWriters[$a],delete this._waitingWriters[$a],$a == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function($a,lb){var wb,jb;wb=this;jb=hb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != $a && (Ba=setTimeout(function(){delete wb._waitingReaders[jb];jb == wb._nextReader && (wb._nextReader=gb(wb));lb.timeout();},$a));this._waitingReaders[jb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){lb.result(Db);},0):(wb._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},wb);return jb;},writeLock:function($a,lb){var wb,jb;wb=this;jb=hb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != $a && (Ba=setTimeout(function(){delete wb._waitingWriters[jb];jb == wb._nextWriter && (wb._nextWriter=eb(wb));lb.timeout();},$a));this._waitingWriters[jb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){lb.result(Db);},0):(wb._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},wb);return jb;},unlock:function($a){if($a == this._writer)this._writer=null;else {if(!this._readers[$a])throw new yb("There is no reader or writer with ticket number " + $a + ".");delete this._readers[$a];}if(this._nextWriter)0 < Object.keys(this._readers).length || ($a=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),$a.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=hb(lb)){this._waitingReaders[lb] && ($a=this._waitingReaders[lb],delete this._waitingReaders[lb],$a.call(this,!1));}this._nextReader=0;}}});})();Gb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ga.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ga.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ga.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ga.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ga.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ga.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ga.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ga.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ga.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ga.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ga.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ga.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ga.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ga.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ga.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ga.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ga.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ga.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ga.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ga.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ga.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ga.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ga.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ga.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ga.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ga.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ga.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ga.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ga.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ga.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ga.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ga.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ga.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ga.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ga.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ga.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ga.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ga.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ga.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ga.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ga.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ga.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ga.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ga.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ga.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ga.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ga.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ga.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ga.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ga.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ga.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ga.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ga.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ga.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ga.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ga.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ga.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ga.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ga.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ga.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ga.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ga.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ga.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ga.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ga.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ga.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ga.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ga.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ga.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ga.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ga.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ga.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ga.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ga.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ga.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ga.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ga.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ga.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ga.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ga.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ga.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ga.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ga.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ga.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ga.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ga.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ga.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ga.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ga.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ga.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ga.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ga.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ga.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ga.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ga.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ga.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ga.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ga.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ga.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ga.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ga.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ga.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ga.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ga.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ga.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ga.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ga.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ga.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ga.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ga.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ga.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ga.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ga.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ga.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ga.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ga.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ga.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ga.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ga.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ga.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ga.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ga.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ga.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ga.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ga.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ga.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ga.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ga.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ga.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ga.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ga.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ga.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ga.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ga.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ga.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ga.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ga.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ga.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ga.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ga.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ga.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ga.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ga.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ga.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ga.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ga.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ga.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ga.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ga.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ga.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ga.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ga.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ga.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ga.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ga.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ga.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ga.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ga.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ga.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ga.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ga.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ga.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ga.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ga.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ga.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ga.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ga.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ga.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ga.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ga.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ga.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ga.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ga.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ga.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ga.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ga.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ga.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ga.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ga.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ga.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ga.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ga.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ga.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ga.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ga.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ga.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ga.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ga.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ga.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ga.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ga.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ga.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ga.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ga.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ga.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ga.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ga.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ga.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ga.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ga.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ga.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ga.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ga.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ga.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ga.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ga.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ga.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ga.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ga.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ga.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ga.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ga.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ga.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ga.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ga.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ga.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ga.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ga.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ga.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ga.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ga.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ga.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ga.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ga.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ga.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ga.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ga.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ga.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ga.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ga.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ga.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ga.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ga.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ga.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ga.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ga.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ga.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ga.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ga.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ga.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ga.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ga.FAIL,"Special unit test error.")});Object.freeze(S);(function(){fb=Gb.Class.create(Error());fb.mixin({init:function(hb,gb,eb){var lb,wb,jb;function $a(){return wb?wb:this.cause && this.cause instanceof fb?this.cause.messageId:Db;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=hb.message;gb && (lb+=" [" + gb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:hb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:$a,set:function(Ba){if(0 > Ba || Ba > Sb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");$a() || (wb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();jb && (Ba+="\n" + jb);eb && eb.stack && (Ba+="\nCaused by " + eb.stack);return Ba;},configurable:!0}});},setEntity:function(hb){!hb || this.masterToken || this.entityAuthenticationData || (hb instanceof ic?this.masterToken=hb:hb instanceof Lc && (this.entityAuthenticationData=hb));return this;},setUser:function(hb){!hb || this.userIdToken || this.userAuthenticationData || (hb instanceof Tc?this.userIdToken=hb:hb instanceof $c && (this.userAuthenticationData=hb));return this;},setMessageId:function(hb){this.messageId=hb;return this;},toString:function(){return this.name + ": " + this.message;}});})();xb=fb.extend({init:function lb(gb,eb,$a){lb.base.call(this,gb,eb,$a);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Hb=fb.extend({init:function wb(eb,$a,lb){wb.base.call(this,eb,$a,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=fb.extend({init:function jb($a,lb,wb){jb.base.call(this,$a,lb,wb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Gb.Class.create(Error());jc.mixin({init:function($a,lb,wb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:wb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();jb && (Ba+="\n" + jb);lb && lb.stack && (Ba+="\nCaused by " + lb.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Gb.Class.create(Error());Yb.mixin({init:function($a,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){yb=Gb.Class.create(Error());yb.mixin({init:function($a,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){bc=Gb.Class.create(Error());bc.mixin({init:function($a,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=fb.extend({init:function Ba(lb,wb,jb){Ba.base.call(this,lb,wb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=fb.extend({init:function Ba(wb,jb){Ba.base.call(this,wb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Nb=fb.extend({init:function Pa(jb,Ba,Ka){Pa.base.call(this,jb,Ba,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=fb.extend({init:function va(Ba,Ka,Pa){va.base.call(this,Ba,Ka,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Ba(da){return "undefined" === typeof da?!1:da;}function Ka(da){return da && da.length?(dc === ma.V2014_02 && (da=da.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),da):dc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(da,X,T,V,ba){return Promise.resolve().then(function(){return Vb.importKey(da,X,T,V,ba);}).catch(function(W){var fa;if("spki" !== da && "pkcs8" !== da)throw W;W=ASN1.webCryptoAlgorithmToJwkAlg(T);fa=ASN1.webCryptoUsageToJwkKeyOps(ba);W=ASN1.rsaDerToJwk(X,W,fa,V);if(!W)throw Error("Could not make valid JWK from DER input");W=JSON.stringify(W);return Vb.importKey("jwk",Bd(W),T,V,ba);});}function va(da,X){return Promise.resolve().then(function(){return Vb.exportKey(da,X);}).catch(function(T){if("spki" !== da && "pkcs8" !== da)throw T;return Vb.exportKey("jwk",X).then(function(V){V=JSON.parse(Ad(new Uint8Array(V)));V=ASN1.jwkToRsaDer(V);if(!V)throw Error("Could not make valid DER from JWK input");return V.getDer().buffer;});});}ma=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ma.LATEST;Rb={encrypt:function(da,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.encrypt(da,X,T);W.oncomplete=function(fa){V(fa.target.result);};W.onerror=function(fa){ba(fa);};});case ma.V2014_01:case ma.V2014_02:return Vb.encrypt(da,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(da,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.decrypt(da,X,T);W.oncomplete=function(fa){V(fa.target.result);};W.onerror=function(fa){ba(fa);};});case ma.V2014_01:case ma.V2014_02:return Vb.decrypt(da,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(da,X,T){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.sign(da,X,T);W.oncomplete=function(fa){V(fa.target.result);};W.onerror=function(fa){ba(fa);};});case ma.V2014_01:case ma.V2014_02:return Vb.sign(da,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(da,X,T,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var fa;fa=Vb.verify(da,X,T,V);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){W(wa);};});case ma.V2014_01:case ma.V2014_02:return Vb.verify(da,X,T,V);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(da,X){switch(dc){case ma.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.digest(da,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return Vb.digest(da,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(da,X,T){var V,ba;V=Ba(X);ba=Ka(T);switch(dc){case ma.LEGACY:return new Promise(function(W,fa){var wa;wa=Vb.generateKey(da,V,ba);wa.oncomplete=function(ua){W(ua.target.result);};wa.onerror=function(ua){fa(ua);};});case ma.V2014_01:case ma.V2014_02:return Vb.generateKey(da,V,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(da,X,T,V,ba){var W,fa;W=Ba(V);fa=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(wa,ua){var ia;ia=Vb.deriveKey(da,X,T,W,fa);ia.oncomplete=function(ta){wa(ta.target.result);};ia.onerror=function(ta){ua(ta);};});case ma.V2014_01:case ma.V2014_02:return Vb.deriveKey(da,X,T,W,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(da,X,T,V,ba){var W,fa;W=Ba(V);fa=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(wa,ua){var ia;ia=Vb.importKey(da,X,T,W,fa);ia.oncomplete=function(ta){wa(ta.target.result);};ia.onerror=function(ta){ua(ta);};});case ma.V2014_01:case ma.V2014_02:return Pa(da,X,T,W,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(da,X){switch(dc){case ma.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.exportKey(da,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return va(da,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(da,X,T,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var fa;fa=Vb.wrapKey(X,T,V);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){W(wa);};});case ma.V2014_01:case ma.V2014_02:return Vb.wrapKey(da,X,T,V).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(da,X,T,V,ba,W,fa){switch(dc){case ma.LEGACY:return new Promise(function(wa,ua){var ia;ia=Vb.unwrapKey(X,ba,T);ia.oncomplete=function(ta){wa(ta.target.result);};ia.onerror=function(ta){ua(ta);};});case ma.V2014_01:case ma.V2014_02:return Vb.unwrapKey(da,X,T,V,ba,Ba(W),Ka(fa));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Rb.getKeyByName=function(da){switch(dc){case ma.LEGACY:return new Promise(function(X,T){var V;V=kd.getKeyByName(da);V.oncomplete=function(ba){X(ba.target.result);};V.onerror=function(ba){T(ba);};});case ma.V2014_01:case ma.V2014_02:return kd.getKeyByName(da);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Rb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(da){Na(Ka,function(){var X;X=da?Jb(da):Db;Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:da,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba)throw new xb(S.INVALID_SYMMETRIC_KEY);!Pa && Ba.extractable?Rb.exportKey("raw",Ba).then(function(da){va(new Uint8Array(da));},function(da){Ka.error(new xb(S.KEY_EXPORT_ERROR,"raw"));}):va(Pa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ba,Ka){new Hd(Ba,Ka);};tc=function(Ba,Ka,Pa,va){Na(va,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + Ba,ma);}Rb.importKey("raw",Ba,Ka,!0,Pa).then(function(ma){new Hd(ma,va,Ba);},function(ma){va.error(new xb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(da){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Ba.extractable?Rb.exportKey("spki",Ba).then(function(da){va(new Uint8Array(da));},function(da){Ka.error(new xb(S.KEY_EXPORT_ERROR,"spki"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ba,Ka){new od(Ba,Ka);};Id=function(Ba,Ka,Pa,va){Na(va,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new xb(S.INVALID_PUBLIC_KEY,"spki " + Ba,ma);}Rb.importKey("spki",Ba,Ka,!0,Pa).then(function(ma){new od(ma,va,Ba);},function(ma){va.error(new xb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function va(da){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Ba.extractable?Rb.exportKey("pkcs8",Ba).then(function(da){va(new Uint8Array(da));},function(da){Ka.error(new xb(S.KEY_EXPORT_ERROR,"pkcs8"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ba,Ka){new re(Ba,Ka);};})();(function(){var Ba;Ba=Md={V1:1,V2:2};Jd=Gb.Class.create({init:function(Ka,Pa,va,ma){Na(ma,function(){var da,X,T,V;da=Ba.V1;X=Ka;T=null;for(V in ld){if(ld[V] == Ka){da=Ba.V2;X=null;T=Ka;break;}}Object.defineProperties(this,{version:{value:da,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Ba.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Jb(this.iv));Ka.ciphertext=Jb(this.ciphertext);Ka.sha256="AA==";break;case Ba.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Jb(this.iv));Ka.ciphertext=Jb(this.ciphertext);break;default:throw new yb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Kd=function(Ka,Pa,va,ma){new Jd(Ka,Pa,va,ma);};Ld=function(Ka,Pa,va){Na(va,function(){var ma,da,X,T,V,ba,W;ma=Ka.keyid;da=Ka.cipherspec;X=Ka.iv;T=Ka.ciphertext;V=Ka.sha256;if(!Pa)if((Pa=Ka.version) && "number" === typeof Pa && Pa === Pa){ba=!1;for(W in Ba){if(Ba[W] == Pa){ba=!0;break;}}if(!ba)throw new xb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Pa=Ba.V1;switch(Pa){case Ba.V1:if("string" !== typeof ma || X && "string" !== typeof X || "string" !== typeof T || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Ba.V2:W=Ka.version;if(W != Ba.V2)throw new xb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof da || X && "string" !== typeof X || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));da=ne(da);if(!da)throw new xb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));ma=da;break;default:throw new xb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{X && (X=Mb(X));T=Mb(T);}catch(fa){throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),fa);}new Jd(ma,X,T,va);});};})();(function(){var Ba;Ba=Pd={V1:1,V2:2};uc=Gb.Class.create({init:function(Ka,Pa,va){var ma;switch(Ka){case Ba.V1:ma=va;break;case Ba.V2:ma={};ma.version=Ka;ma.algorithm=Pa;ma.signature=Jb(va);ma=fc(JSON.stringify(ma),Tb);break;default:throw new yb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Nd=function(){var Ka,Pa,va,ma;if(2 == arguments.length){Ka=Ba.V1;Pa=arguments[0];va=null;ma=arguments[1];}else 3 == arguments.length && (Ka=Ba.V2,va=arguments[0],Pa=arguments[1],ma=arguments[2]);Na(ma,function(){return new uc(Ka,va,Pa);});};Od=function(Ka,Pa,va){Na(va,function(){var ma,da,X,T,V,ba,W;if(Pa)switch(Pa){case Ba.V1:return new uc(Ba.V1,null,Ka);case Ba.V2:try{ma=ec(Ka,Tb);da=JSON.parse(ma);X=parseInt(da.version);T=da.algorithm;V=da.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof T || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Jb(Ka));if(Ba.V2 != X)throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Jb(Ka));ba=Ed(T);if(!ba)throw new xb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Jb(Ka));W=Mb(V);if(!W)throw new xb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Ba.V2,ba,W);}catch(fa){if(fa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Jb(Ka),fa);throw fa;}default:throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Jb(Ka));}try{ma=ec(Ka,Tb);da=JSON.parse(ma);}catch(fa){da=null;}if(da && da.version){if((ma=da.version,"number" !== typeof ma || ma !== ma))ma=Ba.V1;}else ma=Ba.V1;switch(ma){case Ba.V1:return new uc(ma,null,Ka);case Ba.V2:ba=da.algorithm;V=da.signature;if("string" !== typeof ba || "string" !== typeof V)return new uc(Ba.V1,null,Ka);ba=Ed(ba);if(!ba)return new uc(Ba.V1,null,Ka);try{W=Mb(V);}catch(fa){return new uc(Ba.V1,null,Ka);}return new uc(ma,ba,W);default:throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Uc=Gb.Class.create({encrypt:function(Ba,Ka){},decrypt:function(Ba,Ka){},wrap:function(Ba,Ka){},unwrap:function(Ba,Ka,Pa,va){},sign:function(Ba,Ka){},verify:function(Ba,Ka,Pa){}});(function(){var Ba;Ba=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Gb.Class.create({init:function(Ka,Pa,va,ma,da){switch(Pa){case Ba.RSA_OAEP:da=da && (da.rawKey || da);ma=ma && (ma.rawKey || ma);break;case Ba.A128KW:da=ma=ma && (ma.rawKey || ma);break;default:throw new yb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){Pa.error(new xb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Pa){Pa.error(new xb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Pa){Na(Pa,function(){Rb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,va,ma){function da(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){Rb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,va).then(function(X){da(X);},function(){ma.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){Pa.error(new xb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Pa,va){va.error(new xb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ba,Ka){Ka.result(Ba);},decrypt:function(Ba,Ka){Ka.result(Ba);},wrap:function(Ba,Ka){Ka.result(Ba);},unwrap:function(Ba,Ka,Pa,va){va.result(Ba);},sign:function(Ba,Ka){Ka.result(new Uint8Array(0));},verify:function(Ba,Ka,Pa){Pa.result(!0);}});(function(){var Ba;Ba=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function T(Pa,va,ma,da,X){T.base.call(this);ma && (ma=ma.rawKey);da && (da=da.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:da,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Ba.ENCRYPT_DECRYPT_PKCS1?Gd:X == Ba.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Ba.WRAP_UNWRAP_PKCS1?Gd:X == Ba.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Ba.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,va){var ma;ma=this;Na(va,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new xb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Rb.encrypt(ma.transform,ma.publicKey,Pa).then(function(da){Kd(ma.id,null,da,{result:function(X){var T;try{T=JSON.stringify(X);va.result(fc(T,Tb));}catch(V){va.error(new xb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof fb || (X=new xb(S.ENCRYPT_ERROR,null,X));va.error(X);}});},function(da){va.error(new xb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,va){var ma;ma=this;Na(va,function(){var da,X;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new xb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{da=ec(Pa,Tb);X=JSON.parse(da);}catch(T){if(T instanceof SyntaxError)throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new xb(S.DECRYPT_ERROR,null,T);}Ld(X,Md.V1,{result:function(T){var V;try{if(T.keyId != ma.id)throw new xb(S.ENVELOPE_KEY_ID_MISMATCH);V=va.result;Rb.decrypt(ma.transform,ma.privateKey,T.ciphertext).then(V,function(ba){va.error(new xb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof fb?va.error(ba):va.error(new xb(S.DECRYPT_ERROR,null,ba));}},error:function(T){T instanceof Hb && (T=new xb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof fb || (T=new xb(S.DECRYPT_ERROR,null,T));va.error(T);}});},this);},wrap:function(Pa,va){Na(va,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new xb(S.WRAP_NOT_SUPPORTED,"no public key");ma=va.result;Rb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(da){va.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(Pa,va,ma,da){function X(T){Na(da,function(){switch(T.type){case "secret":bd(T,da);break;case "public":Jc(T,da);break;case "private":Sc(T,da);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Na(da,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new xb(S.UNWRAP_NOT_SUPPORTED,"no private key");Rb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,ma).then(X,function(T){da.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(Pa,va){Na(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new xb(S.SIGN_NOT_SUPPORTED,"no private key");Rb.sign(this.algo,this.privateKey,Pa).then(function(ma){Nd(ma,{result:function(da){va.result(da.bytes);},error:va.error});},function(ma){va.error(new xb(S.SIGNATURE_ERROR));});},this);},verify:function(Pa,va,ma){var da;da=this;Na(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new xb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(va,Pd.V1,{result:function(X){Na(ma,function(){var T;T=ma.result;Rb.verify(this.algo,this.publicKey,X.signature,Pa).then(T,function(V){ma.error(new xb(S.SIGNATURE_ERROR));});},da);},error:ma.error});},this);}});})();(function(){rd=Uc.extend({init:function X(Ka,Pa,va,ma,da){X.base.call(this);va=va && va.rawKey;ma=ma && ma.rawKey;da=da && da.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){var va;va=this;Na(Pa,function(){var ma;if(!this.encryptionKey)throw new xb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Rb.encrypt({name:oc.name,iv:ma},va.encryptionKey,Ka).then(function(da){da=new Uint8Array(da);Kd(va.id,ma,da,{result:function(X){var T;try{T=JSON.stringify(X);Pa.result(fc(T,Tb));}catch(V){Pa.error(new xb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof fb || (X=new xb(S.ENCRYPT_ERROR,null,X));Pa.error(X);}});},function(da){Pa.error(new xb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Pa){var va;va=this;Na(Pa,function(){var ma,da;if(!this.encryptionKey)throw new xb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{ma=ec(Ka,Tb);da=JSON.parse(ma);}catch(X){if(X instanceof SyntaxError)throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new xb(S.DECRYPT_ERROR,null,X);}Ld(da,Md.V1,{result:function(X){try{if(X.keyId != va.id)throw new xb(S.ENVELOPE_KEY_ID_MISMATCH);Rb.decrypt({name:oc.name,iv:X.iv},va.encryptionKey,X.ciphertext).then(function(T){T=new Uint8Array(T);Pa.result(T);},function(){Pa.error(new xb(S.DECRYPT_ERROR));});}catch(T){T instanceof fb?Pa.error(T):Pa.error(new xb(S.DECRYPT_ERROR,null,T));}},error:function(X){X instanceof Hb && (X=new xb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof fb || (X=new xb(S.DECRYPT_ERROR,null,X));Pa.error(X);}});},this);},wrap:function(Ka,Pa){Na(Pa,function(){if(!this.wrapKey)throw new xb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,va,ma){function da(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){if(!this.wrapKey)throw new xb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Pa,!1,va).then(function(X){da(X);},function(X){ma.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){var va;va=this;Na(Pa,function(){if(!this.hmacKey)throw new xb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Rb.sign(pc,this.hmacKey,Ka).then(function(ma){Na(Pa,function(){var da;da=new Uint8Array(ma);Nd(da,{result:function(X){Pa.result(X.bytes);},error:Pa.error});},va);},function(){Pa.error(new xb(S.HMAC_ERROR));});},this);},verify:function(Ka,Pa,va){var ma;ma=this;Na(va,function(){if(!this.hmacKey)throw new xb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Pa,Pd.V1,{result:function(da){Na(va,function(){Rb.verify(pc,this.hmacKey,da.signature,Ka).then(function(X){va.result(X);},function(X){va.error(new xb(S.HMAC_ERROR));});},ma);},error:va.error});},this);}});})();lc=rd.extend({init:function X(Ka,Pa,va,ma,da){if(va || ma || da)X.base.call(this,Ka,va + "_" + Pa.sequenceNumber,ma,da,null);else {if(!Pa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Pa);X.base.call(this,Ka,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Ka,Pa){Pa.result(Ka);},decrypt:function(Ka,Pa){Pa.result(Ka);},wrap:function(Ka,Pa){Pa.error(new yb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Pa,va,ma){ma.error(new yb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Pa){Pa.result(new Uint8Array(0));},verify:function(Ka,Pa,va){va.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Pa){var va,ma;va=Pa.scheme;ma=Pa.authdata;if(!va || !ma)throw new Hb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Wb[va])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Pa=Ka.getEntityAuthenticationFactory(va);if(!Pa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Pa.createData(Ka,ma);};})();sd=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Pa){},getCryptoContext:function(Ka,Pa){}});(function(){xc=Lc.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function ma(va){return this === va?!0:va instanceof xc?ma.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var ma;ma=va.identity;if(!ma)throw new Hb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(ma);};})();sf=sd.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,va){return te(va);},getCryptoContext:function(Pa,va){if(!(va instanceof xc))throw new yb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Vc();}});(function(){yc=Lc.extend({init:function ma(va){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function da(ma){return this === ma?!0:ma instanceof yc?da.base.call(this,this,ma) && this.identity == ma.identity:!1;}});ue=function(ma){var da;da=ma.identity;if(!da)throw new Hb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new yc(da);};})();tf=sd.extend({init:function ma(va){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,ma){return ue(ma);},getCryptoContext:function(va,ma){if(!(ma instanceof yc))throw new yb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Vc();}});(function(){td=Lc.extend({init:function X(ma,da){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:da,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function X(da){return this === da?!0:da instanceof td?X.base.call(this,this,da) && this.identity == da.identity && this.publicKeyId == da.publicKeyId:!1;}});ve=function(da){var X,T;X=da.identity;T=da.pubkeyid;if(!X || "string" !== typeof X || !T || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(da));return new td(X,T);};})();uf=sd.extend({init:function da(ma){da.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,da){return ve(da);},getCryptoContext:function(ma,da){var X,T,V;if(!(da instanceof td))throw new yb("Incorrect authentication data type " + da + ".");X=da.identity;T=da.publicKeyId;V=this.store.getPublicKey(T);if(!V)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(da);return new pd(ma,X,null,V,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(da){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:da,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var da;da={};da.identity=this.identity;return da;},equals:function T(X){return this === X?!0:X instanceof Yc?T.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var T;T=X.identity;if(!T)throw new Hb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(T);};})();qf=sd.extend({init:function da(){da.base.call(this,Wb.NONE);},createData:function(da,X){return we(X);},getCryptoContext:function(da,X){if(!(X instanceof Yc))throw new yb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Gb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(da,X){if(!(X instanceof od))throw new yb("Incorrect key data type " + X + ".");this.rsaKeys[da]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(da){delete this.rsaKeys[da];},getPublicKey:function(da){return this.rsaKeys[da];}});Qd=Gb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,X,T){}});ud=Gb.Class.create({abort:function(){},close:function(da,X){},write:function(da,X,T,V,ba){},flush:function(da,X){}});wf=Gb.Class.create({init:function(da){Object.defineProperties(this,{_data:{value:da,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Yb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(da,X,T){cb(T,function(){var V;if(this._closed)throw new Yb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == da && (da=this._data.length - this._currentPosition);V=this._data.subarray(this._currentPosition,this._currentPosition + da);this._currentPosition+=V.length;return V;},this);}});xf=Gb.Class.create({init:function(){var da;da={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},abort:function(){},close:function(da,X){this._closed=!0;X.result(!0);},write:function(da,X,T,V,ba){cb(ba,function(){var W;if(this._closed)throw new Yb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");W=da.subarray(X,T);this._buffered.push(W);return W.length;},this);},flush:function(da,X){var T;for(;0 < this._buffered.length;){if((da=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + da.length);T.set(this._result);T.set(da,this._result.length);this._result=T;}else this._result=new Uint8Array(da);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Gb.Class.create({getResponse:function(da,X,T){}});(function(){var da,X;da=ud.extend({init:function(T,V){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Db,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Db,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,V){var ba;ba=this;this._responseQueue.poll(T,{result:function(W){cb(V,function(){W && this._responseQueue.add(W);return W;},ba);},timeout:function(){cb(V,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();V.timeout();},ba);},error:function(W){cb(V,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw W;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,V){var ba;ba=this;cb(V,function(){var W;if(this._response)return !0;W=this._buffer.toByteArray();0 < W.length && (this._abortToken=this._httpLocation.getResponse({body:W},this._timeout,{result:function(fa){ba._response={response:fa};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(fa){ba._response={isError:!0,error:fa};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(T,V,ba,W,fa){cb(fa,function(){if(this._response)throw new Yb("HttpOutputStream already closed.");this._buffer.write(T,V,ba,W,fa);},this);},flush:function(T,V){cb(V,function(){if(this._response)return !0;this._buffer.flush(T,V);},this);}});X=Qd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Db,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Db,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,V,ba){var fa;function W(wa){cb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(V,{result:function(ua){cb(ba,function(){var ia;if(ua.isTimeout)(this._timedout=!0,ba.timeout());else {if(ua.isError)throw (this._exception=ua.error || new Yb("Unknown HTTP exception."),this._exception);if(!ua.response)throw (this._exception=new Yb("Missing HTTP response."),this._exception);ua.response.json !== Db && (this._json=ua.response.json,this.getJSON=function(){return fa._json;});ia=ua.response.content || Bd("string" === typeof ua.response.body?ua.response.body:JSON.stringify(this._json));this._buffer=new wf(ia);this._buffer.read(T,V,ba);}},fa);},timeout:function(){ba.timeout();},error:function(ua){ba.error(ua);}});},fa);}fa=this;cb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,V,ba):this._out.close(V,{result:function(wa){W(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},fa);}});he=Gb.Class.create({init:function(T,V){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new da(this._httpLocation,this._timeout);return {input:new X(T),output:T};}});})();(function(){var da,X;da=ud.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,V){V.result({success:!1,content:null,errorHttpCode:Db,errorSubCode:Db});},abort:function(){},close:function(T,V){V.result(!0);},write:function(T,V,ba,W,fa){var wa,ua;try{if(0 > V)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(V + ba > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(V,ba);ua=new Uint8Array(this._buffer.length + wa.length);ua.set(this._buffer);ua.set(wa,this._buffer.length);this._buffer=ua;fa.result(wa.length);}catch(ia){fa.error(ia);}},flush:function(T,V){V.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,V,ba){ba.result(new Uint8Array(16));}});ie=Gb.Class.create({init:function(){var T;T={output:{value:new da(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(da,X,T){(function(V,ba,W){V.read(-1,ba,{result:function(fa){fa && fa.length?W(null,fa):W(null,null);},timeout:function(){T.timeout();},error:function(fa){W(fa,null);}});})(da,X,function(V,ba){var W,fa;if(V)T.error(V);else if(ba){if(da.getJSON !== Db && "function" === typeof da.getJSON)T.result(da.getJSON());else {V=T.result;ba=new zf(ec(ba,"utf-8"));W=[];for(fa=ba.nextValue();fa !== Db;){W.push(fa);fa=ba.nextValue();}V.call(T,W);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Gb.Class.create({init:function(da){Object.defineProperties(this,{keyExchangeScheme:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof cd?this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(da,X,T){Na(T,function(){var V,ba,W;V=X.scheme;ba=X.keydata;if(!V || !ba || "object" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[V])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,V);W=da.getKeyExchangeFactory(V);if(!W)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,V);W.createRequestData(da,ba,T);});};})();(function(){dd=Gb.Class.create({init:function(da,X){Object.defineProperties(this,{masterToken:{value:da,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.mastertoken=this.masterToken;da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof dd?this.masterToken.equals(da.masterToken) && this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(da,X,T){Na(T,function(){var V,ba,W;V=X.mastertoken;ba=X.scheme;W=X.keydata;if(!ba || !V || "object" !== typeof V || !W || "object" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);ed(da,V,{result:function(fa){Na(T,function(){var wa;wa=da.getKeyExchangeFactory(ba);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(da,fa,W);});},error:function(fa){T.error(fa);}});});};})();(function(){var da;da=Gb.Class.create({init:function(X,T){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Gb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,T,V){},createResponseData:function(X,T,V){},generateResponse:function(X,T,V,ba){},getCryptoContext:function(X,T,V,ba,W){},generateSessionKeys:function(X,T){Na(T,function(){var V,ba;V=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(V);X.getRandom().nextBytes(ba);tc(V,oc,Dc,{result:function(W){tc(ba,pc,Mc,{result:function(fa){T.result({encryptionKey:W,hmacKey:fa});},error:function(fa){T.error(new xb(S.SESSION_KEY_CREATION_FAILURE,null,fa));}});},error:function(W){T.error(new xb(S.SESSION_KEY_CREATION_FAILURE,null,W));}});});},importSessionKeys:function(X,T,V){tc(X,oc,Dc,{result:function(ba){tc(T,pc,Mc,{result:function(W){V.result({encryptionKey:ba,hmacKey:W});},error:function(W){V.error(W);}});},error:function(ba){V.error(ba);}});}});mc.KeyExchangeData=da;})();(function(){var X,T,V;function da(ba,W,fa,wa,ua){Na(ua,function(){var ia,ta;switch(W){case X.PSK:(ia=new yc(wa),ta=ba.getEntityAuthenticationFactory(Wb.PSK));if(!ta)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ia=ta.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Db);case X.MGK:ia=new xc(wa);ta=ba.getEntityAuthenticationFactory(Wb.MGK);if(!ta)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ia=ta.getCryptoContext(ba,ia);return new vc(ba,wc.A128KW,qc,Db);case X.WRAP:ia=ba.getMslCryptoContext();ia.unwrap(fa,sc,Ec,{result:function(Aa){Na(ua,function(){return new vc(ba,wc.A128KW,qc,Aa);});},error:ua.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=cd.extend({init:function wa(W,fa){wa.base.call(this,kc.JWE_LADDER);switch(W){case X.WRAP:if(!fa)throw new yb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:fa=null;}Object.defineProperties(this,{mechanism:{value:W,writable:!1,configurable:!1},wrapdata:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){var W;W={};W.mechanism=this.mechanism;this.wrapdata && (W.wrapdata=Jb(this.wrapdata));return W;},equals:function wa(fa){return fa === this?!0:fa instanceof Ae?wa.base.call(this,fa) && this.mechanism == fa.mechanism && gc(this.wrapdata,fa.wrapdata):!1;},uniqueKey:function wa(){var ua;ua=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ua+=":" + hc(this.wrapdata));return ua;}});V=Be=dd.extend({init:function aa(ua,ia,ta,Aa,la){aa.base.call(this,ua,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ia,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ua;ua={};ua.wrapkey=Jb(this.wrapKey);ua.wrapdata=Jb(this.wrapdata);ua.encryptionkey=Jb(this.encryptionKey);ua.hmackey=Jb(this.hmacKey);return ua;},equals:function ta(ia){return this === ia?!0:ia instanceof Be?ta.base.call(this,ia) && gc(this.wrapKey,ia.wrapKey) && gc(this.wrapdata,ia.wrapdata) && gc(this.encryptionKey,ia.encryptionKey) && gc(this.hmacKey,ia.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function la(Aa){la.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Aa,la,aa){Na(aa,function(){var ca,ea,xa;ca=la.mechanism;ea=la.wrapdata;if(!ca || ca == X.WRAP && (!ea || "string" !== typeof ea))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(la));if(!X[ca])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case X.WRAP:try{xa=Mb(ea);}catch(Ra){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());break;default:xa=null;}return new T(ca,xa);});},createResponseData:function(Aa,la,aa){var ca,ea,xa,Ra,Ma,Qa,Ua;Aa=aa.wrapkey;ca=aa.wrapdata;ea=aa.encryptionkey;xa=aa.hmackey;if(!(Aa && "string" === typeof Aa && ca && "string" === typeof ca && ea && "string" === typeof ea && xa) || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ra=Mb(Aa);Ma=Mb(ca);}catch(pa){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),pa);}try{Qa=Mb(ea);}catch(pa){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),pa);}try{Ua=Mb(xa);}catch(pa){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),pa);}return new V(la,Ra,Ma,Qa,Ua);},generateResponse:function(Aa,la,aa,ca){var Qa,Ua;function ea(pa,ya,Ea){Qa.generateSessionKeys(Aa,{result:function(Ja){Na(ca,function(){xa(pa,ya,Ea,Ja.encryptionKey,Ja.hmacKey);},Qa);},error:function(Ja){Na(ca,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;});}});}function xa(pa,ya,Ea,Ja,Da){Na(ca,function(){da(Aa,la.mechanism,la.wrapdata,pa,{result:function(Sa){Sa.wrap(ya,{result:function(Ia){Ra(ya,Ea,Ja,Da,Ia);},error:function(Ia){Na(ca,function(){Ia instanceof fb && Ia.setEntity(Ua);throw Ia;});}});},error:function(Sa){Na(ca,function(){Sa instanceof fb && Sa.setEntity(Ua);throw Sa;});}});},Qa);}function Ra(pa,ya,Ea,Ja,Da){Na(ca,function(){var Sa;Sa=new vc(Aa,wc.A128KW,qc,pa);Sa.wrap(Ea,{result:function(Ia){Sa.wrap(Ja,{result:function(Za){Ma(ya,Da,Ea,Ia,Ja,Za);},error:function(Za){Na(ca,function(){Za instanceof fb && Za.setEntity(Ua);throw Za;});}});},error:function(Ia){Na(ca,function(){Ia instanceof fb && Ia.setEntity(Ua);throw Ia;});}});},Qa);}function Ma(pa,ya,Ea,Ja,Da,Sa){Na(ca,function(){var Ia;Ia=Aa.getTokenFactory();Ua?Ia.renewMasterToken(Aa,Ua,Ea,Da,{result:function(Za){Na(ca,function(){var ab,Xa;ab=new lc(Aa,Za);Xa=new V(Za,ya,pa,Ja,Sa);return new mc.KeyExchangeData(Xa,ab,ca);},Qa);},error:function(Za){Na(ca,function(){Za instanceof fb && Za.setEntity(Ua);throw Za;});}}):Ia.createMasterToken(Aa,aa,Ea,Da,{result:function(Za){Na(ca,function(){var ab,Xa;ab=new lc(Aa,Za);Xa=new V(Za,ya,pa,Ja,Sa);return new mc.KeyExchangeData(Xa,ab,ca);},Qa);},error:ca.error});},Qa);}Qa=this;Na(ca,function(){var pa,ya;if(!(la instanceof T))throw new yb("Key request data " + JSON.stringify(la) + " was not created by this factory.");pa=aa;if(aa instanceof ic){if(!aa.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,aa);Ua=aa;pa=aa.identity;}ya=new Uint8Array(16);Aa.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ea){Na(ca,function(){Aa.getMslCryptoContext().wrap(Ea,{result:function(Ja){ea(pa,Ea,Ja);},error:function(Ja){Na(ca,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;},Qa);}});},Qa);},error:function(Ea){Na(ca,function(){throw new xb(S.WRAP_KEY_CREATION_FAILURE,null,Ea).setEntity(Ua);},Qa);}});},Qa);},getCryptoContext:function(Aa,la,aa,ca,ea){var Ra;function xa(Ma,Qa,Ua,pa,ya){Na(ea,function(){var Ea;Ea=new vc(Aa,wc.A128KW,qc,ya);Ea.unwrap(Qa.encryptionKey,oc,Dc,{result:function(Ja){Ea.unwrap(Qa.hmacKey,pc,Mc,{result:function(Da){Na(ea,function(){this.repository.addCryptoContext(Qa.wrapdata,Ea);this.repository.removeCryptoContext(Ua);return new lc(Aa,Qa.masterToken,pa,Ja,Da);},Ra);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(Ma);throw Da;});}});},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(Ma);throw Ja;});}});},Ra);}Ra=this;Na(ea,function(){var Ma,Qa;if(!(la instanceof T))throw new yb("Key request data " + JSON.stringify(la) + " was not created by this factory.");if(!(aa instanceof V))throw new yb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ma=la.mechanism;Qa=la.wrapdata;Aa.getEntityAuthenticationData(null,{result:function(Ua){Na(ea,function(){var pa,ya,Ea;pa=Ua.getIdentity();switch(Ma){case X.PSK:ya=new yc(pa);Ea=Aa.getEntityAuthenticationFactory(Wb.PSK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);ya=Ea.getCryptoContext(Aa,ya);ya=new vc(Aa,wc.A128KW,qc,Db);break;case X.MGK:ya=new xc(pa);Ea=Aa.getEntityAuthenticationFactory(Wb.MGK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);ya=Ea.getCryptoContext(Aa,ya);ya=new vc(Aa,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Qa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Jb(Qa)).setEntity(Ua);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);}ya.unwrap(aa.wrapKey,sc,Ec,{result:function(Ja){xa(Ua,aa,Qa,pa,Ja);},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;});}});},Ra);},error:ea.error});},Ra);}});})();(function(){var X,T,V,ba;function da(W,fa,wa,ua,ia){Na(ia,function(){var ta,Aa;switch(fa){case X.PSK:(ta=new yc(ua),Aa=W.getEntityAuthenticationFactory(Wb.PSK));if(!Aa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);ta=Aa.getCryptoContext(W,ta);return new ba(Db);case X.MGK:ta=new xc(ua);Aa=W.getEntityAuthenticationFactory(Wb.MGK);if(!Aa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);ta=Aa.getCryptoContext(W,ta);return new ba(Db);case X.WRAP:ta=W.getMslCryptoContext();ta.unwrap(wa,sc,Ec,{result:function(la){Na(ia,function(){return new ba(la);});},error:ia.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=cd.extend({init:function ua(fa,wa){ua.base.call(this,kc.JWK_LADDER);switch(fa){case X.WRAP:if(!wa)throw new yb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:fa,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.mechanism=this.mechanism;this.wrapdata && (fa.wrapdata=Jb(this.wrapdata));return fa;},equals:function ua(wa){return wa === this?!0:wa instanceof Ce?ua.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function ua(){var ia;ia=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (ia+=":" + hc(this.wrapdata));return ia;}});V=De=dd.extend({init:function ca(ia,ta,Aa,la,aa){ca.base.call(this,ia,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:ta,writable:!1,configurable:!1},wrapdata:{value:Aa,writable:!1,configurable:!1},encryptionKey:{value:la,writable:!1,configurable:!1},hmacKey:{value:aa,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.wrapkey=Jb(this.wrapKey);ia.wrapdata=Jb(this.wrapdata);ia.encryptionkey=Jb(this.encryptionKey);ia.hmackey=Jb(this.hmacKey);return ia;},equals:function Aa(ta){return this === ta?!0:ta instanceof De?Aa.base.call(this,ta) && gc(this.wrapKey,ta.wrapKey) && gc(this.wrapdata,ta.wrapdata) && gc(this.encryptionKey,ta.encryptionKey) && gc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(Aa){Aa && Aa.rawKey && (Aa=Aa.rawKey);Object.defineProperties(this,{_wrapKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Aa,la){la.error(new xb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Aa,la){la.error(new xb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Aa,la){Na(la,function(){Rb.wrapKey("jwk",Aa.rawKey,this._wrapKey,sc).then(function(aa){la.result(aa);},function(aa){la.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(Aa,la,aa,ca){function ea(xa){Na(ca,function(){switch(xa.type){case "secret":bd(xa,ca);break;case "public":Jc(xa,ca);break;case "private":Sc(xa,ca);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Na(ca,function(){Rb.unwrapKey("jwk",Aa,this._wrapKey,sc,la,!1,aa).then(function(xa){ea(xa);},function(xa){ca.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(Aa,la){la.error(new xb(S.SIGN_NOT_SUPPORTED));},verify:function(Aa,la,aa){aa.error(new xb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function aa(la){aa.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(la,aa,ca){Na(ca,function(){var ea,xa,Ra;ea=aa.mechanism;xa=aa.wrapdata;if(!ea || ea == X.WRAP && (!xa || "string" !== typeof xa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));if(!X[ea])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case X.WRAP:try{Ra=Mb(xa);}catch(Ma){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());}if(null == Ra || 0 == Ra.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());break;default:Ra=null;}return new T(ea,Ra);});},createResponseData:function(la,aa,ca){var ea,xa,Ra,Ma,Qa,Ua,pa;la=ca.wrapkey;ea=ca.wrapdata;xa=ca.encryptionkey;Ra=ca.hmackey;if(!(la && "string" === typeof la && ea && "string" === typeof ea && xa && "string" === typeof xa && Ra) || "string" !== typeof Ra)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ma=Mb(la);Qa=Mb(ea);}catch(ya){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),ya);}try{Ua=Mb(xa);}catch(ya){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),ya);}try{pa=Mb(Ra);}catch(ya){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),ya);}return new V(aa,Ma,Qa,Ua,pa);},generateResponse:function(la,aa,ca,ea){var Ua,pa;function xa(ya,Ea,Ja){Ua.generateSessionKeys(la,{result:function(Da){Na(ea,function(){Ra(ya,Ea,Ja,Da.encryptionKey,Da.hmacKey);},Ua);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(pa);throw Da;});}});}function Ra(ya,Ea,Ja,Da,Sa){Na(ea,function(){da(la,aa.mechanism,aa.wrapdata,ya,{result:function(Ia){Ia.wrap(Ea,{result:function(Za){Ma(Ea,Ja,Da,Sa,Za);},error:function(Za){Na(ea,function(){Za instanceof fb && Za.setEntity(pa);throw Za;});}});},error:function(Ia){Na(ea,function(){Ia instanceof fb && Ia.setEntity(pa);throw Ia;});}});},Ua);}function Ma(ya,Ea,Ja,Da,Sa){Na(ea,function(){var Ia;Ia=new ba(ya);Ia.wrap(Ja,{result:function(Za){Ia.wrap(Da,{result:function(ab){Qa(Ea,Sa,Ja,Za,Da,ab);},error:function(ab){Na(ea,function(){ab instanceof fb && ab.setEntity(pa);throw ab;});}});},error:function(Za){Na(ea,function(){Za instanceof fb && Za.setEntity(pa);throw Za;});}});},Ua);}function Qa(ya,Ea,Ja,Da,Sa,Ia){Na(ea,function(){var Za;Za=la.getTokenFactory();pa?Za.renewMasterToken(la,pa,Ja,Sa,{result:function(ab){Na(ea,function(){var Xa,kb;Xa=new lc(la,ab);kb=new V(ab,Ea,ya,Da,Ia);return new mc.KeyExchangeData(kb,Xa,ea);},Ua);},error:function(ab){Na(ea,function(){ab instanceof fb && ab.setEntity(pa);throw ab;});}}):Za.createMasterToken(la,ca,Ja,Sa,{result:function(ab){Na(ea,function(){var Xa,kb;Xa=new lc(la,ab);kb=new V(ab,Ea,ya,Da,Ia);return new mc.KeyExchangeData(kb,Xa,ea);},Ua);},error:ea.error});},Ua);}Ua=this;Na(ea,function(){var ya,Ea;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");ya=ca;if(ca instanceof ic){if(!ca.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);pa=ca;ya=ca.identity;}Ea=new Uint8Array(16);la.getRandom().nextBytes(Ea);tc(Ea,sc,Ec,{result:function(Ja){Na(ea,function(){la.getMslCryptoContext().wrap(Ja,{result:function(Da){xa(ya,Ja,Da);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(pa);throw Da;},Ua);}});},Ua);},error:function(Ja){Na(ea,function(){throw new xb(S.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(pa);},Ua);}});},Ua);},getCryptoContext:function(la,aa,ca,ea,xa){var Ma;function Ra(Qa,Ua,pa,ya,Ea){Na(xa,function(){var Ja;Ja=new ba(Ea);Ja.unwrap(Ua.encryptionKey,oc,Dc,{result:function(Da){Ja.unwrap(Ua.hmacKey,pc,Mc,{result:function(Sa){Na(xa,function(){this.repository.addCryptoContext(Ua.wrapdata,Ja);this.repository.removeCryptoContext(pa);return new lc(la,Ua.masterToken,ya,Da,Sa);},Ma);},error:function(Sa){Na(xa,function(){Sa instanceof fb && Sa.setEntity(Qa);throw Sa;});}});},error:function(Da){Na(xa,function(){Da instanceof fb && Da.setEntity(Qa);throw Da;});}});},Ma);}Ma=this;Na(xa,function(){var Qa,Ua;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(ca instanceof V))throw new yb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Qa=aa.mechanism;Ua=aa.wrapdata;la.getEntityAuthenticationData(null,{result:function(pa){Na(xa,function(){var ya,Ea,Ja;ya=pa.getIdentity();switch(Qa){case X.PSK:Ea=new yc(ya);Ja=la.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.MGK:Ea=new xc(ya);Ja=la.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.WRAP:Ea=this.repository.getCryptoContext(Ua);if(!Ea)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Jb(Ua)).setEntity(pa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);}Ea.unwrap(ca.wrapKey,sc,Ec,{result:function(Da){Ra(pa,ca,Ua,ya,Da);},error:function(Da){Na(xa,function(){Da instanceof fb && Da.setEntity(pa);throw Da;});}});},Ma);},error:xa.error});},Ma);}});})();Af=Gb.Class.create({addCryptoContext:function(da,X){},getCryptoContext:function(da){},removeCryptoContext:function(da){}});(function(){var X,T,V,ba;function da(W,fa,wa,ua,ia){switch(wa){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(W,wc.RSA_OAEP,qc,ua,ia);case X.JWK_RSA:return new pd(W,fa,ua,ia,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(W,fa,ua,ia,qd.WRAP_UNWRAP_PKCS1);default:throw new xb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Dd=cd.extend({init:function ta(fa,wa,ua,ia){ta.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:fa,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:ua,writable:!1,configurable:!1},privateKey:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.keypairid=this.keyPairId;fa.mechanism=this.mechanism;fa.publickey=Jb(this.publicKey.getEncoded());return fa;},equals:function ua(wa){var ia;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;ia=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return ua.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && ia;},uniqueKey:function ua(){var ia,ta;ia=this.publicKey.getEncoded();ta=this.privateKey && this.privateKey.getEncoded();ia=ua.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ia);ta && (ia+=":" + hc(ta));return ia;}});V=function(ua,ia){Na(ia,function(){var ta,Aa,la,aa;ta=ua.keypairid;Aa=ua.mechanism;la=ua.publickey;if(!ta || "string" !== typeof ta || !Aa || !la || "string" !== typeof la)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ua));if(!X[Aa])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,Aa);try{aa=Mb(la);switch(Aa){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(aa,nd,Ec,{result:function(ca){ia.result(new T(ta,Aa,ca,null));},error:function(ca){ia.error(ca);}});break;case X.JWK_RSAES:Id(aa,Gd,Ec,{result:function(ca){ia.result(new T(ta,Aa,ca,null));},error:function(ca){ia.error(ca);}});break;default:throw new xb(S.UNSUPPORTED_KEYX_MECHANISM,Aa);}}catch(ca){if(!(ca instanceof fb))throw new xb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ua),ca);throw ca;}});};ba=Fe=dd.extend({init:function aa(ia,ta,Aa,la){aa.base.call(this,ia,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.keypairid=this.keyPairId;ia.encryptionkey=Jb(this.encryptionKey);ia.hmackey=Jb(this.hmacKey);return ia;},equals:function Aa(ta){return this === ta?!0:ta instanceof Fe?Aa.base.call(this,ta) && this.keyPairId == ta.keyPairId && gc(this.encryptionKey,ta.encryptionKey) && gc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function la(){la.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(la,aa,ca){V(aa,ca);},createResponseData:function(la,aa,ca){var ea,xa,Ra,Ma;la=ca.keypairid;ea=ca.encryptionkey;xa=ca.hmackey;if(!la || "string" !== typeof la || !ea || "string" !== typeof ea || !xa || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ra=Mb(ea);}catch(Qa){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),Qa);}try{Ma=Mb(xa);}catch(Qa){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),Qa);}return new ba(aa,la,Ra,Ma);},generateResponse:function(la,aa,ca,ea){var Ma;function xa(Qa,Ua){Na(ea,function(){var pa;pa=da(la,aa.keyPairId,aa.mechanism,null,aa.publicKey);pa.wrap(Qa,{result:function(ya){Na(ea,function(){pa.wrap(Ua,{result:function(Ea){Ra(Qa,ya,Ua,Ea);},error:function(Ea){Na(ea,function(){Ea instanceof fb && ca instanceof ic && Ea.setEntity(ca);throw Ea;},Ma);}});},Ma);},error:function(ya){Na(ea,function(){ya instanceof fb && ca instanceof ic && ya.setEntity(ca);throw ya;},Ma);}});},Ma);}function Ra(Qa,Ua,pa,ya){Na(ea,function(){var Ea;Ea=la.getTokenFactory();ca instanceof ic?Ea.renewMasterToken(la,ca,Qa,pa,{result:function(Ja){Na(ea,function(){var Da,Sa;Da=new lc(la,Ja);Sa=new ba(Ja,aa.keyPairId,Ua,ya);return new mc.KeyExchangeData(Sa,Da,ea);},Ma);},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(ca);throw Ja;},Ma);}}):Ea.createMasterToken(la,ca,Qa,pa,{result:function(Ja){Na(ea,function(){var Da,Sa;Da=new lc(la,Ja);Sa=new ba(Ja,aa.keyPairId,Ua,ya);return new mc.KeyExchangeData(Sa,Da,ea);},Ma);},error:ea.error});},Ma);}Ma=this;Na(ea,function(){if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");this.generateSessionKeys(la,{result:function(Qa){xa(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){Na(ea,function(){Qa instanceof fb && ca instanceof ic && Qa.setEntity(ca);throw Qa;},Ma);}});},Ma);},getCryptoContext:function(la,aa,ca,ea,xa){var Ra;Ra=this;Na(xa,function(){var Ma,Qa,Ua;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(ca instanceof ba))throw new yb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=aa.keyPairId;Qa=ca.keyPairId;if(Ma != Qa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Qa).setEntity(ea);Qa=aa.privateKey;if(!Qa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Ua=da(la,Ma,aa.mechanism,Qa,null);Ua.unwrap(ca.encryptionKey,oc,Dc,{result:function(pa){Ua.unwrap(ca.hmacKey,pc,Mc,{result:function(ya){la.getEntityAuthenticationData(null,{result:function(Ea){Na(xa,function(){var Ja;Ja=Ea.getIdentity();return new lc(la,ca.masterToken,Ja,pa,ya);},Ra);},error:function(Ea){Na(xa,function(){Ea instanceof fb && Ea.setEntity(ea);throw Ea;},Ra);}});},error:function(ya){Na(xa,function(){ya instanceof fb && ya.setEntity(ea);throw ya;},Ra);}});},error:function(pa){Na(xa,function(){pa instanceof fb && pa.setEntity(ea);throw pa;},Ra);}});},Ra);}});})();zf=Gb.Class.create({init:function(da){var X,T,V,ba,W,fa,wa,ua;X=ac.parser();T=[];V=[];wa=0;ua=!1;X.onerror=function(ia){ua || (ua=!0,X.end());};X.onopenobject=function(ia){var ta;if(ba)(ba[fa]={},V.push(ba),ba=ba[fa]);else if(W){ta={};V.push(W);W.push(ta);ba=ta;W=Db;}else ba={};fa=ia;};X.oncloseobject=function(){var ia;ia=V.pop();ia?"object" === typeof ia?ba=ia:(ba=Db,W=ia):(T.push(ba),wa=X.index,ba=Db);};X.onopenarray=function(){var ia;if(ba)(ba[fa]=[],V.push(ba),W=ba[fa],ba=Db);else if(W){ia=[];V.push(W);W.push(ia);W=ia;}else W=[];};X.onclosearray=function(){var ia;ia=V.pop();ia?"object" === typeof ia?(ba=ia,W=Db):W=ia:(T.push(W),wa=X.index,W=Db);};X.onkey=function(ia){fa=ia;};X.onvalue=function(ia){ba?ba[fa]=ia:W?W.push(ia):(T.push(ia),wa=X.index);};X.write(da).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Db:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var da,X,T,V,ba;da=Rd="entityauthdata";X=He="mastertoken";T=Ie="headerdata";V=Je="errordata";ba=Sd="signature";Ge=function(W,fa,wa,ua){Na(ua,function(){var ia,ta,Aa,la,aa,ca;ia=fa[da];ta=fa[X];Aa=fa[ba];if(ia && "object" !== typeof ia || ta && "object" !== typeof ta || "string" !== typeof Aa)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));try{la=Mb(Aa);}catch(ea){throw new Nb(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(fa),ea);}aa=null;ia && (aa=se(W,ia));ca=fa[T];if(ca != Db && null != ca){if("string" !== typeof ca)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));ta?ed(W,ta,{result:function(ea){Td(W,ca,aa,ea,la,wa,ua);},error:function(ea){ua.error(ea);}}):Td(W,ca,aa,null,la,wa,ua);}else if((ia=fa[V],ia != Db && null != ia)){if("string" !== typeof ia)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));Ke(W,ia,aa,la,ua);}else throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(fa));});};})();(function(){function da(X,T){this.errordata=X;this.signature=T;}Ic=Gb.Class.create({init:function(X,T,V,ba,W,fa,wa,ua,ia,ta){var Aa;Aa=this;Na(ta,function(){var la,aa;0 > fa && (fa=-1);if(0 > ba || ba > Sb)throw new yb("Message ID " + ba + " is out of range.");if(!T)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);if(ia)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ia.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia.signature,writable:!1,enumerable:!1,configurable:!1}}),this);la={};V && (la.recipient=V);la.messageid=ba;la.errorcode=W;0 < fa && (la.internalcode=fa);wa && (la.errormsg=wa);ua && (la.usermsg=ua);try{aa=X.getEntityAuthenticationFactory(T.scheme).getCryptoContext(X,T);}catch(ca){throw (ca instanceof fb && (ca.setEntity(T),ca.setMessageId(ba)),ca);}la=fc(JSON.stringify(la),Tb);aa.encrypt(la,{result:function(ca){Na(ta,function(){aa.sign(ca,{result:function(ea){Na(ta,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},Aa);},error:function(ea){Na(ta,function(){ea instanceof fb && (ea.setEntity(T),ea.setMessageId(ba));throw ea;},Aa);}});},Aa);},error:function(ca){Na(ta,function(){ca instanceof fb && (ca.setEntity(T),ca.setMessageId(ba));throw ca;},Aa);}});},Aa);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Jb(this.errordata);X[Sd]=Jb(this.signature);return X;}});Le=function(X,T,V,ba,W,fa,wa,ua,ia){new Ic(X,T,V,ba,W,fa,wa,ua,null,ia);};Ke=function(X,T,V,ba,W){Na(W,function(){var fa,wa,ua;if(!V)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);try{fa=V.scheme;wa=X.getEntityAuthenticationFactory(fa);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,fa);ua=wa.getCryptoContext(X,V);}catch(ia){throw (ia instanceof fb && ia.setEntity(V),ia);}try{T=Mb(T);}catch(ia){throw new Nb(S.HEADER_DATA_INVALID,T,ia).setEntity(V);}if(!T || 0 == T.length)throw new Nb(S.HEADER_DATA_MISSING,T).setEntity(V);ua.verify(T,ba,{result:function(ia){Na(W,function(){if(!ia)throw new xb(S.MESSAGE_VERIFICATION_FAILED).setEntity(V);ua.decrypt(T,{result:function(ta){Na(W,function(){var Aa,la,aa,ca,ea,xa,Ra,Ma;Aa=ec(ta,Tb);try{la=JSON.parse(Aa);}catch(Ua){if(Ua instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + Aa,Ua).setEntity(V);throw Ua;}aa=la.recipient !== Db?la.recipient:null;ca=parseInt(la.messageid);ea=parseInt(la.errorcode);xa=parseInt(la.internalcode);Ra=la.errormsg;Ma=la.usermsg;if(aa && "string" !== typeof aa || !ca || ca != ca || !ea || ea != ea || la.internalcode && xa != xa || Ra && "string" !== typeof Ra || Ma && "string" !== typeof Ma)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + Aa).setEntity(V);if(0 > ca || ca > Sb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Aa).setEntity(V);la=!1;for(var Qa in Ga){if(Ga[Qa] == ea){la=!0;break;}}la || (ea=Ga.FAIL);if(xa){if(0 > xa)throw new Nb(S.INTERNAL_CODE_NEGATIVE,"errordata " + Aa).setEntity(V).setMessageId(ca);}else xa=-1;Aa=new da(T,ba);new Ic(X,V,aa,ca,ea,xa,Ra,Ma,Aa,W);});},error:function(ta){Na(W,function(){ta instanceof fb && ta.setEntity(V);throw ta;});}});});},error:function(ia){Na(W,function(){ia instanceof fb && ia.setEntity(V);throw ia;});}});});};})();Bf=Gb.Class.create({getUserMessage:function(da,X){}});(function(){Ud=function(da,X){var T;if(!da || !X)return null;T=da.compressionAlgorithms.filter(function(V){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(V == X.compressionAlgorithms[ba])return !0;}return !1;});da=da.languages.filter(function(V){for(var ba=0;ba < X.languages.length;++ba){if(V == X.languages[ba])return !0;}return !1;});return new fd(T,da);};fd=Gb.Class.create({init:function(da,X){da || (da=[]);X || (X=[]);da.sort();Object.defineProperties(this,{compressionAlgorithms:{value:da,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var da;da={};da.compressionalgos=this.compressionAlgorithms;da.languages=this.languages;return da;},equals:function(da){return this === da?!0:da instanceof fd?ce(this.compressionAlgorithms,da.compressionAlgorithms) && ce(this.languages,da.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(da){var X,T,ba;X=da.compressionalgos;T=da.languages;if(X && !(X instanceof Array) || T && !(T instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(da));da=[];for(var V=0;X && V < X.length;++V){ba=X[V];Kc[ba] && da.push(ba);}return new fd(da,T);};})();(function(){var ta,Aa;function da(la,aa,ca,ea,xa){this.customer=la;this.sender=aa;this.messageCryptoContext=ca;this.headerdata=ea;this.signature=xa;}function X(la,aa,ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea,Ja,Da,Sa,Ia,Za,ab,Xa,kb){return {cryptoContext:{value:aa,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Ra,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Ua,writable:!1,configurable:!1},userAuthenticationData:{value:pa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ea,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Sa,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Za,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:kb,writable:!1,enumerable:!1,configurable:!1}};}function T(la,aa,ca){var ea;if(ca){if(aa=la.getMslStore().getCryptoContext(ca))return aa;if(!ca.isVerified() || !ca.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);return new lc(la,ca);}ca=aa.scheme;ea=la.getEntityAuthenticationFactory(ca);if(!ea)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ca);return ea.getCryptoContext(la,aa);}function V(la,aa,ca,ea,xa){Na(xa,function(){aa.verify(ca,ea,{result:function(Ra){Na(xa,function(){if(!Ra)throw new xb(S.MESSAGE_VERIFICATION_FAILED);aa.decrypt(ca,{result:function(Ma){Na(xa,function(){return ec(Ma,Tb);});},error:function(Ma){xa.error(Ma);}});});},error:function(Ra){xa.error(Ra);}});});}function ba(la,aa,ca){Na(ca,function(){if(aa)ze(la,aa,ca);else return null;});}function W(la,aa,ca,ea){Na(ea,function(){if(aa)vd(la,aa,ca,ea);else return null;});}function fa(la,aa,ca,ea){Na(ea,function(){if(ca)Qe(la,aa,ca,ea);else return null;});}function wa(la,aa,ca,ea,xa,Ra,Ma){var Ua;function Qa(pa,ya,Ea){var Ja,Da;if(ya >= pa.length){Ja=[];for(Da in Ua){Ja.push(Ua[Da]);}Ea.result(Ja);}else {Ja=pa[ya];if("object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);wd(la,Ja,ca,ea,xa,{result:function(Sa){Na(Ea,function(){Ua[Sa.uniqueKey()]=Sa;Qa(pa,ya + 1,Ea);});},error:function(Sa){Ea.error(Sa);}});}}Ua={};Na(Ma,function(){if(aa){if(!(aa instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);Qa(aa,0,Ma);}else return [];});}function ua(la,aa,ca,ea,xa,Ra){function Ma(Ua,pa,ya){Na(ya,function(){var Ea;Ea=pa.peermastertoken;if(Ea && "object" !== typeof Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ea)return null;ed(Ua,Ea,ya);});}function Qa(Ua,pa,ya,Ea){Na(Ea,function(){var Ja;Ja=pa.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ja)return null;vd(Ua,Ja,ya,Ea);});}Na(Ra,function(){if(!la.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(la,aa,{result:function(Ua){Na(Ra,function(){var pa;pa=ca?ca.masterToken:Ua;Qa(la,aa,pa,{result:function(ya){Na(Ra,function(){wa(la,aa.peerservicetokens,pa,ya,ea,xa,{result:function(Ea){Na(Ra,function(){return {peerMasterToken:Ua,peerUserIdToken:ya,peerServiceTokens:Ea};});},error:function(Ea){Na(Ra,function(){Ea instanceof fb && (Ea.setEntity(pa),Ea.setUser(ya));throw Ea;});}});});},error:function(ya){Na(Ra,function(){ya instanceof fb && ya.setEntity(pa);throw ya;});}});});},error:Ra.error});});}function ia(la,aa,ca,ea){var Ra;function xa(Ma,Qa){Na(ea,function(){if(Qa >= Ma.length)return Ra;ye(la,Ma[Qa],{result:function(Ua){Na(ea,function(){Ra.push(Ua);xa(Ma,Qa + 1);});},error:function(Ua){ea.error(Ua);}});});}Ra=[];Na(ea,function(){var Ma;Ma=aa.keyrequestdata;if(!Ma)return Ra;if(!(Ma instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + ca);xa(Ma,0);});}ta=Oe=Gb.Class.create({init:function(la,aa,ca,ea,xa,Ra,Ma,Qa,Ua){Object.defineProperties(this,{messageId:{value:la,writable:!1,configurable:!1},nonReplayableId:{value:aa,writable:!1,configurable:!1},renewable:{value:ca,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Ua,writable:!1,configurable:!1}});}});Aa=Pe=Gb.Class.create({init:function(la,aa,ca){Object.defineProperties(this,{peerMasterToken:{value:la,writable:!1,configurable:!1},peerUserIdToken:{value:aa,writable:!1,configurable:!1},peerServiceTokens:{value:ca,writable:!1,configurable:!1}});}});gd=Gb.Class.create({init:function(la,aa,ca,ea,xa,Ra,Ma){var Ua;function Qa(pa){Na(Ma,function(){var ya,Ea,Ja,Da,Sa,Ia,Za,ab,Xa,kb,qb,sb,tb,ub,Cb,Ab,ra;aa=ca?null:aa;ya=ea.nonReplayableId;Ea=ea.renewable;Ja=ea.capabilities;Da=ea.messageId;Sa=ea.keyRequestData?ea.keyRequestData:[];Ia=ea.keyResponseData;Za=ea.userAuthData;ab=ea.userIdToken;Xa=ea.serviceTokens?ea.serviceTokens:[];if(la.isPeerToPeer()){kb=xa.peerMasterToken;qb=xa.peerUserIdToken;sb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (qb=kb=null,sb=[]);if(0 > Da || Da > Sb)throw new yb("Message ID " + Da + " is out of range.");if(!aa && !ca)throw new yb("Message entity authentication data or master token must be provided.");if(Ia){if(la.isPeerToPeer()){tb=ca;ub=Ia.masterToken;}else (tb=Ia.masterToken,ub=kb);}else (tb=ca,ub=kb);if(ab && (!tb || !ab.isBoundTo(tb)))throw new yb("User ID token must be bound to a master token.");if(qb && (!ub || !qb.isBoundTo(ub)))throw new yb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!tb || !Fa.isBoundTo(tb)))throw new yb("Master token bound service tokens must be bound to the provided master token.");if(Fa.isUserIdTokenBound() && (!ab || !Fa.isBoundTo(ab)))throw new yb("User ID token bound service tokens must be bound to the provided user ID token.");},this);sb.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!ub || !Fa.isBoundTo(ub)))throw new yb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Fa.isUserIdTokenBound() && (!qb || !Fa.isBoundTo(qb)))throw new yb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ra){ra=Ra.customer;Cb=Ra.messageCryptoContext;Ab=X(la,Cb,ra,aa,ca,pa,Da,Sa,Ia,Za,ab,Xa,kb,qb,sb,ya,Ea,Ja,Ra.headerdata,Ra.signature);Object.defineProperties(this,Ab);return this;}ra=ab?ab.customer:null;Ab={};pa && (Ab.sender=pa);Ab.messageid=Da;"number" === typeof ya && (Ab.nonreplayableid=ya);Ab.renewable=Ea;Ja && (Ab.capabilities=Ja);0 < Sa.length && (Ab.keyrequestdata=Sa);Ia && (Ab.keyresponsedata=Ia);Za && (Ab.userauthdata=Za);ab && (Ab.useridtoken=ab);0 < Xa.length && (Ab.servicetokens=Xa);kb && (Ab.peermastertoken=kb);qb && (Ab.peeruseridtoken=qb);0 < sb.length && (Ab.peerservicetokens=sb);try{Cb=T(la,aa,ca);}catch(Fa){throw (Fa instanceof fb && (Fa.setEntity(ca),Fa.setEntity(aa),Fa.setUser(ab),Fa.setUser(Za),Fa.setMessageId(Da)),Fa);}Ab=fc(JSON.stringify(Ab),Tb);Cb.encrypt(Ab,{result:function(Fa){Na(Ma,function(){Cb.sign(Fa,{result:function(Oa){Na(Ma,function(){var r;r=X(la,Cb,ra,aa,ca,pa,Da,Sa,Ia,Za,ab,Xa,kb,qb,sb,ya,Ea,Ja,Fa,Oa);Object.defineProperties(this,r);return this;},Ua);},error:function(Oa){Na(Ma,function(){Oa instanceof fb && (Oa.setEntity(ca),Oa.setEntity(aa),Oa.setUser(ab),Oa.setUser(Za),Oa.setMessageId(Da));throw Oa;},Ua);}});},Ua);},error:function(Fa){Na(Ma,function(){Fa instanceof fb && (Fa.setEntity(ca),Fa.setEntity(aa),Fa.setUser(ab),Fa.setUser(Za),Fa.setMessageId(Da));throw Fa;},Ua);}});},Ua);}Ua=this;Na(Ma,function(){Ra?Qa(Ra.sender):ca?la.getEntityAuthenticationData(null,{result:function(pa){pa=pa.getIdentity();Qa(pa);},error:Ma.error}):Qa(null);},Ua);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var la;la={};this.masterToken?la[He]=this.masterToken:la[Rd]=this.entityAuthenticationData;la[Ie]=Jb(this.headerdata);la[Sd]=Jb(this.signature);return la;}});Ne=function(la,aa,ca,ea,xa,Ra){new gd(la,aa,ca,ea,xa,null,Ra);};Td=function(la,aa,ca,ea,xa,Ra,Ma){Na(Ma,function(){var Qa,Ua;ca=ea?null:ca;if(!ca && !ea)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);Qa=aa;try{aa=Mb(Qa);}catch(pa){throw new Nb(S.HEADER_DATA_INVALID,Qa,pa);}if(!aa || 0 == aa.length)throw new Nb(S.HEADER_DATA_MISSING,Qa);try{Ua=T(la,ca,ea);}catch(pa){throw (pa instanceof fb && (pa.setEntity(ea),pa.setEntity(ca)),pa);}V(la,Ua,aa,xa,{result:function(pa){Na(Ma,function(){var ya,Ea,Ja,Da,Sa;try{ya=JSON.parse(pa);}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa,Ia).setEntity(ea).setEntity(ca);throw Ia;}Ea=parseInt(ya.messageid);if(!Ea || Ea != Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca);if(0 > Ea || Ea > Sb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + pa).setEntity(ea).setEntity(ca);Ja=ea?ya.sender:null;if(ea && (!Ja || "string" !== typeof Ja))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca).setMessageId(Ea);Da=ya.keyresponsedata;if(Da && "object" !== typeof Da)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca).setMessageId(Ea);Sa=Ma;Ma={result:function(Ia){Sa.result(Ia);},error:function(Ia){Ia instanceof fb && (Ia.setEntity(ea),Ia.setEntity(ca),Ia.setMessageId(Ea));Sa.error(Ia);}};ba(la,Da,{result:function(Ia){Na(Ma,function(){var Za,ab;Za=!la.isPeerToPeer() && Ia?Ia.masterToken:ea;ab=ya.useridtoken;if(ab && "object" !== typeof ab)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);W(la,ab,Za,{result:function(Xa){Na(Ma,function(){var kb;kb=ya.userauthdata;if(kb && "object" !== typeof kb)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);fa(la,Za,kb,{result:function(qb){Na(Ma,function(){var sb,tb,ub;if(qb){sb=qb.scheme;tb=la.getUserAuthenticationFactory(sb);if(!tb)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,sb).setUser(Xa).setUser(qb);sb=ea?ea.identity:ca.getIdentity();ub=tb.authenticate(la,sb,qb,Xa);}else ub=Xa?Xa.customer:null;wa(la,ya.servicetokens,Za,Xa,Ra,pa,{result:function(Cb){Na(Ma,function(){var Ab,ra,Fa,Oa;Ab=ya.nonreplayableid !== Db?parseInt(ya.nonreplayableid):null;ra=ya.renewable;if(Ab != Ab || "boolean" !== typeof ra)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);if(0 > Ab || Ab > Sb)throw new Nb(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + pa);Fa=null;Oa=ya.capabilities;if(Oa){if("object" !== typeof Oa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);Fa=Me(Oa);}ia(la,ya,pa,{result:function(r){ua(la,ya,Ia,Ra,pa,{result:function(b){Na(Ma,function(){var a,c,l,f;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;f=new ta(Ea,Ab,ra,Fa,r,Ia,qb,Xa,Cb);a=new Aa(a,c,l);c=new da(ub,Ja,Ua,aa,xa);new gd(la,ca,ea,f,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof fb && (r.setUser(Xa),r.setUser(qb));throw r;});}});});},error:function(Cb){Na(Ma,function(){Cb instanceof fb && (Cb.setEntity(Za),Cb.setUser(Xa),Cb.setUser(qb));throw Cb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function da(X,T){this.payload=X;this.signature=T;}Vd=Gb.Class.create({init:function(X,T,V,ba,W,fa,wa,ua){var ia;ia=this;Na(ua,function(){var ta,Aa;if(0 > X || X > Sb)throw new yb("Sequence number " + X + " is outside the valid range.");if(0 > T || T > Sb)throw new yb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){ta=Wd(ba,W);ta || (ba=null,ta=W);}else (ba=null,ta=W);Aa={};Aa.sequencenumber=X;Aa.messageid=T;V && (Aa.endofmsg=V);ba && (Aa.compressionalgo=ba);Aa.data=Jb(ta);ta=fc(JSON.stringify(Aa),Tb);fa.encrypt(ta,{result:function(la){Na(ua,function(){fa.sign(la,{result:function(aa){Na(ua,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:la,writable:!1,enumerable:!1,configurable:!1},signature:{value:aa,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);},error:function(aa){ua.error(aa);}});},ia);},error:function(la){ua.error(la);}});},ia);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Jb(this.payload);X.signature=Jb(this.signature);return X;}});Re=function(X,T,V,ba,W,fa,wa){new Vd(X,T,V,ba,W,fa,null,wa);};Se=function(X,T,V){Na(V,function(){var ba,W,fa,wa;ba=X.payload;W=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{fa=Mb(ba);}catch(ua){throw new Nb(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ua);}try{wa=Mb(W);}catch(ua){throw new Nb(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ua);}T.verify(fa,wa,{result:function(ua){Na(V,function(){if(!ua)throw new xb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(fa,{result:function(ia){Na(V,function(){var ta,Aa,la,aa,ca,ea,xa;ta=ec(ia,Tb);try{Aa=JSON.parse(ta);}catch(Ra){if(Ra instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + ta,Ra);throw Ra;}la=parseInt(Aa.sequencenumber);aa=parseInt(Aa.messageid);ca=Aa.endofmsg;ea=Aa.compressionalgo;Aa=Aa.data;if(!la || la != la || !aa || aa != aa || ca && "boolean" !== typeof ca || ea && "string" !== typeof ea || "string" !== typeof Aa)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + ta);if(0 > la || la > Sb)throw new fb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + ta);if(0 > aa || aa > Sb)throw new fb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + ta);ca || (ca=!1);if(ea && !Kc[ea])throw new Nb(S.UNIDENTIFIED_COMPRESSION,ea);try{xa=Mb(Aa);}catch(Ra){throw new Nb(S.PAYLOAD_DATA_CORRUPT,Aa,Ra);}if(xa && 0 != xa.length)ta=ea?xd(ea,xa):xa;else {if(0 < Aa.length)throw new Nb(S.PAYLOAD_DATA_CORRUPT,Aa);if(ca)ta=new Uint8Array(0);else throw new Nb(S.PAYLOAD_DATA_MISSING,Aa);}xa=new da(fa,wa);new Vd(la,aa,ca,ea,ta,T,xa,V);});},error:function(ia){V.error(ia);}});});},error:function(ua){V.error(ua);}});});};})();(function(){var V,ba;function da(W,fa,wa,ua,ia){var Aa,la,aa,ca,ea;function ta(){Na(ia,function(){var xa,Ra;la >= fa.length && (la=0,++Aa);if(Aa >= aa.length){if(ca)throw ca;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(fa));}xa=aa[Aa];Ra=fa[la];xa.scheme != Ra.keyExchangeScheme?(++la,ta()):xa.generateResponse(W,Ra,ea,{result:function(Ma){ia.result(Ma);},error:function(Ma){Na(ia,function(){if(!(Ma instanceof fb))throw Ma;ca=Ma;++la;ta();});}});});}Aa=0;la=0;aa=W.getKeyExchangeFactories();ea=wa?wa:ua;ta();}function X(W,fa,wa,ua,ia){Na(ia,function(){var ta;ta=fa.keyRequestData;if(fa.isRenewable() && 0 < ta.length)ua?ua.isRenewable() || ua.isExpired()?da(W,ta,ua,null,ia):W.getTokenFactory().isNewestMasterToken(W,ua,{result:function(Aa){Na(ia,function(){if(Aa)return null;da(W,ta,ua,null,ia);});},error:ia.error}):da(W,ta,null,wa.getIdentity(),ia);else return null;});}function T(W,fa,wa,ua){Na(ua,function(){var ia,ta,Aa,la;ia=fa.userIdToken;ta=fa.userAuthenticationData;Aa=fa.messageId;if(ia && ia.isVerified()){if(ia.isRenewable() && fa.isRenewable() || ia.isExpired() || !ia.isBoundTo(wa)){ta=W.getTokenFactory();ta.renewUserIdToken(W,ia,wa,ua);return;}}else if(fa.isRenewable() && wa && ta){ia=fa.customer;if(!ia){ia=ta.scheme;la=W.getUserAuthenticationFactory(ia);if(!la)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ia).setEntity(wa).setUser(ta).setMessageId(Aa);ia=la.authenticate(W,wa.identity,ta,null);}ta=W.getTokenFactory();ta.createUserIdToken(W,ia,wa,ua);return;}return ia;});}V=new Uint8Array(0);ba=Nc=function(W){if(0 > W || W > Sb)throw new yb("Message ID " + W + " is outside the valid range.");return W == Sb?0:W + 1;};Wc=function(W){if(0 > W || W > Sb)throw new yb("Message ID " + W + " is outside the valid range.");return 0 == W?Sb:W - 1;};Oc=function(W,fa,wa,ua,ia){Na(ia,function(){var ta;if(ua == Db || null == ua){ta=W.getRandom();do {ua=ta.nextLong();}while(0 > ua || ua > Sb);}else if(0 > ua || ua > Sb)throw new yb("Message ID " + ua + " is outside the valid range.");W.getEntityAuthenticationData(null,{result:function(Aa){Na(ia,function(){var la;la=W.getMessageCapabilities();return new yd(W,ua,la,Aa,fa,wa,null,null,null,null,null);});},error:function(Aa){ia.error(Aa);}});});};Te=function(W,fa,wa){Na(wa,function(){var ia,ta,Aa,la,aa,ca;function ua(ea){Na(wa,function(){ea instanceof fb && (ea.setEntity(ia),ea.setEntity(ta),ea.setUser(Aa),ea.setUser(la),ea.setMessageId(aa));throw ea;});}ia=fa.masterToken;ta=fa.entityAuthenticationData;Aa=fa.userIdToken;la=fa.userAuthenticationData;aa=fa.messageId;ca=ba(aa);X(W,fa,ta,ia,{result:function(ea){Na(wa,function(){var xa;xa=ea?ea.keyResponseData.masterToken:xa=ia;W.getEntityAuthenticationData(null,{result:function(Ra){Na(wa,function(){T(W,fa,xa,{result:function(Ma){Na(wa,function(){var Qa,Ua,pa;Aa=Ma;Qa=Ud(fa.messageCapabilities,W.getMessageCapabilities());Ua=fa.keyResponseData;pa=fa.serviceTokens;return W.isPeerToPeer()?new yd(W,ca,Qa,Ra,Ua?Ua.masterToken:fa.peerMasterToken,fa.peerUserIdToken,fa.peerServiceTokens,ia,Aa,pa,ea):new yd(W,ca,Qa,Ra,Ua?Ua.masterToken:ia,Aa,pa,null,null,null,ea);});},error:ua});});},error:ua});});},error:ua});});};Ue=function(W,fa,wa,ua,ia){Na(ia,function(){W.getEntityAuthenticationData(null,{result:function(ta){Na(ia,function(){var Aa,la;if(fa != Db && null != fa)Aa=ba(fa);else {la=W.getRandom();do {Aa=la.nextInt();}while(0 > Aa || Aa > Sb);}Le(W,ta,Aa,wa.responseCode,wa.internalCode,wa.message,ua,ia);});},error:function(ta){ia.error(ta);}});});};yd=Gb.Class.create({init:function(W,fa,wa,ua,ia,ta,Aa,la,aa,ca,ea){var xa,Ra,Ma,Qa,Ua;if(!W.isPeerToPeer() && (la || aa))throw new yb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=ea && !W.isPeerToPeer()?ea.keyResponseData.masterToken:ia;Ra=[];xa=W.getMslStore().getServiceTokens(xa,ta);Ra.push.apply(Ra,xa);Aa && Aa.forEach(function(pa){Ra.push(pa);},this);Ma=[];if(W.isPeerToPeer()){Qa=la;Ua=aa;Aa=ea?ea.keyResponseData.masterToken:la;aa=W.getMslStore().getServiceTokens(Aa,aa);Ma.push.apply(Ma,aa);ca && ca.forEach(function(pa){Ma.push(pa);},this);}Object.defineProperties(this,{_ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ua,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ia,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:fa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:ta,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(W){Na(W,function(){var fa,wa,ua;fa=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(ua in this._keyRequestData){wa.push(this._keyRequestData[ua]);}if(this._nonReplayable){if(!this._masterToken)throw new Nb(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ua=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ua=null;fa=new Oe(this._messageId,ua,this._renewable,this._capabilities,wa,fa,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,fa,wa,W);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(W){this._nonReplayable=W;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(W){this._renewable=W;return this;},setAuthTokens:function(W,fa){var wa,ia;if(fa && !fa.isBoundTo(W))throw new yb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new yb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(W,fa);}catch(ta){if(ta instanceof fb)throw new yb("Invalid master token and user ID token combination despite checking above.",ta);throw ta;}for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){ia=this._serviceTokens[ua];(ia.isUserIdTokenBound() && !ia.isBoundTo(fa) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._serviceTokens.splice(ua,1);}wa.forEach(function(ta){this.excludeServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._serviceTokens.push(ta);},this);this._masterToken=W;this._userIdToken=fa;},setUserAuthenticationData:function(W){this._userAuthData=W;return this;},setCustomer:function(W,fa){var wa;wa=this;Na(fa,function(){var ua;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new yb("User ID token or peer user ID token already exists for the remote user.");ua=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ua)throw new yb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,W,ua,{result:function(ia){Na(fa,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ia:(this._userIdToken=ia,this._userAuthData=null);return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addKeyRequestData:function(W){this._keyRequestData[W.uniqueKey()]=W;return this;},removeKeyRequestData:function(W){delete this._keyRequestData[W.uniqueKey()];return this;},addServiceToken:function(W){var fa;fa=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(W.isMasterTokenBound() && !W.isBoundTo(fa))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(fa)).setEntity(fa);if(W.isUserIdTokenBound() && !W.isBoundTo(this._userIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(fa).setUser(this._userIdToken);this.excludeServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._serviceTokens.push(W);return this;},addServiceTokenIfAbsent:function(W){var wa;for(var fa=this._serviceTokens.length - 1;0 <= fa;--fa){wa=this._serviceTokens[fa];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addServiceToken(W);return this;},excludeServiceToken:function(){var W,fa,wa,ia;if(1 == arguments.length){W=arguments[0];fa=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],W=arguments[2]);for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){ia=this._serviceTokens[ua];ia.name == fa && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == W && this._serviceTokens.splice(ua,1);}return this;},deleteServiceToken:function(){var W,fa,wa,ua;if(2 == arguments.length){W=arguments[0];fa=W.name;W.isMasterTokenBound();W.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[3]);ua=this;Na(wa,function(){var ia,ta;ia=originalToken.isMasterTokenBound()?this._masterToken:null;ta=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,fa,V,ia,ta,!1,null,new Vc(),{result:function(Aa){Na(wa,function(){return this.addServiceToken(Aa);},ua);},error:function(Aa){Aa instanceof fb && (Aa=new yb("Failed to create and add empty service token to message.",Aa));wa.error(Aa);}});},ua);},getServiceTokens:function(){var W;W=[];W.push.apply(W,this._serviceTokens);return W;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(W,fa){var wa,ia;if(!this._ctx.isPeerToPeer())throw new yb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(fa && !W)throw new yb("Peer master token cannot be null when setting peer user ID token.");if(fa && !fa.isBoundTo(W))throw new Nb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + fa + "; mt " + W).setEntity(W).setUser(fa);try{wa=this._ctx.getMslStore().getServiceTokens(W,fa);}catch(ta){if(ta instanceof fb)throw new yb("Invalid peer master token and user ID token combination despite proper check.",ta);throw ta;}for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){ia=this._peerServiceTokens[ua];(ia.isUserIdTokenBound() && !ia.isBoundTo(fa) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._peerServiceTokens.slice(ua,1);}wa.forEach(function(ta){this.excludePeerServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._peerServiceTokens.push(ta);},this);this._peerUserIdToken=fa;this._peerMasterToken=W;return this;},addPeerServiceToken:function(W){if(!this._ctx.isPeerToPeer())throw new yb("Cannot set peer service tokens when not in peer-to-peer mode.");if(W.isMasterTokenBound() && !W.isBoundTo(this._peerMasterToken))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(W.isUserIdTokenBound() && !W.isBoundTo(this._peerUserIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._peerServiceTokens.push(W);return this;},addPeerServiceTokenIfAbsent:function(W){var wa;for(var fa=this._peerServiceTokens.length - 1;0 <= fa;--fa){wa=this._peerServiceTokens[fa];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addPeerServiceToken(W);return this;},excludePeerServiceToken:function(){var W,fa,wa,ia;if(1 == arguments.length){W=arguments[0];fa=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],W=arguments[2]);for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){ia=this._peerServiceTokens[ua];ia.name == fa && ia.isMasterTokenBound() == wa && ia.isUserIdTokenBound() == W && this._peerServiceTokens.splice(ua,1);}return this;},deletePeerServiceToken:function(){var W,fa,wa,ua,ia,ta;if(2 == arguments.length){W=arguments[0];fa=W.name;wa=W.isMasterTokenBound();ua=W.isUserIdTokenBound();ia=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[1],ua=arguments[2],ia=arguments[3]);ta=this;Na(ia,function(){zc(this._ctx,fa,V,wa?this._peerMasterToken:null,ua?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(Aa){Na(ia,function(){return this.addPeerServiceToken(Aa);},ta);},error:function(Aa){Aa instanceof fb && (Aa=new yb("Failed to create and add empty peer service token to message.",Aa));ia.error(Aa);}});},ta);},getPeerServiceTokens:function(){var W;W=[];W.push.apply(W,this._peerServiceTokens);return W;}});})();(function(){function da(T,V){return V[T]?V[T]:V[""];}function X(T){var V;V=T.builder.getKeyExchangeData();return V && !T.ctx.isPeerToPeer()?V.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Gb.Class.create({init:function(T,V,ba){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:V.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addUnboundPrimaryServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua;ua=da(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,V,null,null,ba,W,ua,{result:function(ia){Na(fa,function(){try{this.builder.addServiceToken(ia);}catch(ta){if(ta instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addUnboundPeerServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua;ua=da(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,V,null,null,ba,W,ua,{result:function(ia){Na(fa,function(){try{this.builder.addPeerServiceToken(ia);}catch(ta){if(ta instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},wa);},error:function(ia){fa.error(ia);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua,ia;ua=X(this);if(!ua)return !1;ia=da(T,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,T,V,ua,null,ba,W,ia,{result:function(ta){Na(fa,function(){try{this.builder.addServiceToken(ta);}catch(Aa){if(Aa instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},wa);},error:function(ta){fa.error(ta);}});},wa);},addMasterBoundPeerServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua,ia;ua=this.builder.getPeerMasterToken();if(!ua)return !1;ia=da(T,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,T,V,ua,null,ba,W,ia,{result:function(ta){Na(fa,function(){try{this.builder.addPeerServiceToken(ta);}catch(Aa){if(Aa instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},wa);},error:function(ta){fa.error(ta);}});},wa);},addUserBoundPrimaryServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua,ia,ta;ua=X(this);if(!ua)return !1;ia=this.builder.getUserIdToken();if(!ia)return !1;ta=da(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,ua,ia,ba,W,ta,{result:function(Aa){Na(fa,function(){try{this.builder.addServiceToken(Aa);}catch(la){if(la instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(Aa){fa.error(Aa);}});},wa);},addUserBoundPeerServiceToken:function(T,V,ba,W,fa){var wa;wa=this;Na(fa,function(){var ua,ia,ta;ua=this.builder.getPeerMasterToken();if(!ua)return !1;ia=this.builder.getPeerUserIdToken();if(!ia)return !1;ta=da(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,ua,ia,ba,W,ta,{result:function(Aa){Na(fa,function(){try{this.builder.addPeerServiceToken(Aa);}catch(la){if(la instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(Aa){fa.error(Aa);}});},wa);},excludePrimaryServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var fa=this.builder.getServiceTokens(),wa=0;wa < fa.length;++wa){if((T=fa[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludeServiceToken(V,ba,W),!0);}return !1;},excludePeerServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var fa=this.builder.getPeerServiceTokens(),wa=0;wa < fa.length;++wa){if((T=fa[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludePeerServiceToken(V,ba,W),!0);}return !1;},deletePrimaryServiceToken:function(){var T,V,ba,W,fa;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],fa=arguments[3]);Na(fa,function(){var ia;for(var wa=this.builder.getServiceTokens(),ua=0;ua < wa.length;++ua){ia=wa[ua];if(ia.name == V && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == W){this.builder.deleteServiceToken(V,ba,W,{result:function(){fa.result(!0);},error:function(ta){fa.error(ta);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,V,ba,W,fa;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],fa=arguments[3]);Na(fa,function(){var ia;for(var wa=this.builder.getPeerServiceTokens(),ua=0;ua < wa.length;++ua){ia=wa[ua];if(ia.name == V && ia.isMasterTokenBound() == ba && ia.isUserIdTokenBound() == W){this.builder.deletePeerServiceToken(V,ba,W,{result:function(){fa.result(!0);},error:function(ta){fa.error(ta);}});return;}}return !1;},this);}});})();(function(){function da(X,T,V,ba){Na(ba,function(){var fa,wa,ua,ia,ta,Aa;function W(){Na(ba,function(){var la;if(Aa >= V.length){if(ta)throw ta;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(V));}la=V[Aa];ua != la.keyExchangeScheme?(++Aa,W()):ia.getCryptoContext(X,la,wa,fa,{result:ba.result,error:function(aa){Na(ba,function(){if(!(aa instanceof fb))throw aa;ta=aa;++Aa;W();});}});});}fa=T.masterToken;wa=T.keyResponseData;if(!wa)return null;ua=wa.keyExchangeScheme;ia=X.getKeyExchangeFactory(ua);if(!ia)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ua);Aa=0;W();});}We=Qd.extend({init:function(X,T,V,ba,W,fa,wa){var ua;ua=this;cb(wa,function(){var ca;function ia(){ua._ready=!0;ua._readyQueue.add(!0);}function ta(ea,xa){var Ra;try{Ra=xa.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ra,{result:function(Ma){Ma?(ua._errored=new ad(Ma,Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Aa(ea,xa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ia();}});}catch(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ia();}}function Aa(ea,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.userIdToken;Ma?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ra,Ma,{result:function(Qa){Qa?(ua._errored=new MslUserIdTokenException(Qa,Ma).setEntity(Ra).setUser(Ma).setMessageId(xa.messageId),ia()):la(ea,xa);},error:function(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ia();}}):la(ea,xa);}catch(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ia();}}function la(ea,xa){var Ra;try{Ra=xa.masterToken;Ra.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ra,{result:function(Ma){Ma?(ua._errored=new Nb(Ma,"Master token is expired and not renewable.").setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):aa(ea,xa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ia();}}):(ua._errored=new Nb(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):aa(ea,xa);}catch(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ia();}}function aa(ea,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.nonReplayableId;"number" === typeof Ma?Ra?ea.getTokenFactory().acceptNonReplayableId(ea,Ra,Ma,{result:function(Qa){Qa || (ua._errored=new Nb(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));ia();},error:function(Qa){Qa instanceof fb && (Qa.setEntity(Ra),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ia();}}):(ua._errored=new Nb(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):ia();}catch(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setEntity(xa.entityAuthenticationData),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ia();}}ca={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Db,writable:!0,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:fa,writable:!1,enumerable:!1,configurable:!1},_header:{value:Db,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Db,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Db,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);xe(ua._source,fa,{result:function(ea){ua._json=ea;ua._jsonIndex=0;null === ua._json?(ua._errored=new Hb(S.MESSAGE_DATA_MISSING),ia()):Ge(X,ua._json[ua._jsonIndex++],W,{result:function(xa){var Ra;ua._header=xa;if(ua._header instanceof Ic)(ua._keyxCryptoContext=null,ua._cryptoContext=null,ia());else {Ra=ua._header;da(X,Ra,ba,{result:function(Ma){var Qa;try{ua._keyxCryptoContext=Ma;X.isPeerToPeer() || !ua._keyxCryptoContext?ua._cryptoContext=Ra.cryptoContext:ua._cryptoContext=ua._keyxCryptoContext;try{Qa=Ra.masterToken;Qa && (X.isPeerToPeer() || Qa.isVerified())?ta(X,Ra):aa(X,Ra);}catch(Ua){Ua instanceof fb && (Ua.setEntity(Ra.masterToken),Ua.setUser(Ra.userIdToken),Ua.setUser(Ra.userAuthenticationData),Ua.setMessageId(Ra.messageId));ua._errored=Ua;ia();}}catch(Ua){Ua instanceof fb && (Ua.setEntity(Ra.masterToken),Ua.setEntity(Ra.entityAuthenticationData),Ua.setUser(Ra.userIdToken),Ua.setUser(Ra.userAuthenticationData),Ua.setMessageId(Ra.messageId));ua._errored=Ua;ia();}},error:function(Ma){Ma instanceof fb && (Ma.setEntity(Ra.masterToken),Ma.setEntity(Ra.entityAuthenticationData),Ma.setUser(Ra.userIdToken),Ma.setUser(Ra.userAuthenticationData),Ma.setMessageId(Ra.messageId));ua._errored=Ma;ia();}});}},error:function(xa){ua._errored=xa;ia();}});},timeout:function(){ua._timedout=!0;ia();},error:function(ea){ua._errored=ea;ia();}});return this;},ua);},nextData:function(X,T){var V;V=this;cb(T,function(){var W;function ba(fa){cb(fa,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ua){ua && ua.length && 0 < ua.length?(ua.forEach(function(ia){this._json.push(ia);}),ba(fa)):(this._eom=!0,fa.result(null));},timeout:function(){fa.timeout();},error:function(ua){fa.error(ua);}});},V);}W=this.getMessageHeader();if(!W)throw new yb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(fa){cb(T,function(){if(!fa)return null;if("object" !== typeof fa)throw new Hb(S.MESSAGE_FORMAT_ERROR);Se(fa,this._cryptoContext,{result:function(wa){cb(T,function(){var ua,ia,ta,Aa;ua=W.masterToken;ia=W.entityAuthenticationData;ta=W.userIdToken;Aa=W.getUserAuthenticationData;if(wa.messageId != W.messageId)throw new Nb(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + W.messageId).setEntity(ua).setEntity(ia).setUser(ta).setUser(Aa);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Nb(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ua).setEntity(ia).setUser(ta).setUser(Aa);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);ua=wa.data;this._payloads.push(ua);this._payloadIndex=-1;return ua;},V);},error:function(wa){wa instanceof SyntaxError && (wa=new Hb(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},V);},timeout:function(){T.timeout();},error:function(fa){T.error(fa);}});},V);},isReady:function(X,T){var ba;function V(){cb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;cb(T,function(){this._ready?V():this._readyQueue.poll(X,{result:function(W){cb(T,function(){if(W === Db)return !1;V();},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,T;X=this.getMessageHeader();if(X){T=X.masterToken;return T?T.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,T,V){var W;function ba(){cb(V,function(){var wa,ua,ia,ta;function fa(Aa){cb(Aa,function(){var la,aa,ca;if(ua && ta >= ua.length)return ua.subarray(0,ta);la=-1;if(this._currentPayload){aa=this._currentPayload.length - this._payloadOffset;if(!ua){ca=aa;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea){ca+=this._payloads[ea].length;}0 < ca && (ua=new Uint8Array(ca));}aa=Math.min(aa,ua?ua.length - ta:0);0 < aa && (la=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + aa),ua.set(la,ia),la=aa,ia+=aa,this._payloadOffset+=aa);}-1 != la?(ta+=la,fa(Aa)):this.nextData(T,{result:function(xa){cb(Aa,function(){if(this._aborted)return ua?ua.subarray(0,ta):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)fa(Aa);else return 0 == ta && 0 != X?null:ua?ua.subarray(0,ta):new Uint8Array(0);},W);},timeout:function(){Aa.timeout(ua?ua.subarray(0,ta):new Uint8Array(0));},error:function(xa){cb(Aa,function(){xa instanceof fb && (xa=new Yb("Error reading the payload chunk.",xa));if(0 < ta)return (W._readException=xa,ua.subarray(0,ta));throw xa;},W);}});},W);}if(this._aborted)return new Uint8Array(0);if(this._timedout)V.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}ua=-1 != X?new Uint8Array(X):Db;ia=0;ta=0;fa(V);}},W);}W=this;cb(V,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(T,{result:function(fa){fa === Db?V.result(!1):ba();},timeout:function(){V.timeout(new Uint8Array(0));},error:function(fa){V.error(fa);}});},W);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,T,V,ba,W,fa,wa){new We(X,T,V,ba,W,fa,wa);};})();(function(){Ye=ud.extend({init:function(da,X,T,V,ba,W,fa){var wa;wa=this;cb(fa,function(){var ia,ta,Aa;function ua(){wa._ready=!0;wa._readyQueue.add(!0);}ia=Ud(da.getMessageCapabilities(),V.messageCapabilities);ta=null;ia && (ta=me(ia.compressionAlgorithms));ia={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_header:{value:V,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:ta,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);Aa=fc(JSON.stringify(V),T);X.write(Aa,0,Aa.length,W,{result:function(la){try{wa._aborted?ua():la < Aa.length?(wa._timedout=!0,ua()):X.flush(W,{result:function(aa){wa._aborted || (wa._timedout=!aa);ua();},timeout:function(){wa._timedout=!0;ua();},error:function(aa){wa._errored=aa;ua();}});}catch(aa){wa._errored=aa;ua();}},timeout:function(){wa._timedout=!0;ua();},error:function(la){wa._errored=la;ua();}});return this;},wa);},setCompressionAlgorithm:function(da,X,T){var ba;function V(){ba.flush(X,{result:function(W){cb(T,function(){if(!W)throw new Yb("flush() aborted");this._compressionAlgo=da;return !0;},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});}ba=this;cb(T,function(){if(!this.getMessageHeader())throw new yb("Cannot write payload data for an error message.");if(this._compressionAlgo == da)return !0;if(da){if(!this._capabilities)return !1;for(var W=this._capabilities.compressionAlgorithms,fa=0;fa < W.length;++fa){if(W[fa] == da){V();return;}}return !1;}V();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(da,X){var T;T=this;cb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(da,{result:function(V){cb(X,function(){V && (this._currentPayload=null);return V;},T);},timeout:function(){X.timeout();},error:function(V){X.error(V);}});}},T);},flush:function(da,X){var V;function T(){cb(X,function(){var ba,W,ia;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;W=0;this._currentPayload && this._currentPayload.forEach(function(ta){W+=ta.length;});for(var fa=new Uint8Array(W),wa=0,ua=0;this._currentPayload && ua < this._currentPayload.length;++ua){ia=this._currentPayload[ua];fa.set(ia,wa);wa+=ia.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,fa,this._cryptoContext,{result:function(ta){cb(X,function(){var Aa;this._payloads.push(ta);Aa=fc(JSON.stringify(ta),this._charset);this._destination.write(Aa,0,Aa.length,da,{result:function(la){cb(X,function(){if(this._aborted)return !1;la < ta.length?X.timeout():this._destination.flush(da,{result:function(aa){cb(X,function(){if(this._aborted)return !1;if(aa)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},V);},timeout:function(){X.timeout();},error:function(aa){aa instanceof fb && (aa=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",aa));X.error(aa);}});},V);},timeout:function(la){X.timeout();},error:function(la){la instanceof fb && (la=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",la));X.error(la);}});},V);},error:function(ta){ta instanceof fb && (ta=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",ta));X.error(ta);}});}},V);}V=this;cb(X,function(){this._ready?T():this._readyQueue.poll(da,{result:function(ba){ba === Db?X.result(!1):T();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},V);},write:function(da,X,T,V,ba){cb(ba,function(){var W;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Yb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new yb("Cannot write payload data for an error message.");W=da.subarray(X,X + T);this._currentPayload.push(W);return W.length;}},this);}});zd=function(da,X,T,V,ba,W,fa){new Ye(da,X,T,V,ba,W,fa);};})();Cf=Gb.Class.create({sentHeader:function(da){},receivedHeader:function(da){}});Object.freeze({USERDATA_REAUTH:Ga.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ga.SSOTOKEN_REJECTED});Ze=Gb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(da,X,T,V){},getCustomer:function(){},getKeyRequestData:function(da){},updateServiceTokens:function(da,X,T){},write:function(da,X,T){},getDebugContext:function(){}});Gb.Class.create({getInputStream:function(da){},getOutputStream:function(da){}});(function(){var wa,ua,ia,ta,Aa,la,aa,ca,ea,xa,Ra,Ma;function da(Qa){return function(){Qa.abort();};}function X(Qa,Ua){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Ua,writable:!1,configurable:!1}});}function T(Qa,Ua){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Ua,writable:!1,configurable:!1}});}function V(Qa,Ua,pa){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Ua,writable:!1,configurable:!1},handshake:{value:pa,writable:!1,configurable:!1}});}function ba(Qa,Ua){Object.defineProperties(this,{requestHeader:{value:Ua.requestHeader,writable:!1,configurable:!1},payloads:{value:Ua.payloads,writable:!1,configurable:!1},handshake:{value:Ua.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function W(Qa){for(;Qa;){if(Qa instanceof bc)return !0;Qa=Qa instanceof fb?Qa.cause:Db;}return !1;}function fa(Qa,Ua,pa,ya,Ea,Ja,Da,Sa,Ia){Ue(Ua,ya,Ea,Ja,{result:function(Za){pa && pa.sentHeader(Za);zd(Ua,Da,Tb,Za,null,null,Sa,{result:function(ab){Qa.setAbort(function(){ab.abort();});ab.close(Sa,{result:function(Xa){cb(Ia,function(){if(!Xa)throw new bc("sendError aborted.");return Xa;});},timeout:function(){Ia.timeout();},error:function(Xa){Ia.error(Xa);}});},timeout:function(){},error:function(ab){Ia.error(ab);}});},error:function(Za){Ia.error(Za);}});}wa=ud.extend({close:function(Qa,Ua){Ua.result(!0);},write:function(Qa,Ua,pa,ya,Ea){Na(Ea,function(){return Math.min(Qa.length - Ua,pa);});},flush:function(Qa,Ua){Ua.result(!0);}});ua=Bf.extend({getUserMessage:function(Qa,Ua){return null;}});ia=Ze.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Ua,pa,ya){this._appCtx.getUserAuthData(Qa,Ua,pa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Ua,pa){this._appCtx.updateServiceTokens(Qa,Ua,pa);},write:function(Qa,Ua,pa){this._appCtx.write(Qa,Ua,pa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ta=ia.extend({init:function ya(Ua,pa){ya.base.call(this,pa);Object.defineProperties(this,{_payloads:{value:Ua,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ua,pa,ya){var Ja;function Ea(Da,Sa){var Ia;if(Da == Ja._payloads.length)ya.result(!0);else {Ia=Ja._payloads[Da];Ua.setCompressionAlgorithm(Ia.compressionAlgo,pa,{result:function(Za){Ua.write(Ia.data,0,Ia.data.length,pa,{result:function(ab){cb(ya,function(){Ia.isEndOfMessage()?Ea(Da + 1,Sa):Ua.flush(pa,{result:function(Xa){ya.result(Xa);},timeout:function(){ya.timeout();},error:function(Xa){ya.error(Xa);}});},Ja);},timeout:function(ab){ya.timeout(ab);},error:function(ab){ya.error(ab);}});},timeout:function(){},error:function(Za){ya.error(Za);}});}}Ja=this;Ea(0);}});Aa=ia.extend({init:function ya(pa){ya.base.call(this,pa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(pa,ya,Ea){Ea.result(!0);}});la={};aa=Gb.Class.create({init:function(pa){pa || (pa=new ua());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(pa){this._filterFactory=pa;},getNewestMasterToken:function(pa,ya,Ea,Ja){var Da;Da=this;cb(Ja,function(){var Sa,Ia,Za,ab,Xa;Sa=ya.getMslStore();Ia=Sa.getMasterToken();if(!Ia)return null;Za=Ia.uniqueKey();ab=this._masterTokenLocks[Za];ab || (ab=new Fd(),this._masterTokenLocks[Za]=ab);Xa=ab.readLock(Ea,{result:function(kb){cb(Ja,function(){var qb;if(kb === Db)throw new bc("getNewestMasterToken aborted.");qb=Sa.getMasterToken();if(Ia.equals(qb))return new X(Ia,kb);ab.unlock(kb);ab.writeLock(Ea,{result:function(sb){cb(Ja,function(){if(sb === Db)throw new bc("getNewestMasterToken aborted.");delete this._masterTokenLocks[Za];ab.unlock(sb);return this.getNewestMasterToken(pa,ya,Ea,Ja);},Da);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Da);},timeout:function(){Ja.timeout();},error:function(kb){Ja.error(kb);}});pa.setAbort(function(){Xa && (ab.cancel(Xa),Xa=Db);});},Da);},deleteMasterToken:function(pa,ya){var Ea;if(ya){Ea=this;setTimeout(function(){var Ja,Da;Ja=ya.uniqueKey();Da=Ea._masterTokenLocks[Ja];Da || (Da=new Fd(),Ea._masterTokenLocks[Ja]=Da);Da.writeLock(-1,{result:function(Sa){pa.getMslStore().removeCryptoContext(ya);delete Ea._masterTokenLocks[Ja];Da.unlock(Sa);},timeout:function(){throw new yb("Unexpected timeout received.");},error:function(Sa){throw Sa;}});},0);}},releaseMasterToken:function(pa){var ya;if(pa && pa.masterToken){ya=pa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new yb("Master token read/write lock does not exist when it should.");ya.unlock(pa.ticket);}},updateOutgoingCryptoContexts:function(pa,ya,Ea){var Ja;Ja=pa.getMslStore();!pa.isPeerToPeer() && Ea && (Ja.setCryptoContext(Ea.keyResponseData.masterToken,Ea.cryptoContext),this.deleteMasterToken(pa,ya.masterToken));},updateIncomingCryptoContexts:function(pa,ya,Ea){var Ja,Da;Ja=Ea.getMessageHeader();if(Ja){Da=pa.getMslStore();if(Ja=Ja.keyResponseData)(Da.setCryptoContext(Ja.masterToken,Ea.getKeyExchangeCryptoContext()),this.deleteMasterToken(pa,ya.masterToken));}},storeServiceTokens:function(pa,ya,Ea,Ja){var Ia,Za;pa=pa.getMslStore();for(var Da=[],Sa=0;Sa < Ja.length;++Sa){Ia=Ja[Sa];if(!Ia.isBoundTo(ya) || !ya.isVerified()){Za=Ia.data;Za && 0 == Za.length?pa.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?ya:null,Ia.isUserIdTokenBound()?Ea:null):Da.push(Ia);}}0 < Da.length && pa.addServiceTokens(Da);},buildRequest:function(pa,ya,Ea,Ja,Da){var Sa;Sa=this;this.getNewestMasterToken(pa,ya,Ja,{result:function(Ia){Na(Da,function(){var Za,ab,Xa;Za=Ia && Ia.masterToken;if(Za){ab=Ea.getUserId();Xa=ya.getMslStore();ab=(ab=ab?Xa.getUserIdToken(ab):null) && ab.isBoundTo(Za)?ab:null;}else ab=null;Oc(ya,Za,ab,null,{result:function(kb){Na(Da,function(){kb.setNonReplayable(Ea.isNonReplayable());return {builder:kb,tokenTicket:Ia};});},error:function(kb){Na(Da,function(){this.releaseMasterToken(Ia);kb instanceof fb && (kb=new yb("User ID token not bound to master token despite internal check.",kb));throw kb;},Sa);}});},Sa);},timeout:function(){Da.timeout();},error:function(Ia){Da.error(Ia);}});},buildResponse:function(pa,ya,Ea,Ja,Da,Sa){var Ia;Ia=this;Te(ya,Ja,{result:function(Za){cb(Sa,function(){Za.setNonReplayable(Ea.isNonReplayable());if(!ya.isPeerToPeer() && !Ja.keyResponseData)return {builder:Za,tokenTicket:null};this.getNewestMasterToken(pa,ya,Da,{result:function(ab){cb(Sa,function(){var Xa,kb,qb;Xa=ab && ab.masterToken;if(Xa){kb=Ea.getUserId();qb=ya.getMslStore();kb=(kb=kb?qb.getUserIdToken(kb):null) && kb.isBoundTo(Xa)?kb:null;}else kb=null;Za.setAuthTokens(Xa,kb);return {builder:Za,tokenTicket:ab};},Ia);},timeout:function(){Sa.timeout();},error:function(ab){Sa.error(ab);}});},Ia);},error:function(Za){Sa.error(Za);}});},buildErrorResponse:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Xa;function Za(kb,qb){cb(Ia,function(){var sb,tb;sb=Nc(Da.messageId);tb=new ta(qb,Ea);Oc(ya,null,null,sb,{result:function(ub){cb(Ia,function(){ya.isPeerToPeer() && ub.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);ub.setNonReplayable(tb.isNonReplayable());return {errorResult:new T(ub,tb),tokenTicket:null};},Xa);},error:function(ub){Ia.error(ub);}});},Xa);}function ab(kb,qb){Xa.getNewestMasterToken(pa,ya,Sa,{result:function(sb){cb(Ia,function(){var tb,ub,Cb;tb=sb && sb.masterToken;ub=Nc(Da.messageId);Cb=new ta(qb,Ea);Oc(ya,tb,null,ub,{result:function(Ab){cb(Ia,function(){ya.isPeerToPeer() && Ab.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);Ab.setNonReplayable(Cb.isNonReplayable());return {errorResult:new T(Ab,Cb),tokenTicket:sb};},Xa);},error:function(Ab){Ia.error(Ab);}});},Xa);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});}Xa=this;cb(Ia,function(){var kb,qb,sb,tb;kb=Ja.requestHeader;qb=Ja.payloads;sb=Da.errorCode;switch(sb){case Ga.ENTITYDATA_REAUTH:case Ga.ENTITY_REAUTH:ya.getEntityAuthenticationData(sb,{result:function(ub){cb(Ia,function(){if(!ub)return null;Za(kb,qb);},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.USERDATA_REAUTH:case Ga.SSOTOKEN_REJECTED:Ea.getUserAuthData(sb,!1,!0,{result:function(ub){cb(Ia,function(){if(!ub)return null;ab(kb,qb);},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.USER_REAUTH:ab(kb,qb);break;case Ga.KEYX_REQUIRED:sb=Nc(Da.messageId);tb=new ta(qb,Ea);Oc(ya,null,null,sb,{result:function(ub){cb(Ia,function(){ya.isPeerToPeer() && ub.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);ub.setRenewable(!0);ub.setNonReplayable(tb.isNonReplayable());return {errorResult:new T(ub,tb),tokenTicket:null};},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.EXPIRED:this.getNewestMasterToken(pa,ya,Sa,{result:function(ub){cb(Ia,function(){var Cb,Ab,ra,Fa;Cb=ub && ub.masterToken;Ab=kb.userIdToken;ra=Nc(Da.messageId);Fa=new ta(qb,Ea);Oc(ya,Cb,Ab,ra,{result:function(Oa){cb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb) && Oa.setRenewable(!0);Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:ub};},Xa);},error:function(Oa){Ia.error(Oa);}},Xa);},Xa);},timeout:function(){Ia.timeout();},error:function(ub){Ia.error(ub);}});break;case Ga.REPLAYED:this.getNewestMasterToken(pa,ya,Sa,{result:function(ub){cb(Ia,function(){var Cb,Ab,ra,Fa;Cb=ub && ub.masterToken;Ab=kb.userIdToken;ra=Nc(Da.messageId);Fa=new ta(qb,Ea);Oc(ya,Cb,Ab,ra,{result:function(Oa){cb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb)?(Oa.setRenewable(!0),Oa.setNonReplayable(!1)):Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:ub};},Xa);},error:function(Oa){Ia.error(Oa);}});},Xa);},timeout:function(){Ia.timeout();},error:function(ub){Ia.error(ub);}});break;default:return null;}},Xa);},cleanupContext:function(pa,ya,Ea){switch(Ea.errorCode){case Ga.ENTITY_REAUTH:this.deleteMasterToken(pa,ya.masterToken);break;case Ga.USER_REAUTH:(Ea=ya.userIdToken,ya.masterToken && Ea && pa.getMslStore().removeUserIdToken(Ea));}},send:function(pa,ya,Ea,Ja,Da,Sa,Ia){var sb;function Za(tb,ub,Cb){cb(Ia,function(){var Ab;Ab=Da.getPeerUserIdToken();!ya.isPeerToPeer() && !ub || ya.isPeerToPeer() && !Ab?(Ab=Ea.getCustomer())?Da.setCustomer(Ab,{result:function(ra){cb(Ia,function(){ub=Da.getUserIdToken();ab(tb,ub,Cb);},sb);},error:function(ra){Ia.error(ra);}}):ab(tb,ub,Cb):ab(tb,ub,Cb);},sb);}function ab(tb,ub,Cb){cb(Ia,function(){var Ab,ra;Ab=!Cb && (!Ea.isEncrypted() || Da.willEncryptPayloads()) && (!Ea.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ea.isNonReplayable() || Da.isNonReplayable() && tb);Ab || Da.setNonReplayable(!1);ra=[];Da.isRenewable() && (!tb || tb.isRenewable() || Ea.isNonReplayable())?Ea.getKeyRequestData({result:function(Fa){cb(Ia,function(){var r;for(var Oa=0;Oa < Fa.length;++Oa){r=Fa[Oa];ra.push(r);Da.addKeyRequestData(r);}Xa(tb,ub,Ab,ra);},sb);},error:function(Fa){Ia.error(Fa);}}):Xa(tb,ub,Ab,ra);},sb);}function Xa(tb,ub,Cb,Ab){cb(Ia,function(){var ra;ra=new Ve(ya,Ea,Da);Ea.updateServiceTokens(ra,!Cb,{result:function(Fa){Da.getHeader({result:function(Oa){cb(Ia,function(){var r,b;r=Ea.getDebugContext();r && r.sentHeader(Oa);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Oa,r);this.storeServiceTokens(ya,tb,ub,Oa.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Oa.cryptoContext;if(pa.isAborted())throw new bc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(ya,b,Tb,Oa,r,Sa,{result:function(a){pa.setAbort(function(){a.abort();});kb(a,Oa,Cb);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},sb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},error:function(Fa){Ia.error(Fa);}});},sb);}function kb(tb,ub,Cb){var Ab,ra;if(Cb)Ea.write(tb,Sa,{result:function(Fa){cb(Ia,function(){if(pa.isAborted())throw new bc("MessageOutputStream write aborted.");qb(tb,ub,Cb);},sb);},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});else {Ab=new wa();ra=new Vc();zd(ya,Ab,Tb,ub,ra,Sa,{result:function(Fa){Ea.write(Fa,Sa,{result:function(Oa){cb(Ia,function(){if(pa.isAborted())throw new bc("MessageOutputStream proxy write aborted.");Fa.close(Sa,{result:function(r){cb(Ia,function(){var b;if(!r)throw new bc("MessageOutputStream proxy close aborted.");b=Fa.getPayloads();qb(tb,ub,Cb,b);},sb);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});},sb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});}}function qb(tb,ub,Cb,Ab){tb.close(Sa,{result:function(ra){cb(Ia,function(){if(!ra)throw new bc("MessageOutputStream close aborted.");Ab || (Ab=tb.getPayloads());return new V(ub,Ab,!Cb);},sb);},timeout:function(){Ia.timeout();},error:function(ra){Ia.error(ra);}});}sb=this;cb(Ia,function(){var tb,ub,Cb,Ab;tb=Da.getMasterToken();ub=Da.getUserIdToken();Cb=!1;if(Ea.getUserId()){Ab=!ub;Ea.getUserAuthData(null,Da.isRenewable(),Ab,{result:function(ra){cb(Ia,function(){ra && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(ra):Cb=!0);Za(tb,ub,Cb);},sb);},error:function(ra){Ia.error(ra);}});}else Za(tb,ub,Cb);},sb);},receive:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;Za=this;cb(Ia,function(){var ab,Xa,kb;if(pa.isAborted())throw new bc("receive aborted.");ab=[];Da && (ab=Da.keyRequestData.filter(function(){return !0;}));Xa=Ea.getCryptoContexts();kb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(ya,kb,Tb,ab,Xa,Sa,{result:function(qb){pa.setAbort(function(){qb.abort();});qb.isReady(Sa,{result:function(sb){cb(Ia,function(){var tb,ub,Cb,Ab;if(!sb)throw new bc("MessageInputStream aborted.");tb=qb.getMessageHeader();ub=qb.getErrorHeader();Cb=Ea.getDebugContext();Cb && Cb.receivedHeader(tb?tb:ub);if(Da && (Cb=ub?ub.errorCode:null,tb || Cb != Ga.FAIL && Cb != Ga.TRANSIENT_FAILURE && Cb != Ga.ENTITY_REAUTH && Cb != Ga.ENTITYDATA_REAUTH)){Cb=tb?tb.messageId:ub.messageId;Ab=Nc(Da.messageId);if(Cb != Ab)throw new Nb(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Ab + "; received " + Cb);}ya.getEntityAuthenticationData(null,{result:function(ra){cb(Ia,function(){var Fa,Oa,r,b;Fa=ra.getIdentity();if(tb){Oa=tb.entityAuthenticationData;r=tb.masterToken;Oa=r?tb.sender:Oa.getIdentity();if(r && r.isDecrypted() && r.identity != Oa || Fa == Oa)throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Oa);Da && this.updateIncomingCryptoContexts(ya,Da,qb);Fa=tb.keyResponseData;ya.isPeerToPeer()?(Fa=Fa?Fa.masterToken:tb.peerMasterToken,r=tb.peerUserIdToken,Oa=tb.peerServiceTokens):(Fa=Fa?Fa.masterToken:tb.masterToken,r=tb.userIdToken,Oa=tb.serviceTokens);b=Ea.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Fa,r,Oa);}else if((Oa=ub.entityAuthenticationData.getIdentity(),Fa == Oa))throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Oa);return qb;},Za);},error:Ia.error});},Za);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});},timeout:function(){Ia.timeout();},error:function(qb){Ia.error(qb);}});},Za);},sendReceive:function(pa,ya,Ea,Ja,Da,Sa,Ia,Za,ab){var kb;function Xa(qb,sb){cb(ab,function(){Sa.setRenewable(sb);this.send(pa,ya,Ea,Da,Sa,Ia,{result:function(tb){cb(ab,function(){var ub;ub=tb.requestHeader.keyRequestData;Za || tb.handshake || !ub.isEmpty()?this.receive(pa,ya,Ea,Ja,tb.requestHeader,Ia,{result:function(Cb){cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,Cb);return new ba(Cb,tb);},kb);},timeout:function(){cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,null);ab.timeout();},kb);},error:function(Cb){cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,null);throw Cb;},kb);}}):cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,null);return new ba(null,tb);},kb);},kb);},timeout:function(){cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,null);ab.timeout();},kb);},error:function(tb){cb(ab,function(){sb && this.releaseRenewalLock(ya,qb,null);throw tb;},kb);}});},kb);}kb=this;cb(ab,function(){var qb;qb=new Zc();this.acquireRenewalLock(pa,ya,Ea,qb,Sa,Ia,{result:function(sb){Xa(qb,sb);},timeout:function(){ab.timeout();},error:function(sb){sb instanceof bc?ab.result(null):ab.error(sb);}});},kb);},acquireRenewalLock:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Xa;function Za(kb,qb,sb){cb(Ia,function(){var Cb,Ab;if(pa.isAborted())throw new bc("acquireRenewalLock aborted.");for(var tb=null,ub=0;ub < this._renewingContexts.length;++ub){Cb=this._renewingContexts[ub];if(Cb.ctx === ya){tb=Cb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);Ab=tb.poll(Sa,{result:function(ra){cb(Ia,function(){var Fa;if(ra === Db)throw new bc("acquireRenewalLock aborted.");tb.add(ra);if(ra === la || ra.isExpired())Za(ra,qb,sb);else {if(sb && !qb || qb && !qb.isBoundTo(ra)){Fa=ya.getMslStore().getUserIdToken(sb);qb=Fa && Fa.isBoundTo(ra)?Fa:null;}Da.setAuthTokens(ra,qb);Da.isRenewable() && ra.equals(kb)?Za(ra,qb,sb):Ea.isRequestingTokens() && !qb?Za(ra,qb,sb):ab(ra,qb);}},Xa);},timeout:function(){},error:function(ra){}});pa.setAbort(function(){Ab && (tb.cancel(Ab),Ab=Db);});},Xa);}function ab(kb,qb){cb(Ia,function(){var ub;if(pa.isAborted())throw new bc("acquireRenewalLock aborted.");if(!kb || kb.isRenewable() || !qb && Ea.getUserId() || qb && qb.isRenewable()){for(var sb=null,tb=0;tb < this._renewingContexts.length;++tb){ub=this._renewingContexts[tb];if(ub.ctx === ya){sb=ub.queue;break;}}if(!sb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);}return !1;},Xa);}Xa=this;cb(Ia,function(){var kb,qb,sb;kb=Da.getMasterToken();qb=Da.getUserIdToken();sb=Ea.getUserId();Ea.isEncrypted() && !Da.willEncryptPayloads() || Ea.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !kb && Ea.isNonReplayable() || kb && kb.isExpired() || !(qb || !sb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ea.isRequestingTokens() && (!kb || sb && !qb)?Za(kb,qb,sb):ab(kb,qb);},Xa);},releaseRenewalLock:function(pa,ya,Ea){var Ia;for(var Ja,Da,Sa=0;Sa < this._renewingContexts.length;++Sa){Ia=this._renewingContexts[Sa];if(Ia.ctx === pa){Ja=Sa;Da=Ia.queue;break;}}if(Da !== ya)throw new yb("Attempt to release renewal lock that is not owned by this queue.");Ea?(Ea=Ea.messageHeader)?(Da=Ea.keyResponseData)?ya.add(Da.masterToken):(pa=pa.isPeerToPeer()?Ea.peerMasterToken:Ea.masterToken)?ya.add(pa):ya.add(la):ya.add(la):ya.add(la);this._renewingContexts.splice(Ja,1);}});$e=Gb.Class.create({init:function(){var pa;pa={_impl:{value:new aa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,pa);},setFilterFactory:function(pa){this._impl.setFilterFactory(pa);},shutdown:function(){this._shutdown=!0;},receive:function(pa,ya,Ea,Ja,Da,Sa){var Ia;if(this._shutdown)throw new fb("MslControl is shutdown.");Ia=new ca(this._impl,pa,ya,Ea,Ja,Da);setTimeout(function(){Ia.call(Sa);},0);return da(Ia);},respond:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;if(this._shutdown)throw new fb("MslControl is shutdown.");Za=new ea(this._impl,pa,ya,Ea,Ja,Da,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);},error:function Ea(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;if(this._shutdown)throw new fb("MslControl is shutdown.");Za=new xa(this._impl,pa,ya,Ea,Ja,Da,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);},request:function(pa,ya){var Ea,Ja,Da,Sa,Ia,Za;if(this._shutdown)throw new fb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Da=Ea=null;Sa=arguments[3];Ia=arguments[4];if(pa.isPeerToPeer()){Ia.error(new yb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ea=arguments[2],Da=arguments[3],Sa=arguments[4],Ia=arguments[5],!pa.isPeerToPeer())){Ia.error(new yb("This method cannot be used in trusted network mode."));return;}Za=new Ma(this._impl,pa,ya,Ja,Ea,Da,null,0,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);}});ca=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var Da;function ya(Sa){cb(pa,function(){var Ia;Ia=Sa.messageHeader;if(!Ia)return Sa;this.setAbort(function(){Sa.abort();});Sa.mark(Number.MAX_VALUE);Sa.read(1,Da._timeout,{result:function(Za){cb(pa,function(){if(Za && 0 == Za.length)return null;if(Za)return (Sa.reset(),Sa);Ea(Sa);},Da);},timeout:function(){pa.timeout();},error:function(Za){cb(pa,function(){var ab,Xa,kb;if(W(Za))return null;ab=Ia?Ia.messageId:null;if(Za instanceof Yb){Xa=S.MSL_COMMS_FAILURE;kb=Za;}else (Xa=S.INTERNAL_EXCEPTION,kb=new yb("Error peeking into the message payloads."));fa(this,this._ctx,this._msgCtx.getDebugContext(),ab,Xa,null,this._output,this._timeout,{result:function(qb){pa.error(kb);},timeout:function(){pa.timeout();},error:function(qb){cb(pa,function(){if(W(qb))return null;throw new jc("Error peeking into the message payloads.",qb,Za);},Da);}});},Da);}});},Da);}function Ea(Sa){cb(pa,function(){Sa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Sa.messageHeader,this._timeout,{result:function(Ia){cb(pa,function(){var Za,ab,Xa,kb,qb;Za=Ia.builder;ab=Ia.tokenTicket;Xa=Sa.messageHeader;kb=new Aa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ja(Xa,Za,kb,ab);else {qb=new Ma(this._ctrl,this._ctx,kb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){qb.abort();});qb.call(pa);}},Da);},timeout:function(){pa.timeout();},error:function(Ia){cb(pa,function(){var Za,ab,Xa,kb;if(W(Ia))return null;if(Ia instanceof fb){Za=Ia.messageId;ab=Ia.error;Xa=Sa.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(ab,Xa?Xa.languages:null);kb=Ia;}else (Za=requestHeader?requestHeader.messageId:null,ab=S.INTERNAL_EXCEPTION,Xa=null,kb=new yb("Error creating an automatic handshake response.",Ia));fa(this,this._ctx,this._msgCtx.getDebugContext(),Za,ab,Xa,this._output,this._timeout,{result:function(qb){pa.error(kb);},timeout:function(){pa.timeout();},error:function(qb){cb(pa,function(){if(W(qb))return null;throw new jc("Error creating an automatic handshake response.",qb,Ia);},Da);}});},Da);}});},Da);}function Ja(Sa,Ia,Za,ab){cb(pa,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,Za,this._output,Ia,this._timeout,{result:function(Xa){cb(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Da);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);pa.timeout();},Da);},error:function(Xa){cb(pa,function(){var kb,qb,sb,tb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(W(Xa))return null;if(Xa instanceof fb){kb=Xa.messageId;qb=Xa.error;sb=Sa?Sa.messageCapabilities:null;sb=this._ctrl.messageRegistry.getUserMessage(qb,sb?sb.languages:null);tb=Xa;}else Xa instanceof Yb?(kb=Sa?Sa.messageId:null,qb=S.MSL_COMMS_FAILURE,sb=null,tb=Xa):(kb=Sa?Sa.messageId:null,qb=S.INTERNAL_EXCEPTION,sb=null,tb=new yb("Error sending an automatic handshake response.",Xa));fa(this,this._ctx,this._msgCtx.getDebugContext(),kb,qb,sb,this._output,this._timeout,{result:function(ub){pa.error(tb);},timeout:function(){pa.timeout();},error:function(ub){cb(pa,function(){if(W(ub))return null;throw new jc("Error sending an automatic handshake response.",ub,Xa);},Da);}});},Da);}});},Da);}Da=this;cb(pa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Sa){ya(Sa);},timeout:function(){pa.timeout();},error:function(Sa){cb(pa,function(){var Ia,Za,ab,Xa;if(W(Sa))return null;if(Sa instanceof fb){Ia=Sa.messageId;Za=Sa.error;ab=this._ctrl.messageRegistry.getUserMessage(Za,null);Xa=Sa;}else (Ia=null,Za=S.INTERNAL_EXCEPTION,ab=null,Xa=new yb("Error receiving the message header.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,ab,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(W(kb))return null;throw new jc("Error receiving the message header.",kb,Sa);},Da);}});},Da);}});},Da);}});ea=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},trustedNetworkExecute:function(pa,ya,Ea){var Ja;Ja=this;cb(Ea,function(){var Da,Sa;if(12 < ya + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !pa.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !pa.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Sa=Wc(pa.getMessageId());fa(this,this._ctx,this._msgCtx.getDebugContext(),Sa,Da,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){cb(Ea,function(){if(W(Ia))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || pa.getMasterToken() || pa.getKeyExchangeData()?(pa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,pa,this._timeout,{result:function(Ia){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(Ia){Ea.error(Ia);}})):(Sa=Wc(pa.getMessageId()),fa(this,this._ctx,this._msgCtx.getDebugContext(),Sa,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){cb(Ea,function(){if(W(Ia))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(pa,ya,Ea,Ja){var Sa;function Da(Ia){cb(Ja,function(){var Za;Za=Ia.response;Za.close();Za=Za.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,Za);this._ctrl.buildErrorResponse(this,this._ctx,pa,Ia,Za,{result:function(ab){cb(Ja,function(){var Xa,kb;if(!ab)return !1;Xa=ab.errorResult;kb=ab.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,Ea,{result:function(qb){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);return qb;},Sa);},timeout:function(){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);Ja.timeout();},Sa);},error:function(qb){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);throw qb;},Sa);}});},Sa);}});},Sa);}Sa=this;cb(Ja,function(){var Ia;if(12 < Ea + 2)return !1;if(null != pa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ia=Wc(ya.getMessageId());fa(this,this._ctx,pa.getDebugContext(),Ia,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Za){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Za){cb(Ja,function(){if(W(Za))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Za,null);},Sa);}});}else this._ctrl.sendReceive(this._ctx,pa,this._input,this._output,ya,this._timeout,!1,{result:function(Za){cb(Ja,function(){var kb,qb,sb;function ab(){kb.read(32768,Sa._timeout,{result:function(tb){cb(Ja,function(){tb?ab():Xa();},Sa);},timeout:function(){Ja.timeout();},error:function(tb){Ja.error(tb);}});}function Xa(){cb(Ja,function(){var tb;tb=new ta(Za.payloads,pa);this._ctrl.buildResponse(this,this._ctx,tb,qb,this._timeout,{result:function(ub){cb(Ja,function(){var Cb;Cb=ub.tokenTicket;this.peerToPeerExecute(tb,ub.builder,Ea,{result:function(Ab){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);return Ab;},Sa);},timeout:function(){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);Ja.timeout();},Sa);},error:function(Ab){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);throw Ab;},Sa);}});},Sa);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});},Sa);}kb=Za.response;Ea+=2;if(!kb)return !0;qb=kb.getMessageHeader();if(qb){sb=Za.payloads;sb=0 < sb.length && 0 < sb[0].data.length;if(Za.handshake && sb)ab();else return !0;}else Da(Za);},Sa);},timeout:function(){Ja.timeout();},error:function(Za){Ja.error(Za);}});},Sa);},call:function(pa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ea){cb(pa,function(){var Ja,Da;Ja=Ea.builder;Da=Ea.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Sa){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Sa;},ya);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);pa.timeout();},ya);},error:function(Sa){cb(pa,function(){var Ia,Za,ab,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Sa))return !1;Ia=Wc(Ja.getMessageId());if(Sa instanceof fb){Za=Sa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Za,ab?ab.languages:null);Xa=Sa;}else Sa instanceof Yb?(Za=S.MSL_COMMS_FAILURE,ab=null,Xa=Sa):(Za=S.INTERNAL_EXCEPTION,ab=null,Xa=new yb("Error sending the response.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,ab,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(W(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ja,3,{result:function(Sa){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Sa;},ya);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);pa.timeout();},ya);},error:function(Sa){cb(pa,function(){var Ia,Za,ab,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Sa))return !1;Ia=Wc(Ja.getMessageId());if(Sa instanceof fb){Za=Sa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Za,ab?ab.languages:null);Xa=Sa;}else Sa instanceof Yb?(Za=S.MSL_COMMS_FAILURE,ab=null,Xa=Sa):(Za=S.INTERNAL_EXCEPTION,ab=null,Xa=new yb("Error sending the response.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,ab,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(W(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}});},ya);},timeout:function(){pa.timeout();},error:function(Ea){cb(pa,function(){var Ja,Da,Sa,Ia;if(W(Ea))return !1;if(Ea instanceof fb){Ja=Ea.messageId;Da=Ea.error;Sa=this._request.messageCapabilities;Sa=this._ctrl.messageRegistry.getUserMessage(Da,Sa?Sa.languages:null);Ia=Ea;}else (Ja=null,Da=S.INTERNAL_EXCEPTION,Sa=null,Ia=new yb("Error building the response.",Ea));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Da,Sa,this._output,this._timeout,{result:function(Za){pa.error(Ia);},timeout:function(){pa.timeout();},error:function(Za){cb(pa,function(){if(W(Za))return null;throw new jc("Error building the response.",Za,Ea);},ya);}});},ya);}});}});xa=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var ya;ya=this;cb(pa,function(){var Ea,Ja;if(this._appError == ENTITY_REJECTED)Ea=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ea=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new yb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ea,Ja?Ja.languages:null);fa(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ea,Ja,this._output,this._timeout,{result:function(Da){pa.result(Da);},timeout:pa.timeout,error:function(Da){cb(pa,function(){if(W(Da))return !1;if(Da instanceof fb)throw Da;throw new yb("Error building the error response.",Da);},ya);}});},ya);}});Ra={result:function(){},timeout:function(){},error:function(){}};Ma=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia,Za,ab){var Xa;if(Ia){Xa=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Xa=null;Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Za,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},execute:function(pa,ya,Ea,Ja,Da){var Za;function Sa(ab){function Xa(kb){cb(Da,function(){var qb;qb=ab.response;return kb?kb:qb;},Za);}cb(Da,function(){var kb,qb;kb=ab.response;kb.close();qb=kb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,qb);this._ctrl.buildErrorResponse(this,this._ctx,pa,ab,qb,Ea,{result:function(sb){cb(Da,function(){var tb,ub,Cb,Ab;if(!sb)return kb;tb=sb.errorResult;ub=sb.tokenTicket;Cb=tb.builder;tb=tb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(tb,Cb,this._timeout,Ja,{result:function(ra){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Xa(ra);},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Da.timeout();},Za);},error:function(ra){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Da.error(ra);},Za);}});else {this._openedStreams && (this._input.close(),this._output.close(Ea,Ra));Ab=new Ma(this._ctrl,this._ctx,tb,this._remoteEntity,null,null,{builder:Cb,tokenTicket:ub},Ja,this._timeout);this.setAbort(function(){Ab.abort();});Ab.call({result:function(ra){Xa(ra);},timeout:function(){Da.timeout();},error:function(ra){Da.error(ra);}});}},Za);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});},Za);}function Ia(ab){cb(Da,function(){var qb,sb,tb,ub,Cb;function Xa(){qb.read(32768,Za._timeout,{result:function(Ab){Ab?Xa():kb();},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}function kb(){cb(Da,function(){var Ab;Ab=new ta(ab.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,sb,Ea,{result:function(ra){cb(Da,function(){var Fa;Fa=ra.tokenTicket;this.execute(Ab,ra.builder,this._timeout,Ja,{result:function(Oa){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);return Oa;},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(ra){Da.error(ra);}});},Za);}qb=ab.response;sb=qb.getMessageHeader();tb=ab.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !tb)return qb;this._openedStreams && (this._input.close(),this._output.close(Ea,Ra));ub=new ta(ab.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,sb,Ea,{result:function(Ab){cb(Da,function(){var ra;ra=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,Ab,Ja,this._timeout);this.setAbort(function(){ra.abort();});ra.call(Da);},Za);},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}else if(ab.handshake && tb)Xa();else if(0 < sb.keyRequestData.length){Cb=new Aa(pa);this._ctrl.buildResponse(this,this._ctx,Cb,sb,Ea,{result:function(Ab){cb(Da,function(){var ra,Fa;ra=Ab.builder;Fa=Ab.tokenTicket;qb.mark();qb.read(1,this._timeout,{result:function(Oa){cb(Da,function(){function r(){qb.read(32768,Za._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){Za.execute(Cb,ra,Za._timeout,Ja,{result:function(a){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);return a;},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(a){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw a;},Za);}});}if(Oa){if((qb.reset(),12 >= Ja + 1))(ra.setRenewable(!1),this._ctrl.send(this,this._ctx,Cb,this._output,ra,this._timeout,{result:function(a){cb(Da,function(){this.releaseMasterToken(Fa);return qb;},Za);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Fa),qb);}else r();},Za);},timeout:function(){cb(Da,function(){this.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){cb(Da,function(){this.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}},Za);}Za=this;cb(Da,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,pa,this._input,this._output,ya,Ea,!0,{result:function(ab){cb(Da,function(){var Xa;if(!ab)return null;Xa=ab.response;Ja+=2;Xa.getMessageHeader()?Ia(ab):Sa(ab);},Za);},timeout:function(){Da.timeout();},error:function(ab){Da.error(ab);}});},Za);},call:function(pa){var Ea;function ya(Ja,Da,Sa){cb(pa,function(){this.execute(this._msgCtx,Ja,Sa,this._msgCount,{result:function(Ia){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Sa,Ra);Ia && Ia.closeSource(this._openedStreams);return Ia;},Ea);},timeout:function(){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Sa,Ra),this._input.close());pa.timeout();},Ea);},error:function(Ia){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Sa,Ra),this._input.close());if(W(Ia))return null;throw Ia;},Ea);}});},Ea);}Ea=this;cb(pa,function(){var Ja,Da,Sa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Sa=this._remoteEntity.openConnection();this._output=Sa.output;this._input=Sa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ra);this._input && this._input.close();if(W(Ia))return null;throw Ia;}this._builder?ya(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){cb(pa,function(){ya(Ia.builder,Ia.tokenTicket,Ja);},Ea);},timeout:function(){cb(pa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());pa.timeout();},Ea);},error:function(Ia){cb(pa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());if(W(Ia))return null;throw Ia;},Ea);}});},Ea);}});})();(function(){Xd=Gb.Class.create({init:function(da){Object.defineProperties(this,{id:{value:da,writable:!1,configurable:!1}});},toJSON:function(){var da;da={};da.id=this.id;return da;},equals:function(da){return this === da?!0:da instanceof Xd?this.id == da.id:!1;},uniqueKey:function(){return this.id;}});af=function(da){var X;X=da.id;if(!X)throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(da));return new Xd(X);};})();Gb.Class.create({isNewestMasterToken:function(da,X,T){},isMasterTokenRevoked:function(da,X){},acceptNonReplayableId:function(da,X,T,V){},createMasterToken:function(da,X,T,V,ba){},isMasterTokenRenewable:function(da,X,T){},renewMasterToken:function(da,X,T,V,ba){},isUserIdTokenRevoked:function(da,X,T,V){},createUserIdToken:function(da,X,T,V){},renewUserIdToken:function(da,X,T,V){}});(function(){function da(X,T,V,ba){this.sessiondata=X;this.tokendata=T;this.signature=V;this.verified=ba;}ic=Gb.Class.create({init:function(X,T,V,ba,W,fa,wa,ua,ia,ta,Aa){var la;la=this;Na(Aa,function(){var aa,ca,ea,xa,Ra;if(V.getTime() < T.getTime())throw new yb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Sb)throw new yb("Sequence number " + ba + " is outside the valid range.");if(0 > W || W > Sb)throw new yb("Serial number " + W + " is outside the valid range.");aa=Math.floor(T.getTime() / 1E3);ca=Math.floor(V.getTime() / 1E3);if(ta)ea=ta.sessiondata;else {xa={};fa && (xa.issuerdata=fa);xa.identity=wa;xa.encryptionkey=Jb(ua.toByteArray());xa.hmackey=Jb(ia.toByteArray());ea=fc(JSON.stringify(xa),Tb);}if(ta)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ta.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ra=X.getMslCryptoContext();Ra.encrypt(ea,{result:function(Ma){Na(Aa,function(){var Qa,Ua;Qa={};Qa.renewalwindow=aa;Qa.expiration=ca;Qa.sequencenumber=ba;Qa.serialnumber=W;Qa.sessiondata=Jb(Ma);Ua=fc(JSON.stringify(Qa),Tb);Ra.sign(Ua,{result:function(pa){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:W,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(pa){Aa.error(pa);}});},la);},error:function(Ma){Aa.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var T;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){T=this.sequenceNumber - Sb + 127;return X.sequenceNumber >= T;}T=X.sequenceNumber - Sb + 127;return this.sequenceNumber < T;},toJSON:function(){var X;X={};X.tokendata=Jb(this.tokendata);X.signature=Jb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,T,V){Na(V,function(){var ba,W,fa,wa,ua;ba=X.getMslCryptoContext();W=T.tokendata;fa=T.signature;if("string" !== typeof W || "string" !== typeof fa)throw new Hb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(W);}catch(ia){throw new fb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),ia);}if(!wa || 0 == wa.length)throw new Hb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{ua=Mb(fa);}catch(ia){throw new fb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),ia);}ba.verify(wa,ua,{result:function(ia){Na(V,function(){var ta,Aa,la,aa,ca,ea,xa,Ra,Ma,Qa;ta=ec(wa,Tb);try{Aa=JSON.parse(ta);la=parseInt(Aa.renewalwindow);aa=parseInt(Aa.expiration);ca=parseInt(Aa.sequencenumber);ea=parseInt(Aa.serialnumber);xa=Aa.sessiondata;}catch(Ua){if(Ua instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta,Ua);throw Ua;}if(!la || la != la || !aa || aa != aa || "number" !== typeof ca || ca != ca || "number" !== typeof ea || ea != ea || "string" !== typeof xa)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta);if(aa < la)throw new fb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta);if(0 > ca || ca > Sb)throw new fb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);if(0 > ea || ea > Sb)throw new fb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);Ra=new Date(1E3 * la);Ma=new Date(1E3 * aa);try{Qa=Mb(xa);}catch(Ua){throw new fb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Ua);}if(!Qa || 0 == Qa.length)throw new fb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);ia?ba.decrypt(Qa,{result:function(Ua){Na(V,function(){var pa,ya,Ea,Ja,Da,Sa;pa=ec(Ua,Tb);try{ya=JSON.parse(pa);Ea=ya.issuerdata;Ja=ya.identity;Da=ya.encryptionkey;Sa=ya.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa,Ia);throw Ia;}if(Ea && "object" !== typeof Ea || !Ja || "string" !== typeof Da || "string" !== typeof Sa)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa);tc(Da,oc,Dc,{result:function(Ia){tc(Sa,pc,Mc,{result:function(Za){Na(V,function(){var ab;ab=new da(Ua,wa,ua,ia);new ic(X,Ra,Ma,ca,ea,Ea,Ja,Ia,Za,ab,V);});},error:function(Za){V.error(new xb(S.MASTERTOKEN_KEY_CREATION_ERROR,Za));}});},error:function(Ia){V.error(new xb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Ua){V.error(Ua);}}):(la=new da(null,wa,ua,ia),new ic(X,Ra,Ma,ca,ea,null,null,null,null,la,V));});},error:function(ia){V.error(ia);}});});};})();(function(){function da(X,T,V){this.tokendata=X;this.signature=T;this.verified=V;}Tc=Gb.Class.create({init:function(X,T,V,ba,W,fa,wa,ua,ia){var ta;ta=this;Na(ia,function(){var Aa,la,aa,ca,ea,xa,Ra;if(V.getTime() < T.getTime())throw new yb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new yb("Cannot construct a user ID token without a master token.");if(0 > W || W > Sb)throw new yb("Serial number " + W + " is outside the valid range.");Aa=Math.floor(T.getTime() / 1E3);la=Math.floor(V.getTime() / 1E3);aa=ba.serialNumber;if(ua){ca=ua.tokendata;ea=ua.signature;xa=ua.verified;aa=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}ca={};fa && (ca.issuerdata=fa);ca.identity=wa;ca=fc(JSON.stringify(ca),Tb);Ra=X.getMslCryptoContext();Ra.encrypt(ca,{result:function(Ma){Na(ia,function(){var Qa,Ua;Qa={};Qa.renewalwindow=Aa;Qa.expiration=la;Qa.mtserialnumber=aa;Qa.serialnumber=W;Qa.userdata=Jb(Ma);Ua=fc(JSON.stringify(Qa),Tb);Ra.sign(Ua,{result:function(pa){Na(ia,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(pa){Na(ia,function(){pa instanceof fb && pa.setEntity(ba);throw pa;},ta);}});},ta);},error:function(Ma){Na(ia,function(){Ma instanceof fb && Ma.setEntity(ba);throw Ma;},ta);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Jb(this.tokendata);X.signature=Jb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,T,V,ba){Na(ba,function(){var W,fa,wa,ua,ia;W=X.getMslCryptoContext();fa=T.tokendata;wa=T.signature;if("string" !== typeof fa || "string" !== typeof wa)throw new Hb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(V);try{ua=Mb(fa);}catch(ta){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),ta).setEntity(V);}if(!ua || 0 == ua.length)throw new Hb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(V);try{ia=Mb(wa);}catch(ta){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),ta).setEntity(V);}W.verify(ua,ia,{result:function(ta){Na(ba,function(){var Aa,la,aa,ca,ea,xa,Ra,Ma,Qa,Ua;Aa=ec(ua,Tb);try{la=JSON.parse(Aa);aa=parseInt(la.renewalwindow);ca=parseInt(la.expiration);ea=parseInt(la.mtserialnumber);xa=parseInt(la.serialnumber);Ra=la.userdata;}catch(pa){if(pa instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa,pa).setEntity(V);throw pa;}if(!aa || aa != aa || !ca || ca != ca || "number" !== typeof ea || ea != ea || "number" !== typeof xa || xa != xa || "string" !== typeof Ra)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa).setEntity(V);if(ca < aa)throw new fb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Aa).setEntity(V);if(0 > ea || ea > Sb)throw new fb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(V);if(0 > xa || xa > Sb)throw new fb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(V);Ma=new Date(1E3 * aa);Qa=new Date(1E3 * ca);if(!V || ea != V.serialNumber)throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(V)).setEntity(V);try{Ua=Mb(Ra);}catch(pa){throw new fb(S.USERIDTOKEN_USERDATA_INVALID,Ra,pa).setEntity(V);}if(!Ua || 0 == Ua.length)throw new fb(S.USERIDTOKEN_USERDATA_MISSING,Ra).setEntity(V);ta?W.decrypt(Ua,{result:function(pa){Na(ba,function(){var ya,Ea,Ja,Da,Sa;ya=ec(pa,Tb);try{Ea=JSON.parse(ya);Ja=Ea.issuerdata;Da=Ea.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Da)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);try{Sa=af(Da);}catch(Ia){throw new fb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ia).setEntity(V);}Da=new da(ua,ia,ta);new Tc(X,Ma,Qa,V,xa,Ja,Sa,Da,ba);});},error:function(pa){Na(ba,function(){pa instanceof fb && pa.setEntity(V);throw pa;});}}):(aa=new da(ua,ia,ta),new Tc(X,Ma,Qa,V,xa,null,null,aa,ba));});},error:function(ta){Na(ba,function(){ta instanceof fb && ta.setEntity(V);throw ta;});}});});};})();(function(){function da(T,V){var ba,W,fa;ba=T.tokendata;if("string" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{W=Mb(ba);}catch(wa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!W || 0 == W.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{fa=JSON.parse(ec(W,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!fa)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return V[fa]?V[fa]:V[""];}function X(T,V,ba){this.tokendata=T;this.signature=V;this.verified=ba;}Fc=Gb.Class.create({init:function(T,V,ba,W,fa,wa,ua,ia,ta,Aa){var la;la=this;Na(Aa,function(){var aa,ca,ea,xa,Ra;if(W && fa && !fa.isBoundTo(W))throw new yb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");aa=W?W.serialNumber:-1;ca=fa?fa.serialNumber:-1;if(ta)return (Ra=ta.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ua){ea=Wd(ua,ba);ea.length < ba.length || (ua=null,ea=ba);}else (ua=null,ea=ba);xa={};xa.name=V;-1 != aa && (xa.mtserialnumber=aa);-1 != ca && (xa.uitserialnumber=ca);xa.encrypted=wa;ua && (xa.compressionalgo=ua);if(wa && 0 < ea.length)ia.encrypt(ea,{result:function(Ma){Na(Aa,function(){var Qa;xa.servicedata=Jb(Ma);Qa=fc(JSON.stringify(xa),Tb);ia.sign(Qa,{result:function(Ua){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ua,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ua){Na(Aa,function(){Ua instanceof fb && (Ua.setEntity(W),Ua.setUser(fa));throw Ua;});}});},la);},error:function(Ma){Na(Aa,function(){Ma instanceof fb && (Ma.setEntity(W),Ma.setUser(fa));throw Ma;});}});else {xa.servicedata=Jb(ea);Ra=fc(JSON.stringify(xa),Tb);ia.sign(Ra,{result:function(Ma){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ma){Na(Aa,function(){Ma instanceof fb && (Ma.setEntity(W),Ma.setUser(fa));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Tc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Jb(this.tokendata);T.signature=Jb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,V,ba,W,fa,wa,ua,ia,ta){new Fc(T,V,ba,W,fa,wa,ua,ia,null,ta);};wd=function(T,V,ba,W,fa,wa){Na(wa,function(){var ua,ia,ta,Aa,la,aa,ca,ea,xa,Ra,Ma,Qa,Ua;!fa || fa instanceof Uc || (fa=da(V,fa));ua=V.tokendata;ia=V.signature;if("string" !== typeof ua || "string" !== typeof ia)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{ta=Mb(ua);}catch(pa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),pa).setEntity(ba).setEntity(W);}if(!ta || 0 == ta.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{Aa=Mb(ia);}catch(pa){throw new fb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(V),pa).setEntity(ba).setEntity(W);}la=ec(ta,Tb);try{aa=JSON.parse(la);ca=aa.name;ea=aa.mtserialnumber?parseInt(aa.mtserialnumber):-1;xa=aa.uitserialnumber?parseInt(aa.uitserialnumber):-1;Ra=aa.encrypted;Ma=aa.compressionalgo;Qa=aa.servicedata;}catch(pa){if(pa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la,pa).setEntity(ba).setEntity(W);throw pa;}if(!ca || "number" !== typeof ea || ea != ea || "number" !== typeof xa || xa != xa || "boolean" !== typeof Ra || Ma && "string" !== typeof Ma || "string" !== typeof Qa)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la).setEntity(ba).setEntity(W);if(aa.mtserialnumber && 0 > ea || ea > Sb)throw new fb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(aa.uitserialnumber && 0 > xa || xa > Sb)throw new fb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(-1 != ea && (!ba || ea != ba.serialNumber))throw new fb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + ba).setEntity(ba).setEntity(W);if(-1 != xa && (!W || xa != W.serialNumber))throw new fb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + W).setEntity(ba).setEntity(W);Ra=!0 === Ra;if(Ma){if(!Kc[Ma])throw new fb(S.UNIDENTIFIED_COMPRESSION,Ma);Ua=Ma;}else Ua=null;fa?fa.verify(ta,Aa,{result:function(pa){Na(wa,function(){var ya,Ea;if(pa){try{ya=Mb(Qa);}catch(Ja){throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la,Ja).setEntity(ba).setEntity(W);}if(!ya || 0 != Qa.length && 0 == ya.length)throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Ra && 0 < ya.length)fa.decrypt(ya,{result:function(Ja){Na(wa,function(){var Da,Sa;Da=Ua?xd(Ua,Ja):Ja;Sa=new X(ta,Aa,pa);new Fc(T,ca,Da,-1 != ea?ba:null,-1 != xa?W:null,Ra,Ua,fa,Sa,wa);});},error:function(Ja){Na(wa,function(){Ja instanceof fb && (Ja.setEntity(ba),Ja.setUser(W));throw Ja;});}});else {ya=Ua?xd(Ua,ya):ya;Ea=new X(ta,Aa,pa);new Fc(T,ca,ya,-1 != ea?ba:null,-1 != xa?W:null,Ra,Ua,fa,Ea,wa);}}else (ya="" == Qa?new Uint8Array(0):null,Ea=new X(ta,Aa,pa),new Fc(T,ca,ya,-1 != ea?ba:null,-1 != xa?W:null,Ra,Ua,fa,Ea,wa));});},error:function(pa){Na(wa,function(){pa instanceof fb && (pa.setEntity(ba),pa.setUser(W));throw pa;});}}):(ua="" == Qa?new Uint8Array(0):null,ia=new X(ta,Aa,!1),new Fc(T,ca,ua,-1 != ea?ba:null,-1 != xa?W:null,Ra,Ua,fa,ia,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Gb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(da){return this === da?!0:da instanceof $c?this.scheme == da.scheme:!1;},toJSON:function(){var da;da={};da.scheme=this.scheme;da.authdata=this.getAuthData();return da;}});Qe=function(da,X,T,V){Na(V,function(){var ba,W,fa;ba=T.scheme;W=T.authdata;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);fa=da.getUserAuthenticationFactory(ba);if(!fa)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);fa.createData(da,X,W,V);});};})();bf=Gb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},createData:function(da,X,T,V){},authenticate:function(da,X,T,V){}});(function(){hd=$c.extend({init:function V(X,T){V.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function V(T){return this === T?!0:T instanceof hd?V.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var V,ba;V=T.netflixid;ba=T.securenetflixid;if(!V)throw new Hb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new hd(V,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,T,V,ba){Na(ba,function(){return cf(V);});},authenticate:function(X,T,V,ba){if(!(V instanceof hd))throw new yb("Incorrect authentication data type " + V + ".");X=V.secureNetflixId;if(!V.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){id=$c.extend({init:function ba(T,V){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function ba(V){return this === V?!0:V instanceof id?ba.base.call(this,this,V) && this.email == V.email && this.password == V.password:!1;}});df=function(V){var ba,W;ba=V.email;W=V.password;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(V));return new id(ba,W);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,V,ba,W){Na(W,function(){return df(ba);});},authenticate:function(T,V,ba,W){if(!(ba instanceof id))throw new yb("Incorrect authentication data type " + ba + ".");T=ba.password;if(!ba.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ga.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ga.ENTITYDATA_REAUTH});Ff=Gb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Gb.Class.create({setCryptoContext:function(T,V){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){},removeServiceTokens:function(T,V,ba){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Wd=function(V,ba){var W;W={};switch(V){case T.LZW:return ke(ba,W);case T.GZIP:return gzip$compress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,V);}};xd=function(V,ba,W){switch(V){case T.LZW:return le(ba);case T.GZIP:return gzip$uncompress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,V.name());}};})();ef.extend({setCryptoContext:function(T,V){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){if(V){if(!T)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(T))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,V,ba){if(ba && V && !ba.isBoundTo(V))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,ba){var W;if(ba){W=V.uniqueKey();this.masterTokens[W]=V;this.cryptoContexts[W]=ba;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,ba,W;V=null;for(ba in this.masterTokens){W=this.masterTokens[ba];if(!V || W.isNewerThan(V))V=W;}return V;},getNonReplayableId:function(V){var ba;V=V.serialNumber;ba=this.nonReplayableIds[V] !== Db?this.nonReplayableIds[V]:0;if(0 > ba || ba > Sb)throw new yb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Sb?0:ba + 1;return this.nonReplayableIds[V]=ba;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var ba,W,fa,wa;ba=V.uniqueKey();if(this.masterTokens[ba]){W=V.serialNumber;for(fa in this.masterTokens){wa=this.masterTokens[fa];if(!wa.equals(V) && wa.serialNumber == W){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ua){ua=this.userIdTokens[ua];ua.isBoundTo(V) && this.removeUserIdToken(ua);},this);try{this.removeServiceTokens(null,V,null);}catch(ua){if(ua instanceof fb)throw new yb("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[W];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);},addUserIdToken:function(V,ba){var W,fa;W=!1;for(fa in this.masterTokens){if(ba.isBoundTo(this.masterTokens[fa])){W=!0;break;}}if(!W)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[V]=ba;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var ba,W,fa;ba=null;for(W in this.masterTokens){fa=this.masterTokens[W];if(V.isBoundTo(fa)){ba=fa;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(V)){try{this.removeServiceTokens(null,ba,V);}catch(ua){if(ua instanceof fb)throw new yb("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(ba){var W,fa;if(ba.isMasterTokenBound()){W=!1;for(fa in this.masterTokens){if(ba.isBoundTo(this.masterTokens[fa])){W=!0;break;}}if(!W)throw new fb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){W=!1;for(var wa in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[wa])){W=!0;break;}}if(!W)throw new fb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);V.forEach(function(ba){var W;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){W=this.mtServiceTokens[ba.mtSerialNumber];W || (W={});W[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=W;}ba.isUserIdTokenBound() && ((W=this.uitServiceTokens[ba.uitSerialNumber]) || (W={}),W[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=W);}},this);},getServiceTokens:function(V,ba){var W,fa,wa;if(ba){if(!V)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(V))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + V.serialNumber);}W={};for(fa in this.unboundServiceTokens){wa=this.unboundServiceTokens[fa];W[wa.uniqueKey()]=wa;}if(V && (fa=this.mtServiceTokens[V.serialNumber]))for(var ua in fa){wa=fa[ua];wa.isUserIdTokenBound() || (W[ua]=wa);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var ia in ba){ua=ba[ia];ua.isBoundTo(V) && (W[ia]=ua);}V=[];for(var ta in W){V.push(W[ta]);}return V;},removeServiceTokens:function(V,ba,W){var fa,wa,ua;if(W && ba && !W.isBoundTo(ba))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + ba.serialNumber);!V || ba || W || Object.keys(this.unboundServiceTokens).forEach(function(ia){this.unboundServiceTokens[ia].name == V && delete this.unboundServiceTokens[ia];},this);if(ba && !W && (fa=this.mtServiceTokens[ba.serialNumber])){ua=Object.keys(fa);ua.forEach(function(ia){var ta;ta=fa[ia];V && ta.name != V || delete fa[ia];},this);this.mtServiceTokens[ba.serialNumber]=fa;}W && (wa=this.uitServiceTokens[W.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(ia){var ta;ta=wa[ia];V && ta.name != V || delete wa[ia];},this),this.uitServiceTokens[W.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);}});})();Af.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,ba){ba && V && V.length && (V=Jb(V),this._contextMap[V]=ba);},getCryptoContext:function(V){return V && V.length?(V=Jb(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Jb(V),delete this._contextMap[V]);}});sf.extend({init:function ua(ba,W,fa,wa){ua.base.call(this,ba);Object.defineProperties(this,{_kde:{value:W,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,W){if(!(W instanceof xc))throw new yb("Incorrect authentication data type " + JSON.stringify(W) + ".");if(W.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + W.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ia(W,fa,wa,ua){ia.base.call(this,W);Object.defineProperties(this,{_kpe:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(W,fa){if(!(fa instanceof yc))throw new yb("Incorrect authentication data type " + JSON.stringify(fa) + ".");if(fa.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + fa.identity);return new rd(W,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function la(fa,wa,ua,ia,ta,Aa){la.base.call(this);this._log=fa;this._esn=wa;this._keyRequestData=ua;this._createKeyRequestData=ia;this._systemKeyName=ta;this._systemKeyWrapFormat=Aa;},setCryptoContext:function ta(wa,ua,ia){var Aa;Aa=this;Aa._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});ta.base.call(this,wa,ua);!ia && (wa=Aa._createKeyRequestData) && (Aa._log.trace("Generating new keyx request data"),wa().then(function(la){Aa._keyRequestData=la;},function(la){Aa._log.error("Unable to generate new keyx request data","" + la);}));},addUserIdToken:function ta(ua,ia){this._log.trace("Adding UserIdToken",{UserId:ua,SerialNumber:ia.serialNumber,MTSerialNumber:ia.mtSerialNumber,Expiration:ia.expiration.getTime()});ta.base.call(this,ua,ia);},addServiceTokens:function ta(ia){ta.base.call(this,ia.filter(function(Aa){return !Gf[Aa.name];}));},getUserIdTokenKeys:function(){var ia,ta;ia=[];for(ta in this.userIdTokens){ia.push(ta);}return ia;},rekeyUserIdToken:function(ia,ta){this.userIdTokens[ia] && (this.userIdTokens[ta]=this.userIdTokens[ia],delete this.userIdTokens[ia]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ia){var ta;ta=this;Na(ia,function(){var Aa;Aa=ta.getMasterToken();Aa?ta.getKeysForStore(Aa,{result:function(la){Na(ia,function(){var aa,ca,ea;aa=ta.userIdTokens;ca=Object.keys(aa).map(function(xa){var Ra;Ra=aa[xa];return {userId:xa,userIdTokenJSON:aa[xa].toJSON(),serviceTokenJSONList:ta.getServiceTokens(Aa,Ra).map(mf)};});la.esn=ta._esn;la.masterTokenJSON=Aa.toJSON();la.userList=ca;ea=ta._keyRequestData.storeData;ea && Object.keys(ea).forEach(function(xa){la[xa]=ea[xa];});return la;});},timeout:ia.timeout,error:ia.error}):ia.result(null);});},getKeysForStore:function(ia,ta){var Aa;Aa=this;Na(ta,function(){var la;la=Aa.getCryptoContext(ia);la={encryptionKey:la.encryptionKey,hmacKey:la.hmacKey};if(la.encryptionKey && la.hmacKey){if(Aa._systemKeyWrapFormat)Aa.wrapKeysWithSystemKey(la,ta);else return la;}else throw new fb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ia,ta){var Aa;Aa=this;ee(this._systemKeyName,{result:function(la){Na(ta,function(){var aa,ca,ea,xa;aa=ia.encryptionKey;ca=ia.hmacKey;ea=aa[Xc];xa=ca[Xc];if(ea && xa)return {wrappedEncryptionKey:ea,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Rb.wrapKey(Aa._systemKeyWrapFormat,aa,la,la.algorithm),Rb.wrapKey(Aa._systemKeyWrapFormat,ca,la,la.algorithm)]);}).then(function(Ra){ea=Jb(Ra[0]);aa[Xc]=ea;xa=Jb(Ra[1]);ca[Xc]=xa;ta.result({wrappedEncryptionKey:ea,wrappedHmacKey:xa});}).catch(function(Ra){ta.error(new fb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(ia,ta){var Aa;Aa=this;ee(this._systemKeyName,{result:function(la){Na(ta,function(){var aa,ca;aa=Mb(ia.wrappedEncryptionKey);ca=Mb(ia.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Rb.unwrapKey(Aa._systemKeyWrapFormat,aa,la,la.algorithm,oc,!1,Dc),Rb.unwrapKey(Aa._systemKeyWrapFormat,ca,la,la.algorithm,pc,!1,Mc)]);}).then(function(ea){var xa;xa=ea[0];ea=ea[1];xa[Xc]=ia.wrappedEncryptionKey;ea[Xc]=ia.wrappedHmacKey;ta.result({encryptionKey:xa,hmacKey:ea});}).catch(function(ea){ta.error(new fb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ea));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(ia,ta,Aa,la){var ea,xa;function aa(Ra,Ma){var Qa;try{Qa=Aa.userList.slice();}catch(Ua){}Qa?(function pa(){var ya;ya=Qa.shift();ya?vd(ta,ya.userIdTokenJSON,Ra,{result:function(Ea){try{ea.addUserIdToken(ya.userId,Ea);ca(Ra,Ea,ya.serviceTokenJSONList,{result:pa,timeout:pa,error:pa});}catch(Ja){pa();}},timeout:pa,error:pa}):Ma.result();})():Ma.result();}function ca(Ra,Ma,Qa,Ua){var pa,ya;try{pa=Qa.slice();}catch(Ea){}if(pa){ya=ea.getCryptoContext(Ra);(function Ja(){var Da;Da=pa.shift();Da?wd(ta,Da,Ra,Ma,ya,{result:function(Sa){ea.addServiceTokens([Sa]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Ua.result();})();}else Ua.result();}ea=this;xa=ea._log;Aa.esn != ea._esn?(xa.error("Esn mismatch, starting fresh"),la.error()):(function(Ra){var Ua,pa,ya,Ea;function Ma(){var Ja;if(!Ua && pa && ya && Ea){Ua=!0;Ja=new lc(ta,pa,ia.esn,{rawKey:ya},{rawKey:Ea});ea.setCryptoContext(pa,Ja,!0);Ra.result(pa);}}function Qa(Ja,Da){xa.error(Ja,Da && "" + Da);Ua || (Ua=!0,Ra.error());}Aa.masterTokenJSON?(ed(ta,Aa.masterTokenJSON,{result:function(Ja){pa=Ja;Ma();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ja){Qa("Error parsing MasterToken",Ja);}}),ea._systemKeyWrapFormat?ea.unwrapKeysWithSystemKey(Aa,{result:function(Ja){ya=Ja.encryptionKey;Ea=Ja.hmacKey;Ma();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ja){Qa("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Rb.encrypt({name:oc.name,iv:new Uint8Array(16)},Aa.encryptionKey,new Uint8Array(1));}).then(function(Ja){ya=Aa.encryptionKey;}).catch(function(Ja){Qa("Error loading encryptionKey");}).then(function(){return Rb.sign(pc,Aa.hmacKey,new Uint8Array(1));}).then(function(Ja){Ea=Aa.hmacKey;Ma();}).catch(function(Ja){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Ra){aa(Ra,la);},timeout:la.timeout,error:la.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ia,ta,Aa,la,aa,ca){var ea,xa;ea=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(ta,Aa);la[Wb.RSA]=new uf(xa);ta={};ta[Gc.EMAIL_PASSWORD]=new Ef();ta[Gc.NETFLIXID]=new Df();ia={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ea,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:aa,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ca,writable:!1,enumerable:!1,configurable:!1},_store:{value:ia,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ia,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ia){return this._entityAuthFactories[ia];},getUserAuthenticationFactory:function(ia){return this._userAuthFactories[ia];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ia){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == ia;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ia,ta,Aa,la){this._log=ia;this._mslContext=ta;this._mslRequest=Aa;this._keyRequestData=la;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ia,ta,Aa,la){var aa;aa=this._mslRequest;Na(la,function(){return ia || !aa.shouldSendUserAuthData?null:aa.email?new id(aa.email,aa.password):aa.useNetflixUserAuthData || Aa && aa.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ia){ia.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ia,ta,Aa){var la,aa,ca,ea,xa,Ra;la=this._log;aa=(this._mslRequest.serviceTokens || []).slice();ca=this._mslContext;ta=ca.getMslStore();ea=ia.builder.getMasterToken();xa=this.getUserId();Ra=ta.getUserIdToken(xa);(function Qa(){var Ua;Ua=aa.shift();if(Ua)try{Ua instanceof Fc?(ia.addPrimaryServiceToken(Ua),Qa()):wd(ca,Ua,ea,Ra,null,{result:function(pa){try{ia.addPrimaryServiceToken(pa);}catch(ya){la.warn("Exception adding service token","" + ya);}Qa();},timeout:function(){la.warn("Timeout parsing service token");Qa();},error:function(pa){la.warn("Error parsing service token","" + pa);Qa();}});}catch(pa){la.warn("Exception processing service token","" + pa);Qa();}else Aa.result(!0);})();},write:function(ia,ta,Aa){var la;la=fc(this._mslRequest.body);ia.write(la,0,la.length,ta,{result:function(aa){aa != la.length?Aa.error(new Yb("Not all data was written to output.")):ia.flush(ta,{result:function(){Aa.result(!0);},timeout:function(){Aa.timeout();},error:function(ca){Aa.error(ca);}});},timeout:function(){Aa.timeout();},error:function(aa){Aa.error(aa);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ia,ta){this._log=ia;this._mslRequest=ta;},sentHeader:function(ia){this._log.trace("Sent MSL header",fe(this._mslRequest,ia),ia.serviceTokens && ia.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ia){var ta,Aa;ta=fe(this._mslRequest,ia);Aa=ia.errorCode;Aa?this._log.warn("Received MSL error header",ta,{errorCode:Aa,errorMessage:ia.errorMessage,internalCode:ia.internalCode}):this._log.trace("Received MSL header",ta);}});Kf={JWK_RSA:function(ia){return pf(ia,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(ia,ta){var Aa,la,aa,ca,ea;Aa=ia.log;ea=ia.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new fb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;ea("mslisik");return Rb.importKey("spki",ia.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Ra,Ma){Jc(xa,{result:Ra,error:function(){Ma(new fb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){la=xa;if(xa=Kf.JWK_RSA)return (ea("mslcc"),xa(ia));throw new fb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Ra;aa=new Hf(Aa,ia.esn,xa.keyRequestData,xa.createKeyRequestData,ia.authenticationKeyNames.s,ia.systemKeyWrapFormat);ca=new If(aa,ia.serverIdentityId,la,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Ra=ia.storeState;if(Ra)return (ea("mslss"),Aa.info("Loading store state"),new Promise(function(Ma,Qa){aa.loadStoreState(ia,ca,Ra,{result:Ma,timeout:Ma,error:Ma});}));Aa.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();ea("msldone");ta.result(new of(Aa,xa,ca,aa,ia.ErrorSubCodes));}).catch(function(xa){ta.error(xa);});},IHttpLocation:yf,MslIoException:Yb};(function(){var ab,Xa,kb,qb,sb,tb,ub,Cb,Ab;function ia(ra){var Fa;Fa=0;return function(){return Fa < ra.length?{done:!1,value:ra[Fa++]}:{done:!0};};}function ta(ra,Fa){var Oa,b;if(Fa)a:{Oa=Xa;ra=ra.split(".");for(var r=0;r < ra.length - 1;r++){b=ra[r];if(!((b in Oa)))break a;Oa=Oa[b];}ra=ra[ra.length - 1];r=Oa[ra];Fa=Fa(r);Fa != r && null != Fa && ab(Oa,ra,{configurable:!0,writable:!0,value:Fa});}}function Aa(ra){ra={next:ra};ra[Symbol.iterator]=function(){return this;};return ra;}function la(ra){var Fa;Fa="undefined" != typeof Symbol && Symbol.iterator && ra[Symbol.iterator];return Fa?Fa.call(ra):{next:ia(ra)};}function aa(ra){for(var Fa,Oa=[];!(Fa=ra.next()).done;){Oa.push(Fa.value);}return Oa;}function ca(ra){return ra instanceof Array?ra:aa(la(ra));}function ea(ra,Fa){var r;ra.prototype=kb(Fa.prototype);ra.prototype.constructor=ra;if(Cb)Cb(ra,Fa);else for(var Oa in Fa){if("prototype" != Oa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Fa,Oa);r && Object.defineProperty(ra,Oa,r);}else ra[Oa]=Fa[Oa];}ra.Egc=Fa.prototype;}function xa(){this.nU=!1;this.MC=null;this.jY=void 0;this.Cv=1;this.CXa=this.xia=0;this.oE=null;}function Ra(ra){if(ra.nU)throw new TypeError("Generator is already running");ra.nU=!0;}function Ma(ra,Fa,Oa){ra.Cv=Oa;return {value:Fa};}function Qa(ra){this.Af=new xa();this.$Wb=ra;}function Ua(ra,Fa){var Oa;Ra(ra.Af);Oa=ra.Af.MC;if(Oa)return pa(ra,("return" in Oa)?Oa["return"]:function(r){return {value:r,done:!0};},Fa,ra.Af.return);ra.Af.return(Fa);return ya(ra);}function pa(ra,Fa,Oa,r){var b,a;try{b=Fa.call(ra.Af.MC,Oa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ra.Af.nU=!1,b);a=b.value;}catch(c){return (ra.Af.MC=null,ra.Af.wX(c),ya(ra));}ra.Af.MC=null;r.call(ra.Af,a);return ya(ra);}function ya(ra){var Fa;for(;ra.Af.Cv;){try{Fa=ra.$Wb(ra.Af);if(Fa)return (ra.Af.nU=!1,{value:Fa.value,done:!1});}catch(Oa){ra.Af.jY=void 0;ra.Af.wX(Oa);}}ra.Af.nU=!1;if(ra.Af.oE){Fa=ra.Af.oE;ra.Af.oE=null;if(Fa.ZMb)throw Fa.eXa;return {value:Fa.return,done:!0};}return {value:void 0,done:!0};}function Ea(ra){this.next=function(Fa){return ra.lV(Fa);};this.throw=function(Fa){return ra.wX(Fa);};this.return=function(Fa){return Ua(ra,Fa);};this[Symbol.iterator]=function(){return this;};}function Ja(ra,Fa){Fa=new Ea(new Qa(Fa));Cb && ra.prototype && Cb(Fa,ra.prototype);return Fa;}function Da(ra,Fa){var Oa,r,b;ra instanceof String && (ra+="");Oa=0;r=!1;b={next:function(){var a;if(!r && Oa < ra.length){a=Oa++;return {value:Fa(a,ra[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Sa(ra,Fa){return Object.prototype.hasOwnProperty.call(ra,Fa);}function Ia(ra,Fa,Oa){var a;ra instanceof String && (ra=String(ra));for(var r=ra.length,b=0;b < r;b++){a=ra[b];if(Fa.call(Oa,a,b,ra))return {J0a:b,X$:a};}return {J0a:-1,X$:void 0};}function Za(ra,Fa,Oa){if(null == ra)throw new TypeError("The 'this' value for String.prototype." + Oa + " must not be null or undefined");if(Fa instanceof RegExp)throw new TypeError("First argument to String.prototype." + Oa + " must not be a regular expression");return ra + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(ra,Fa,Oa){if(ra == Array.prototype || ra == Object.prototype)return ra;ra[Fa]=Oa.value;return ra;};Xa=(function(ra){var Oa;ra=["object" == typeof globalThis && globalThis,ra,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var Fa=0;Fa < ra.length;++Fa){Oa=ra[Fa];if(Oa && Oa.Math == Math)return Oa;}throw Error("Cannot find global object");})(this);ta("Symbol",function(ra){var r;function Fa(b){if(this instanceof Fa)throw new TypeError("Symbol is not a constructor");return new Oa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Oa(b,a){this.$eb=b;ab(this,"description",{configurable:!0,writable:!0,value:a});}if(ra)return ra;Oa.prototype.toString=function(){return this.$eb;};r=0;return Fa;});ta("Symbol.iterator",function(ra){var r;if(ra)return ra;ra=Symbol("Symbol.iterator");for(var Fa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Oa=0;Oa < Fa.length;Oa++){r=Xa[Fa[Oa]];"function" === typeof r && "function" != typeof r.prototype[ra] && ab(r.prototype,ra,{configurable:!0,writable:!0,value:function(){return Aa(ia(this));}});}return ra;});kb="function" == typeof Object.create?Object.create:function(ra){function Fa(){}Fa.prototype=ra;return new Fa();};qb=(function(){var Fa;function ra(){function Oa(){}new Oa();Reflect.construct(Oa,[],function(){});return new Oa() instanceof Oa;}if("undefined" != typeof Reflect && Reflect.construct){if(ra())return Reflect.construct;Fa=Reflect.construct;return function(Oa,r,b){Oa=Fa(Oa,r);b && Reflect.setPrototypeOf(Oa,b.prototype);return Oa;};}return function(Oa,r,b){void 0 === b && (b=Oa);b=kb(b.prototype || Object.prototype);return Function.prototype.apply.call(Oa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)sb=Object.setPrototypeOf;else {a:{tb={a:!0};ub={};try{ub.__proto__=tb;sb=ub.a;break a;}catch(ra){}sb=!1;}sb=sb?function(ra,Fa){ra.__proto__=Fa;if(ra.__proto__ !== Fa)throw new TypeError(ra + " is not extensible");return ra;}:null;}Cb=sb;xa.prototype.lV=function(ra){this.jY=ra;};xa.prototype.wX=function(ra){this.oE={eXa:ra,ZMb:!0};this.Cv=this.xia || this.CXa;};xa.prototype.return=function(ra){this.oE={return:ra};this.Cv=this.CXa;};Qa.prototype.lV=function(ra){Ra(this.Af);if(this.Af.MC)return pa(this,this.Af.MC.next,ra,this.Af.lV);this.Af.lV(ra);return ya(this);};Qa.prototype.wX=function(ra){Ra(this.Af);if(this.Af.MC)return pa(this,this.Af.MC["throw"],ra,this.Af.lV);this.Af.wX(ra);return ya(this);};ta("Reflect",function(ra){return ra?ra:{};});ta("Reflect.construct",function(){return qb;});ta("Reflect.setPrototypeOf",function(ra){return ra?ra:Cb?function(Fa,Oa){try{return (Cb(Fa,Oa),!0);}catch(r){return !1;}}:null;});ta("Promise",function(ra){var b,a;function Fa(c){var l;this.QN=0;this.DW=void 0;this.yM=[];this.e2a=!1;l=this.Eja();try{c(l.resolve,l.reject);}catch(f){l.reject(f);}}function Oa(){this.sA=null;}function r(c){return c instanceof Fa?c:new Fa(function(l){l(c);});}if(ra)return ra;Oa.prototype.IRa=function(c){var l;if(null == this.sA){this.sA=[];l=this;this.JRa(function(){l.RDb();});}this.sA.push(c);};b=Xa.setTimeout;Oa.prototype.JRa=function(c){b(c,0);};Oa.prototype.RDb=function(){var c,f;for(;this.sA && this.sA.length;){c=this.sA;this.sA=[];for(var l=0;l < c.length;++l){f=c[l];c[l]=null;try{f();}catch(h){this.Jsb(h);}}}this.sA=null;};Oa.prototype.Jsb=function(c){this.JRa(function(){throw c;});};Fa.prototype.Eja=function(){var l,f;function c(h){return function(d){f || (f=!0,h.call(l,d));};}l=this;f=!1;return {resolve:c(this.qZb),reject:c(this.Zta)};};Fa.prototype.qZb=function(c){var l;if(c === this)this.Zta(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Fa)this.D0b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.pZb(c):this.oYa(c);}};Fa.prototype.pZb=function(c){var l;l=void 0;try{l=c.then;}catch(f){this.Zta(f);return;}"function" == typeof l?this.E0b(l,c):this.oYa(c);};Fa.prototype.Zta=function(c){this.uab(2,c);};Fa.prototype.oYa=function(c){this.uab(1,c);};Fa.prototype.uab=function(c,l){if(0 != this.QN)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.QN);this.QN=c;this.DW=l;2 === this.QN && this.b_b();this.SDb();};Fa.prototype.b_b=function(){var c;c=this;b(function(){var l;if(c.vSb()){l=Xa.console;"undefined" !== typeof l && l.error(c.DW);}},1);};Fa.prototype.vSb=function(){var c,l,f;if(this.e2a)return !1;c=Xa.CustomEvent;l=Xa.Event;f=Xa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Xa.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.DW;return f(c);};Fa.prototype.SDb=function(){if(null != this.yM){for(var c=0;c < this.yM.length;++c){a.IRa(this.yM[c]);}this.yM=null;}};a=new Oa();Fa.prototype.D0b=function(c){var l;l=this.Eja();c.K2(l.resolve,l.reject);};Fa.prototype.E0b=function(c,l){var f;f=this.Eja();try{c.call(l,f.resolve,f.reject);}catch(h){f.reject(h);}};Fa.prototype.then=function(c,l){var h,d,g;function f(m,k){return "function" == typeof m?function(n){try{h(m(n));}catch(p){d(p);}}:k;}g=new Fa(function(m,k){h=m;d=k;});this.K2(f(c,h),f(l,d));return g;};Fa.prototype.catch=function(c){return this.then(void 0,c);};Fa.prototype.K2=function(c,l){var h;function f(){switch(h.QN){case 1:c(h.DW);break;case 2:l(h.DW);break;default:throw Error("Unexpected state: " + h.QN);}}h=this;null == this.yM?a.IRa(f):this.yM.push(f);this.e2a=!0;};Fa.resolve=r;Fa.reject=function(c){return new Fa(function(l,f){f(c);});};Fa.race=function(c){return new Fa(function(l,f){for(var h=la(c),d=h.next();!d.done;d=h.next()){r(d.value).K2(l,f);}});};Fa.all=function(c){var l,f;l=la(c);f=l.next();return f.done?r([]):new Fa(function(h,d){var m,k;function g(n){return function(p){m[n]=p;k--;0 == k && h(m);};}m=[];k=0;do {m.push(void 0);k++;r(f.value).K2(g(m.length - 1),d);f=l.next();}while(!f.done);});};return Fa;});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.keys",function(ra){return ra?ra:function(){return Da(this,function(Fa){return Fa;});};});ta("WeakMap",function(ra){var c,l;function Fa(f){this.TT=(l+=Math.random() + 1).toString();if(f){f=la(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function Oa(){}function r(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function b(f){var h;if(!Sa(f,c)){h=new Oa();ab(f,c,{value:h});}}function a(f){var h;h=Object[f];h && (Object[f]=function(d){if(d instanceof Oa)return d;Object.isExtensible(d) && b(d);return h(d);});}if((function(){var f,h,d;if(!ra || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});d=new ra([[f,2],[h,3]]);if(2 != d.get(f) || 3 != d.get(h))return !1;d.delete(f);d.set(h,4);return !d.has(f) && 4 == d.get(h);}catch(g){return !1;}})())return ra;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Fa.prototype.set=function(f,h){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Sa(f,c))throw Error("WeakMap key fail: " + f);f[c][this.TT]=h;return this;};Fa.prototype.get=function(f){return r(f) && Sa(f,c)?f[c][this.TT]:void 0;};Fa.prototype.has=function(f){return r(f) && Sa(f,c) && Sa(f[c],this.TT);};Fa.prototype.delete=function(f){return r(f) && Sa(f,c) && Sa(f[c],this.TT)?delete f[c][this.TT]:!1;};return Fa;});ta("Map",function(ra){var a,c;function Fa(){var l;l={};return l.Yl=l.next=l.head=l;}function Oa(l,f){var h;h=l.Wx;return Aa(function(){if(h){for(;h.head != l.Wx;){h=h.Yl;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function r(l,f){var h,d,g;h=f && typeof f;"object" == h || "function" == h?a.has(f)?h=a.get(f):(h="" + ++c,a.set(f,h)):h="p_" + f;d=l.Hx[h];if(d && Sa(l.Hx,h))for(l=0;l < d.length;l++){g=d[l];if(f !== f && g.key !== g.key || f === g.key)return {id:h,list:d,index:l,entry:g};}return {id:h,list:d,index:-1,entry:void 0};}function b(l){this.Hx={};this.Wx=Fa();this.size=0;if(l){l=la(l);for(var f;!(f=l.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var l,f,h,d;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});f=new ra(la([[l,"s"]]));if("s" != f.get(l) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();d=h.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=h.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !h.next().done?!1:!0;}catch(g){return !1;}})())return ra;a=new WeakMap();b.prototype.set=function(l,f){var h;l=0 === l?0:l;h=r(this,l);h.list || (h.list=this.Hx[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.Wx,Yl:this.Wx.Yl,head:this.Wx,key:l,value:f},h.list.push(h.entry),this.Wx.Yl.next=h.entry,this.Wx.Yl=h.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.Hx[l.id],l.entry.Yl.next=l.entry.next,l.entry.next.Yl=l.entry.Yl,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Hx={};this.Wx=this.Wx.Yl=Fa();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Oa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Oa(this,function(l){return l.key;});};b.prototype.values=function(){return Oa(this,function(l){return l.value;});};b.prototype.forEach=function(l,f){for(var h=this.entries(),d;!(d=h.next()).done;){d=d.value;l.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});ta("Set",function(ra){function Fa(Oa){this.xv=new Map();if(Oa){Oa=la(Oa);for(var r;!(r=Oa.next()).done;){this.add(r.value);}}this.size=this.xv.size;}if((function(){var Oa,r,b,a;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{Oa=Object.seal({x:4});r=new ra(la([Oa]));if(!r.has(Oa) || 1 != r.size || r.add(Oa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Oa || a.value[1] != Oa)return !1;a=b.next();return a.done || a.value[0] == Oa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return ra;Fa.prototype.add=function(Oa){Oa=0 === Oa?0:Oa;this.xv.set(Oa,Oa);this.size=this.xv.size;return this;};Fa.prototype.delete=function(Oa){Oa=this.xv.delete(Oa);this.size=this.xv.size;return Oa;};Fa.prototype.clear=function(){this.xv.clear();this.size=0;};Fa.prototype.has=function(Oa){return this.xv.has(Oa);};Fa.prototype.entries=function(){return this.xv.entries();};Fa.prototype.values=function(){return this.xv.values();};Fa.prototype.keys=Fa.prototype.values;Fa.prototype[Symbol.iterator]=Fa.prototype.values;Fa.prototype.forEach=function(Oa,r){var b;b=this;this.xv.forEach(function(a){return Oa.call(r,a,a,b);});};return Fa;});ta("Array.prototype.find",function(ra){return ra?ra:function(Fa,Oa){return Ia(this,Fa,Oa).X$;};});ta("Number.isFinite",function(ra){return ra?ra:function(Fa){return "number" !== typeof Fa?!1:!isNaN(Fa) && Infinity !== Fa && -Infinity !== Fa;};});Ab="function" == typeof Object.assign?Object.assign:function(ra,Fa){var r;for(var Oa=1;Oa < arguments.length;Oa++){r=arguments[Oa];if(r)for(var b in r){Sa(r,b) && (ra[b]=r[b]);}}return ra;};ta("Object.assign",function(ra){return ra || Ab;});ta("Object.is",function(ra){return ra?ra:function(Fa,Oa){return Fa === Oa?0 !== Fa || 1 / Fa === 1 / Oa:Fa !== Fa && Oa !== Oa;};});ta("Array.prototype.includes",function(ra){return ra?ra:function(Fa,Oa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Oa=Oa || 0;for(0 > Oa && (Oa=Math.max(Oa + b,0));Oa < b;Oa++){a=r[Oa];if(a === Fa || Object.is(a,Fa))return !0;}return !1;};});ta("String.prototype.includes",function(ra){return ra?ra:function(Fa,Oa){return -1 !== Za(this,Fa,"includes").indexOf(Fa,Oa || 0);};});ta("Object.entries",function(ra){return ra?ra:function(Fa){var Oa,r;Oa=[];for(r in Fa){Sa(Fa,r) && Oa.push([r,Fa[r]]);}return Oa;};});ta("Object.values",function(ra){return ra?ra:function(Fa){var Oa,r;Oa=[];for(r in Fa){Sa(Fa,r) && Oa.push(Fa[r]);}return Oa;};});ta("Array.prototype.entries",function(ra){return ra?ra:function(){return Da(this,function(Fa,Oa){return [Fa,Oa];});};});ta("Array.prototype.findIndex",function(ra){return ra?ra:function(Fa,Oa){return Ia(this,Fa,Oa).J0a;};});ta("Promise.prototype.finally",function(ra){return ra?ra:function(Fa){return this.then(function(Oa){return Promise.resolve(Fa()).then(function(){return Oa;});},function(Oa){return Promise.resolve(Fa()).then(function(){throw Oa;});});};});ta("Number.parseInt",function(ra){return ra || parseInt;});ta("Array.prototype.values",function(ra){return ra?ra:function(){return Da(this,function(Fa,Oa){return Oa;});};});ta("String.prototype.endsWith",function(ra){return ra?ra:function(Fa,Oa){var r;r=Za(this,Fa,"endsWith");Fa+="";void 0 === Oa && (Oa=r.length);Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var b=Fa.length;0 < b && 0 < Oa;){if(r[--Oa] != Fa[--b])return !1;}return 0 >= b;};});ta("Array.from",function(ra){return ra?ra:function(Fa,Oa,r){var b,a;Oa=null != Oa?Oa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Fa[Symbol.iterator];if("function" == typeof a){Fa=a.call(Fa);for(var c=0;!(a=Fa.next()).done;){b.push(Oa.call(r,a.value,c++));}}else for((a=Fa.length,c=0);c < a;c++){b.push(Oa.call(r,Fa[c],c));}return b;};});ta("String.prototype.startsWith",function(ra){return ra?ra:function(Fa,Oa){var r,b,a;r=Za(this,Fa,"startsWith");Fa+="";b=r.length;a=Fa.length;Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var c=0;c < a && Oa < b;){if(r[Oa++] != Fa[c++])return !1;}return c >= a;};});ta("Number.isNaN",function(ra){return ra?ra:function(Fa){return "number" === typeof Fa && isNaN(Fa);};});ta("Object.getOwnPropertySymbols",function(ra){return ra?ra:function(){return [];};});ta("Reflect.apply",function(ra){var Fa;if(ra)return ra;Fa=Function.prototype.apply;return function(Oa,r,b){return Fa.call(Oa,r,b);};});ta("Math.tanh",function(ra){return ra?ra:function(Fa){var Oa;Fa=Number(Fa);if(0 === Fa)return Fa;Oa=Math.exp(-2 * Math.abs(Fa));Oa=(1 - Oa) / (1 + Oa);return 0 > Fa?-Oa:Oa;};});ta("String.fromCodePoint",function(ra){return ra?ra:function(Fa){var b;for(var Oa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Oa+=String.fromCharCode(b):(b-=65536,Oa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Oa+=String.fromCharCode(b & 1023 | 56320));}return Oa;};});ta("Object.setPrototypeOf",function(ra){return ra || Cb;});(function(){var Fa,Oa;function ra(r){var b;b=Oa[r];if(void 0 !== b)return b.exports;b=Oa[r]={exports:{}};Fa[r].call(b.exports,b,b.exports,ra);return b.exports;}Fa={60328:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={ea:0,Y:1,Ka:2};},45929:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new l(h || "Assertion failed");};},5102:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jYa=b.caa=b.iYa=void 0;b.iYa={23976:{Ba:24E3,S:1001},24:{Ba:24E3,S:1E3},25:{Ba:25E3,S:1E3},2997:{Ba:3E4,S:1001},30:{Ba:3E4,S:1E3}};b.caa=["23976","24","25","2997","30"];b.jYa=function(a,c){return a.Ba / a.S === c.Ba / c.S;};},40138:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Pb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Ob=!0;b.ca={Ba:1536,S:48E3};b.duration={Ba:12288,S:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},10697:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Pb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Ob=!0;b.ca={Ba:1536,S:48E3};b.duration={Ba:12288,S:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},28922:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Pb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Ob=!0;b.ca={Ba:1536,S:48E3};b.duration={Ba:12288,S:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},16658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Pb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Ob=!0;b.ca={Ba:1536,S:48E3};b.duration={Ba:12288,S:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},47708:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Pb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Ob=!0;b.ca={Ba:1536,S:48E3};b.duration={Ba:12288,S:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},94340:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Pb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Ob=!0;b.ca={Ba:1024,S:24E3};b.duration={Ba:7168,S:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},42608:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Pb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Ob=!0;b.ca={Ba:1024,S:24E3};b.duration={Ba:7168,S:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},14613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Pb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Ob=!0;b.ca={Ba:1024,S:24E3};b.duration={Ba:7168,S:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},52426:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.NRa=b.leb=void 0;b.leb={padding:{"16:9":{h264hpl:{23976:function(){return a(36260);},24:function(){return a(60398);},25:function(){return a(99234);},2997:function(){return a(63029);},30:function(){return a(99477);}},h264:{23976:function(){return a(77496);},24:function(){return a(49242);},25:function(){return a(2267);},2997:function(){return a(89792);},30:function(){return a(50519);}}},"4:3":{h264hpl:{23976:function(){return a(66101);},24:function(){return a(67200);},25:function(){return a(92443);},2997:function(){return a(53040);},30:function(){return a(28437);}},h264:{23976:function(){return a(21902);},24:function(){return a(11024);},25:function(){return a(43698);},2997:function(){return a(1370);},30:function(){return a(87767);}}}}};b.NRa={silence:{heaac:{64:function(){return a(42608);},96:function(){return a(14613);},128:function(){return a(94340);}},ddp:{192:function(){return a(40138);},256:function(){return a(10697);},384:function(){return a(28922);},448:function(){return a(16658);},640:function(){return a(47708);}}}};},21902:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Pb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Ob=!1;b.ca={Ba:1001,S:24E3};b.duration={Ba:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,729];b.Xb=[44];},11024:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(21902);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Pb=!0;b.Ke=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:24E3};b.duration={Ba:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},43698:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(21902);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Pb=!0;b.Ke=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:25E3};b.duration={Ba:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},1370:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(21902);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Pb=!0;b.Ke=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1001,S:3E4};b.duration={Ba:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,729];b.Xb=[44];},87767:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(21902);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Pb=!0;b.Ke=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:3E4};b.duration={Ba:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},66101:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Pb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Ob=!1;b.ca={Ba:1001,S:24E3};b.duration={Ba:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},67200:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(66101);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Pb=!0;b.Ke=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:24E3};b.duration={Ba:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},92443:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(66101);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Pb=!0;b.Ke=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:25E3};b.duration={Ba:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},53040:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(66101);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Pb=!0;b.Ke=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1001,S:3E4};b.duration={Ba:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},28437:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(66101);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Pb=!0;b.Ke=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:3E4};b.duration={Ba:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},77496:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Pb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Ob=!1;b.ca={Ba:1001,S:24E3};b.duration={Ba:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,729];b.Xb=[44];},49242:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(77496);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Pb=!0;b.Ke=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:24E3};b.duration={Ba:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},2267:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(77496);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Pb=!0;b.Ke=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:25E3};b.duration={Ba:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},89792:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(77496);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Pb=!0;b.Ke=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1001,S:3E4};b.duration={Ba:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,729];b.Xb=[44];},50519:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(77496);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Pb=!0;b.Ke=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:3E4};b.duration={Ba:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},36260:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Pb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Ob=!1;b.ca={Ba:1001,S:24E3};b.duration={Ba:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},60398:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(36260);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Pb=!0;b.Ke=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:24E3};b.duration={Ba:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},99234:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(36260);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Pb=!0;b.Ke=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:25E3};b.duration={Ba:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},63029:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(36260);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Pb=!0;b.Ke=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1001,S:3E4};b.duration={Ba:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},99477:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.Ge=b.Ob=b.ka=b.Ke=b.Pb=b.va=b.Fe=b.Ee=b.Je=b.Ie=void 0;r=a(36260);b.Ie=r.va;b.Je=r.Pb;b.Ee=r.ka;b.Fe=r.Ob;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Pb=!0;b.Ke=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Ob=!0;b.Ge=1022;b.ca={Ba:1E3,S:3E4};b.duration={Ba:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},8604:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(56163),b);r.__exportStar(a(5102),b);},38315:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function l(g,m){(0,d.assert)(0 < m && 8 > m);return c((m - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function h(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.U6=b.EPb=void 0;d=a(45929);b.EPb=function(g,m){var p,q,u,t,w,v;function k(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function n(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=m || 0;u=q;t=0;for(m=0;q < g.byteLength;){w=u;v=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(k(w,v),m=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[w] !== g[u] || 0 < t && !n(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(w === q || 1 === v){q-=v;for(w=1;5 > w && g[q + w] === g[q];){++w;}p+=l(g[q],w);q+=w;m=1 < w?0:m + 1;4 === m && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (k(w,v),m=0);}}1 === t?p+=l(g[u],1):1 < t && k(u,t);return p;};b.U6=function(g,m){var t;function k(v,y){var x;if(u + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(v + y <= u)p.set(p.subarray(v,v + y),u);else for(x=0;x < y;++x){p[u + x]=p[v + x];}u+=y;}function n(){var v;v=g.slice(q,q+=2);return (h(v.charCodeAt(0)) << 6) + h(v.charCodeAt(1));}for(var p=m || new Uint8Array(4096),q=0,u=m?m.byteLength:0;q < g.length;){t=n();if(t & 2048)(m=n(),k(u - (((t & 2047) << 3) + (m >>> 9) + 1),(m & 511) + 2));else if(1792 === (t & 3840))(p[u++]=t & 255,m=n(),t=n(),p[u++]=m >>> 4,p[u++]=(m << 4 & 240) + (t >>> 8),p[u++]=t & 255);else {m=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[u++]=m;}}}return p.subarray(0,u);};},88458:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ysb=b.Wsb=b.Zsb=b.Vsb=b.Xsb=b.$sb=b.k6b=b.e6b=b.dI=b.m6b=b.caa=void 0;c=a(5102);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.caa;}});b.m6b=["padding"];b.dI=["h264hpl","h264"];b.e6b=["16:9","4:3"];b.k6b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.$sb=["silence"];b.Xsb=["heaac","ddp"];b.Vsb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Zsb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Wsb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Ysb={heaac:{Ba:1024,S:24E3},ddp:{Ba:1536,S:48E3}};},56163:function(r,b,a){var l,f,h,d,g,m,k;function c(n){if(-1 !== d.dI.indexOf(n))return n;for(var p,q=0;q < d.dI.length;++q){if(-1 !== n.indexOf(d.dI[q])){p=d.dI[q];break;}}(0,m.assert)(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;l=a(5163);f=a(42866);h=a(52426);d=a(88458);g=a(5102);m=a(45929);k=a(38315);r=(function(){function n(p,q){this.atob=p;this.console=q;this.bK=1;this.VX=[];this.GR=[];}n.prototype.JJb=function(p,q,u,t,w){var v,z;void 0 === t && (t={w:16,Lq:9});void 0 === w && (w=1);q=c(q);v=(0,f.xc)(g.caa,function(A){return (0,g.jYa)(u,g.iYa[A]);});(0,m.assert)(v);(0,m.assert)(16 === t.w && 9 === t.Lq || 4 === t.w && 3 === t.Lq);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.VX;y < x.length;y++){z=x[y];if(z.type === p && z.lx === t && z.ud === q && z.frameRate === v && z.trackId === w)return z;}p=this.CAb(p,t,q,v,w);this.VX.unshift(p);this.VX.length > this.bK && this.VX.splice(this.bK,this.VX.length - this.bK);return p;};n.prototype.IJb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,w=0,v=this.GR;w < v.length;w++){y=v[w];"silence" === y.type && y.ud === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.sAb(p,q,u),this.GR.unshift(t),this.GR.length > this.bK && this.GR.splice(this.bK,this.GR.length - this.bK));return t;};n.prototype.CAb=function(p,q,u,t,w){var v;v=h.leb[p][q][u][t]();return l.__assign(l.__assign({},this.decode(v,w)),{type:p,lx:q,ud:u,frameRate:t,width:v.width,height:v.height,Wc:v.Wc,Xc:v.Xc});};n.prototype.sAb=function(p,q,u){var t;t=h.NRa.silence[p][q];(0,m.assert)(t);t=t();return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",ud:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var u,t,w,v;u=p.Pb?this.qVa(p.va,p.Ie,p.Ke,p.Je):this.atob(p.va);t=p.Ob?this.qVa(p.ka,p.Ee,p.Ge,p.Fe):this.atob(p.ka);if(1 !== q){w=new DataView(u);v=new DataView(t);p.Yb.forEach(function(y){return w.setUint32(y,q);});p.Xb.forEach(function(y){return v.setUint32(y,q);});}return l.__assign(l.__assign({},p),{va:u,ka:t,trackId:q});};n.prototype.qVa=function(p,q,u,t){p=void 0 === q?(0,k.U6)(p):t?(0,k.U6)(q + p):(0,k.U6)(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (u || 0),p.byteOffset + p.byteLength);};return n;})();b.dMa=r;},831:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wha=b.vfb=b.AbortController=void 0;c=a(5163);r=(function(f){function h(){var d;d=null !== f && f.apply(this,arguments) || this;d.MNa=!1;return d;}c.__extends(h,f);Object.defineProperties(h.prototype,{aborted:{get:function(){return this.MNa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{reason:{get:function(){return this.wpb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});h.prototype.abort=function(d){this.wpb=new l(d);this.MNa=!0;this.emit("abort",{type:"abort"});};return h;})(a(57055).EventEmitter);b.AbortController=r;l=(function(f){function h(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(h,f);return h;})(Error);b.vfb=l;b.wha=function(f){return new Promise(function(h){f.aborted && h();f.addListener("abort",function(){return h();});});};},1386:function(r,b,a){var f;function c(h){return h.filter(function(d,g){return h.indexOf(d) === g;});}function l(h,d,g){return g?h.filter(function(m){return !d.some(function(k){return g(m,k);});}):h.filter(function(m){return -1 === d.indexOf(m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=b.zRa=b.Q7=b.rKb=b.hxb=b.flatten=b.U4a=b.zwb=b.UJ=b.sq=b.d2=b.ARa=b.tha=b.uha=b.Uu=b.vha=b.xc=void 0;f=a(5163);b.xc=function(h,d){for(var g=0;g < h.length;g++){if(d(h[g],g,h))return h[g];}};b.vha=function(h,d){for(var g=h.length - 1;0 <= g;--g){if(d(h[g],g,h))return h[g];}};b.Uu=function(h,d){var g;g=-1;return h.some(function(m,k,n){g=k;return d(m,k,n);})?g:-1;};b.uha=function(h,d){for(var g=h.length - 1;0 <= g;g--){if(d(h[g],g,h))return g;}return -1;};b.tha=c;b.ARa=function(h,d){return h.filter(function(g,m){return h.indexOf(g) === m && -1 !== d.indexOf(g);});};b.d2=function(h,d){d=h.indexOf(d);if(-1 === d)return !1;h.splice(d,1);return !0;};b.sq=l;b.UJ=function(h,d){return c(h.concat(d));};b.zwb=function(h){return function(d,g){return h(d) - h(g);};};b.U4a=function(h){return function(d,g){return h(d) < h(g)?d:g;};};b.flatten=function(h){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(h),!1));};b.hxb=function(h,d){void 0 === d && (d=function(g){return g;});return h.reduce(function(g,m){m=d(m);return (void 0 === g[m]?g[m]=1:++g[m],g);},{});};b.rKb=function(h,d){return h.reduce(function(g,m){var k;k=d(m);return (void 0 === g[k]?g[k]=[m]:g[k].push(m),g);},{});};b.Q7=function(h){return null !== h && void 0 !== h;};b.zRa=function(h){var d,m;d=[];if(Array.isArray(h))for(var g=0;g < h.length;g++){m=h[g];Array.isArray(m)?d=d.concat(m.filter(function(k){return void 0 !== k;})):void 0 !== m && d.push(m);}return d;};b.ITa=function(h,d,g){var m;m=l(h,d,g);d=l(d,h,g);h=l(h,m);return {aua:m,xrb:d,Y7a:h,result:h.concat(d)};};},20837:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);l=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.AssertionError=l;b.assert=function(f,h){if(!f)throw new l(h || "Assertion failed");};},92709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TBa=void 0;c=a(20837);l=a(81786);f=a(7666);r=(function(){function h(d){this.mCb=d;this.Uxa=!1;this.haa=new f.NKa();}h.prototype.s6b=function(d,g){var k,n;function m(){var u,t,w,v,y,x;u=p.pop();t=u.node;w=u.Y1;u=w.QVb;v=w.bF;w=w.state;if(!q.haa.has(t)){u=g(t,v,u,w);y=u.gaa;x=u.state;u.V1 || q.haa.add(t);n(t).forEach(function(z){var A;A=z.b6b;k.haa.has(A) || (z=v + z.weight,y && p.push({node:A,Y1:{bF:z,QVb:t,state:x}}));});}}k=this;n=this.mCb;(0,c.assert)(!this.Uxa);this.Uxa=!0;this.haa.clear();for(var p=new l.q_([{node:d,Y1:{bF:0,state:{root:!1,complete:!0,F9a:0,Dr:0}}}],function(u,t){return u.Y1.bF - t.Y1.bF;}),q=this;!p.empty;){m();}this.Uxa=!1;};return h;})();b.TBa=r;},88047:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YA=void 0;b.YA=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},42866:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(831),b);r.__exportStar(a(20837),b);r.__exportStar(a(92709),b);r.__exportStar(a(88047),b);r.__exportStar(a(81786),b);r.__exportStar(a(70885),b);r.__exportStar(a(76556),b);r.__exportStar(a(41969),b);r.__exportStar(a(7666),b);r.__exportStar(a(48803),b);r.__exportStar(a(1386),b);},81786:function(r,b,a){var l;function c(f,h){return f < h?-1:f > h?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.q_=void 0;l=a(5163);r=(function(){function f(h,d){this.data=null !== h && void 0 !== h?h:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(h=(this.length >> 1) - 1;0 <= h;h--){this.ifa(h);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(h){this.data.push(h);this.eQa(this.length - 1);};f.prototype.pop=function(){var h,d;if(!this.empty){h=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.ifa(0));return h;}};f.prototype.tt=function(){return this.data[0];};f.prototype.map=function(h){return this.data.map(h);};f.prototype.find=function(h){return l.__read(this.data.filter(h),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(h){var d,g,m;d=this.data;h=d.indexOf(h);if(-1 !== h){g=d.pop();if(h < d.length){d[h]=g;m=h - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(g,d)?this.eQa(h):this.ifa(h);}}};f.prototype.itb=function(){for(var h=this.data,d=1;d < h.length;d++){if(0 > this.compare(h[d],h[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(h));}};f.prototype.contains=function(h){return 0 <= this.data.indexOf(h);};f.prototype.Ar=function(){return this.data.concat([]);};f.prototype.eQa=function(h){for(var d=this.data,g=this.compare,m=d[h],k,n;0 < h;){k=h - 1 >> 1;n=d[k];if(0 <= g(m,n))break;d[h]=n;h=k;}d[h]=m;};f.prototype.ifa=function(h){for(var d=this.data,g=this.compare,m=this.length >> 1,k=d[h],n,p,q;h < m;){n=(h << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,k))break;d[h]=q;h=n;}d[h]=k;};return f;})();b.q_=r;},76556:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cda=void 0;r=(function(){function a(c,l,f,h){var d;d=this;this.properties=c;this.transform=l;this.zs=f;this.state=h;this.va();c.forEach(function(g){return g.addListener(d.Qra);});this.Qra();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.Qra);});};a.prototype.N1a=function(c){return void 0 !== c.equal;};a.prototype.va=function(){var c;c=this;this.Qra=function(){var l,f;l=c.state;f=c.properties.map(function(h){return h.value;});c.state=c.transform(f);(c.N1a(c.state) && c.N1a(l)?c.state.equal(l):l === c.state) || c.zs(c.state);};};return a;})();b.cda=r;},70885:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gq=b.Flb=void 0;c=a(5163);l=a(76556);f=a(41969);r=(function(){function h(d,g){this.Pa=d;this.Vx=g?[g]:[];}Object.defineProperties(h.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});h.prototype.addListener=function(d){-1 === this.Vx.indexOf(d) && (this.Vx=this.Vx.slice(),this.Vx.push(d));};h.prototype.removeListener=function(d){d=this.Vx.indexOf(d);-1 !== d && (this.Vx=this.Vx.slice(),this.Vx.splice(d,1));};return h;})();b.Flb=r;r=(function(h){function d(g,m){return h.call(this,g,m) || this;}c.__extends(d,h);d.Eeb=function(g,m,k){return new l.cda(g,m,k,!1);};d.D6b=function(g,m,k){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(n=void 0,p=new Promise(function(t){n=q.Eeb(g,m,t);}),u.label=1);case 1:return (u.Oj.push([1,,6,7]),k?[4,(0,f.y8a)(k,p)]:[3,3]);case 2:return [2,u.Ra()];case 3:return [4,p];case 4:return [2,u.Ra()];case 5:return [3,7];case 6:return (n.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Pa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var m;m=this.Pa;m !== g && (this.Pa=g,this.Vx.forEach(function(k){return k({oldValue:m,newValue:g});}));};return d;})(r);b.gq=r;},41969:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.y8a=b.rz=b.apa=void 0;c=a(5163);l=a(831);b.apa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var h;h=this;this.JPa=!1;this.promise=new Promise(function(d){h.HPa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cua:{get:function(){return this.JPa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(h){var d;this.JPa=!0;null === (d=this.HPa) || void 0 === d?void 0:d.call(this,h);this.HPa=void 0;};return f;})();b.rz=r;b.y8a=function(f,h){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,l.wha)(f),[4,Promise.race([d,h])]);case 1:return [2,g.Ra()];}});});};},7666:function(r,b){var l,f,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.LNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{LNa:{value:{},configurable:!1,enumerable:!1}})).LNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.NKa=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % f;r=(function(){function d(){this.Q9=0;this.id=h=(h + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.Q9;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.Q9;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Q9=(this.Q9 + 1) % f;return this;};return d;})();b.NKa=r;},48803:function(r,b,a){var l;function c(f,h){return f && h?Math.abs(f * h / (0,l.YA)(f,h)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;l=a(88047);r=(function(){function f(h,d){"object" === typeof h?(this.oc=h.Ba,this.fb=h.S):(this.oc=h,this.fb=d);isFinite(this.oc) || (this.fb=1);}f.compare=function(h,d){return h.Ek(d);};f.abs=function(h){return new f(Math.abs(h.oc),h.fb);};f.Ma=function(h){return 0 === h?f.Ia:new f(h,1E3);};f.Xwa=function(h,d){return Math.floor(1E3 * h / d);};f.n5a=function(h,d){return Math.floor(h * d / 1E3);};f.max=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(g,m){return g.greaterThan(m)?g:m;});};f.min=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(g,m){return g.lessThan(m)?g:m;});};f.YA=function(h,d){var g;if(h.fb === d.fb)return new f((0,l.YA)(h.oc,d.oc),h.fb);g=c(h.fb,d.fb);return new f((0,l.YA)(h.oc * g / h.fb,d.oc * g / d.fb),g);};Object.defineProperties(f.prototype,{Ba:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.Xwa(this.oc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cy:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jH:{get:function(){var h;h=this.Cy;return 0 > h?Math.ceil(h):Math.floor(h);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zh:{get:function(){return this.oc / this.fb;},enumerable:!1,configurable:!0}});f.prototype.ef=function(h){h/=this.fb;return new f(Math.floor(this.oc * h),Math.floor(this.fb * h));};f.prototype.add=function(h){var d;if(this.fb === h.fb)return new f(this.oc + h.oc,this.fb);d=c(this.fb,h.fb);return new f(this.oc * d / this.fb + h.oc * d / h.fb,d);};f.prototype.wa=function(h){var d;if(this.fb === h.fb)return new f(this.oc - h.oc,this.fb);d=c(this.fb,h.fb);return new f(this.oc * d / this.fb - h.oc * d / h.fb,d);};f.prototype.Bv=function(h){return new f(this.oc * h,this.fb);};f.prototype.Ni=function(h){var d;if("number" === typeof h){if(Math.floor(h) === h){d=c(this.oc,h);if(d !== this.oc)return this.ef(d / this.oc * this.fb).Ni(h);}return new f(Math.floor(this.oc / h),this.fb);}if(this.fb === h.fb)return this.oc / h.oc;d=c(this.fb,h.fb);return this.oc * d / this.fb / (h.oc * d / h.fb);};f.prototype.xK=function(h){var d;if(this.fb === h.fb)return new f(Math.abs(this.oc - h.oc),this.fb);d=c(this.fb,h.fb);return new f(Math.abs(this.oc * d / this.fb - h.oc * d / h.fb),d);};f.prototype.V8a=function(){return new f(this.fb,this.oc);};f.prototype.compare=function(h,d){var g;if(this.fb === d.fb)return h(this.oc,d.oc);g=c(this.fb,d.fb);return h(this.oc * g / this.fb,d.oc * g / d.fb);};f.prototype.Ek=function(h){var d;if(this.fb === h.fb)return this.Ba === h.oc?0:this.oc - h.oc;d=c(this.fb,h.fb);return this.oc * d / this.fb - h.oc * d / h.fb;};f.prototype.equal=function(h){return this.compare(function(d,g){return d === g;},h);};f.prototype.nra=function(h){return this.compare(function(d,g){return d !== g;},h);};f.prototype.lessThan=function(h){return this.compare(function(d,g){return d < g;},h);};f.prototype.greaterThan=function(h){return this.compare(function(d,g){return d > g;},h);};f.prototype.FB=function(h){return this.compare(function(d,g){return d <= g;},h);};f.prototype.fi=function(h){return this.compare(function(d,g){return d >= g;},h);};f.prototype.isFinite=function(){return !!this.fb && isFinite(this.oc);};f.prototype.J_a=function(h){return c(this.S,h);};f.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.fb};};f.prototype.toString=function(){return ("").concat(this.oc,"/").concat(this.fb);};f.prototype.mb=function(){return ("").concat(this.oc,"/").concat(this.fb," (").concat(this.G,"ms)");};f.Ia=new f(0,1E3);f.wy=new f(1,1E3);f.vp=new f(Infinity,1);f.tRb=new f(-Infinity,1);return f;})();b.N=r;},27411:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.S6a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.S6a=function(c){var l,f,h,d;l=c.read(5);f=c.read(4);if(15 === f){h=c.read(24);f=a.indexOf(h);}else h=a[f];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {$o:l,sampleRate:h,E9:f,gcc:d,MFb:1024};};},28798:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.c8a=void 0;c=a(76338);b.c8a=function(l,f,h){var d,g;d=l.read(1);if(d){g=new c.PEa(l,d,f);1 === l.read(2) && l.advance(g.uM * g.VU);}(0,c.rta)(l,f,g,h);(0,c.rta)(l,f,g,h);};},13865:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(17793);b.w=function(f,h,d,g){var m;m=new c.xY(f);g=g && g.E9;h=(0,l.f8a)(m,{nx:h,iH:d},g);m=m.offset;return {frame:f.subarray(0,m),fsa:m,hhc:h};};},53710:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e8a=void 0;b.e8a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.nx && !l.iH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},17793:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.f8a=void 0;c=a(15427);l=a(52148);b.f8a=function(f,h,d){var g,m,k;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);m=f.read(2) + 1;d=f.read(4);f.advance(8);k=f.read(13);f.advance(13 + (g?0:16));g={$o:m,E9:d,MFb:k};}else f.reverse(12);(0,c.assert)(void 0 !== d);(0,l.k8a)(f,d,h);return g;};},2E3:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HDa=b.yDa=b.xDa=b.GDa=b.FDa=b.EDa=b.DDa=b.CDa=b.BDa=b.ADa=b.zDa=b.wDa=void 0;b.wDa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.zDa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.ADa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.BDa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.CDa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.DDa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.EDa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.FDa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.GDa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.xDa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.yDa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.HDa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},34581:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.g_=void 0;c=a(2E3);l=[c.wDa,c.zDa,c.ADa,c.BDa,c.CDa,c.DDa,c.EDa,c.FDa,c.GDa,c.xDa,c.yDa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.g_=(function(){function h(){}h.IXa=function(d,g){var m,q,u;m=g.table;g=g.width;for(var k=0,n=m[0],p=d.read(n);p !== m[k + 1];){k+=g;q=m[k];u=q - n;n=q;p<<=u;p|=d.read(u);}return k;};h.Nab=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};h.Oab=function(d,g){for(;g--;){h.IXa(d,c.HDa);}};h.s1b=function(d,g){var m,k;m=l[g - 1];k=m.table;m=this.IXa(d,m);if(11 > g)f[g - 1] && (g=k[m + 2]) && d.advance(g);else if(11 === g || 15 < g)(m+=2,(g=k[m]) && d.advance(g),(k=k[m + 1]) && this.Nab(d),1 < k && this.Nab(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return h;})();},76338:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.PEa=b.rta=void 0;c=a(15427);l=a(34581);f=a(86707);b.rta=function(m,k,n,p){var q,u,t;q=m.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.nx / 20)) / Math.log(2)));m.reverse(8);m.write(8,p);n || (n=new g(m,0,k));q=n;u=2 === q.aya?3:5;t=(1 << u) - 1;k=[];p=[];for(var w=[],v=0;v < q.uM;++v){for(var y=0,x=0;y < q.VU;){for(var z=m.read(4),A=0,B;(B=m.read(u)) === t;){A+=B;}A+=B;y+=A;k.push(z);p.push(A);++x;}w.push(x);}q=!0;for(u=0;u < k.length;++u){0 !== k[u] && (13 === k[u] && q?(m.advance(9),q=!1,l.g_.Oab(m,p[u] - 1)):l.g_.Oab(m,p[u]));}m.read(1) && m.advance(6 + 9 * (m.read(2) + 1));if(m.read(1))for((q=n,u=2 === q.aya?h:d,t=0);t < q.$5a;++t){if(w=m.read(u[0]))for((v=m.read(1),y=0);y < w;++y){if((m.advance(u[1]),x=m.read(u[2])))(m.advance(1),z=m.read(1),m.advance(x * (v + 3 - z)));}}(0,c.assert)(!m.read(1));q=n.uM;u=n.VU;t=n.Tbb;n=n.kaa;for(v=w=0;v < q;++v){for((y=n[v],x=0);x < u;++w){if((z=k[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var D=0;D < A;(++D,++x)){for(var C=y * (t[x + 1] - t[x]) / B,F=0;F < C;++F){l.g_.s1b(m,z);}}}}}};h=[1,4,3];d=[2,6,5];g=(function(){return function(m,k,n){var p;this.kaa=[];this.uM=1;this.kaa[0]=1;m.advance(1);this.aya=m.read(2);m.read(1);if(2 === this.aya){this.$5a=8;this.VU=m.read(4);for(k=0;7 > k;++k){m.read(1)?this.kaa[this.uM - 1]++:(this.uM++,this.kaa[this.uM - 1]=1);}this.Tbb=f.uLa[n];}else {this.$5a=1;this.VU=m.read(6);if(m.read(1)){p=14 + Math.min(this.VU,40);m.read(1) && m.advance(p);k && m.read(1) && m.advance(p);}this.Tbb=f.tLa[n];}};})();b.PEa=g;},52148:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.k8a=void 0;c=a(28798);l=a(53710);b.k8a=function(f,h,d){var m;for(var g;7 !== (g=f.read(3));){m=f.read(4);switch(g){case 1:(0,c.c8a)(f,h,d);break;case 6:(0,l.e8a)(f,m,d);break;default:throw Error(("Unsupported AAC element ").concat(g));}}f.nub();};},86707:function(r,b){var a,c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Klb=b.jjb=b.Llb=b.fmb=b.gmb=b.uLa=b.tLa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.tLa=[r,r,c,f,f,d,g,g,k,k,k,p];b.uLa=[a,a,l,h,h,h,m,m,n,n,n,q];b.gmb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.fmb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Llb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.jjb=(function(){for(var u=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){u[w]=Math.pow(w,t);}return u;})();b.Klb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},15427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new l(h || "Assertion failed");};},11909:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xY=void 0;r=(function(){function a(c){this.data=c;this.wq=this.Ib=this.qd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Ib;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.qd){if(8 === c)return this.data[this.Ib++];if(16 === c)return (c=this.view.getUint16(this.Ib),this.Ib+=2,c);if(32 === c)return (c=this.view.getUint32(this.Ib),this.Ib+=4,c);}for(;this.qd < c;){this.wq=(this.wq << 8) + this.data[this.Ib++];this.qd+=8;}this.qd-=c;return this.wq >>> this.qd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.qd)this.qd-=c;else {c-=this.qd;l=Math.floor(c / 8);this.Ib+=l;this.wq=this.data[this.Ib++];this.qd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var f,h;l&=(1 << c) - 1;if(0 === this.qd){if(8 === c){this.data[this.Ib++]=l;return;}if(16 === c){this.view.setUint16(this.Ib,l);this.Ib+=2;return;}if(32 === c){this.view.setUint32(this.Ib,l);this.Ib+=4;return;}}if(0 < this.qd){f=Math.min(c,this.qd);h=this.data[this.Ib - 1] & (~((1 << this.qd) - 1) ^ (1 << this.qd - f) - 1);this.data[this.Ib - 1]=h ^ (c >= f?l >>> c - f:l << this.qd - f);this.qd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Ib++]=l >>> c & 255;}0 < c && (this.qd=8 - c,h=this.data[this.Ib] & (1 << this.qd) - 1,this.wq=this.data[this.Ib++]=h ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.qd && c <= 8 - this.qd?this.qd+=c:(0 !== this.qd && (c-=8 - this.qd,--this.Ib),this.Ib-=Math.floor(c / 8),this.wq=this.data[this.Ib - 1],this.qd=c % 8);};a.prototype.nub=function(){0 !== this.qd && (this.qd=0);};return a;})();b.xY=r;},77151:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.qUa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.qUa=function(c,l){void 0 === l && (l=0);l=~~l;for(var f=0;f < c.length;f++){l=(a[(l >> 8 ^ c[f]) & 255] ^ l << 8) & 65535;}return l;};},91459:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(29652);b.w=function(f,h,d){var g;g=new c.xY(f);h=(0,l.uRa)(g,h,null === d || void 0 === d?void 0:d.rG).QFb;f=f.subarray(0,h);(0,l.mab)(f);return {frame:f,fsa:h};};},29652:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mab=b.uRa=void 0;c=a(15427);l=a(77151);b.uRa=function(f,h,d){var g,m;g=f.read(16);(0,c.assert)(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);m=f.read(5);f.reverse(5);d && (h*=-m / d);f.write(5,Math.min(31,Math.max(1,Math.floor(m + h))));return {QFb:g};};b.mab=function(f){var h;h=(0,l.qUa)(f.subarray(2,f.length - 2));f[f.length - 2]=h >> 8;f[f.length - 1]=h & 255;};},73644:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.oXa=void 0;c=a(11909);l=a(27411);b.oXa=function(){var m,k,n,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}m="string" === typeof d[0]?{ud:d[0],frame:d[1],nx:d[2],qwb:d[3],rG:d[4]}:d[0];k=m.ud;d=m.frame;g=m.nx;n=m.qwb;p=m.rG;m=m.iH;m=void 0 === m?!1:m;switch(k){case "aac":void 0 === f && (f=a(13865).w);k=6;n && (n=new c.xY(n),k=(0,l.S6a)(n).E9);d=f(d,g,m,{E9:k}).fsa;break;case "ddp":void 0 === h && (h=a(91459).w);d=h(d,g,{rG:p}).fsa;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {PFb:d};};},61901:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(73644),b);},16936:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yE=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,e$:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,e$:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,e$:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,e$:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.yE={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},82818:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=b.gya=void 0;c=a(5163);r=(function(l){function f(){var h;h=null !== l && l.apply(this,arguments) || this;h.uF=1536;return h;}c.__extends(f,l);f.Nc=!0;return f;})(a(61671).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="ac-3";return f;})(r);b.gya=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="ec-3";return f;})(r);b.mCa=r;},24475:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.dGb=this.L.Oc(2);this.Stb=this.L.Oc(5);this.Ttb=this.L.Oc(3);this.wqb=this.L.Oc(3);this.L.Oc(1);this.L.Oc(5);this.L.Oc(5);return !0;};f.te="dac3";return f;})(a(85571).ff);b["default"]=r;},27235:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){this.L.Oc(1);this.L.Oc(7);this.F$a=this.L.Oc(3);this.E$a=this.L.Oc(5);this.G$a=this.L.Oc(1);this.v0a=this.L.Oc(1);this.Xcb=this.L.Oc(1);this.k5a=this.L.Oc(1);this.jTa=this.L.Oc(1);this.kTa=this.L.Oc(1);this.iTa=this.L.Oc(2);this.L.Oc(3);(this.Boa=this.L.Oc(1))?this.i1a=this.L.Oc(4):this.L.Oc(4);h && (h.Lbc={F$a:this.F$a,E$a:this.E$a,G$a:this.G$a,v0a:this.v0a,Xcb:this.Xcb,k5a:this.k5a,jTa:this.jTa,kTa:this.kTa,iTa:this.iTa,Boa:this.Boa,i1a:this.i1a});return !0;};f.te="av1C";return f;})(a(85571).ff);b["default"]=r;},24895:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){var d;this.L.jd();this.ufb=this.L.jd();this.L.jd();this.L.jd();this.L.jd();this.j$=this.fga(this.L.jd() & 31);this.M7a=this.fga(this.L.jd());this.YM=this.j$.length?this.j$[0][1]:this.ufb;this.tPa=this.L.offset;this.startOffset + this.length < this.L.offset && (100 === this.YM || 110 === this.YM || 122 === this.YM || 144 === this.YM) && (this.L.jd(),this.L.jd(),this.fga(this.L.jd()));d=this.startOffset + this.length - this.tPa;0 < d && this.Zl(d,this.tPa);h && h.Nha && (h.Nha.j$=this.j$,h.Nha.M7a=this.M7a,h.Nha.YM=this.YM);return !0;};f.prototype.fga=function(h){var m;for(var d=[],g=0;g < h;++g){m=this.L.Rf();d.push(this.L.b9(m));}return d;};f.te="avcC";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},61671:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.L.offset+=8;this.Eia=this.L.Rf();this.Rua=this.L.Rf();this.L.offset+=4;this.samplerate=this.L.Rf();this.L.offset+=2;l.K && this.L.console.trace("MP4AudioSampleEntry: channelcount: " + this.Eia + ", samplesize: " + this.Rua + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Me)(d.Me.Eia=this.Eia,d.Me.Rua=this.Rua,d.Me.samplerate=this.samplerate);return g;};h.Nc=!1;return h;})(a(44126).default);b["default"]=r;},22770:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Dc=this.Qv([{Wbc:"int32"},{maxBitrate:"int32"},{w2:"int32"}]);return !0;};f.te="btrt";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ff=b.K=void 0;c=a(27172);b.K=!1;r=(function(){function l(f,h,d,g,m){this.Nb=f;this.type=h;this.byteOffset=d;this.byteLength=g;this.parent=m;this.Ed={};this.JG=g;}l.Px=function(f,h){var g,k;function d(n){n && n.Px && (n=n.Px(h),n.length && (g=g.concat(n)));}g=[];f.type === h && g.push(f);if(f.Ed)for(var m in f.Ed){k=f.Ed[m];Array.isArray(k) && k.forEach(d);}return g;};l.uR=function(f,h){void 0 === f.Ed[h.type] && (f.Ed[h.type]=[]);f.Ed[h.type].push(h);};l.Sm=function(f,h){return l.Px(f,h)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{L:{get:function(){return this.Nb;},enumerable:!1,configurable:!0}});l.prototype.Bg=function(){var f;f=this.Nb.Qb();this.version=f >> 24;this.flags=f & 16777215;};l.prototype.uR=function(f){l.uR(this,f);};l.prototype.Px=function(f){return l.Px(this,f);};l.prototype.Sm=function(f){return l.Sm(this,f);};l.prototype.parse=function(){return !0;};l.prototype.QS=function(){return !0;};l.prototype.wo=function(f){if((f=this.Ed[f]) && Array.isArray(f) && 1 === f.length)return f[0];};l.prototype.Zl=function(f,h){h=void 0 === h?this.Nb.offset:h;(0,c.assert)(h >= this.startOffset + 8 && h + f <= this.startOffset + this.JG,"Removal range [0x" + h.toString(16) + "-0x" + (h + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.JG).toString(16) + ")");this.Nb.Zl(f,h,this);};l.prototype.n9=function(f,h,d){d=void 0 === d?this.Nb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + f <= this.startOffset + this.JG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.JG).toString(16) + ")");this.Nb.n9(f,h,d,this);};l.prototype.M8a=function(f,h,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.zPa(f,h));}return g;}return this.zPa(f,h);};l.prototype.Qv=function(f){var h,d;d=this;void 0 === h && (h={});f.forEach(function(g){var m,k;if("offset" === g.type){m=g.offset;if(0 < m % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Nb.offset+=m / 8;}else for(m in g){k=g[m];h[m]="string" === typeof k?d.M8a(k):d.M8a(k.type,k.length,k.msb);}});return h;};l.prototype.zPa=function(f,h){var d;d=this.byteLength - this.Nb.offset + this.startOffset;"undefined" === typeof h && (h=d);switch(f){case "int8":f=this.Nb.jd();break;case "int64":f=this.Nb.Vi();break;case "int32":f=this.Nb.Qb();break;case "int16":f=this.Nb.Rf();break;case "string":f=this.Nb.vXb(Math.min(h,d));break;default:throw Error("Invalid type: " + f);}return f;};l.Nc=!1;return l;})();b.ff=r;},89525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){var d,g,m;d=this.L.offset;g=this.L.Rf();this.jVa=g >> 3;this.DSb=g & 7;this.y2b=[];for(g=0;g <= this.DSb;g++){m={dGb:this.L.Oc(2),Stb:this.L.Oc(5),Ttb:this.L.Oc(5),wqb:this.L.Oc(3),rec:this.L.Oc(1),I9a:this.L.Oc(3),CSb:this.L.Oc(4)};0 < m.CSb?m.fcc=this.L.Oc(9):this.L.Oc(1);this.y2b.push(m);}h && h.oWa && (h.oWa.jVa=this.jVa,2 <= this.byteLength - (this.L.offset - d) && (this.L.Oc(7),d=this.L.Oc(1),h.oWa.Ebc=1 === d));return !0;};f.te="dec3";return f;})(a(85571).ff);b["default"]=r;},46079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26678);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.Bg();this.bib=l.Iba.F8a(this.L,d);return !0;};h.te="esds";h.Nc=!1;return h;})(a(85571).ff);b["default"]=r;},57199:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g,m,k,n,p,q,u;if(null === d || void 0 === d || !d.Mg)return !0;p=null === (n=null === (k=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Sm("tkhd")) || void 0 === k?void 0:k.Dc) || void 0 === n?void 0:n.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Mg[p]);if(!d.Mg[p])return !0;this.Bg();g=this.L.Qb();for(m=0;m < g;m++){k=1 === this.version?this.L.Vi():this.L.Qb();n=1 === this.version?this.L.Vi():this.L.Qb();q=this.L.Rf();u=this.L.Rf();k={hgc:k,Pec:n,Oec:q,Nec:u};d.Mg[p].rWa || (d.Mg[p].rWa=[]);d.Mg[p].rWa.push(k);}return !0;};h.te="elst";h.Nc=!1;return h;})(a(85571).ff);b["default"]=r;},89849:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.L.Gy();this.L.Gy();for(this.eja=[];this.L.offset <= this.byteOffset + this.byteLength - 4;){this.eja.push(this.L.Gy());}return !0;};f.te="ftyp";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},21501:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){this.fAb=this.L.Gy();h && h.Me && (h.Me.NZb=this.fAb);return !0;};f.te="frma";return f;})(a(85571).ff);b["default"]=r;},36464:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(97001);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g,m,k,n,p;this.Bg();this.Dc=this.Qv([{Dfc:"int32"},{Ina:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Dc.Ina=(0,l.Oz)(this.Dc.Ina);if(d && d.Mg){p=null === (n=null === (k=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Sm("tkhd")) || void 0 === k?void 0:k.Dc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Mg[p] && (d.Mg[p].ov=this.Dc.Ina);}return !0;};h.te="hdlr";h.Nc=!1;return h;})(a(85571).ff);b["default"]=r;},12228:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.QS=function(){var d;d=this.Sm("esds");if(d=d && d.bib.Sm(5))((0,l.assert)(this.samplerate),this.uF=d.uF * this.samplerate / d.D9);return !0;};h.te="mp4a";h.Nc=!0;return h;})(a(61671).default);b["default"]=r;},17904:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97291:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Bg();this.Dc=1 === this.version?this.Qv([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Qv([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};f.te="mvhd";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},60841:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Bg();this.Dc=this.Qv(1 === this.version?[{IFb:"int64"}]:[{IFb:"int32"}]);return !0;};f.te="mehd";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},75706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Wca;a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bg();this.Dc=this.Qv([{qt:"int32"},{Gs:"int16"}]);return !0;};h.te=l;h.Nc=!1;return h;})(a.ff);b["default"]=a;},79798:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);r=a(85571);f=l.Xca;r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.parse=function(){this.Bg();this.fileSize=this.L.Vi();this.S=this.L.Vi();this.duration=this.L.Vi(!1,!0);this.QSb=this.L.Vi();this.L.Vi();this.USb=this.L.Vi();this.bSb=this.L.Qb();this.RSb=this.L.Vi();this.nFb=this.L.Qb();this.L.e9();this.Vk={moof:{offset:this.QSb},sidx:{offset:this.RSb,size:this.nFb}};this.Vk[l.sHa]={offset:this.USb,size:this.bSb};this.L.offset - this.startOffset <= this.length - 24 && (this.TSb=this.L.Vi(),this.PRb=this.L.Qb(),this.SSb=this.L.Vi(),this.ORb=this.L.Qb(),this.Vk[l.u_]={offset:this.TSb,size:this.PRb},this.Vk[l.t_]={offset:this.SSb,size:this.ORb});return !0;};d.te=f;d.Nc=!1;return d;})(r.ff);b["default"]=r;},30855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Yca;a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){var d,k,n;this.Bg();1 <= this.version && this.L.e9();d=this.L.Qb();this.Vk={};for(var g=this.startOffset + this.length,m=0;m < d;++m){k=this.L.Gy();"uuid" === k && (k=this.L.e9());n=this.L.Vi();this.Vk[k]={offset:g,size:n};g+=n;}return !0;};h.te=l;h.Nc=!1;return h;})(a.ff);b["default"]=a;},60440:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){this.Dc=this.Qv([{nLb:"int32"},{c6b:"int32"}]);if(null === h || void 0 === h?0:h.Me)(h.Me.Hdc=this.Dc.nLb,h.Me.jhc=this.Dc.c6b);return !0;};f.te="pasp";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},44210:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);f=a(255);h=a(61671);r=a(85571);d=a(6483);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.Bg();this.NK=this.L.Qb();return !0;};m.prototype.QS=function(k){var n;n=Object.keys(this.Ed);n.length && (n=n[0],this.Ed[n].length && (n=this.Ed[n][0],n instanceof h.default?this.ca=new f.N(n.uF,n.samplerate):n instanceof d.default && (n=n.Ed[l.Wca]) && n.length && (n=n[0].Dc,1E3 !== n.Gs && 1001 !== n.Gs || 0 !== n.qt % 1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.qt + "/" + n.Gs):this.ca=new f.N(n.Gs,n.qt)),k && this.ca && (k.ca=this.ca)));return !0;};m.prototype.n9a=function(k){void 0 !== this.Ed[k] && 0 !== this.Ed[k].length && (this.Nb.Vt(this.NK - 1,this.byteOffset + 12),k=this.Ed[k][0],this.Zl(k.byteLength,k.byteOffset));};m.te="stsd";m.Nc=!0;return m;})(r.ff);b["default"]=a;},44126:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(85571);l=a(85571);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.L.offset+=6;this.L.Rf();l.K && this.L.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Me)d.Me.NZb=this.type;return !0;};return h;})(r.ff);b["default"]=a;},80586:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){this.Bg();this.cva=this.L.Gy();l.K && this.L.console.trace("SchemeTypeBoxTranslator: " + this.cva);if("cenc" === this.cva){if((this.L.offset-=4,l.K && this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.L.offset),this.Nb.Meb("piff"),null === d || void 0 === d?0:d.Me))d.Me.tDb="piff";}else if(null === d || void 0 === d?0:d.Me)d.Me.tDb=this.cva;this.L.Qb();return !0;};h.te="schm";h.Nc=!1;return h;})(l.ff);b["default"]=r;},85978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(255);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.QS=function(d){var g;if(d && d.ca && !d.VTb){g=this.wo("mdia");g && (g=g.wo("mdhd")) && g.S !== d.ca.S && (d.ca=new l.N(d.ca).ef(g.S));}return !0;};h.te="trak";h.Nc=!0;return h;})(a(85571).ff);b["default"]=r;},85830:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){var d,g,m,k,n;this.Bg();d=this.Qv([{iO:"int32"},{fka:"int32"},{dv:"int32"},{Jx:"int32"},{Ix:"int32"}]);g=d.iO;m=d.fka;k=d.dv;n=d.Ix;d=d.Jx;this.Dc={trackId:g,Bcc:m,v3:k,Ccc:n,Dcc:d};(null === h || void 0 === h?0:h.Mg) && h.Mg[g] && (h.Mg[g].fka=m,h.Mg[g].dv=k,h.Mg[g].Ix=n,h.Mg[g].Jx=d);this.iO=g;this.fka=m;this.dv=k;this.Jx=d;this.Ix=n;return !0;};f.te="trex";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},20968:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){var d;this.Bg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{pec:"int16"},{Bbc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Dc=this.Qv(d);this.Dc.Ugc=!!(this.flags & 1);this.Dc.Vgc=!!(this.flags & 2);this.Dc.Wgc=!!(this.flags & 4);this.Dc.Xgc=!!(this.flags & 8);if(null === h || void 0 === h?0:h.Me)(h.Me.width=this.Dc.width,h.Me.height=this.Dc.height);h && h.Mg && (h.Mg[this.Dc.trackId]={});return !0;};f.te="tkhd";f.Nc=!1;return f;})(a(85571).ff);b["default"]=r;},58853:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.NMa=void 0;c=a(5163);l=a(61901);f=a(27172);h=a(16936);r=(function(d){function g(m,k,n,p,q){m=d.call(this,m,k,n,p,q) || this;m.CS=!1;return m;}c.__extends(g,d);Object.defineProperties(g.prototype,{iVa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{r4:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{A9:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{C9:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qua:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pua:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});g.prototype.parse=function(m){var k,n,p;this.Bg();this.Wha=this.L.offset;this.rd=this.L.Qb();this.Km=this.iVa?this.L.d9():0;this.pFb=this.r4?this.L.Qb():void 0;this.Oua=(this.A9?4:0) + (this.C9?4:0) + (this.Qua?4:0) + (this.Pua?4:0);this.XK=this.L.offset;(0,f.assert)(this.iVa,"Expected data offset to be present in Track Run");(0,f.assert)(this.length - (this.L.offset - this.startOffset) === this.rd * this.Oua,"Expected remaining data in box to be sample information");if(m && m.ka){m.ka.Km=this.Km;m.ka.rd=this.rd;this.Jj=[];p=null === (n=null === (k=this.parent) || void 0 === k?void 0:k.Sm("tfhd")) || void 0 === n?void 0:n.iO;for(k=0;k < this.rd;k++){n={};this.A9?n.z9=this.L.Qb():m.ka.dv?n.z9=m.ka.dv:p && m.Mg && m.Mg[p] && (n.z9=m.Mg[p].dv);this.C9?n.lH=this.L.Qb():m.ka?n.lH=m.ka.Jx:p && m.Mg && m.Mg[p] && (n.lH=m.Mg[p].Jx);this.Qua?n.B9=this.L.Qb():m.ka?n.B9=m.ka.Ix:p && m.Mg && m.Mg[p] && (n.B9=m.Mg[p].Ix);this.Pua && (n.Xfc=0 === this.version?this.L.Qb():this.L.d9());0 === k && this.r4 && (n.B9=this.pFb);this.Jj.push(n);}m.ka.Jj=this.Jj;if(m.ka.kH)for(((0,f.assert)(m.ka.kH.length === m.ka.Jj.length,("num fragment samples: ").concat(m.ka.Jj.length,", ") + ("num samples in auxiliary info: ").concat(m.ka.kH.length)),p=0);p < m.ka.Jj.length;p++){m.ka.Jj[p].gca=m.ka.kH[p].gca;m.ka.Jj[p].Awa=m.ka.kH[p].Awa;}}return !0;};g.prototype.j1=function(m,k,n){var p,q,u;p=this.A9?this.L.Qb():m.dv;q=this.C9?this.L.Qb():m.Jx;m=this.Qua?this.L.Qb():m.Ix;u=this.Pua?0 === this.version?this.L.Qb():this.L.d9():0;return {PZb:u,B9:m,lH:q,z9:p,Ffc:(n || 0) + u - (void 0 !== k?k:u)};};g.prototype.Ha=function(m,k,n,p,q,u,t){var w,v,y,x;(0,f.assert)(void 0 !== this.Km);(0,f.assert)(void 0 !== this.XK);(0,f.assert)(void 0 !== this.Wha);(0,f.assert)(void 0 !== this.rd);(0,f.assert)(void 0 !== m.vq);w=0;v=0;this.Nb.offset=this.XK;for(p=0;p < q;++p){y=this.j1(k,x,v);if(0 === p)x=y.PZb;w+=y.lH;v+=y.z9;}p=q;q=this.L.offset;y=this.j1(k,x,v);this.cua=t;this.JN=p;this.Qab=v;if(t){if((this.jN=this.Km + w,this.Np=0,p === this.rd))return !0;}else if((this.jN=this.Km,this.Np=w,0 === p))return !0;if(0 === p || p === this.rd)return !1;this.CS=!0;if(t){this.Np+=y.lH;for(t=p + 1;t < this.rd;++t){y=this.j1(k,x,v);this.Np+=y.lH;}this.Nb.offset=this.Wha;this.rd=p;this.Nb.Vt(this.rd);this.Nb.dya(u);this.r4 && (this.L.offset+=4);this.Zl(this.length - (q - this.startOffset),q);}else (k=q - this.XK,this.XK=q,this.Nb.offset=this.Wha,this.rd-=p,this.Nb.Vt(this.rd),this.Km+=w,this.Nb.dya(u,this.Km),this.r4 && (this.L.offset+=4),this.Zl(k,this.Nb.offset));n.Zl(this.Np,m.vq + this.jN);return !0;};g.prototype.xRb=function(m,k,n,p,q,u,t,w){var v,x,z,A,B;void 0 === t && (t=!1);(0,f.assert)(void 0 !== this.Km);(0,f.assert)(void 0 !== this.XK);(0,f.assert)(void 0 !== this.rd);(0,f.assert)(void 0 !== this.Oua);(0,f.assert)(void 0 !== m.vq);for(var y=p.length;y < this.rd;++y){p[y]=p[y - 1];}p.some(function(D){return 0 >= D;}) && (x=null === (v=this.Mnb(q,u)) || void 0 === v?void 0:v.e$);this.L.offset=this.XK;m=m.vq + this.Km;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.L.view.buffer,this.L.view.byteOffset,this.L.view.byteLength);for(y=0;y < this.rd;++y){v=this.j1(k).lH;if(-Infinity === p[y]){if(x && this.C9){n.n9(v,x,m);z=this.Oua - (this.A9?4:0);this.Nb.offset-=z;this.Nb.Vt(x.byteLength);this.Nb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(m,m + v);B=(0,l.oXa)({ud:q,frame:A,nx:p[y],iH:t,rG:w}).PFb;B !== v && this.L.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(v));}catch(D){this.L.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(D.message," ").concat(D.stack));}m+=v;}};g.prototype.Mnb=function(m,k){if("string" === typeof k)return ((0,f.assert)("reset" !== k && "standard" !== k),h.yE[k]);if(void 0 !== m)return k?h.yE.reset[m] || h.yE.standard[m]:h.yE.standard[m];};g.te="trun";g.Nc=!1;return g;})(a(85571).ff);b.NMa=r;},6483:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lya=b.JDa=b.WDa=b.rya=b.qya=b.pya=b.oya=void 0;c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(h){l.prototype.parse.call(this,h);this.Dc=this.Qv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Udc:"int32"},{khc:"int32"},{offset:32,type:"offset"},{sdc:"int16"},{occ:{type:"int8",msb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};f.Nc=!0;return f;})(a(44126).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="avc1";return f;})(r);b.oya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="avc2";return f;})(r);b.pya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="avc3";return f;})(r);b.qya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="avc4";return f;})(r);b.rya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="hvc1";return f;})(r);b.WDa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="hev1";return f;})(r);b.JDa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.te="av01";return f;})(r);b.lya=r;},91418:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yY=void 0;c=a(5163);l=a(85571);f=a(97001);r=(function(h){function d(g,m,k,n,p){k=h.call(this,k,n,p) || this;k.Ntb=g;k.RN=m;k.Ed={};return k;}c.__extends(d,h);d.prototype.parse=function(g){var m,k,n,p,q,u;this.offset=0;m=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Qb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,f.Oz)(this.Qb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.e9();}if(0 === m.length && this.RN.gYa(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.Ntb[p];u=void 0;if(q){if((u=new q(this,p,k,n,m[0]),(m[0] || this).uR(u),u.parse(g)))this.config.rsa && q.Nc?m.unshift(u):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;m.length && this.offset > m[0].byteOffset + m[0].JG - 8;){u=m.shift();if(!u.QS(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.JG;}if(0 === m.length && this.RN.YVa(p,k,n,u))break;}return !this.RN.done && (g=this.RN.endOffset?this.RN.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,u5a:g}:{done:!0,offset:Math.min(this.RN.endOffset || Infinity,this.offset)};};d.prototype.uR=function(g){l.ff.uR(this,g);};return d;})(a(96785).xNa);b.yY=r;},51170:function(r){var c,l;function b(){var f,h;if(DataView.prototype && DataView.prototype.GT && !l){try{f=new ArrayBuffer(4);h=new DataView(f);h.uL(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);h=new DataView(f);h.uL(1,2,2);}catch(d){DataView.prototype.uL=a(DataView.prototype.uL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.o5=a(DataView.prototype.o5,DataView.prototype.getUint16,Uint16Array);DataView.prototype.GT=a(DataView.prototype.GT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Hma=a(DataView.prototype.Hma,DataView.prototype.getInt8,Int8Array);DataView.prototype.Fma=a(DataView.prototype.Fma,DataView.prototype.getInt16,Int16Array);DataView.prototype.Gma=a(DataView.prototype.Gma,DataView.prototype.getInt32,Int32Array);}c.eKb=function(d,g,m,k,n){return m?d.uL(g,m,k || 1,n):new Uint8Array(0);};c.cKb=function(d,g,m,k,n){return m?d.o5(g,m,k || 2,n):new Uint16Array(0);};c.dKb=function(d,g,m,k,n){return m?d.GT(g,m,k || 4,n):new Uint32Array(0);};c.Bdc=function(d,g,m,k,n){return m?d.Hma(g,m,k || 1,n):new Int8Array(0);};c.zdc=function(d,g,m,k,n){return m?d.Fma(g,m,k || 2,n):new Int16Array(0);};c.Adc=function(d,g,m,k,n){return m?d.Gma(g,m,k || 4,n):new Int32Array(0);};l=!0;}}function a(f,h,d){return function(g,m,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(g + m * k > this.byteLength){p=new d(m);p.set(f.call(this,g,m - 1,k,n));p[m - 1]=h.call(this,g + (m - 1 * k),n);return p;}return f.call(this,g,m,k,n);};}c={uL:function(f,h,d,g,m){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getUint8(h,m);}return k;},o5:function(f,h,d,g,m){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getUint16(h,m);}return k;},GT:function(f,h,d,g,m){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getUint32(h,m);}return k;},Hma:function(f,h,d,g,m){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getInt8(h,m);}return k;},Fma:function(f,h,d,g,m){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getInt16(h,m);}return k;},Gma:function(f,h,d,g,m){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,h+=g)){k[n]=f.getInt32(h,m);}return k;},hdc:b};l=!1;c.nHb=function(){return l;};b();r.exports=c;},48609:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wba=void 0;c=a(5163);l=a(85571);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;this.X7=this.L.jd();g=this.L.jd();this.uwa=g >>> 2;this.txa=g >>> 1 & 1;this.bia=256 * this.L.Rf() + this.L.jd();this.maxBitrate=this.L.Qb();this.w2=this.L.Qb();l.K && this.L.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.X7.toString(16) + ", streamType=" + this.uwa + ", upStream=" + this.txa + ", bufferSizeDB=" + this.bia + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.w2);if(null === d || void 0 === d?0:d.Mi)(d.Mi.X7=this.X7,d.Mi.uwa=this.uwa,d.Mi.txa=this.txa,d.Mi.bia=this.bia,d.Mi.maxBitrate=this.maxBitrate,d.Mi.w2=this.w2);this.yPa(d);return !0;};h.tag=4;return h;})(a(4420).aZ);b.wba=r;},91737:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GBa=void 0;c=a(5163);l=a(85571);r=a(4420);f=a(26678);a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.L8a=function(){var g;g=this.L.Oc(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.L.Oc(24);};d.prototype.parse=function(g,m){if(this.UMb(m) && 64 === m.X7){if(null === g || void 0 === g?0:g.Mi){m=this.L.bZa(this.length);for(var k=new ArrayBuffer(this.length),n=new Uint8Array(k),p=0;p < this.length;p++){n[p]=m.getUint8(p);}g.Mi.Acc=k;}this.$o=this.D8a();this.D9=this.L8a();this.Dia=this.L.Oc(4);this.Uua=this.NS=5 === this.$o || 29 === this.$o?5:-1;this.zta=29 === this.$o?1:-1;0 < this.NS && (this.lla=this.L8a(),this.$o=this.D8a(),22 === this.$o && (this.kla=this.L.Oc(4)));switch(this.$o){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.aT=this.L.Oc(1),this.yja=(this.hBb=this.L.Oc(1))?this.L.Oc(14):void 0,this.L.Oc(1),this.uF=3 === this.$o?256:23 === this.$o?this.aT?480:512:this.aT?960:1024);}l.K && this.L.console.trace("AudioSpecificConfig: audioObjectType=" + this.$o + ", samplingFrequency=" + this.D9 + ", channelConfiguration=" + this.Dia + ", extensionAudioObjectType=" + this.NS + ", sbrPresentFlag=" + this.Uua + ", psPresentFlag=" + this.zta + ", extensionSamplingFrequency=" + this.lla + ", extensionChannelConfiguration=" + this.kla + ", frameLengthFlag=" + this.aT + ", coreCoderDelay=" + this.yja + ", frameLength=" + this.uF);if(null === g || void 0 === g?0:g.Mi)(g.Mi.$o=this.$o,g.Mi.D9=this.D9,g.Mi.Dia=this.Dia,g.Mi.NS=this.NS,g.Mi.Uua=this.Uua,g.Mi.zta=this.zta,g.Mi.lla=this.lla,g.Mi.kla=this.kla,g.Mi.aT=this.aT,g.Mi.yja=this.yja,g.Mi.uF=this.uF);}this.skip();return !0;};d.prototype.D8a=function(){var g;g=this.L.Oc(5);31 === g && (g=32 + this.L.Oc(6));return g;};d.prototype.UMb=function(g){return g.tag === f.wba.tag;};d.tag=5;return d;})(r.aZ);b.GBa=a;},4420:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aZ=void 0;c=a(5163);l=a(26678);r=(function(){function f(h,d,g){this.tag=h;this.view=d;this.L=g;this.startOffset=g.offset;}f.F8a=function(h,d,g){var m,k;m=h.jd();k=h.xXb();h=new (l.YE[m] || f)(m,h.bZa(k),h);h.parse(d,g);return h;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});f.prototype.parse=function(){this.L.offset=this.startOffset + this.length;this.L.qd=0;return !0;};f.prototype.EXa=function(h){var d,m;d=[];this.tag === h && d.push(this);if(this.YE)for(var g=0;g < this.YE.length;g++){m=this.YE[g];d=c.__spreadArray(c.__spreadArray([],d,!0),m.EXa(h),!0);}return d;};f.prototype.Sm=function(h){for(h=this.EXa(h);0 < h.length;){return h[0];}};f.prototype.yPa=function(h){for(this.YE=[];this.L.offset < this.startOffset + this.length;){this.YE.push(f.F8a(this.L,h,this));}};return f;})();b.aZ=r;r.prototype.skip=r.prototype.parse;},26678:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YE=void 0;r=a(5163);r.__exportStar(a(4420),b);r.__exportStar(a(99128),b);r.__exportStar(a(48609),b);r.__exportStar(a(91737),b);r=a(48609);c=a(91737);a=a(99128);b.YE={3:a.Iba,4:r.wba,5:c.GBa};},99128:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iba=void 0;c=a(5163);l=a(85571);r=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(d){var g;this.cib=this.L.Rf();g=this.L.jd();this.sbb=!!(g & 128);this.bNa=!!(g & 64);this.MHa=!!(g & 32);this.g2b=g & 31;this.iBb=this.sbb?this.L.Rf():void 0;this.bNa && this.L.b9(this.L.jd());this.jkb=this.MHa?this.L.Rf():void 0;l.K && this.L.console.trace("ESDescriptor: ES_ID=" + this.cib + ", streamDependenceFlag=" + this.sbb + ", URL_Flag=" + this.bNa + ", OCRstreamFlag=" + this.MHa + ", streamPriority=" + this.g2b + ", dependsOn_ES_ID=" + this.iBb + ", OCR_ES_Id=" + this.jkb);this.yPa(d);return !0;};h.tag=3;return h;})(a(4420).aZ);b.Iba=r;},36418:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.v=b.yE=b.c0=b.zea=b.Ahb=b.Oz=b.oP=b.LB=b.Sr=b.Hw=b.Co=void 0;r=a(52297);c=a(51170);b.Ahb=c;c=a(11174);b.zea=c;c=a(16936);b.yE=c;b.c0=r.pM.Ed.sidx;l=a(56602);Object.defineProperties(b,{Co:{enumerable:!0,get:function(){return l.Co;}}});f=a(46788);Object.defineProperties(b,{Hw:{enumerable:!0,get:function(){return f.Hw;}}});h=a(70190);Object.defineProperties(b,{Sr:{enumerable:!0,get:function(){return h.Sr;}}});Object.defineProperties(b,{LB:{enumerable:!0,get:function(){return h.LB;}}});d=a(49478);Object.defineProperties(b,{oP:{enumerable:!0,get:function(){return d.oP;}}});g=a(97001);Object.defineProperties(b,{Oz:{enumerable:!0,get:function(){return g.Oz;}}});m=a(23378);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return m.v;}}});},49478:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oP=void 0;c=a(5163);r=a(46788);l=a(57821);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.Ha=function(d){var g,m,k,n;g=this;if(!this.parse().done)return !1;m=this.Ed.moov;if(!m || 0 === m.length)return !1;k=m[0].Sm("tenc");if(!k)return !1;n=new Uint8Array(k.Zn);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.rf.n9(p.from.length,p.to,k.mpa);});return (0,l.concat)(this.rf.Ha());};return h;})(r.Hw);b.oP=a;},23378:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.v=void 0;c=a(60328);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});},52297:function(r,b,a){var F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb;function c(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function l(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function f(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function h(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);this.Xva=Ta.config.Xva;this.lf=this.sizes=void 0;}function d(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function g(){for(var Ta=new DataView(this),bb="",ib,pb=0;pb < this.byteLength;pb++){ib=Ta.getUint8(pb);bb+=("00" + ib.toString(16)).slice(-2);}return bb;}function m(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function k(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function n(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function p(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function q(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function u(Ta){function bb(ib,pb,ob,Bb,Eb){J.call(this,ib,pb,ob,Bb,Eb);this.WRb=Ta;}bb.Nc=!1;bb.prototype=new J();bb.prototype.constructor=bb;Object.defineProperties(bb.prototype,{xBa:{get:function(){return this.WRb;}}});bb.prototype.parse=function(){this.L.offset=this.startOffset + 4;this.Nb.Meb(this.xBa);this.type=this.xBa;return !0;};return bb;}function t(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function w(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function v(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function y(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function x(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function z(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function A(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function B(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function D(Ta,bb,ib,pb,ob){J.call(this,Ta,bb,ib,pb,ob);}function C(Ta,bb){Ta.forEach(function(ib){bb[ib.te]=ib;});}F=a(27172).assert;b=a(26464);G=a(255).N;E=a(11174);a(51170);a(97001);a(97001);a(97001);J=a(85571).ff;M=a(97291)["default"];L=a(85978)["default"];H=a(20968)["default"];N=a(60841)["default"];I=a(60440)["default"];K=a(22770)["default"];O=a(89849)["default"];R=a(36464)["default"];Y=a(44210)["default"];a(44126);a(61671);oa=a(82818).gya;ka=a(82818).mCa;ha=a(24475)["default"];za=a(89525)["default"];Ca=a(6483)["default"];La=a(6483).oya;Wa=a(6483).pya;db=a(6483).qya;U=a(6483).rya;ja=a(80586)["default"];sa=a(24895)["default"];Q=a(27235)["default"];P=a(6483).WDa;Z=a(6483).JDa;na=a(6483).lya;qa=a(12228)["default"];Ha=a(46079)["default"];Ya=a(75706)["default"];Va=a(79798)["default"];rb=a(30855)["default"];a(4420);a(48609);a(91737);a(99128);mb=a(85830)["default"];Fb=a(58853).NMa;Kb=a(21501)["default"];a=a(57199)["default"];c.Nc=!0;c.prototype=new J();c.prototype.constructor=c;l.Nc=!0;l.prototype=new J();l.prototype.constructor=l;f.Nc=!1;f.prototype=new J();f.prototype.constructor=f;f.prototype.parse=function(Ta){var bb;this.Bg();1 === this.version?(this.L.Vi(),this.L.Vi(),this.S=this.L.Qb(),this.duration=this.L.Vi()):(this.L.Qb(),this.L.Qb(),this.S=this.L.Qb(),this.duration=this.L.Qb());bb=this.L.Rf() & 32767;this.language=String.fromCharCode(96 + (bb >>> 10),96 + (bb >>> 5 & 31),96 + (bb & 31));Ta && Ta.Me && (Ta.Me.S=this.S,Ta.Me.duration=this.duration);return !0;};h.Nc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.cpb=function(){this.Bg();this.L.Qb();this.S=this.L.Qb();0 === this.version?(this.lWa=this.L.Qb(),this.VXa=this.L.Qb()):(this.lWa=this.L.Vi(),this.VXa=this.L.Vi());this.I9a=this.L.Rf();this.$8a=this.L.Rf();};h.prototype.cnb=function(Ta,bb){var ib,pb,ob;ib=this.S;Ta=Ta && Ta.S || ib;pb=Ta / ib;ib=this.L.a9(bb,12,!1);ob=1 === pb?this.L.a9(bb,12,!1):E.from(Uint32Array,{length:bb},function(){var Bb;Bb=Math.round(this.L.Qb() * pb);this.L.offset+=8;return Bb;},this);this.bqb(bb,ob,ib,Ta);};h.prototype.bqb=function(Ta,bb,ib,pb){if(this.Xva){pb=this.Xva * pb / 1E3;for(var ob=0,Bb=1;Bb < Ta;Bb++){Math.abs(bb[ob] - pb) > Math.abs(bb[ob] + bb[Bb] - pb)?(bb[ob]+=bb[Bb],ib[ob]+=ib[Bb]):(++ob,ob !== Bb && (bb[ob]=bb[Bb],ib[ob]=ib[Bb]));}++ob;bb=new Uint32Array(bb.buffer.slice(0,4 * ob));ib=new Uint32Array(ib.buffer.slice(0,4 * ob));}this.sizes=ib;this.lf=bb;};h.prototype.parse=function(Ta){var bb,ib,pb,ob;this.cpb();this.ca=Ta.ca;bb=this.S;ib=this.ca && this.ca.S || bb;pb=this.$8a;ob=this.startOffset + this.length + this.VXa;bb=new G(this.lWa,bb).ef(ib).Ba;this.La={S:ib,wr:bb,offset:ob};this.cnb(this.ca,pb);this.La.lf=this.lf;this.La.sizes=this.sizes;Ta.pk=this;return !0;};d.Nc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ta;this.iw=[];this.VUb=[];Ta=(this.length - 11) / 2;this.L.jd();this.L.jd();this.L.jd();for(var bb=0;bb < Ta;bb++){this.iw.push(this.L.jd());this.VUb.push(this.L.jd());}return !0;};m.Nc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(Ta){var bb;this.Bg();this.L.offset+=1;if(0 == this.version)this.L.offset+=1;else {bb=this.L.jd();this.RAb=bb >> 4;this.XAb=bb & 15;Ta && Ta.Me && (Ta.Me.Ecc=this.RAb,Ta.Me.Hcc=this.XAb);}this.BVa=this.L.jd();this.AVa=this.L.jd();this.mpa=this.L.offset;this.Zn=this.L.c9(16);this.Zn.toString=g;Ta && Ta.Me && (Ta.Me.Fcc=this.BVa,Ta.Me.TAb=this.AVa,Ta.Me.Gcc=this.Zn);1 == this.BVa && 0 == this.AVa && (this.QAb=this.L.jd(),this.PAb=this.L.c9(this.QAb),Ta && Ta.Me && (Ta.Me.SAb=this.PAb));return !0;};k.Nc=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){this.Bg();this.lp=this.L.Rf();this.GQb=this.L.a9(this.lp,void 0,!0);return !0;};n.Nc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ta){var bb,ib,pb,ob,Bb,Eb;bb=Ta.pk;F(bb);Ta=Ta.ca;ib=bb.S;bb=bb.$8a;F(Ta);F(ib);F(bb);this.Bg();F(2 > this.version);this.lp=this.L.Rf();this.OM=new Uint16Array(bb + 1);pb=Ta.J_a(ib);ob=pb / ib;Bb=Ta.ef(pb).Ba;if(0 === this.version)for((this.vN=new Uint16Array(),this.ri=new Uint32Array(),Ta=ib=0);Ta <= bb;++Ta){if((this.OM[Ta]=ib,Ta < this.lp)){Eb=this.L.jd();if(0 !== Eb)for(pb=0;pb < Eb;(++pb,++ib)){this.vN[ib]=Math.floor((this.L.Qb() + 1) * ob) / Bb;this.ri[ib]=this.L.Qb();}}}else if(1 === this.version)for((pb=this.L.uXb(this.lp),this.L.offset+=4,this.ri=this.L.a9(this.lp,10,!1),this.L.offset-=8,this.vN=E.from(Uint16Array,{length:this.lp},function(){var Lb;Lb=Math.floor((this.L.Qb() + 1) * ob) / Bb;this.L.offset+=6;return Lb;},this),ib=Ta=0);Ta <= bb;++Ta){for(;ib < pb.length && pb[ib] < Ta;){++ib;}this.OM[Ta]=ib;}this.pj={OM:this.OM,vN:this.vN,ri:this.ri};return !0;};p.Nc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Nc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.QS=function(){var Ta;Ta=this.wo("tfhd");Ta && (this.vq=Ta.bSa?Ta.vq:this.parent.startOffset);return !0;};t.Nc=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Ta,Xb;Ta=this.L.offset;this.Bg();if(1 === this.version){this.L.offset+=2;for(var bb=this.L.offset,ib=this.L.jd(),pb=this.L.jd(),ob=this.L.jd(),Bb=this.L.jd(),Eb=this.L.Rf(),Lb=[],Pb=0;Pb < Eb;++Pb){Lb=this.L.jd();}Pb=(ib & 240) >>> 4;Xb=(ib & 14) >>> 1;ib&=1;ob=16 === ob?1:0;pb != Bb && this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + pb + " and matrixCoefficients " + Bb + " should be the same value!");Bb=2;switch(pb){case 1:Bb=2;break;case 6:Bb=1;break;case 9:Bb=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries " + pb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Nb.laa(this.version,Ta);this.Nb.laa(Pb << 4 | Bb,bb++);this.Nb.laa(Xb << 4 | ob << 1 | ib,bb++);Eb+=2;Lb.push(0,0);this.Nb.Q6b(Eb);bb+=2;Lb.forEach(function(Ib){this.Nb.laa(Ib,bb++);});}return !0;};w.Nc=!1;w.prototype=new J();w.prototype.constructor=w;w.te="tfhd";Object.defineProperties(w.prototype,{bSa:{get:function(){return this.flags & 1;}},QZb:{get:function(){return this.flags & 2;}},UAb:{get:function(){return this.flags & 8;}},WAb:{get:function(){return this.flags & 16;}},CVa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Ta){this.Bg();this.iO=this.L.Qb();this.vq=this.bSa?this.L.Vi():void 0;this.g$a=this.QZb?this.L.Qb():void 0;this.dv=this.UAb?this.L.Qb():void 0;this.Jx=this.WAb?this.L.Qb():void 0;this.Ix=this.CVa?this.L.Qb():void 0;Ta && Ta.ka && (Ta.ka.iO=this.iO,Ta.ka.vq=this.vq,Ta.ka.g$a=this.g$a,Ta.ka.dv=this.dv,Ta.ka.Jx=this.Jx,Ta.ka.Ix=this.CVa?this.Ix:void 0);return !0;};v.Nc=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(Ta){this.Bg();this.CE=1 === this.version?this.L.Vi():this.L.Qb();Ta && Ta.ka && (Ta.ka.CE=this.CE);return !0;};v.prototype.Ha=function(Ta){var bb;bb=this.startOffset + 12;this.CE+=Ta;1 === this.version?this.Nb.R6b(this.CE,bb):this.Nb.Vt(this.CE,bb);};y.Nc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{AE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ta){this.Bg();this.AE && this.L.Gy();this.AE && this.L.Qb();this.VAb=this.L.jd();this.rd=this.L.Qb();this.aMb=this.L.b9(this.rd);Ta && Ta.ka && (Ta.ka.RZb=this.aMb);return !0;};y.prototype.Ha=function(Ta,bb){if(Ta && 0 === this.VAb){Ta=bb?this.rd - Ta:Ta;this.Nb.offset=this.startOffset + 13 + (this.AE?8:0);this.rd-=Ta;this.Nb.Vt(this.rd);this.Mua=0;if(bb)this.Nb.offset+=this.rd;else {for(bb=0;bb < Ta;++bb){this.Mua+=this.Nb.jd();}this.Nb.offset-=Ta;}this.Zl(Ta,this.L.offset);}return !0;};x.Nc=!1;x.prototype=Object.create(J.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{AE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ta){var bb,ib,Pb,Xb;this.Bg();this.AE && this.L.Gy();this.AE && this.L.Qb();this.lp=this.L.Qb();F(1 === this.lp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Km=0 === this.version?this.L.d9():this.L.zXb();this.L.offset=this.Km;if(Ta && Ta.ka && Ta.Me){bb=Ta.Me.TAb;ib=Ta.ka.RZb;F(0 < bb || void 0 !== Ta.Me.SAb,"Expected per sample or constant IV");F(0 < (ib || []).length,"Expected saix box parsing to find sample info sizes");Ta.ka.kH=[];for(var pb=0;pb < ib.length;pb++){for(var ob=bb?this.L.c9(bb):void 0,Bb=[],Eb=this.L.Rf(),Lb=0;Lb < Eb;Lb++){Pb=this.L.Rf();Xb=this.L.Qb();Bb.push({qub:Pb,rub:Xb});}Ta.ka.kH.push({Awa:Bb,gca:ob});}}return !0;};x.prototype.Ha=function(Ta,bb){this.Km+=Ta;this.Nb.offset=this.startOffset + 16 + (this.AE?8:0) + (0 === this.version?0:4);this.Nb.dya(bb,this.Km);return !0;};z.Nc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{M6a:{get:function(){return this.flags & 1;}},Zdb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ta){var bb,Eb,Lb;this.Bg();bb=0;this.M6a && (bb=this.TNb=this.L.Qb() & 255,this.L.b9(16));if(Ta && Ta.ka){if(Ta.ka.kH)return !0;Ta.ka.Jj || (Ta.ka.Jj=[]);}if(0 !== bb && 8 !== bb && 16 !== bb)return !0;this.rd=this.L.Qb();if(Ta && Ta.ka)for(var ib=0;ib < this.rd;ib++){if((Ta.ka.Jj[ib].gca=0 < bb?this.L.c9(bb):void 0,this.Zdb)){for(var pb=[],ob=this.L.Rf(),Bb=0;Bb < ob;Bb++){Eb=this.L.Rf();Lb=this.L.Qb();pb.push({qub:Eb,rub:Lb});}Ta.ka.Jj[ib].Awa=pb;}}return !0;};z.prototype.Ha=function(Ta,bb){var ib,pb;ib=bb?this.rd - Ta:Ta;this.Nb.offset=this.startOffset + 28 + (this.M6a?20:0);this.rd-=ib;this.Nb.Vt(this.rd);Ta=this.Nb.offset;if(this.Zdb)for(ib=bb?this.rd:ib;0 < ib;--ib){this.Nb.offset+=8;pb=this.Nb.Rf();this.Nb.offset+=6 * pb;}else this.Nb.offset+=8 * (bb?this.rd:ib);bb?this.Zl(this.length - (this.L.offset - this.startOffset),this.L.offset):this.Zl(this.L.offset - Ta,Ta);};A.Nc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ta){this.Bg();if(Ta && Ta.ka){void 0 === Ta.ka.Jj && (Ta.ka.Jj=[]);for(var bb=0;bb < this.length - 12;bb++){Ta.ka.Jj[bb].Yfc=this.L.jd();}}return !0;};A.prototype.Ha=function(Ta,bb,ib){ib?this.Zl(bb - Ta,this.startOffset + 12 + Ta):this.Zl(Ta,this.startOffset + 12);return !0;};B.Nc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bg();this.L.Gy();1 === this.version && this.L.Qb();this.lp=this.L.Qb();this.EW=[];for(var Ta=0;Ta < this.lp;++Ta){for(var bb=this.L.Qb(),ib=this.L.Qb(),pb=0;pb < bb;++pb){this.EW.push(ib);}}return !0;};B.prototype.Ha=function(Ta,bb){this.EW=bb?this.EW.slice(0,Ta):this.EW.slice(Ta);Ta=this.EW.reduce(function(ib,pb){0 !== ib.length && ib[ib.length - 1].group === pb || ib.push({group:pb,count:0});++ib[ib.length - 1].count;return ib;},[]);this.Nb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Nb.Vt(Ta.length);Ta.forEach((function(ib){this.Nb.Vt(ib.count);this.Nb.Vt(ib.group);}).bind(this));this.lp > Ta.length && this.Zl(8 * (this.lp - Ta.length));this.lp=Ta.length;return !0;};D.Nc=!1;D.prototype=Object.create(J.prototype);D.prototype.constructor=D;Ca={Ed:{moov:l,trak:c,mdia:c,mdhd:f,minf:c,encv:Ca,schi:c,sidx:h,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:w,trun:Fb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:v,mdat:D,vmaf:d,edts:c},a4b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Pcb:{schm:ja},Nua:{}};C([sa,Q,K,a,O,Kb,R,P,Z,na,M,N,Va,rb,I,Y,L,H,mb,Fb],Ca.Ed);C([oa,ha,La,Wa,db,U,ka,za,Ha,qa],Ca.Nua);C([sa,ja],Ca.Pcb);Ca.Ed[b.fIa]=m;Ca.Ed[b.u_]=k;Ca.Ed[b.t_]=n;Ca.Ed[b.eIa]=z;Ca.Nua[b.Wca]=Ya;Ca.ff=J;r.exports={pM:Ca};},70190:function(r,b,a){var l,f,h,d,g;function c(m){return "number" === typeof m[0] || void 0 === m[0]?{Ij:m[0],S:m[1],nx:m[2],Aua:m[3],iH:m[4]}:m[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.LB=b.Sr=void 0;l=a(5163);f=a(26464);r=a(46788);h=a(97001);d=a(27172);g=a(85571);a=(function(m){function k(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(k,m);k.prototype.i9a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{cua:!1}));};k.prototype.p9a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{cua:!0}));};k.prototype.Ha=function(n){var q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I;function p(R){z=x[R];A=z.wo("traf");if(void 0 === A || void 0 === A.vq)return !1;F=A.wo("tfdt");if(void 0 === F)return !1;B=A.wo("trun");return void 0 === B?!1:!0;}q=n.Ij;u=n.S;t=n.cua;w=n.nx;v=n.Aua;v=void 0 === v?!1:v;y=n.iH;y=void 0 === y?!1:y;n=n.rG;if(!this.parse().done)return !1;x=this.Ed.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){D=q;for(q=0;q < x.length;++q){if(!p(q,this.rf.console.trace))return !1;(0,d.assert)(z && A && F && B && void 0 !== B.rd);if(B.rd > D || t && B.rd === D)break;D-=B.rd;}(0,d.assert)(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.rf.console.trace)))return !1;(0,d.assert)(z && A && F && B);if(t && q < x.length - 1){C=x[q + 1];this.rf.Zl(this.view.byteOffset - C.startOffset,C.startOffset);}else !t && 0 < q && this.rf.Zl(z.startOffset,0);C=A.wo("tfhd");if(void 0 === C)return !1;F=A.wo("tfdt");G=B.rd;E=A.wo("saiz");J=A.wo("saio");M=A.wo(f.eIa);L=A.wo("sbgp");if(!(!E && !J || E && J))return !1;H=A.wo("sdtp");N=g.ff.Px(this,"mdat");if(N && q < N.length)I=N[q];else if(q !== x.length - 1)return !1;void 0 === D && (D=t?B.rd:0);if("number" === typeof w && 0 < w){N=t?D:B.rd - D;for(var K=Array(N),O=0;O < N;++O){K[O]=t?O >= N - w?-Infinity:0:O < w?-Infinity:0;}w=K;}if(B.Ha(A,C,I || this.rf,u,D,A.vq,t))B.CS && ((0,d.assert)(void 0 !== B.Qab),(0,d.assert)(void 0 !== B.JN),!t && F && F.Ha(B.Qab),E && J && (E.Ha(B.JN,t),J.Ha(M?0:E.Mua,A.vq)),M && M.Ha(B.JN,t),H && H.Ha(B.JN,G,t),L && L.Ha(B.JN,t));else if(!t){if(q === x.length - 1)return !1;this.rf.Zl(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.JN)return !1;Array.isArray(w) && I && this.stream.profile && void 0 !== v && B.xRb(A,C,I,w,this.stream.profile,v,y,n);u=this.rf.Ha();t=u.reduce(function(R,Y){return R + Y.byteLength;},0);u={ka:u,length:t,JG:this.rf.view.byteLength};B.CS && !I && (u.jN=A.vq + B.jN,u.Np=B.Np);return u;};return k;})((function(m){function k(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(k,m);return k;})(r.Hw));b.Sr=a;b.LB=function(m){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,m + 8);n.setUint32(4,(0,h.Zea)("mdat"));return k;};},46788:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Hw=void 0;c=a(91418);l=a(52297);f=a(27815);r=(function(){function h(d,g,m){this.console=d;this.stream=g;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}h.prototype.parse=function(d){var g;g=new f.zba(this.view.byteLength);this.rf=new c.yY(l.pM.Ed,g,this.view,this.console,{rsa:!0});d=this.rf.parse(d);this.Ed=this.rf.Ed;return d;};return h;})();b.Hw=r;},56602:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Co=void 0;c=a(5163);l=a(44295);f=a(57821);h=a(27172);d=a(255);g=a(85571);r=a(79798);m=a(30855);k=a(91418);n=a(51170);p=a(52297);q=a(26464);u=a(27815);t=a(82441);c.__exportStar(a(17904),b);a=(function(){function w(v,y,x,z,A,B){this.console=v;this.stream=y;this.Dt=z;this.urb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.WKb=(0,n.nHb)();}w.path=function(v,y){return y.reduce(function(x,z){return x && x.Ed[z] && x.Ed[z][0];},v);};w.uIb=function(v){return v && v.eja && -1 !== v.eja.indexOf("mcl0")?"mcl0":void 0;};w.VEb=function(v,y){var x,z;(0,h.assert)("mcl0" === v,"Unsupported McClearen brand");x=y.La;v=x.lf;y=new d.N(120,1).ef(x.S).Ba;z=0;for(x=x.wr;z < v.length && x < y;){x+=v[z++];}return z;};w.prototype.parse=function(v){var y;y=this.XZb();if(!y.done){if(y.u5a)return {st:!1,R1:y.u5a};this.console.error("Scan error: " + y.error);return {st:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === v || void 0 === v?0:v.ca)v.VTb=v.ca;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);v=this.tUb(v);return v.done?this.Swb():(this.console.error("Parse error: " + v.error),{st:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.Px=function(v){return g.ff.Px(this,v);};w.prototype.Sm=function(v){return g.ff.Sm(this,v);};w.prototype.XZb=function(){var v,y;v=new u.dEa(this.Dt,this.urb?[q.u_,q.t_]:[],this.config && this.config.Kgc || ["moof",q.sHa],this.config && this.config.ssa);y=c.__assign(c.__assign({},this.config),{rsa:!1});return new k.yY(w.Wua,v,this.view,this.console,y).parse();};w.prototype.tUb=function(v){var y,x,z;y=new u.zba(this.view.byteLength);x=Object.create(p.pM.Ed);this.config && ((this.config.psa || this.config.Ocb || this.config.i$) && l(p.pM.Nua,x),this.config.cxa && l(p.pM.a4b,x),this.config.Ocb && l(p.pM.Pcb,x));z=c.__assign(c.__assign({},this.config),{rsa:!0});this.rf=new k.yY(x,y,this.view,this.console,z);v=this.rf.parse(v);v.done && (this.Ed=this.rf.Ed);return v;};w.prototype.Swb=function(){var v,y,x,z,A,B,D,C;v={st:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Px("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].wo("tkhd");z && (v.trackId=z.Dc.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.psa)if(z)(v.ca=z.ca,v.Wfc=z.Ed);else return {st:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.fIa])) && (v.sDb={pcc:A.Zn,mpa:A.mpa,lec:!1});if(A=w.path(y,["trak","mdia","mdhd"]))v.S=A.S;if(A=w.path(y,["mvex","trex"]))v.v3=A && A.Dc.v3;v.v3 && v.S && (v.ca=new d.N(v.v3,v.S));if(A=w.path(this,["sidx"])){B=w.path(this,[q.u_]);B=B && B.GQb;D=w.path(this,[q.t_]);D=D && D.pj;v.La=A.La;v.oM=B;v.pj=D;}if(B=this.Ed.vmaf && this.Ed.vmaf[0])v.iw=B.iw;if(this.config.gua && (B=w.path(y,["mvex"])) && x && x.length){C=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});C.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),D=(0,t.kxa)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=(0,t.kxa)(x,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),x.set(C,B.byteOffset),x.set(D,B.byteOffset + C.byteLength));}if(this.config.V9a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.i$ && z && 1 < z.NK && A && (v.Jg=this.i$(z,A)),void 0 === v.Jg && (y=this.rf.CS?(0,f.concat)(this.rf.Ha()):this.view.buffer,v.Jg=[{bf:0,data:y}]));else return {st:!1,parseError:"Missing movie box"};v.st=!0;v.q8=this.rf.offset;return v;};w.prototype.trim=function(v){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.rf.trim(v);this.view=new DataView(y);};w.prototype.i$=function(v,y){var x,z,A;x=Object.keys(v.Ed);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.uIb(x);if(A)return (x=[],this.rf.jXb(),v.n9a("encv"),x.push({bf:0,lF:!1,data:(0,f.concat)(this.rf.Ha())}),this.rf.HVb(),v.n9a(z[0]),v=w.VEb(A,y),x.push({bf:v,lF:!0,data:(0,f.concat)(this.rf.Ha())}),x);}};w.Wua={};return w;})();b.Co=a;a.Wua[q.Xca]=r.default;a.Wua[q.Yca]=m.default;},97001:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.anb=b.Zea=b.Oz=void 0;c=a(27172);b.Oz=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.Zea=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.anb=function(l,f){return Math.floor(1E3 * l / f);};},26464:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xca="6674654e-696c-5078-6966-665374726d21";b.Yca="6674654e-696c-4878-6165-6465722e7632";b.sHa="6674654e-696c-5078-6966-66496e646578";b.u_="6674654e-696c-4d78-6f6f-6653697a6573";b.t_="6674654e-696c-5378-6565-6b506f696e74";b.fIa="cedb7489-e77b-514c-84f9-7148f9882554";b.eIa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Wca="6674654e-696c-4678-7261-6d6552617465";},27815:function(r,b,a){var l;function c(f,h){f=h.indexOf(f);-1 !== f && h.splice(f,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=b.zba=void 0;l=a(26464);r=(function(){function f(h){this.endOffset=h;this.done=!1;}f.prototype.gYa=function(){return this.done;};f.prototype.YVa=function(h,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.zba=r;r=(function(){function f(h,d,g,m){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === m && (m=!1);this.Dt=h;this.A3=d;this.acb=g;this.ssa=m;this.done=!1;this.Vk={};}f.prototype.gYa=function(h,d,g){-1 !== f.cLb.indexOf(h) && (this.Vk[h]={offset:d,size:g});if(-1 !== this.acb.indexOf(h)){if((this.Vk[h]={offset:d,size:g},this.ssa))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Dt && -1 !== this.Dt.indexOf(h)?(h=1 < this.Dt.length?4096:0,this.endOffset=Math.max(d + g + h,this.endOffset || 0)):-1 !== this.A3.indexOf(h) && (h=this.Dt?4096:0,this.endOffset=Math.max(d + g + h,this.endOffset || 0));return this.done;};f.prototype.YVa=function(h,d,g,m){var k;k=this;if(-1 !== this.acb.indexOf(h))return this.done=!0;h === l.Xca && this.hab(m.Vk);h === l.Yca && this.hab(m.Vk);this.Dt && c(h,this.Dt);c(h,this.A3);return this.Dt && 0 === this.Dt.length && !this.A3.some(function(n){return k.Vk[n];})?this.done=!0:this.done;};f.prototype.hab=function(h){var d;d=this;this.Vk=h;this.endOffset=(this.Dt || []).concat(this.A3).reduce(function(g,m){return d.Vk[m]?(m=d.Vk[m],Math.max(m.offset + (m.size || 4096),g)):g;},this.endOffset || 0);};f.cLb=["moov","sidx"];return f;})();b.dEa=r;},11174:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,f){a=new a(c.length);for(var h="function" === typeof l,d=0;d < c.length;++d){a[d]=h?l.call(f,c[d],d,c):c[d];}return a;},set:b};},82441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kxa=void 0;b.kxa=function(a,c,l,f){var h,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,f);h=Math.min(a.length,f);d=Math.min(a.length,l);for(c=new c(Math.max(f - l,0));d < h;d++){c[d - l]=a[d];}return c;};},27172:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){if(!f)throw new l(h || "Assertion failed");};},57821:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,h){return f + h.byteLength;},0);l=new Uint8Array(c);a.reduce(function(f,h){l.set(new Uint8Array(h),f);return f + h.byteLength;},0);return l.buffer;};},44295:function(r){r.exports=function l(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(h){f=Object.getOwnPropertyDescriptor(a,h);void 0 !== f && Object.defineProperty(c,h,f);});};},255:function(r,b){function a(l,f){return "number" !== typeof l || "number" !== typeof f?!1:l && f?Math.abs(l * f / c(l,f)):0;}function c(l,f){var h;l=Math.abs(l);for(f=Math.abs(f);f;){h=f;f=l % f;l=h;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;r=(function(){function l(f,h){"object" === typeof f?(this.oc=f.Ba,this.fb=f.S):(this.oc=f,this.fb=h);}l.Ma=function(f){return new l(f,1E3);};l.Xwa=function(f,h){return Math.floor(1E3 * f / h);};l.n5a=function(f,h){return Math.floor(f * h / 1E3);};l.max=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};l.min=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};l.YA=function(f,h){var d;if(f.S === h.S)return new l(c(f.Ba,h.Ba),f.S);d=a(f.S,h.S);return l.YA(f.ef(d),h.ef(d));};Object.defineProperties(l.prototype,{Ba:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zh:{get:function(){return this.oc / this.fb;},enumerable:!1,configurable:!0}});l.prototype.ef=function(f){f/=this.S;return new l(Math.floor(this.Ba * f),Math.floor(this.S * f));};l.prototype.add=function(f){var h;if(this.S === f.S)return new l(this.Ba + f.Ba,this.S);h=a(this.S,f.S);return this.ef(h).add(f.ef(h));};l.prototype.wa=function(f){return this.add(new l(-f.Ba,f.S));};l.prototype.Bv=function(f){return new l(this.Ba * f,this.S);};l.prototype.Ni=function(f){var h;if(this.S === f.S)return this.Ba / f.Ba;h=a(this.S,f.S);return this.ef(h).Ni(f.ef(h));};l.prototype.J_a=function(f){return a(this.S,f);};l.prototype.V8a=function(){return new l(this.S,this.Ba);};l.prototype.compare=function(f,h){var d;if(this.S === h.S)return f(this.Ba,h.Ba);d=a(this.S,h.S);return f(this.ef(d).Ba,h.ef(d).Ba);};l.prototype.equal=function(f){return this.compare(function(h,d){return h === d;},f);};l.prototype.nra=function(f){return this.compare(function(h,d){return h !== d;},f);};l.prototype.lessThan=function(f){return this.compare(function(h,d){return h < d;},f);};l.prototype.greaterThan=function(f){return this.compare(function(h,d){return h > d;},f);};l.prototype.FB=function(f){return this.compare(function(h,d){return h <= d;},f);};l.prototype.fi=function(f){return this.compare(function(h,d){return h >= d;},f);};l.prototype.toJSON=function(){return {ticks:this.Ba,timescale:this.S};};l.prototype.toString=function(){return ("").concat(this.Ba,"/").concat(this.S);};l.Ia=new l(0,1);l.wy=new l(1,1E3);return l;})();b.N=r;},96785:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xNa=void 0;c=a(5163);l=a(27172);f=a(57821);h=a(97001);r=a(7604);d=(function(){function g(m){m?(this.qo=m.qo.slice(),this.Gr=m.Gr.slice(),this.ri=m.ri.slice(),this.trim=m.trim):(this.qo=[],this.Gr=[],this.ri=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.qo.length && 0 === this.Gr.length && 0 === this.ri.length;},enumerable:!1,configurable:!0}});return g;})();r=(function(g){function m(k,n,p){k=g.call(this,k,n,p) || this;k.sWa=[];k.Od=new d();return k;}c.__extends(m,g);m.ksb=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.XW?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.XW?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:(0,l.assert)(!n.XW);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(m.prototype,{CS:{get:function(){return !this.Od.empty;},enumerable:!1,configurable:!0}});m.prototype.laa=function(k,n){this.Od.Gr.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};m.prototype.Q6b=function(k){this.Od.Gr.push({offset:!1,value:k,size:2,XW:!1});};m.prototype.Vt=function(k,n){this.Od.Gr.push({offset:void 0 !== n?n:this.offset,value:k,size:4,XW:!1});void 0 === n && (this.offset+=4);};m.prototype.R6b=function(k,n){this.Od.Gr.push({offset:void 0 !== n?n:this.offset,value:k,size:8,XW:!1});void 0 === n && (this.offset+=8);};m.prototype.Meb=function(k){this.Vt((0,h.Zea)(k));};m.prototype.dya=function(k,n){this.Od.ri.push({offset:this.offset,ep:k,value:n});this.offset+=4;};m.prototype.Zl=function(k,n,p){this.Od.qo.push({offset:n,remove:k,hb:p});};m.prototype.n9=function(k,n,p,q){this.Od.qo.push({offset:p,remove:k,replace:n,hb:q});};m.prototype.trim=function(k){this.Od.trim=k;};m.prototype.jXb=function(){this.sWa.push(new d(this.Od));};m.prototype.HVb=function(){this.Od=this.sWa.pop() || new d();};m.prototype.Ha=function(){var k,n,p,q,u,t,w;k=this;if(0 === this.Od.qo.length && 0 === this.Od.Gr.length && 0 === this.Od.ri.length)return [void 0 === this.Od.trim?this.view.buffer:this.view.buffer.slice(0,this.Od.trim)];this.Od.qo.sort(function(v,y){return v.offset - y.offset;});this.Od.Gr.sort(function(v,y){return v.offset - y.offset;});this.oZb();n=this.MEb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.Od.Gr.forEach(m.ksb.bind(void 0,q));this.U4b(q);this.T4b(q);u=[];t=void 0 !== this.Od.trim?Math.min(this.Od.trim,this.view.byteLength):this.view.byteLength;w=0;this.Od.qo.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < t && (p=Math.max(p.byteLength,w),p < t && u.push(this.view.buffer.slice(p,t)));return u;};m.prototype.MEb=function(){var k,n,p;k=[];n=this.Od.Gr[this.Od.Gr.length - 1];p=this.Od.ri[this.Od.ri.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.Od.qo.filter(function(q){return q.hb;}).forEach(function(q){return k.push(q.hb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.Od.trim?Math.min(n,this.Od.trim):n;};m.prototype.oZb=function(){this.Od.qo=this.Od.qo.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && ((0,l.assert)(p.hb === n.hb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?(0,f.concat)(p.replace,n.replace):n.replace));return k;},[]);};m.prototype.U4b=function(k){var n;n=this;this.Od.ri.forEach(function(p){var q,u,t,w;q=k;u=p.offset;n.Od.qo.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.ep + (void 0 !== p.value?p.value:q.getInt32(u));w=n.Od.qo.reduce(function(v,y){return y.offset > p.ep && y.offset < t?v + (y.remove - (y.replace?y.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.ep - w);});};m.prototype.T4b=function(k){this.Od.qo.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.yNa);b.xNa=r;},7604:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yNa=void 0;c=a(51170);a(51170);l=a(97001);r=(function(){function f(h,d,g){this.view=h;this.console=d;this.config=g;this.view=h;this.console=d;this.qd=this.wq=this.offset=0;}f.prototype.bZa=function(h){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,h);};f.prototype.Oc=function(h){for(;this.qd < h;){this.wq=(this.wq << 8) + this.jd();this.qd+=8;}this.qd-=h;return this.wq >>> this.qd & (1 << h) - 1;};f.prototype.jd=function(){var h;h=this.view.getUint8(this.offset);this.offset+=1;return h;};f.prototype.Rf=function(h){h=this.view.getUint16(this.offset,h);this.offset+=2;return h;};f.prototype.Qb=function(h){h=this.view.getUint32(this.offset,h);this.offset+=4;return h;};f.prototype.d9=function(){var h;h=this.view.getInt32(this.offset,void 0);this.offset+=4;return h;};f.prototype.NUb=function(h,d){var g;g=this.view.getUint32(this.offset + (h?4:0),h);h=this.view.getUint32(this.offset + (h?0:4),h);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + h;};f.prototype.Vi=function(h,d){h=this.NUb(h,d);this.offset+=8;return h;};f.prototype.OUb=function(){var h,d;h=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + d;};f.prototype.zXb=function(){var h;h=this.OUb();this.offset+=8;return h;};f.prototype.Gy=function(){return (0,l.Oz)(this.Qb());};f.prototype.e9=function(){var d,g,m,k,n,p;function h(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Qb(!0);g=this.Rf(!0);m=this.Rf(!0);k=this.Rf();n=this.Rf();p=this.Qb();return [h(d,4),h(g,2),h(m,2),h(k,2),h(n,2) + h(p,4)].join("-");};f.prototype.c9=function(h){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + h);this.offset+=h;return d;};f.prototype.vXb=function(h){var d;d=[];if(0 === h)return "";h=h || Number.MAX_SAFE_INTEGER;for(var g=this.jd();0 !== g && 0 <= --h;){d.push(g);g=this.jd();}return String.fromCharCode.apply(null,d);};f.prototype.b9=function(h){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Cj(this.config.oO && c.eKb || c.uL,1,h,d,g);};f.prototype.uXb=function(h){var d,g,m;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Cj(this.config.oO && c.cKb || c.o5,2,h,d,g,m);};f.prototype.a9=function(h,d,g){var m;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Cj(this.config.oO && c.dKb || c.GT,4,h,d,g,m);};f.prototype.xXb=function(){for(var h=this.jd(),d=h & 127;h & 128;){h=this.jd();d=d << 7 | h & 127;}return d;};f.prototype.Cj=function(h,d,g,m,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);h=h(this.view,this.offset,g,m,n);this.offset=k || !m || m === d?this.offset + g * (m || d):this.offset + d;return h;};return f;})();b.yNa=r;},58312:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;c=a(76113);l=a(69808);f=a(48668);h=a(99939);d=a(97911);g=a(51832);b=a(67286);m=a(62680);k=a(26302);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,w,v;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);w=f(this);v=l(w.length);if(0 === v)return !1;for(t=0 <= t?t:q(0,v + t);t < v;){if(h(u,k(w)?n(w,t):w[t]))return !0;t+=1;}return !1;};},71402:function(r,b,a){var c;c=a(58312);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},30026:function(r,b,a){var c,l;c=a(14926);l=a(71402);r.exports=function(){var f;f=l();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="Injector";b.Dw=145152E5;b.VI="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.co=b.m2b=b.a6a=void 0;b.a6a=function(a,c){return a - c;};b.m2b=function(a,c){return a.localeCompare(c);};b.co=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ca(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sY="ApiInfoSymbol";},99198:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.kRa=void 0;c=a(7700);l=a(24747);r=a(22674);f=a(71501);h=a(4203);b.kRa=new r.ed(function(d){d(l.sY).to(c.Xya).da();});b.profile=new r.ed(function(d){d(f.VI).EC(function(g){return (g=g.hb.get(h.ac)()) && g.Nx?"browsertest":"browser";});});},7700:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q){k=d.Re.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.K$=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;r=a(5163);l=a(22674);f=a(34231);h=a(12501);d=a(64174);g=a(83767);a=a(70865);ea(c,d.Re);c.prototype.LIb=function(k){return "" + this.WWa + (this.K$.b$(k)?"/msl_v1":"");};c.prototype.WIb=function(k){return "" + this.host + (this.K$.b$(k)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},WWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.OK){case f.yw.imb:k="www.stage";break;case f.yw.xMa:k="www-qa.test";break;case f.yw.cFa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},eSa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([h.config(h.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([h.config(h.string,"nqEndpoint")],m.prototype,"WWa",null);r.__decorate([h.config(h.string,"bindService")],m.prototype,"eSa",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.ul)),r.__param(1,(0,l.l)(f.qn)),r.__param(2,(0,l.l)(a.l0)),r.__param(3,(0,l.l)(g.IY)),r.__param(3,(0,l.optional)())],m);b.Xya=m;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jza="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="OpenConnectSideChannelSymbol";b.ZGa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(l,f,h){var d,g,m,k;d=[];l.forEach(function(n){-1 == d.indexOf(n.Fd) && d.push(n.Fd);});g=null;m=null;f.forEach(function(n){null === g?m=g=n.bitrate:m < n.bitrate?m=n.bitrate:g > n.bitrate && (g=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && m && (p.ranges.push({min:g,max:m}),h && (p.disallowed=h.filter(function(q){return q.stream.Fd === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.F3};})),k.push(p));});return k;}function c(l,f){var h;h=void 0;return {zXa:l.filter(function(d){var g;g=f(d);g && (h=h || [],h.push({stream:d,F3:g}));return !g;}),HBb:h};}Object.defineProperty(b,"__esModule",{value:!0});b.Cs=b.Pzb=b.O_a=void 0;b.O_a=function(l,f){f=c(l,f);return a(l,f.zXa,f.HBb);};b.Pzb=a;b.Cs=c;},92692:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Xa=void 0;r=a(22674);c=a(67263);l=a(13005);f=a(24240);h=a(22806);d=a(31034);g=a(76457);m=a(77425);k=a(51790);n=a(89936);b.Xa=new r.ed(function(p){p(c.Bba).to(l.XBa).da();p(f.PGa).to(h.OGa).da();p(d.YHa).to(g.XHa).da();p(d.ZGa).to(m.YGa).da();p(k.XGa).to(n.WGa).da();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bba=b.YBa=void 0;b.YBa=function(){this.ea=0;this.Y=1;this.qib=2;this.Cf=function(){};};b.Bba="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XGa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;b.pc=a;a.xk={OHa:"mr1",NHa:"mr2",PHa:"mr3",LP:"mr4",kkb:"mr5",Cz:"mr6"};a.jc={UNSENT:0,OPENED:1,pu:2,Sj:3,DONE:5,du:6,Yp:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.fZ={NO_ERROR:-1,hhb:0,uBa:1,thb:2,lhb:3,Agb:4,CAa:5,AAa:6,Bgb:7,Cgb:8,Dgb:9,xgb:10,zgb:11,BAa:12,ygb:13,wgb:14,uib:15,SDa:16,RDa:17,$ba:18,c_:19,aca:20,bca:21,wib:22,d_:23,TDa:24,vib:25,ohb:26,ihb:27,Wlb:28,Zgb:29,$gb:30,ahb:31,bhb:32,chb:33,dhb:34,ehb:35,fhb:36,ghb:37,jhb:38,khb:39,mhb:40,nhb:41,phb:42,qhb:43,rhb:44,shb:45,uhb:46,vhb:47,Vlb:48,TIMEOUT:49,ODa:50,PDa:51,tib:52,VDa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.Kf={Eua:{w7b:!0,gea:!1,m$b:!0}};},92720:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D){var C;C=this;this.ib=x;this.j=z;this.debug=A;this.rsb=D;this.HQ=this.Fh=this.Ww=!1;this.$Q=this.ZQ=void 0;x={};this.uv=(x[v.v.ea]={},x[v.v.Y]={},x[v.v.Ka]={},x);this.Tz=void 0;this.Em=function(){var F,G,E,J,M,L;C.debug.assert(C.Aa,"has access to asePlaygraph");C.debug.assert(C.Cc,"has access to internalLogger");C.debug.assert(C.kt,"has access to mediaBufferGetLogFields");M=C.Gn;L=null === (G=null === (F=C.Ic.get()) || void 0 === F?void 0:F.ob) || void 0 === G?void 0:G.Da;F={type:"logdata",target:"startplay",fields:{hasasereport:C.j.ES,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (E=M.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,g.l2)({gla:F,bo:C.bo,loadTime:C.loadTime});C.Aa.gxa("startplay",l.qc.Mj);null !== (J=C.ub) && void 0 !== J && J.Qd?(C.Cc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},C.kt()),C.j.Gn=M,C.j.tq.set(m.wf.$d),C.mFb || (C.mFb=!0,C.j.je("pb")),C.Ag.value !== l.Bb.X_ && C.Ag.value !== l.Bb.Wr && C.play()):C.Cc.error("Shim received buffering complete but player has no position (player " + (C.ub?"":"un") + "defined, state " + C.j.state + ")");};this.Hcb=function(){var F,G;C.debug.assert(C.Cc,"has access to internalLogger");!1;C.ZQ=void 0;C.$Q=void 0;C.j.paused.value && C.LG && (C.LG=!1,C.j.paused.set(!1,{sM:!0}));null === (F=C.j.ie) || void 0 === F?void 0:F.Dwb();null === (G=C.s6a) || void 0 === G?void 0:G.call(C);C.s6a=void 0;};this.events=new y();this.Oe=new w.Dea(this.av.bind(this),function(F,G){return C.j.Uv(F,G);});}b.Dca=void 0;l=a(93161);f=a(57055);h=a(32219);d=a(36129);g=a(30326);m=a(85001);k=a(29204);n=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);w=a(64213);a(2762);v=a(60328);y=a(22699).EventEmitter;c.prototype.Ze=function(){var x;!1;this.HQ=!1;this.Ic.V9(null);this.debug.assert(this.Rh,"has access to streamingEngine");this.Aa && this.Rh.Ky(this.Aa);this.ub && this.Rh.m9a(this.ub);this.Rh.o9a(this.Oe.Tm(this.ib.aa.J));this.Oe.clear();null === (x=this.io) || void 0 === x?void 0:x.Hs();};c.prototype.F0b=function(x){var z,A,B,D,C,F,G,E,J,M,L,H,N;z=x.config;A=x.Zo;B=x.Cc;D=x.Yd;C=x.kt;F=x.Ri;G=x.PW;x=x.nH;this.Cc=B;this.log=B.i3("AseIntegrationImpl");!1;this.kt=C;this.PW=G;this.nH=x;C=this.j.aa;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Rh,"has access to streamingEngine");this.debug.assert(C.zc,"has access to parsedManifest");this.debug.assert(C.W,"has access to manifest");this.config=z;this.Rh=A.Rh;A.$h.set(a(87141)(z),!0,F("ASE"));A.$h.set({maxNumberTitlesScheduled:null !== (J=null === (E=z.NVb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.gxb && !C.fd.ha && 3E5 > C.W.Fa.duration?A.$h.FV({expandDownloadTime:!1},!0,B):A.$h.FV({expandDownloadTime:A.$h.h7a().expandDownloadTime},!0,B);z=C.background.value || z.LVb && "postplay" === C.wd?"historical":A.$h.h7a().initBitrateSelectorAlgorithm;A.$h.FV({initBitrateSelectorAlgorithm:z},!0,B);z=null === (N=null === (H=null === (L=null === (M=C.Ng) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === H?void 0:H[0]) || void 0 === N?void 0:N.Fd;A.$h.FV((0,k.YTa)(!!C.Ya.ag,!!C.Ya.KL,z),!0,B);B=D.RB({},(0,k.Y2)(C.wd));C.fd.ha && (B=D.RB(B,(0,k.Y2)("live")));this.$h=A.$h.In(B);l.platform.events.emit("networkchange",C.zc.M_b);this.Ww=!0;};c.prototype.aU=function(x){var z,A;this.debug.assert(this.Rh,"has access to streamingEngine");z=this.j.ei(x.I);this.debug.assert(z.zc,"has access to playback parsedManifest");!1;A=x.flags;this.Ic.reset();this.Ef=new Set([v.v.ea,v.v.Y]);(A.meb || A.Ibc) && this.Ef.delete(A.meb?v.v.ea:v.v.Y);this.XH=[z.zc.GAb,z.zc.NAb,z.zc.MAb];this.av(z.O,void 0,x.$Ua);this.pMb(x);this.qK();};c.prototype.St=function(x){var z;!1;null === (z=this.Aa) || void 0 === z?void 0:z.St(x);};c.prototype.Gtb=function(x){var z,A,B,D;z=this;A=x.loadTime;B=x.bo;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;this.bo=B;this.loadTime=A;x=this.Aa.events;D=this.ub.events;x.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.Cc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.Cc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.kt())),(0,h.Mf)(function(){var F,G,E;F=d.U.gfb;G=C.nativeCode;E=C.context;"adBreakHydration" === (null === E || void 0 === E?void 0:E.type) && (F=d.U.kD,G=d.R.rfb);z.j.od(F,{ya:G,Jb:C.errormsg,Kl:C.httpCode,H7:C.networkErrorCode,De:C.httpCode});}));});x.addListener("logdata",function(C){var F;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.Aa) || void 0 === F?void 0:F.Vrb,(0,g.l2)({gla:C,bo:B,loadTime:A}));});D.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,g.l2)({gla:C,bo:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.tq.set(m.wf.Pe);});x.addListener("bufferingComplete",function(C){!1;z.Gn=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.Cc,"has access to internalLogger");null !== (F=C.Jh) && void 0 !== F && F.sM || !z.Ww || (C.newValue && z.Ag.value === l.Bb.me?(z.Ag.set(l.Bb.Uh),z.oi.emit("paused",{type:"paused",pts:z.oi.Gd})):C.newValue || z.Ag.value !== l.Bb.Uh || (z.Ag.set(l.Bb.me),z.oi.emit("playing",{type:"playing",pts:z.oi.Gd})));C.newValue || (z.LG=!1);z.Cc.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,u.kh)(z.j.mediaTime.value)});});this.j.tc.addListener(function(C){var F,G,E,J;if(z.Ww)if((z.debug.assert(z.Cc,"has access to internalLogger"),C.Jh && C.Jh.W1))z.Cc.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {J=C.newValue;z.Vbb({ap:J.trackId,toJSON:function(){return J.yg;}})?z.Cc.trace("ASE accepted the audio track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Cc.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== J.trackId && z.j.tc.set(C.oldValue,{W1:!0}));}});this.j.fd.ha && this.j.Gb.addListener(function(C){var F,G,E,J;if(z.Ww)if((z.debug.assert(z.Cc,"has access to internalLogger"),C.Jh && C.Jh.W1))z.Cc.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {J=C.newValue;z.Vbb({dcb:J.trackId,toJSON:function(){return J.yg;}})?z.Cc.trace("ASE accepted the text track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Cc.trace("ASE rejected the text track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== J.trackId && z.j.Gb.set(C.oldValue,{W1:!0}));}});x.addListener("serverSwitch",function(C){var F;!1;z.j.fireEvent(m.fa.MW,C);if("video" === C.mediatype)F=v.v.Y;else "audio" === C.mediatype && (F=v.v.ea);(0,n.Uc)(F) && z.PW(C.segmentId,C.server,F);});x.addListener("streamSelected",function(C){var F,G,E,J;!1;if(z.HQ){G=C.manifest.ke;if(!z.j.ZKb(G) && z.config.qEb)return z.j.od(d.U.ujb,{VA:G});G=(null === (F=z.Aa) || void 0 === F?void 0:F.KT(C.position)).zq.G;F=[];if(C.mediaType === v.v.Y){E=z.j.m0a(C.streamId);J=z.j.Ne;F=z.j.fB();}else C.mediaType === v.v.ea && (E=z.j.Y_a(C.streamId),J=z.j.Sg,F=z.j.CGb());E && J?(!1,J.set(E,{KE:G,NR:C.bandwidth})):C.mediaType !== v.v.Ka && z.Cc.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.GE});}});x.addListener("segmentNormalized",function(C){var F,G,E;!1;F=C.segmentId;G=Math.floor(C.viewableContentEnd.G);C=Math.floor(C.viewableEarliestContentEnd.G);G=(0,p.Lb)(G);C=(0,p.Lb)(C);z.j.h0a(F) || (!1,z.Myb(F));E=z.j.ei(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Cx=G,E.y4a=C);z.j.Ip || (z.j.fd.ha?(z.debug.assert(Infinity === G.ba(p.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.fd.ha + ", contentDuration:" + G),z.j.Ip=p.Ia):z.j.Ip=G);});D.addListener("segmentPresenting",function(C){var F,G,E,J;!1;z.debug.assert(z.Aa,"has access to asePlaygraph");z.debug.assert(z.ub,"has access to asePlayer");z.debug.assert(z.nH,"has access to segmentPresentingHandler");G=z.Aa.KT(C.position);E=void 0;J=null === (F=C.inner) || void 0 === F?void 0:F.position;J && z.Ih && (E=z.Ih.M[J.I]);z.nH({J:G.J,ME:E,bG:!1});z.j.fireEvent(m.fa.mH,{type:"segmentPresenting",position:{segmentId:C.position.I,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.Tz=z.ub.Un();});D.addListener("ptsChanged",function(C){var F;!1;z.j.ie.gXb({Wla:null === (F=C.forcedTimestamp) || void 0 === F?void 0:F.Cy,nMb:C.initialTimestamp.Cy});z.oi.emit("skipped");});x.addListener("locationSelected",function(C){!1;z.j.fireEvent(m.fa.FU,C);});x.addListener("aseReportEnabled",function(){!1;z.j.ES=!0;});x.addListener("aseReport",function(C){!1;z.j.fireEvent(m.fa.wE,C);});x.addListener("liveReport",function(C){!1;z.j.fireEvent(m.fa.O6,C);});x.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.VYb;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(m.fa.cF,{response:C,O:z.j.aa.O});});x.addListener("transportReport",function(C){var F;(C=null === (F=C.MDb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(m.fa.cF,{response:C,O:z.j.aa.O});});x.addListener("liveEventTimesUpdated",function(C){var F,G;F=C.I;G=C.startTime;C=C.endTime;z.j.h0a(F) && (F=z.j.ei(F),F.fd.ha && F.fd.Bva(G,C));});x.addListener("liveLoggingInfoUpdated",function(C){var F,G;F=C.mediaType;G=z.uv[F];z.uv[F]=C.info;C=z.uv[F].RA !== G.RA && void 0 !== G.RA;(z.uv[F].QA !== G.QA && void 0 !== G.QA || C) && z.j.fireEvent(m.fa.N6,{mediaType:F,Yl:G,current:z.uv[F]});});};c.prototype.Myb=function(x){var z,A,B,D;if(this.Ih && this.Ih.M[x]){z=this.Ih.M[x];A=this.Ih.M[x].Rb;A === x && this.dO && this.dO.M[x] && (A=this.dO.M[x].Rb);if(A && this.ib.Xv(A)){x=this.j.ei(A);A=x.W;if(null === A || void 0 === A?0:A.cp)B=null === A || void 0 === A?void 0:A.cp.find(function(C){return C.Fa.O === z.J;});B || (B=this.j.yZa(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.bc)){D=this.rsb.bJb({bc:null === A || void 0 === A?void 0:A.Fa.bc,vd:x.O,J:z.J});D && (B=D.W);}B && B.Fa.bc === (null === A || void 0 === A?void 0:A.Fa.bc) && this.j.EUa(z.J,{Hf:{bc:B.Fa.bc,vd:x.O}},x.ma,B);}}};c.prototype.Un=function(){var x,z,A,B,D,C,F,G,E;G=null === (x=this.ub) || void 0 === x?void 0:x.C5();x=(null !== (z=this.Tz) && void 0 !== z?z:G && this.ub.Un()) || ({});z=x.u;G=x.ue;E=x.TG;x=x.fr;return {id:String(null === z || void 0 === z?void 0:z.id),$ha:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,c3:null !== (B=null === z || void 0 === z?void 0:z.Vd.G) && void 0 !== B?B:Infinity,Uwb:null !== (D=null === z || void 0 === z?void 0:z.Nf.G) && void 0 !== D?D:0,pVb:null !== (C=null === E || void 0 === E?void 0:E.G) && void 0 !== C?C:Infinity,Tsa:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.x1a=function(){var x,z;this.debug.assert(this.Aa,"has access to asePlaygraph");x={};z=this.Aa.zF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.jVb=function(){!1;this.oi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.oi.Gd});};c.prototype.zE=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.XH[v.v.ea];return x.O === this.j.W.Fa.O?A:this.REb(this.j.W.Fa.ws[A],z);};c.prototype.LH=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.fd.ha){this.debug.assert(x.O === this.j.W.Fa.O);A=this.XH[v.v.Ka];if((x=this.j.eh.find(function(B){return B.trackId === z[A].bg;})) && (!x.Yn() || x.Zm()))return A;}};c.prototype.REb=function(x,z){var A,B,D;this.debug.assert(this.Cc,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === x.profile;}).sort(function(C,F){var G,E,J;G=(C.language === x.language || "zxx" === C.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(C.Bh === x.Bh?0:1) - (F.Bh === x.Bh?0:1));if(0 === G){C=(null !== (E=C.ec) && void 0 !== E?E:0) - (null !== (J=F.ec) && void 0 !== J?J:0);}else C=G;return C;});B=0;D=la(A).next().value;D && z.some(function(C,F){if(C === D)return (B=F,!0);});!1;return B;};c.prototype.Vbb=function(x){var z,A,B,D,C,F;this.debug.assert(this.Cc,"has access to internalLogger");this.debug.assert(this.ub,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.$wa)return (!1,!1);A=x.ap;B=this.XH[v.v.ea];if(void 0 === A)D=B;else if(!this.j.W.Fa.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (D=E,!0);}))return (!1,!1);C=x.dcb;x=this.XH[v.v.Ka];if(void 0 === C)F=x;else if(!this.j.W.Fa.timedtexttracks.some(function(G,E){if(G.new_track_id === C)return (F=E,!0);}))return (!1,!1);!1;this.ZQ=D;this.$Q=F;null === (z=this.j.ie) || void 0 === z?void 0:z.V1b();this.j.paused.value || (this.ub.pause([v.v.ea,v.v.Ka]),this.LG=!0,this.j.paused.set(!0,{sM:!0}));this.debug.j2(this.ZQ,"has access to valid requestedAudioTrackIndex number");this.XH[v.v.ea]=this.ZQ;this.debug.j2(this.$Q,"has access to valid requestedTextTrackIndex number");this.XH[v.v.Ka]=this.$Q;(this.Sy() || this.LG) && this.ub.resume(this.LG?[v.v.ea,v.v.Ka]:void 0);this.gI(this.Hcb);return !0;};c.prototype.Sy=function(){var x;x=this;this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.Sy({BN:this.zE.bind(this)},{BN:function(){return x.XH[v.v.Y];}},{BN:this.LH.bind(this)});};c.prototype.im=function(){var x;!1;this.Ag.set(l.Bb.sl);null === (x=this.Aa) || void 0 === x?void 0:x.gxa("intrplay",l.qc.im);this.oi.emit("underflow",{type:"underflow",pts:this.oi.Gd});this.gI(this.Em);};c.prototype.Y9=function(x,z){this.faa.Y9(x,z);};c.prototype.open=function(){this.HQ || (this.debug.assert(this.Aa,"has access to asePlaygraph"),this.debug.assert(this.ub,"has access to asePlayer"),!1,this.HQ=this.Fh=!0,this.Aa.open(),this.debug.assert(this.Yv,"invalid start position relative to playgraph"),this.Aa.sC(this.Yv,l.N.Ma(this.j.ab)),this.Ag.set(l.Bb.Pe),this.gI(this.Em),this.Aa.Vu(this.ub),this.POb());};c.prototype.play=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;0 !== this.Aa.state && (this.ub.resume(this.LG?[v.v.ea,v.v.Ka]:void 0),this.Ag.set(l.Bb.me),this.oi.emit("playing",{type:"playing",pts:this.oi.Gd}));};c.prototype.stop=function(){var x;!1;this.Ag.set(l.Bb.X_);null === (x=this.ub) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.oi.emit("paused",{type:"paused",pts:this.oi.Gd});};c.prototype.flush=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Rh,"has access to streamingEngine");!1;this.HQ && this.Ag.value !== l.Bb.Wr && this.Ag.value !== l.Bb.X_ && this.stop();this.Aa.gxa("endplay",l.qc.Oi);this.Aa.Jf();this.Rh.yp.save();this.Rh.iV.save();};c.prototype.Qn=function(){var x;return null === (x=this.Aa) || void 0 === x?void 0:x.Sc;};c.prototype.uja=function(x){var z;this.debug.assert(this.Aa,"has access to asePlaygraph");z=l.N.Ma(x);return (z=this.Aa.Uk(z,{w1b:!0,v1b:!0}))?this.Aa.ga.M[z.I].sa + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.wja=function(x,z){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Cc,"has access to internalLogger");!1;this.Aa.ga.M[x] || (x=this.zla(z));this.debug.k2(x,"has access to segmentId");x={I:x,offset:l.N.Ma(z - this.Aa.ga.M[x].sa)};if(x=this.Aa.QF(x))return x.G;!1;return z;};c.prototype.Uub=function(x,z){var A,B,D,C;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;z && this.Aa.ga.M[z] || (z=null !== (A=this.zla(x)) && void 0 !== A?A:null === (B=this.ub) || void 0 === B?void 0:B.Hg.I);z=this.j.ei(z);x={zq:l.N.Ma(x),J:z.O};return null === (C=null === (D=this.Aa.Ms(x)) || void 0 === D?void 0:D.Na) || void 0 === C?void 0:C.G;};c.prototype.N3=function(x){var z;z=void 0 === z?!0:z;!1;this.Fh?Number.isFinite(x) && (this.debug.assert(this.ub,"has access to asePlayer"),z?this.ub.T$a(x):this.ub.S$a(x)):this.fail("Must call open prior to drmReady");};c.prototype.e0a=function(){var x;return null !== (x=this.ub) && void 0 !== x && x.Qd?this.ub.iU(this.ib.aa.J):!1;};c.prototype.bi=function(x){var z,A;!1;if(!this.ub)return (!1,!1);z=this.Qn();x=l.N.Ma(x);A=this.ub.bi(x);return z && this.j.wL()?A && z.bi(x):A;};c.prototype.f_b=function(x,z){var A;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;z && this.Aa.ga.M[z] || (z=null !== (A=this.zla(x)) && void 0 !== A?A:this.ib.sh);this.debug.k2(z,"has access to segmentId");this.debug.assert(this.Aa.ga.M[z],"segment exists in playgraph map");z={I:z,offset:l.N.Ma(x - this.Aa.ga.M[z].sa)};this.Aa.sC(z,l.N.Ma(x));this.ub.resume();this.Ag.set(l.Bb.Pe);this.gI(this.Em);x=this.Aa.h$a(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.S4b=function(x,z){var A;!1;A={};this.Aa.bj((A[x]=z,A));};c.prototype.N2=function(x,z){var A,B;this.debug.assert(this.Cc,"has access to internalLogger");this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;A=this.Un().id;B=this.Aa.tT(A,x);if(z){if(!B.T5b)return (this.Cc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.ira)return (!1,B.ira === x);this.Aa.Lj(A,x,!1,z);return !0;}if(void 0 !== B.ira)return (!1,!1);B.RR && (this.ub.reset(),this.Aa.Lj(A,x,!1,z),this.ub.resume(),this.Ag.set(l.Bb.Pe),this.gI(this.Em));return !!B.RR;};c.prototype.Lj=function(x,z,A,B){this.debug.assert(this.Aa,"has access to asePlaygraph");!1;this.Aa.Lj(x,z,A,B);};c.prototype.xH=function(){var x;this.debug.assert(this.Cc,"has access to internalLogger");!1;x=this.oi.Gd;!1;this.oi.emit("skipped",{type:"skipped",pts:x});return new l.aQ(Promise.resolve()).xZb;};c.prototype.X4=function(x,z){var A;return null === (A=this.Aa) || void 0 === A?void 0:A.X4(x,z);};c.prototype.zla=function(x){var z,A,B,D,C,F,G,E;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Cc,"has access to internalLogger");!1;z=this.Aa.ga;A=[];B=Infinity;for(D in z.M){C=z.M[D];F=C.sa;C=C.ta;G=x < Number(null !== C && void 0 !== C?C:Infinity);if(F <= x && G)(!1,A.push(D));else if((F=Math.min(Math.abs(x - F),Math.abs(x - C)),F < B)){B=F;E=D;}}x=A[0] || E;this.debug.k2(x,"has access to locatedSegmentId");!1;return x;};c.prototype.POb=function(){var x,z;x=this;this.debug.assert(this.j.Kb,"has access to mediaElement");z=this.j.Kb.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.Ag.value === l.Bb.Uh && (x.Ag.set(l.Bb.me),x.oi.emit("playing",{type:"playing",pts:x.oi.Gd}));});z.addEventListener("pause",function(){x.Ag.value === l.Bb.me && (x.Ag.set(l.Bb.Uh),x.oi.emit("paused",{type:"paused",pts:x.oi.Gd}));});};c.prototype.fail=function(x){var z;null === (z=this.Aa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.gI=function(x){var z,A,B,D,C,F,G,E;z=this;if(x !== this.Hcb && this.$wa)(!1,this.s6a=x);else {E=null === (A=this.ub) || void 0 === A?void 0:A.Yq.value;A=null === (B=this.Aa) || void 0 === B?void 0:B.jf.value;B=!0 === E;E=A === l.Yc.rm;!1;null === (D=this.ub) || void 0 === D?void 0:D.Yq.removeListener(this.C4a);null === (C=this.Aa) || void 0 === C?void 0:C.jf.removeListener(this.sSa);B && E?x():(this.C4a=function(){return z.gI(x);},this.sSa=function(){return z.gI(x);},null === (F=this.ub) || void 0 === F?void 0:F.Yq.addListener(this.C4a),null === (G=this.Aa) || void 0 === G?void 0:G.jf.addListener(this.sSa));}};c.prototype.uYa=function(x){var z,A;z=this;x=this.j.Ik(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.Z8(x)).then(function(B){B=B.Fa;return {W:B,Zu:B.v5 && !B.iB,config:z.$h,Ef:[].concat(ca(z.Ef))};});};c.prototype.Z8=function(x){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(x.If){D=x.If.vd;(C=null === (A=this.j.Ik(D).W) || void 0 === A?void 0:A.Fa)?x.If.JV=C:B=this.Oe.Tm(D).Wp.then(function(F){return F.W;}).then(function(F){x.If.JV=F;}).catch(function(){return z.j.od(d.U.kD,d.R.sfb);});}return B.then(function(){return z.j.Z8(x);}).then(function(){return x.W;});};c.prototype.av=function(x,z,A){var B,D,C,F,G,E,J,M,L,H,N,I,K;B=this;this.debug.assert(this.Rh,"has access to streamingEngine");!1;L={J:x,vd:null === (D=null === z || void 0 === z?void 0:z.Hf) || void 0 === D?void 0:D.vd,bc:null === (C=null === z || void 0 === z?void 0:z.Hf) || void 0 === C?void 0:C.bc};if(!this.Oe.has(L)){if(!this.j.B5(x) && (null === (F=null === z || void 0 === z?void 0:z.Hf) || void 0 === F?0:F.vd) && this.j.B5(null === (G=null === z || void 0 === z?void 0:z.Hf) || void 0 === G?void 0:G.vd)){D=this.j.Ik(null === (E=z.Hf) || void 0 === E?void 0:E.vd);E=null === (J=D.W) || void 0 === J?void 0:J.Fa.bc;J=this.j.yZa(x);(null === (M=null === J || void 0 === J?void 0:J.Fa) || void 0 === M?0:M.bc) && J.Fa.bc === E && (H=J);this.j.EUa(x,z,D.ma,H);}this.j.B5(x) && (N=this.j.Ik(x));I=A?A.ma:N?N.ma:void 0;M=A?A.Ep:N?N.Bf:void 0;this.Oe.store(L,{NSa:function(){},equals:function(O){return O && O.J === L.J && (I === O.ma || !O.ma || !I);},get Wp() {K || (K=B.uYa(x));return K;},set Wp(O) {K=O;},events:new f.EventEmitter(),ma:I,J:L.J,Gq:!1,Dwa:!1});this.$h.IK && this.Rh.EN(this.Oe.Tm(L.J,z),{ma:I,Ep:M,qka:null === A || void 0 === A?void 0:A.OA});}};c.prototype.mO=function(x){var z,A,B;this.debug.assert(this.Rh,"has access to streamingEngine");!1;z=this.j.ei(x);A=z.If;z={J:z.O,vd:null === A || void 0 === A?void 0:A.vd,bc:null === A || void 0 === A?void 0:A.bc};x=this.ib.Pd(x).J;if(!this.Oe.has(z))return Promise.resolve();A && (B={Hf:{bc:null === A || void 0 === A?void 0:A.bc,vd:A.vd}});A=this.Oe.Tm(x,B);A.Wp=this.uYa(x);return this.Rh.mO(A);};c.prototype.tT=function(x){var z;this.debug.assert(this.ub,"has access to asePlayer");this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.tT(null === (z=this.ub.Un().u) || void 0 === z?void 0:z.id,x);};c.prototype.aB=function(x){var z;x=null === (z=this.Aa) || void 0 === z?void 0:z.aB(x);!1;return x;};c.prototype.pMb=function(x){var z,A;z=x.$Ua;A=x.I;this.debug.assert(this.Rh,"has access to streamingEngine");this.debug.assert(this.Cc,"has access to internalLogger");!1;x=this.j.ei(A);x=this.ib.d5(x);A=x.M[A];this.debug.assert(A,"segment exists");this.Yv=(0,q.z_a)(A.J,x,this.j.ab,A.sa);z=Object.create(this.$h,{OA:{value:z.OA},U3:{value:this.j.background.value}});this.Ag=new t.Hb(l.Bb.zk);this.Aa=this.Rh.wR(x,this.$h.yVb,z,this.Oe);this.faa=new l.fQ(this.Cc);z=this.Aa.oK(this.faa);x=this.Aa.nK();this.Aa.Iva(x,z);this.Sy();this.LG=!1;};c.prototype.qK=function(){var x,z,A;x=this;this.debug.assert(this.Rh,"has access to streamingEngine");this.debug.assert(this.j.W,"has access to playback manifest");!1;A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa;z=void 0 !== this.LH(A,A.PH);A=[].concat(ca(this.Ef));z && A.push(v.v.Ka);z=Object.create(this.$h,{Ef:{value:A},Nma:{value:function(){return x.PIb();}}});this.oi=Object.create(new f.EventEmitter(),{Gd:{get:function(){x.debug.j2(x.j.mediaTime.value,"has access to mediaTime.value");return l.N.Ma(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},xIb:{value:function(){x.debug.assert(x.j.Kb,"has access to mediaElement");return x.j.Kb;}}});this.ub=this.Rh.irb(this.oi,z);};c.prototype.PIb=function(){this.io || (this.io=new l.platform.MediaSource(this.oi),this.io.Kf || (this.io.Kf=l.platform.MediaSource.Kf));return this.io;};Xa.Object.defineProperties(c.prototype,{$wa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.ZQ && void 0 !== this.$Q;}},Ic:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Rh,"has access to streamingEngine");return this.Rh.Ic;}},Ih:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Aa) || void 0 === x?void 0:x.Ih;null === z || void 0 === z?0:z.Ih;){z=z.Ih;}return null === z || void 0 === z?void 0:z.ga;}},dO:{configurable:!0,enumerable:!0,get:function(){var x,z;return null === (z=null === (x=this.Aa) || void 0 === x?void 0:x.Ih) || void 0 === z?void 0:z.ga;}},KTa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.ub;null === x || void 0 === x?0:x.bU;){x=x.bU;}return x;}},cAb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.KTa) || void 0 === x?0:x.Qd){A=(x=this.KTa.Hg) && (null === (z=this.Ih) || void 0 === z?void 0:z.M[x.I]);if(A)return {zq:l.N.Ma(x.offset.G + A.sa),J:A.J};}}}});b.Dca=c;},13005:function(r,b,a){var l,f,h,d;function c(g){function m(k,n){this.Z=k;this.jnb=n;this.qla=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ei=g.Wa("DownloadTrack");}m.prototype.Hs=function(){!1;this.gR=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.gR + " config: " + JSON.stringify(this.Z);};m.prototype.toJSON=function(){return "Download Track id:" + this.gR + " config: " + JSON.stringify(this.Z);};m.prototype.PL=function(){return void 0 === this.gR?!1:!0;};m.prototype.Sta=function(k){this.Z.connections !== k.connections && (this.Z=k);};Xa.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.gR;}},Jn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.gR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Z;}},y8:{configurable:!0,enumerable:!0,get:function(){return this.Ei;}},XU:{configurable:!0,enumerable:!0,get:function(){return this.jnb.XU;}}});this.tI=Object.assign(m,new h.YBa());}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(67263);d=a(22699).EventEmitter;c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za))],c);b.XBa=c;},22806:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t,w,v){this.VJ=q;this.He=t;this.tb=w;this.Ea=v;this.log=u.Wa("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(5163);l=a(48220);f=a(24550);h=a(36129);d=a(87386);g=a(22674);m=a(32934);k=a(42207);n=a(81918);p=a(5021);c.prototype.DF=function(){return this.Ea.Eb().ba(p.na);};c.prototype.lSb=function(q,u){q.oSb({mediaRequest:q,timestamp:u});};c.prototype.e8=function(q){var u,t;t=q.mediaRequest.OB;t.readyState=l.pc.jc.Sj;t.Q5a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.DF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.wM=function(q){this.lSb(q.mediaRequest.OB,q.timestamp);};c.prototype.GG=function(q){var u,t;u=q.mediaRequest.OB;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.pc.jc.pu && this.e8(q),this.tb.Yj(t) && (q.mediaRequest=u,q.timestamp=this.DF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.rSb(q))));};c.prototype.$m=function(q){var u,t,w,v;u=q.mediaRequest;t=q.errorcode;w=q.httpcode;v=l.pc.fZ;if("undefined" === typeof u)!1;else if((u=u.OB,"undefined" === typeof u))!1;else if(u.readyState !== l.pc.jc.du)if(t === h.R.bD)(u.readyState=l.pc.jc.Yp,q.mediaRequest=u,q.readyState=u.readyState,u.jSb(q));else {u.readyState=l.pc.jc.du;switch(t){case h.R.lP:w=v.AAa;break;case h.R.cca:w=v.$ba;break;case h.R.iP:w=400 < w && 500 > w?452 === w?v.VDa:v.c_:500 <= w?v.bca:v.$ba;break;case h.R.jP:w=v.aca;break;case h.R.hP:w=v.BAa;break;case h.R.kP:w=v.d_;break;case h.R.cD:w=v.d_;break;case h.R.UDa:w=v.TDa;break;case h.R.QDa:w=v.c_;break;case h.R.xhb:w=v.aca;break;default:w=v.d_;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=w;q.nativecode=t;u.rra(q);}};c.prototype.vM=function(q,u){var t,w;t=u.request.OB;if(t)if(u.ia){if((!1,q.j && t.readyState !== l.pc.jc.DONE)){switch(t.readyState){case l.pc.jc.Yp:!1;return;case l.pc.jc.du:!1;break;case l.pc.jc.Sj:break;case l.pc.jc.pu:this.e8({mediaRequest:u.request,responseHeaders:u.headers});break;default:!1;}t.readyState=l.pc.jc.DONE;if(!t.Le){w={mediaRequest:t,readyState:t.readyState,timestamp:this.DF(),cadmiumResponse:u};q.j.Ywa+=1;t.$Jb();t.wNb() && (q.j.Dua+=1,u.Vl.Wi=Math.ceil(t.Hla),u.Vl.Pp=Math.ceil(t.NE),u.Vl.My=Math.floor(t.JB));t.Fwb=w;t.tM(w);}}}else (!1,t.readyState === l.pc.jc.Yp?!1:this.$m({mediaRequest:u.request,errorcode:u.ya,httpcode:u.Kl,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t,w;t=this;u=this.He.download(q,u);if(q.OB){w=q.OB;-1 < [l.pc.jc.OPENED,l.pc.jc.du].indexOf(w.readyState) && (w.readyState=l.pc.jc.pu,u.h0b(function(v){t.wM(v);}));}u.O1(function(v){t.vM(q,v);});u.m0b(function(v){t.GG(v);});return u;};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.GO)),r.__param(1,(0,g.l)(d.Za)),r.__param(2,(0,g.l)(m.eu)),r.__param(3,(0,g.l)(k.Wf)),r.__param(4,(0,g.l)(n.Jc))],a);b.OGa=a;},77425:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){this.Ea=t;this.Os=w;this.config=v;this.He=x;this.KQb=z;this.log=y.Wa("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(32934);d=a(24240);g=a(51344);m=a(48220);k=a(81918);n=a(5021);p=a(34231);q=a(4203);u=a(60328);c.prototype.bT=function(t,w,v){var x,z,A,B;function y(){var D;t.removeEventListener(m.pc.xk.Cz,y);D=x.config().lEb;void 0 === t.UK?t.UK=0:t.UK++;t.UK >= D.length && (t.UK=D.length - 1);nb.clearTimeout(t.pla);t.pla=nb.setTimeout(function(){x.bT(t,w,v);},D[t.UK]);}x=this;t.iec=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.He.R_.Iza,withCredentials:!1,JA:t.mediaType === u.v.ea?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.uo,track:{type:t.mediaType === u.v.ea?g.Rj.audio:g.Rj.video},stream:{Tb:t.Ub,bitrate:t.bitrate},Bc:{id:t.Pc},OB:t,VW:v,Er:this.Os.Er,qr:t.qr};A=t.KK;void 0 !== A && void 0 !== A.It && void 0 !== A.lG && void 0 !== A.mG && (z.KK=[A.mG,A.lG,A.It,A.yTa]);B=this.DF();z=this.KQb.download(z,function(D){D.ia && t.readyState !== m.pc.jc.DONE && (t.readyState === m.pc.jc.Yp?!1:(t.readyState === m.pc.jc.du?!1:t.readyState === m.pc.jc.pu?(t.readyState=m.pc.jc.Sj,t.Q5a({mediaRequest:t,readyState:t.readyState,timestamp:t.Le?B:x.DF(),connect:!1,responseHeaders:D.headers})):t.readyState !== m.pc.jc.pu && t.readyState !== m.pc.jc.Sj && !1,t.readyState=m.pc.jc.DONE,D={mediaRequest:t,readyState:t.readyState,timestamp:x.DF(),cadmiumResponse:D,response:D.content},t.Fwb=D,t.tM(D)));});t.addEventListener(m.pc.xk.Cz,y);t.coa=z.abort;};c.prototype.kQa=function(t){try{nb.clearTimeout(t.pla);t.pla=void 0;t.coa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.DF=function(){return this.Ea.Eb().ba(n.na);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Jc)),r.__param(1,(0,l.l)(p.qn)),r.__param(2,(0,l.l)(q.ac)),r.__param(3,(0,l.l)(f.Za)),r.__param(4,(0,l.l)(h.eu)),r.__param(5,(0,l.l)(d.PGa))],a);b.YGa=a;},89936:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v,y,x){function z(B,D){this.track=B;this.label=D;this.og=n.pc.jc.UNSENT;this.bytesReceived=0;this.AW=[];}function A(B,D,C){this.requestId=x.CA().toString();this.tb=w;this.log=t.Wa("MediaRequest");this.config=u;this.Db=new k.Qj();this.label=D;"notification" === this.label?this.config().IK && (this.XU=v):this.XU=y;C && (this.mediaType=C.mediaType,this.Ub=C.Ub,this.bitrate=C.bitrate,this.Pc=C.Pc || 0,this.et=C.et,this.I=C.I);this.cU=this.G2=this.H2=void 0;this.track=B;this.TR=this.url=this.responseType=void 0;this.og=n.pc.jc.UNSENT;this.Aj=this.oF=this.Ig=this.status=void 0;this.bytesReceived=0;this.connect=this.Hla=this.NE=this.JB=this.spa=this.ji=this.Gla=this.loadTime=this.KPa=void 0;this.AW=[];this.Jn=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.Db.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.Db.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.Db.Ec.call(this,B,D,C);};z.prototype.oSb=function(B){this.og === n.pc.jc.OPENED && (this.cU=!0,this.loadTime=this.ji=B.timestamp,!1,this.og=n.pc.jc.pu,this.emit(n.pc.xk.OHa,B));};z.prototype.Q5a=function(B){var D;B.responseHeaders && (this.rZb=B.responseHeaders);if(this.og < n.pc.jc.Sj){this.AW=[];D=B.timestamp - this.loadTime;!this.Le && 0 < D && (this.connect=!0,this.AW.push(D));!0 === this.config().JLb?this.Gla=B.timestamp:this.Gla=this.ji=B.timestamp;!1;this.og=n.pc.jc.Sj;this.emit(n.pc.xk.NHa,B);}};z.prototype.rSb=function(B){this.og === n.pc.jc.Sj && (!1,this.spa=this.ji=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.tb.ug(this.spa) && this.emit(n.pc.xk.PHa,B));};z.prototype.tM=function(B){var D;if(-1 < [n.pc.jc.pu,n.pc.jc.Sj].indexOf(this.og)){this.cU=!1;!1;this.ji=B.timestamp;this.og=n.pc.jc.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Vl.b3;(0,q.oa)(this.bytesReceived === this.uo,"bytesReceived do not match expected totalBytes.");B.newBytes=this.uo - D;this.tb.ug(this.NE) && (this.ji=this.NE,0 === B.newBytes && (this.spa=this.NE));this.tb.ug(this.JB) && (this.loadTime=this.JB);this.KPa=B.response;this.emit(n.pc.xk.LP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",VYb:B});}};z.prototype.jSb=function(B){this.cU=!1;!1;this.emit(n.pc.xk.kkb,B);};z.prototype.rra=function(B){this.ji=B.timestamp;this.status=B.httpcode;this.Ig=B.errorcode;this.oF=n.pc.fZ.name[this.Ig];this.Aj=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",MDb:B});this.emit(n.pc.xk.Cz,B);this.cU=!1;};z.prototype.open=function(B,D,C,F,G,E,J,M,L){this.Zv=!1;this.TR=D;this.qr=M;this.KK=L;this.url=B;this.responseType=C;!1;if(!this.url)return (!1,!1);this.og=n.pc.jc.OPENED;this.XU.bT(this,D,J);return !0;};z.prototype.Ze=function(){!1;-1 !== [n.pc.jc.OPENED,n.pc.jc.pu,n.pc.jc.Sj].indexOf(this.og) && this.abort();return !0;};z.prototype.nX=function(B){!1;this.url=B;this.UK=void 0;return !0;};z.prototype.abort=function(){this.og=n.pc.jc.Yp;this.XU.kQa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var D,C;return null !== (C=null === (D=this.rZb) || void 0 === D?void 0:D[B.toLowerCase()]) && void 0 !== C?C:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.gN=function(){};z.prototype.xj=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.xj(),segmentId:this.I,isHeader:this.Le,ptsStart:this.ZM,ptsOffset:this.W8,responseType:this.responseType,duration:this.iF,readystate:this.og,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.$Jb=function(){var B,D;if(this.config().Wdb && d.ju && d.ju.getEntriesByType && (!this.tb.ug(this.JB) || !this.tb.ug(this.NE) && this.tb.ug(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.H2 + "-" + this.G2 + "*");D=new RegExp(B);B=d.ju.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.tb.ug(B) && (0 < B.startTime && (this.JB=B.startTime,0 < B.requestStart && (this.JB=Math.max(this.JB,B.requestStart))),0 < B.responseStart && (this.Hla=B.responseStart),0 < B.responseEnd && (this.NE=B.responseEnd));}};z.prototype.wNb=function(){return this.tb.ug(this.JB) && this.tb.ug(this.NE) && this.tb.ug(this.Hla);};Xa.Object.defineProperties(z.prototype,{uo:{configurable:!0,enumerable:!0,get:function(){return 0 === this.TR.start && -1 === this.TR.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.TR.end - this.TR.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.G2 - this.H2 + 1;}},UKb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Le:{configurable:!0,enumerable:!0,get:function(){return !this.et;}},response:{configurable:!0,enumerable:!0,get:function(){return this.KPa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.og;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.fq=Object.assign(A,n.pc);}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(4203);d=a(22365);g=a(42207);m=a(31034);k=a(94886);n=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ac)),r.__param(1,(0,l.l)(f.Za)),r.__param(2,(0,l.l)(g.Wf)),r.__param(3,(0,l.l)(m.YHa)),r.__param(4,(0,l.l)(m.ZGa)),r.__param(5,(0,l.l)(p.Bw))],c);b.WGa=c;},76457:function(r,b,a){var l,f,h;function c(d,g){this.He=g;this.log=d.Wa("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.bT=function(d,g,m){g={url:d.url,c_b:m};!1;d.coa=this.He.h1b(g);};c.prototype.kQa=function(d){try{d.coa();}catch(g){this.log.warn("exception aborting request");}};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(a.eu))],h);b.XHa=h;},64213:function(r,b,a){var l,f,h,d;function c(g,m){this.av=void 0 === g?function(){}:g;this.lua=m;this.hw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Dea=void 0;l=a(5163);f=a(93161);h=a(45146);d=a(31149);c.prototype.store=function(g,m){var k,q;k=this.generateKey(g);this.hw.has(k) && this.pra(this.hw.get(k),!0);if(!g.vd)for(var n=la(this.hw),p=n.next();!p.done;p=n.next()){q=la(p.value);p=q.next().value;q=q.next().value;p.includes(":" + g.J + ":") && (this.pra(q,!0),this.hw.delete(p));}this.hw.set(k,m);};c.prototype.Tm=function(g,m){var k,n,p;p=null === (k=null === m || void 0 === m?void 0:m.Hf) || void 0 === k?void 0:k.bc;k=null === (n=null === m || void 0 === m?void 0:m.Hf) || void 0 === n?void 0:n.vd;n={J:g,vd:k,bc:p};this.has(n) || this.av(g,m);return this.get(n);};c.prototype.Uv=function(g,m){var k;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var w;if(1 == t.Cv)return ((0,h.oa)(m.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,h.oa)(!!m.Hf.bc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.xia=2,Ma(t,q.lua(g,m),4));if(2 != t.Cv)return t.return(t.jY);t.xia=0;w=t.oE.eXa;t.oE=null;u=w;throw new f.Fda("Could not hydrate adBreak",{Fm:0,Cgc:0,errorCode:null !== (k=u.code) && void 0 !== k?k:0,context:{error:u instanceof d.Mc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(g){g=this.generateKey(g);return this.hw.has(g) && !this.hw.get(g).Gq;};c.prototype.clear=function(){var g;g=this;this.hw.forEach(function(m){g.pra(m,!1);});this.hw.clear();};c.prototype.get=function(g){return this.hw.get(this.generateKey(g));};c.prototype.generateKey=function(g){var m,k;m=g.bc;k=g.vd;return g.J.toString() + (k?":" + k:"") + (m?":" + m:"");};c.prototype.pra=function(g,m){var k;null === (k=g.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});g.Dwa=m;};b.Dea=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.l2=void 0;c=a(32687);b.l2=function(l){var f,h,d,g;f=l.bo;h=l.loadTime;l=l.gla;d=(0,c.sb)(h)?h:0;g=f[l.target] || ({});f[l.target] !== g && (f[l.target]=g);Object.entries(l.fields).forEach(function(m){var k,n,p,q;k=la(m);m=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)g[m]=k;else {n=k.type;if("count" === n)(void 0 === g[m] && (g[m]=0),++g[m]);else if(void 0 !== k.value){if("array" === n){n=g[m];p=k.adjust;q=k.value;n || (n=g[m]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else g[m]="sum" === n?(g[m] || 0) + k.value:k.value;}else g[m]=k;}});};},64302:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.z_a=void 0;c=a(93161);l=a(45146);b.z_a=function(f,h,d,g){return h.M[h.xe].sa === g?(f=(0,c.Dx)(h,f,c.N.Ma(d)),(0,l.oa)(f,"has valid start position relative to playgraph"),f):{I:h.xe,offset:c.N.Ia};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.KRa=void 0;r=a(22674);c=a(31073);l=a(11479);b.KRa=new r.ed(function(f){f(l.Sh).to(c.zza).da();});},31073:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w;function c(v,y,x,z,A,B){var D;D=this;this.sk=v;this.config=x;this.oo=z;this.debug=A;this.Ea=B;this.ycb=[];this.Vc={};this.log=y.Wa("loadAsync");this.MPb=(0,u.kDa)(function(C){D.nYb=!0;D.startTime=D.Ea.Eb().ba(p.na);D.load(D.ycb).then(function(){D.endTime=D.Ea.Eb().ba(p.na);C(w.gg);}).catch(function(F){D.endTime=D.Ea.Eb().ba(p.na);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;r=a(5163);l=a(77134);f=a(36129);h=a(96813);d=a(63156);g=a(22674);m=a(87386);k=a(4203);n=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);w=a(33096);c.prototype.DU=function(v){this.MPb(v);};c.prototype.register=function(v,y){this.debug.assert(!this.nYb);this.ycb.push({jPb:this.Yub(y),errorCode:v});};c.prototype.je=function(v){this.debug.assert(void 0 === this.Vc[v]);this.Vc[v]=this.Ea.Eb().ba(p.na);};c.prototype.load=function(v){var y;y=this;return (0,h.$7a)(v).then(function(x){y.sk.mark(d.om.hj.ofb);return x.reduce(function(z,A){return z.then(function(){return y.hPb(A);});},Promise.resolve()).then(function(){y.sk.mark(d.om.hj.mfb);});});};c.prototype.hPb=function(v){var y,x;y=this;x=v.jPb;!1;return this.oo.Op((0,p.Lb)(this.config().Isb),x()).catch(function(z){y.log.error("Failed to load component " + v.errorCode,z);y.sk.mark(d.om.hj.nfb);if(z instanceof n.iq)throw {ya:f.R.lfb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.ya=z.ya || f.R.kfb;throw z;});};c.prototype.Yub=function(v){return function(){return new Promise(function(y,x){v(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.aJ)),r.__param(1,(0,g.l)(m.Za)),r.__param(2,(0,g.l)(k.ac)),r.__param(3,(0,g.l)(n.Ez)),r.__param(4,(0,g.l)(q.rw)),r.__param(5,(0,g.l)(t.Jc))],a);b.zza=a;},96813:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.$7a=void 0;c=a(36129);l=[c.U.Pib,c.U.DEa,c.U.EEa,c.U.IEa,c.U.AEa,c.U.yEa,c.U.fca,c.U.Tib,c.U.BEa,c.U.zEa,c.U.uz,c.U.vEa,c.U.xEa,c.U.FEa,c.U.GEa,c.U.HEa,c.U.CEa,c.U.wEa];(function(h){h.ekb=function(d){var k;for(var g={},m=0;m < d.length;m++){k=d[m];if(g[k.errorCode])return {errorCode:k.errorCode,ya:c.R.ifb};g[k.errorCode]=1;}};h.fkb=function(d){var m;for(var g=0;g < d.length;g++){m=d[g];if(-1 === l.indexOf(m.errorCode))return {errorCode:m.errorCode,ya:c.R.jfb};}};})(f || (f={}));b.$7a=function(h){return new Promise(function(d,g){var m;m=f.fkb(h);m && g(m);(m=f.ekb(h)) && g(m);d(h.sort(function(k,n){return l.indexOf(k.errorCode) - l.indexOf(n.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pw="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ih="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TC="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hba="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YAa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oBa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XY="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DBa="DebugConfigSymbol";b.rw="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rlb=b.Bhb=b.EBa=void 0;r=b.EBa || (b.EBa={});r.W$b="PboDebugEvent";r.Z$b="PlaygraphEvent";b.Bhb={U9b:"Manifest",Event:"Event",H9b:"Logblob"};b.rlb={Tac:"UX",j8b:"Combined_1",k8b:"Combined_2"};},28131:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb,Ta,bb,ib,pb,ob,Bb,Eb,Lb,Pb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.zx=void 0;r=a(22674);c=a(63368);l=a(30869);f=a(53085);h=a(62665);d=a(10306);g=a(61909);m=a(11629);k=a(67525);n=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);w=a(42207);v=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);D=a(24900);C=a(4734);F=a(76564);G=a(31811);E=a(55099);J=a(88490);M=a(57180);L=a(9002);H=a(81918);N=a(58098);I=a(76928);K=a(69997);O=a(90597);R=a(85125);Y=a(87386);oa=a(87061);ka=a(84183);ha=a(77134);za=a(1639);Ca=a(91591);La=a(69216);Wa=a(49721);db=a(45842);U=a(22365);ja=a(78789);sa=a(20483);Q=a(77687);P=a(6214);Z=a(31298);na=a(4203);qa=a(91581);Ha=a(79274);Ya=a(36582);Va=a(22816);rb=a(66057);mb=a(44720);Fb=a(95947);Kb=a(4246);Ta=a(84130);bb=a(34043);ib=a(61453);pb=a(90030);ob=a(2010);Bb=a(50093);Eb=a(75236);Lb=a(76892);Pb=a(33258);Xb=a(19699);b.zx=new r.ed(function(Ib){Ib(c.G_).EC(function(){return {};}).da();Ib(c.fD).il(JSON);Ib(c.ENa).il(nb);Ib(d.qMa).il(Math);Ib(c.PFa).il(U.v_);Ib(c.uda).il(U.ju);Ib(c.fNa).il(U.pD);Ib(c.ABa).il(Date);Ib(c.LI).il(U.Be);Ib(c.Qjb).il(U.zz);Ib(oa.YAa).to(ka.XAa).da();Ib(H.Jc).to(L.aza).da();Ib(l.fg).to(n.ZAa).da();Ib(f.Di).to(g.wLa).da();Ib(h.Bw).to(m.QEa).da();Ib(y.Ez).to(C.KKa).da();Ib(d.S_).to(k.SKa).da();Ib(Ya.Nca).to(Bb.MGa).da();Ib(O.rw).to(K.FBa).da();Ib(O.DBa).to(R.CBa).da();Ib(p.kq).to(z.gNa).da();Ib(q.pw).to(A.Yaa).da();Ib(u.ih).to(B.Pza).da();Ib(t.mh).to(D.hNa).da();Ib(w.Wf).il(F.eD);Ib(mb.aP).to(Fb.UCa).da();Ib(v.Nba).to(G.Qj).ioa();Ib(v.YY).to(G.Qj).da();Ib(v.RBa).to(G.Qj).da();Ib(v.Rba).to(G.Qj).da();Ib(J.rea).to(M.wD).da();Ib(N.oBa).to(I.nBa).da();Ib(ha.aJ).to(za.wea).da();Ib(ha.HP).to(za.wea).da();Ib("Factory<LoggerFactory>").xcb(Y.Za);Ib(Ca.xba).to(La.HBa).da();Ib(db.Iz).Wd(function(Ob){return function(Qb){return new Wa.zMa(Ob.hb.get(H.Jc),Ob.hb.get(f.Di),Qb);};});Ib(bb.XY).Wd(function(Ob){return function(Qb){return new ib.BBa(Ob.hb.get(f.Di),Qb);};});Ib(ja.Sda).K3b(sa.Rda);Ib(ja.wlb).Wd(function(Ob){var Qb;Qb=Ob.hb.get(ja.Sda);return function(){return new Qb(!1);};});Ib(ja.xlb).Wd(function(Ob){var Qb;Qb=Ob.hb.get(ja.Sda);return function(){return new Qb(!0);};});Ib(Q.cNa).Wd(function(){return function(Ob){return new P.dNa(Ob);};});Ib(Ha.RP).Wd(function(Ob){return function(Qb,cc,nc){return new Z.XJa(Ob.hb.get(O.rw),Ob.hb.get(na.ac),Ob.hb.get(qa.vn),Ob.hb.get(Ya.Nca),Qb,cc,nc);};});Ib(x.VHa).Wd(function(){return function(Ob){return new E.WHa(Ob);};});Ib(Va.TC).to(rb.dAa);Ib(Eb.n0).to(Lb.eNa).da();Ib(Kb.$P).Wd(function(Ob){return function(Qb,cc){return new Ta.LMa(Ob.hb.get(f.Di),Qb,cc);};});Ib(pb.NCa).to(ob.MCa).da();Ib(Pb.hba).to(Xb.JAa).da();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ij="_ANY_";b.NCa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nba="EventSourceSymbol";b.Rba="GlobalEventSourceSymbol";b.YY="DebugEventSourceSymbol";b.RBa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aP="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bw="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wf="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vz=void 0;r=b.vz || (b.vz={});r[r.V7b=8]="Backspace";r[r.Nac=9]="Tab";r[r.W8b=13]="Enter";r[r.Gac=16]="Shift";r[r.p8b=17]="Ctrl";r[r.A7b=18]="Alt";r[r.V$b=19]="PauseBreak";r[r.g8b=20]="CapsLock";r[r.Y8b=27]="Escape";r[r.Iac=32]="Space";r[r.U$b=33]="PageUp";r[r.T$b=34]="PageDown";r[r.V8b=35]="End";r[r.z9b=36]="Home";r[r.F9b=37]="LeftArrow";r[r.Vac=38]="UpArrow";r[r.dac=39]="RightArrow";r[r.D8b=40]="DownArrow";r[r.C9b=45]="Insert";r[r.B8b=46]="Delete";r[r.dbc=48]="Zero";r[r.K$b=49]="One";r[r.Qac=50]="Two";r[r.Oac=51]="Three";r[r.u9b=52]="Four";r[r.s9b=53]="Five";r[r.Hac=54]="Six";r[r.Fac=55]="Seven";r[r.U8b=56]="Eight";r[r.v$b=57]="Nine";r[r.s7b=65]="A";r[r.Taa=66]="B";r[r.a8b=67]="C";r[r.Ngb=68]="D";r[r.E=69]="E";r[r.Z8b=70]="F";r[r.Qba=71]="G";r[r.x9b=72]="H";r[r.A9b=73]="I";r[r.D9b=74]="J";r[r.lca=75]="K";r[r.mjb=76]="L";r[r.Dca=77]="M";r[r.Y9b=78]="N";r[r.H$b=79]="O";r[r.M$b=80]="P";r[r.Q=81]="Q";r[r.aac=82]="R";r[r.Jlb=83]="S";r[r.qmb=84]="T";r[r.Rac=85]="U";r[r.Wac=86]="V";r[r.Yac=87]="W";r[r.$ac=88]="X";r[r.bbc=89]="Y";r[r.cbc=90]="Z";r[r.G9b=91]="LeftWindowKey";r[r.eac=92]="RightWindowKey";r[r.Dac=93]="SelectKey";r[r.x$b=96]="Numpad0";r[r.y$b=97]="Numpad1";r[r.z$b=98]="Numpad2";r[r.A$b=99]="Numpad3";r[r.B$b=100]="Numpad4";r[r.C$b=101]="Numpad5";r[r.D$b=102]="Numpad6";r[r.E$b=103]="Numpad7";r[r.F$b=104]="Numpad8";r[r.G$b=105]="Numpad9";r[r.X9b=106]="Multiply";r[r.z7b=107]="Add";r[r.Jac=109]="Subtract";r[r.A8b=110]="DecimalPoint";r[r.C8b=111]="Divide";r[r.$8b=112]="F1";r[r.d9b=113]="F2";r[r.e9b=114]="F3";r[r.f9b=115]="F4";r[r.g9b=116]="F5";r[r.h9b=117]="F6";r[r.i9b=118]="F7";r[r.j9b=119]="F8";r[r.k9b=120]="F9";r[r.a9b=121]="F10";r[r.b9b=122]="F11";r[r.c9b=123]="F12";r[r.w$b=144]="NumLock";r[r.Bac=145]="ScrollLock";r[r.Eac=186]="SemiColon";r[r.X8b=187]="Equals";r[r.l8b=188]="Comma";r[r.z8b=189]="Dash";r[r.X$b=190]="Period";r[r.t9b=191]="ForwardSlash";r[r.Pac=192]="Tilde";r[r.L$b=219]="OpenBracket";r[r.U7b=220]="BackSlash";r[r.i8b=221]="CloseBracket";r[r.$$b=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VHa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xba="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vn="PlatformSymbol";b.H_="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ENa="WindowTimersSymbol";b.fD="JSONSymbol";b.fNa="UserAgentSymbol";b.LI="NavigatorSymbol";b.Qjb="MediaSourceSymbol";b.PFa="LocationSymbol";b.ABa="DateSymbol";b.uda="PerformanceSymbol";b.G_="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RP="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sda="PrioritizedSetOfListsSymbol";b.wlb="PrioritizedSetOfListsFactorySymbol";b.xlb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Ez=b.iq=void 0;ea(a,Error);b.iq=a;b.Ez="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qMa="SystemRandomSymbol";b.S_="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="StringUtilsSymbol";},14423:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sea=void 0;l=a(22365);c.m_a=function(){var f;f=l.ku && l.ku.height;return f?1080 <= f?1080:720:720;};b.sea=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iz="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$P="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJ="TimingApiSymbol";b.HP="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cNa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="PboPlaydataValidatorSymbol";b.ZIa="PboPlaydataArrayValidatorSymbol";b.aJa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.om=b.Oa=b.hj=void 0;(function(f){f[f.qm=0]="STANDARD";f[f.rn=1]="LIMITED";f[f.O$b=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(f){f.ofb="asl_start";f.mfb="asl_comp";f.y7b="asl_exc";f.nfb="asl_fail";f.$lb="stf_creat";f.Fib="idb_open";f.Cib="idb_block";f.Mib="idb_upgr";f.Lib="idb_succ";f.Dib="idb_error";f.Eib="idb_invalid_state";f.Hib="idb_open_timeout";f.Jib="idb_open_wrkarnd";f.Kib="idb_storelen_exc";f.Gib="idb_open_exc";f.Iib="idb_timeout_invalid_storelen";f.Ijb="msl_load_data";f.Kjb="msl_load_no_data";f.Jjb="msl_load_failed";})(r=b.hj || (b.hj={}));(function(f){f.hda="PlaybackRequestStart";f.gda="PlaybackRequestEnd";f.Q_="RequestPrefetchManifestStart";f.P_="RequestPrefetchManifestEnd";f.O_="RequestManifestStart";f.N_="RequestManifestEnd";f.M_="RequestLicenseStart";f.L_="RequestLicenseEnd";f.QO="RequestTimedTextUrlStart";f.PO="RequestTimedTextUrlEnd";f.OO="RequestAudioUrlStart";f.NO="RequestAudioUrlEnd";f.SO="RequestVideoUrlStart";f.RO="RequestVideoUrlEnd";f.taa="AppendBufferStart";f.saa="AppendBufferEnd";f.cea="SetMediaKeysStart";f.bea="SetMediaKeysEnd";f.kZ="GenerateChallengeStart";f.jZ="GenerateChallengeEnd";f.nY="ApplyLicenseStart";f.mY="ApplyLicenseEnd";})(b.Oa || (b.Oa={}));b.om=a;a.pca=c;a.oUa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.hj=r;a.gP=l;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.zw=b.SCa=b.RCa=b.Lba=b.QCa=b.gZ=b.r_=b.f_=b.PCa=b.R=b.U=void 0;(function(l){l[l.Go=7001]="UNKNOWN";l[l.aNa=7002]="UNHANDLED_EXCEPTION";l[l.Pib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.rib=7004]="HLS_NOT_SUPPORTED";l[l.eca=7010]="INIT_ASYNCCOMPONENT";l[l.Tib=7011]="INIT_HTTP";l[l.Nib=7014]="INIT_BADMOVIEID";l[l.KEa=7020]="INIT_PLAYBACK_LOCK";l[l.LEa=7022]="INIT_SESSION_LOCK";l[l.Uib=7029]="INIT_POSTAUTHORIZE";l[l.JEa=7031]="INIT_HEADER_MEDIA";l[l.Vib=7034]="INIT_TIMEDTEXT_TRACK";l[l.gfb=7037]="ASE_SESSION_ERROR";l[l.ffb=7038]="ASE_SEEK_THREW";l[l.hfb=7039]="ASE_SKIPPED_THREW";l[l.Qib=7041]="INIT_CORE_OBJECTS1";l[l.Rib=7042]="INIT_CORE_OBJECTS2";l[l.Sib=7043]="INIT_CORE_OBJECTS3";l[l.DEa=7053]="INIT_COMPONENT_STORAGE";l[l.EEa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.AEa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.fca=7059]="INIT_COMPONENT_DEVICE";l[l.BEa=7063]="INIT_COMPONENT_MSL";l[l.zEa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.uz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.IEa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.yEa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.wEa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.vEa=7089]="INIT_COMPONENT_ASE";l[l.CI=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Oib=7092]="INIT_COMPONENT_DRM";l[l.xEa=7094]="INIT_COMPONENT_FTL";l[l.CEa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.FEa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.GEa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.HEa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.kD=7111]="MANIFEST";l[l.ujb=7114]="MANIFEST_MISTMATCH";l[l.jGa=7117]="MANIFEST_VERIFY";l[l.Ylb=7120]="START";l[l.EI=7121]="LICENSE";l[l.Wda=7122]="RELEASE";l[l.Zlb=7123]="STOP";l[l.mca=7125]="KEEPALIVE";l[l.Nkb=7131]="PING";l[l.aib=7134]="ENGAGE";l[l.qjb=7137]="LOGBLOB";l[l.N$b=7138]="PAUSE";l[l.cac=7139]="RESUME";l[l.oLa=7140]="SPLICE";l[l.Ifb=7142]="BIND";l[l.Jfb=7144]="BIND_DEVICE";l[l.nib=7145]="GENERATE_SCREENSHOTS";l[l.hya=7146]="AD_EVENT";l[l.Rkb=7202]="PLAY_INIT_EXCEPTION";l[l.ida=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Xkb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.jIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Ykb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.jda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Wkb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.nIa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.iIa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.kda=7355]="PLAY_MSE_SOURCEADD";l[l.hIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.NP=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.mIa=7361]="PLAY_MSE_EVENT_ERROR";l[l.NI=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.hq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.$kb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.alb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.blb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.clb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.glb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.flb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.elb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.dlb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.oIa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Skb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Tkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Ukb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.kIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Zkb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.lIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Vkb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.D_=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.BCa=7400]="EXTERNAL";l[l.C_=7500]="PAUSE_TIMEOUT";l[l.h_=7502]="INACTIVITY_TIMEOUT";l[l.qfb=7510]="AUTHORIZATION_EXPIRED";l[l.Thb=7700]="EME_INVALID_KEYSYSTEM";l[l.oCa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.ZO=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.eZ=7703]="EME_GENERATEREQUEST_FAILED";l[l.vCa=7704]="EME_UPDATE_FAILED";l[l.tCa=7705]="EME_KEYSESSION_ERROR";l[l.sCa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Xhb=7707]="EME_REMOVE_FAILED";l[l.Vhb=7708]="EME_LOAD_FAILED";l[l.Phb=7709]="EME_CREATE_SESSION_FAILED";l[l.Fba=7710]="EME_LDL_RENEWAL_ERROR";l[l.qCa=7711]="EME_INVALID_INITDATA_DATA";l[l.rCa=7712]="EME_INVALID_LICENSE_DATA";l[l.Uhb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.nCa=7716]="EME_CLOSE_FAILED";l[l.Gba=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Zhb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Okb=7800]="PLAYDATA_STORE_FAILURE";l[l.IO=7900]="BRANCH_PLAY_FAILURE";l[l.JO=7901]="BRANCH_QUEUE_FAILURE";l[l.Lza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Qfb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.ykb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.U || (b.U={}));(function(l){l[l.Go=1001]="UNKNOWN";l[l.ml=1003]="EXCEPTION";l[l.Yib=1004]="INVALID_DI";l[l.kfb=1011]="ASYNCLOAD_EXCEPTION";l[l.lfb=1013]="ASYNCLOAD_TIMEOUT";l[l.x7b=1015]="ASYNCLOAD_BADCONFIG";l[l.ifb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.jfb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.lP=1101]="HTTP_UNKNOWN";l[l.cca=1102]="HTTP_XHR";l[l.iP=1103]="HTTP_PROTOCOL";l[l.hP=1104]="HTTP_OFFLINE";l[l.kP=1105]="HTTP_TIMEOUT";l[l.cD=1106]="HTTP_READTIMEOUT";l[l.bD=1107]="HTTP_ABORT";l[l.UDa=1108]="HTTP_PARSE";l[l.QDa=1110]="HTTP_BAD_URL";l[l.jP=1111]="HTTP_PROXY";l[l.Jca=1203]="MSE_AUDIO";l[l.Kca=1204]="MSE_VIDEO";l[l.Djb=1250]="MSE_MEDIA_ERR_BASE";l[l.N9b=1251]="MSE_MEDIA_ERR_ABORTED";l[l.Q9b=1252]="MSE_MEDIA_ERR_NETWORK";l[l.O9b=1253]="MSE_MEDIA_ERR_DECODE";l[l.R9b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.P9b=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Lr=1260]="EME_MEDIA_KEYERR_BASE";l[l.M8b=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.H8b=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.L8b=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.K8b=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.J8b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.I8b=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.N8b=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Shb=1270]="EME_INTERNAL_ERROR";l[l.Ohb=1271]="EME_CLOSED_BY_APPLICATION";l[l.Whb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.Eba=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Yhb=1274]="EME_RESOURCE_EVICTED";l[l.Rhb=1280]="EME_ERROR_NODRMSESSSION";l[l.Qhb=1281]="EME_ERROR_NODRMREQUESTS";l[l.E8b=1282]="EME_ERROR_INDIV_FAILED";l[l.F8b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.$hb=1284]="EME_TIMEOUT_MESSAGE";l[l.O8b=1285]="EME_TIMEOUT_KEYCHANGE";l[l.uCa=1286]="EME_UNDEFINED_DATA";l[l.wI=1287]="EME_INVALID_STATE";l[l.G8b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.pCa=1289]="EME_EMPTY_DATA";l[l.$O=1290]="EME_TIMEOUT";l[l.f$b=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.i$b=1305]="NCCP_PARSEXML";l[l.jlb=1309]="PROCESS_EXCEPTION";l[l.h$b=1311]="NCCP_NETFLIXID_MISSING";l[l.j$b=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.c$b=1313]="NCCP_HMAC_MISSING";l[l.b$b=1315]="NCCP_HMAC_MISMATCH";l[l.a$b=1317]="NCCP_HMAC_FAILED";l[l.$9b=1321]="NCCP_CLIENTTIME_MISSING";l[l.Z9b=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.lDa=1331]="GENERIC";l[l.Ujb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Vjb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.k$b=1341]="NCCP_TRANSACTION";l[l.d$b=1343]="NCCP_INVALID_DRMTYPE";l[l.e$b=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.g$b=1345]="NCCP_MISSING_PAYLOAD";l[l.S$b=1346]="PROTOCOL_NOT_INITIALIZED";l[l.R$b=1347]="PROTOCOL_MISSING_FIELD";l[l.Q$b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.Ow=1402]="STORAGE_NODATA";l[l.lac=1403]="STORAGE_EXCEPTION";l[l.tac=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.uac=1407]="STORAGE_QUOTA_TO_SMALL";l[l.rLa=1411]="STORAGE_LOAD_ERROR";l[l.amb=1412]="STORAGE_LOAD_TIMEOUT";l[l.sLa=1414]="STORAGE_SAVE_ERROR";l[l.dmb=1415]="STORAGE_SAVE_TIMEOUT";l[l.fea=1417]="STORAGE_DELETE_ERROR";l[l.qLa=1418]="STORAGE_DELETE_TIMEOUT";l[l.sac=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.pac=1423]="STORAGE_FS_GETDIRECTORY";l[l.rac=1425]="STORAGE_FS_READENTRIES";l[l.mac=1427]="STORAGE_FS_FILEREAD";l[l.oac=1429]="STORAGE_FS_FILEWRITE";l[l.nac=1431]="STORAGE_FS_FILEREMOVE";l[l.qac=1432]="STORAGE_FS_PARSEJSON";l[l.cmb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.bmb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.u$b=1501]="NTBA_UNKNOWN";l[l.t$b=1502]="NTBA_EXCEPTION";l[l.p$b=1504]="NTBA_CRYPTO_KEY";l[l.r$b=1506]="NTBA_CRYPTO_OPERATION";l[l.q$b=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.s$b=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.tBa=1553]="DEVICE_NO_ESN";l[l.Xgb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.p9b=1701]="FORMAT_UNKNOWN";l[l.iib=1713]="FORMAT_XML";l[l.q9b=1715]="FORMAT_XML_CONTENT";l[l.n9b=1721]="FORMAT_BASE64";l[l.o9b=1723]="FORMAT_DFXP";l[l.Aib=1801]="INDEXDB_OPEN_EXCEPTION";l[l.tEa=1802]="INDEXDB_NOT_SUPPORTED";l[l.zib=1803]="INDEXDB_OPEN_ERROR";l[l.uEa=1804]="INDEXDB_OPEN_NULL";l[l.yib=1805]="INDEXDB_OPEN_BLOCKED";l[l.Bib=1807]="INDEXDB_OPEN_TIMEOUT";l[l.xib=1808]="INDEXDB_INVALID_STORE_STATE";l[l.i_=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Njb=1901]="MSL_UNKNOWN";l[l.Gjb=1911]="MSL_INIT_NO_MSL";l[l.qGa=1913]="MSL_INIT_ERROR";l[l.Hjb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.Ejb=1931]="MSL_ERROR";l[l.Mjb=1933]="MSL_REQUEST_TIMEOUT";l[l.Ljb=1934]="MSL_READ_TIMEOUT";l[l.Fjb=1935]="MSL_ERROR_HEADER";l[l.S9b=1936]="MSL_ERROR_ENVELOPE";l[l.T9b=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.pGa=1957]="MSL_ERROR_REAUTH";l[l.Fea=2103]="WEBCRYPTO_MISSING";l[l.Zac=2105]="WEBCRYPTOKEYS_MISSING";l[l.Amb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.b8b=2200]="CACHEDDATA_PARSEJSON";l[l.nAa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.c8b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.oz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.u7b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.v7b=3001]="ACCOUNT_INVALID";l[l.y8b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.x8b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.v8b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.w8b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.u8b=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.vac=3300]="STORAGE_VA_LOAD_ERROR";l[l.wac=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.zac=3302]="STORAGE_VA_SAVE_ERROR";l[l.Aac=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.xac=3304]="STORAGE_VA_REMOVE_ERROR";l[l.yac=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.fda=3077]="PBO_DEVICE_EOL_WARNING";l[l.$Ha=3078]="PBO_DEVICE_EOL_FINAL";l[l.cIa=3100]="PBO_DEVICE_RESET";l[l.bIa=3101]="PBO_DEVICE_RELOAD";l[l.aIa=3102]="PBO_DEVICE_EXIT";l[l.Lkb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.okb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.xkb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.dIa=5007]="PBO_INCORRECT_PIN";l[l.Ikb=5008]="PBO_MOBILE_ONLY";l[l.Mkb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.pkb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.skb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.qkb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.rkb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.tkb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.Fkb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.Ekb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.Ckb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.vkb=5059]="PBO_BLACKLISTED_IP";l[l.ukb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.wkb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Jkb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Gkb=5091]="PBO_MALFORMED_REQUEST";l[l.Dkb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Hkb=5093]="PBO_MDX_INVALID_CTICKET";l[l.Bkb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Kkb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.Akb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.zkb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Sgb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Ugb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Tgb=5102]="DECODER_TIMEOUT_PLAYING";l[l.xhb=5200]="DOWNLOADER_IO_ERROR";l[l.Kza=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Mfb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.H7b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Xaa=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.D7b=5304]="BRANCHING_ASE_FAILURE";l[l.E7b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Kfb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.G7b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Nfb=5308]="BRANCHING_SEEK_THREW";l[l.F7b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Lfb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Ofb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Pfb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.emb=5500]="STUDIO_MUXED_MANIFEST";l[l.Fca=5600]="MANIFEST_HYDRATION_FAILURE";l[l.sfb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.tfb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.rfb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.R || (b.R={}));(function(l){l[l.S7b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.I7b=5005]="BR_ACCOUNT_ON_HOLD";l[l.M7b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.P7b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.L7b=5059]="BR_BLACKLISTED_IP";l[l.J7b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.Q7b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.N7b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.R7b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.O7b=2207]="BR_ENDPOINT_ERROR";l[l.K7b=2208]="BR_AUTHORIZATION_ERROR";})(b.PCa || (b.PCa={}));b.f_={Xfb:"400",Uac:"401",vIa:"413"};b.r_={l9b:1,Mac:2,R8b:3,Sac:4,E9b:5,Q8b:6,Aea:7,T8b:8,bac:9,iac:10};b.gZ=function(l,f,h,d){return l == a.C_ || l == a.h_ || l == a.ida && 432E5 <= h || l == a.Gba && f === c.Eba && 0 < Number(d);};b.QCa=function(l){return 1100 <= l && 1199 >= l;};b.Lba=function(l,f){return 1 <= l && 9 >= l?f + l:f;};b.RCa=function(l){return (0,b.Lba)(l,c.Djb);};b.SCa=function(l){return (0,b.Lba)(l,c.Lr);};b.zw=function(l){var f,h,d;f={};h=l.errorExternalCode || l.De;d=l.errorDetails || l.Jb;f.ErrorSubCode=l.errorSubCode || l.ya || c.Go;h && (f.ErrorExternalCode=h);d && (f.ErrorDetails=d);return f;};},9002:function(r,b,a){var l,f,h,d;function c(g,m){this.qa=g;this.C4=this.qa.ee.ba(h.na) - 1;this.uPb=this.A6=0;this.id="" + m.CA();}Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;r=a(5163);l=a(22674);f=a(30869);h=a(5021);a=a(62665);c.prototype.Eb=function(){var g,m;g=this.qa.ee.ba(h.na) - this.C4;if(g < this.A6){m=this.A6 + 1;this.C4-=m - g;g=m;}this.A6=g;return (0,h.Lb)(this.A6);};c.prototype.nIb=function(){return this.uPb++;};Xa.Object.defineProperties(c.prototype,{jy:{configurable:!0,enumerable:!0,get:function(){return (0,h.Lb)(this.C4);}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.fg)),r.__param(1,(0,l.l)(a.Bw))],d);b.aza=d;},33543:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yaa=void 0;r=a(5163);a=a(22674);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(h){for(var d=new Uint8Array(h.length / 2),g=0;g < d.length;g++){d[g]=this.Bcb(h.substr(2 * g,2));}return d;};c.prototype.encode=function(h){var k;for(var d="",g=h.length,m=0;m < g;m++){k=h[m];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.vF=function(h,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[h & 15] || "0") + g;h>>>=4;}return g;};c.prototype.Bcb=function(h){var d;d=h.length;if(7 < d)throw Error("hex to long");for(var g=0,m=0;m < d;m++){g=16 * g + l[h[m]];}return g;};f=c;f=r.__decorate([(0,a.T)()],f);b.Yaa=f;},30033:function(r,b,a){var l,f,h,d,g,m,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;r=a(5163);a=a(22674);f=Array.prototype.slice;h=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};m={};k={};n=/\s+/g;[h,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;m[u]=q << 6;k[u]=q;}});c.prototype.encode=function(p){return l.Lka(p,h,"=");};c.prototype.decode=function(p){return l.Wja(p);};c.Wja=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,y;v < u;){y=d[p[w++]] + g[p[w++]] + m[p[w++]] + k[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[v++]=y >>> 16;q[v++]=y >>> 8 & 255;q[v++]=y & 255;}if(0 < t && (y=d[p[w++]] + g[p[w++]],q[v++]=y >>> 16,1 < t && (y+=m[p[w++]],q[v++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Lka=function(p,q,u){for(var t="",w=0,v=p.length,y=v - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(w == v - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.Pza=f;},66057:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){this.userAgentData=p;this.nd=this.gEb(k,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=b.dAa=void 0;r=a(5163);l=a(22674);f=a(4203);h=a(83767);d=a(63368);a=a(75236);c.prototype.p5=function(k,n){var p;if(n=this.iKb(n))switch(k){case m.oy:p=0 < n.length?Number(n[0]):0;break;case m.lM:p=1 < n.length?Number(n[1]):0;break;case m.GM:p=2 < n.length?Number(n[2]):0;break;case m.v9:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.iKb=function(k){return null === k || void 0 === k?void 0:k.split(".");};c.prototype.aG=function(k){return this.nd.name === k;};c.prototype.cG=function(k){return this.nd.n8.name === k;};c.prototype.eNb=function(k){return this.nd.LKb === k;};c.prototype.gEb=function(k,n){return Object.assign(Object.assign({LKb:this.iEb(k,n)},this.fEb(k,n)),{n8:this.jEb(k,n)});};c.prototype.iEb=function(k,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(k)?f.e_.phone:(/Android/).test(k)?f.e_.Z2b:f.e_.Iwb;};c.prototype.fEb=function(k,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(k)?{name:f.lm.opera,version:""}:(/Tesla/).test(k)?{name:f.lm.bcb,version:""}:(n=k.match(/Edge\/(\d*)\./))?{name:f.lm.kp,version:n[1]}:(n=k.match(/Edg\/(\d*)\./))?{name:f.lm.pWa,version:n[1]}:(n=k.match(/Chrome\/(\d*)\./))?{name:f.lm.Nia,version:n[1]}:(n=k.match(/Firefox\/(\d*)\./))?{name:f.lm.SXa,version:n[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.lm.d$a,version:k[1]}:{name:f.lm.Nia,version:""};};c.prototype.jEb=function(k,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(k)?{name:f.tn.lTa,version:""}:(n=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.tn.M3a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(k)?{name:f.tn.bya,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:f.tn.kha,version:""}:(/Linux/).test(k)?{name:f.tn.k3a,version:""}:(/iPhone/).test(k)?{name:f.tn.A1a,version:""}:{name:f.tn.bya,version:""};};Xa.Object.defineProperties(c.prototype,{K1a:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.Nia);}},jU:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.kp);}},fy:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.pWa);}},f6:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.SXa);}},Voa:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.opera);}},oU:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.d$a);}},h2a:{configurable:!0,enumerable:!0,get:function(){return this.aG(f.lm.bcb);}},fU:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.kha);}},JL:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.A1a);}},Z5:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.kha) && this.eNb(f.e_.phone);}},hU:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.lTa);}},kNb:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.k3a);}},wB:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.M3a);}},gy:{configurable:!0,enumerable:!0,get:function(){return this.cG(f.tn.bya);}},Dm:{configurable:!0,enumerable:!0,get:function(){return this.p5(m.oy,this.nd.version);}},ZTb:{configurable:!0,enumerable:!0,get:function(){return this.p5(m.oy,this.nd.n8.version);}},$Tb:{configurable:!0,enumerable:!0,get:function(){return this.p5(m.lM,this.nd.n8.version);}},aUb:{configurable:!0,enumerable:!0,get:function(){return this.p5(m.GM,this.nd.n8.version);}}});g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.fNa)),r.__param(1,(0,l.l)(h.nP)),r.__param(2,(0,l.l)(a.n0))],g);b.dAa=g;(function(k){k[k.oy=0]="major";k[k.lM=1]="minor";k[k.GM=2]="patch";k[k.v9=3]="revision";})(m=b.lNa || (b.lNa={}));},19699:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t;function c(w,v,y,x,z,A){this.al=w;this.config=y;this.oo=x;this.qa=z;this.is=A;this.log=v.Wa("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=b.gba=void 0;r=a(5163);f=a(22674);h=a(36129);d=a(87386);g=a(5021);m=a(17892);k=a(4203);n=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.gba="errors";c.prototype.load=function(){var w,v;w=this;if(!this.config().AWa)return Promise.resolve([]);v=(0,g.Lb)(this.config().Bub);return this.oo.Op(v,this.o3a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,v,y,x,z){var A;A=this;return this.config().AWa && v && y && (v === u.$a.yda || v === u.$a.gQ + "." + t.Mr)?this.o3a([{time:w,keySystem:v,code:y,ic:x,Tc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.gPb=function(){var w;w=this;return this.al.create().then(function(v){return v.load(b.gba).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.ya === h.R.Ow)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.TFb=function(w){return {time:(0,g.zh)(w[0]),keySystem:w[1],code:w[2],ic:w[3],Tc:w[4]};};c.I3b=function(w){return [w.time.ba(g.sm),w.keySystem,w.code,w.ic,w.Tc];};c.prototype.VZb=function(w){var v;v={version:1,errors:w.map(l.I3b)};return this.al.create().then(function(y){return y.save(b.gba,v,!1);}).then(function(){return w;});};c.prototype.FEb=function(w){var v,y;v=(0,g.zh)(this.config().Aub);y=this.qa.ee.wa(v);return w.filter(function(x){return x.time.wa(y).c2a();});};c.prototype.V5b=function(w){return w.filter(this.QMb.bind(this)).map(this.TFb);};c.prototype.QMb=function(w){return this.is.Yj(w[0]) && this.is.Xo(w[1]) && this.is.Yj(w[2]) && (this.is.Yj(w[3]) || void 0 === w[3]) && (this.is.Xo(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.AEb=function(w){var v;v=this;return w.filter(function(y){return v.config().JDb.includes(y.code);});};c.prototype.BEb=function(w){return w.slice(-this.config().yub);};c.prototype.o3a=function(w){var v;v=this;return this.gPb().then(function(y){return v.V5b(y);}).then(function(y){return v.FEb(y);}).then(function(y){return y.concat(w);}).then(function(y){return v.AEb(y);}).then(function(y){return v.BEb(y);}).then(function(y){return v.VZb(y);});};a=l=c;a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.nw)),r.__param(1,(0,f.l)(d.Za)),r.__param(2,(0,f.l)(k.ac)),r.__param(3,(0,f.l)(n.Ez)),r.__param(4,(0,f.l)(p.fg)),r.__param(5,(0,f.l)(q.Wf))],a);b.JAa=a;},31149:function(r,b,a){var l;function c(f,h,d,g,m,k,n,p,q,u,t,w,v){this.code=void 0 === f?l.U.Go:f;this.ic=h;this.Tc=d;this.Pm=g;this.uy=m;this.message=k;this.details=n;this.data=p;this.uj=q;this.kVb=u;this.alert=t;this.eha=w;this.ke=v;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(36129);c.we=function(f){var h,d,g;if(f){h=f.stack;d=f.number;g=f.message;g || (g="" + f);h?(f="" + h,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.rS=function(f){this.details=c.we(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ic,extCode:this.Tc,edgeCode:this.Pm,mslCode:this.uy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.uj,playbackServiceError:this.kVb};};c.$la=function(f,h){return new c(f,l.R.ml,void 0,void 0,void 0,void 0,h.message,h.stack);};c.Ieb=function(f,h){return new c(f,h,void 0,void 0,void 0,void 0,void 0,void 0);};c.M6b=function(f,h,d){return new c(f,h,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},84183:function(r,b,a){var l,f,h,d;function c(g){return f.KO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;r=a(5163);l=a(12501);f=a(64174);h=a(22674);a=a(83767);ea(c,f.KO);Xa.Object.defineProperties(c.prototype,{Udb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"usePerformanceApi")],d.prototype,"Udb",null);d=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.jba))],d);b.XAa=d;},691:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u){var t;t=this;this.config=n;this.gAb=p;this.Db=q;this.performance=u;this.GTb=function(w){t.uva=w.wa(t.ee);};(0,l.co)(this,"date");(0,l.co)(this,"performance");this.Trb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.uva=f.Ia;this.Db.addListener(k.jca.I$a,this.GTb);}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;r=a(5163);l=a(66523);f=a(5021);h=a(22674);d=a(63368);g=a(87061);m=a(15160);k=a(85001);c.prototype.Arb=function(n){return n.add(this.uva);};Xa.Object.defineProperties(c.prototype,{ee:{configurable:!0,enumerable:!0,get:function(){return this.l5a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Lb)(this.gAb.now());}},qH:{configurable:!0,enumerable:!0,get:function(){return this.ee.add(this.uva);}},l5a:{configurable:!0,enumerable:!0,get:function(){return this.config.Udb && this.Trb;}}});a=c;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(g.YAa)),r.__param(1,(0,h.l)(d.ABa)),r.__param(2,(0,h.l)(m.Rba)),r.__param(3,(0,h.l)(d.uda)),r.__param(3,(0,h.optional)())],a);b.ZAa=a;},76928:function(r,b,a){var l,f,h,d;function c(g,m){this.is=g;this.Yd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(5163);f=a(22674);h=a(42207);a=a(74870);c.prototype.encode=function(g){var m,k;m=this;k="";this.Yd.UA(g,function(n,p){n=m.SWa(n) + "=" + m.SWa(p);k=k?k + ("," + n):n;});return k;};c.prototype.SWa=function(g){return this.is.XE(g)?this.is.Yj(g)?"" + g:this.is.Xo(g)?(g=g.replace(l.Vta,this.iqa.bind(this)),!l.sXb.test(g) && l.MRb.test(g) && (g='"' + g + '"'),g):this.is.F1(g)?"" + g:this.is.yga(g)?"NaN":"":"";};c.prototype.iqa=function(g){return l.map[g];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.Vta=/(?!^.+)["\r\n](?=.+$)/g;d.sXb=/["].*["]/g;d.MRb=/[", ]/;d=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Wf)),r.__param(1,(0,f.l)(a.mh))],d);b.nBa=d;},61453:function(r,b,a){var l,f;function c(h,d){this.Ac=h;this.e3=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;r=a(5163);l=a(22674);a=a(53085);c.prototype.Yi=function(h){this.vg();this.Zi=this.Ac.lk(this.e3,h);};c.prototype.vg=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Di))],f);b.BBa=f;},85125:function(r,b,a){var l,f,h,d;function c(g){g=f.KO.call(this,g,"DebugConfigImpl") || this;g.xcc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;r=a(5163);l=a(12501);f=a(64174);h=a(22674);a=a(83767);ea(c,f.KO);Xa.Object.defineProperties(c.prototype,{Rtb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"breakOnError")],d.prototype,"Rtb",null);d=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.jba))],d);b.CBa=d;},69997:function(r,b,a){var l,f,h,d;function c(g,m,k){this.config=g;this.tb=m;this.la=k.Wa("General");}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;r=a(5163);l=a(22674);f=a(42207);h=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.ysb=function(g,m){this.assert(this.tb.XE(g),m);};c.prototype.zsb=function(g,m){this.assert(this.tb.ug(g),m);};c.prototype.k2=function(g,m){this.assert(this.tb.Xo(g),m);};c.prototype.Fsb=function(g,m){this.assert(this.tb.zm(g),m);};c.prototype.Dsb=function(g,m){this.assert(this.tb.Xo(g) || null === g || void 0 === g,m);};c.prototype.j2=function(g,m){this.assert(this.tb.Yj(g),m);};c.prototype.Bsb=function(g,m){this.assert(this.tb.iha(g),m);};c.prototype.Esb=function(g,m){this.assert(this.tb.AR(g),m);};c.prototype.Csb=function(g,m){this.assert(this.tb.jR(g),m);};c.prototype.xsb=function(g,m){this.assert(this.tb.F1(g),m);};c.prototype.Asb=function(g,m){this.assert(this.tb.H1(g),m);};c.prototype.FMb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.DBa)),r.__param(1,(0,l.l)(f.Wf)),r.__param(2,(0,l.l)(a.Za))],d);b.FBa=d;},69216:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;r=a(5163);f=a(22674);h=a(81918);d=a(31149);g=a(36129);m=a(85001);k=a(5021);n=a(22365);a=a(21801);c.prototype.OVa=function(q){var u,t,w,v,y,x,z,A,B,D;u=this;v=q.mediaTime.value;y=q.tq.value;x=q.lb.value;z=q.state.value;A={segmentId:q.$ma(),mediaTime:v,segmentTime:q.cB(),bufferingState:l.fub[y],presentingState:l.rWb[x],playbackState:l.lVb[z],mseBuffersBusy:this.EJb(q),intBuffersBusy:this.VHb(q),tabVisible:this.Y2b(),decodedFrameCount:this.DAb(q),videoElementInDom:this.j6b(q),lastVideoSync:this.Ea.Eb().wa((0,k.Lb)(q.pX)).ba(k.na)};B=x === m.bb.Ff?q.Ya.ag?this.config.w6a:this.config.v6a:this.config.d5a;if(y !== m.wf.$d){if((y=g.R.Sgb,this.mSa(A.mseBuffersBusy,A.intBuffersBusy)))D=l.Mza;}else (x !== m.bb.me?y=g.R.Ugb:(y=g.R.Tgb,(x=q.ie) && 0 === x.O4() && (D=l.Emb)),(x=q.ie) && x.Kb.sourceBuffers.forEach(function(C){var F,G;F=l.Ef[C.mediaType];A[F + "Ranges"]=C.G4();try{G=C.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - v,A[F + "Undecoded"]=C,1 < G.length && (D=l.Sfb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?D=l.Tfb:C < B.ba(k.na)?D=l.Ufb:u.mSa(A.mseBuffersBusy,A.intBuffersBusy) && (D=l.Mza)):(A[F + "Undecoded"]=0,D=l.Rfb);}));x=q.y9a.D_a();z=v === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.Xa) || void 0 === w?void 0:w.$wa;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.Mc(g.U.iIa,y,D,void 0,void 0,void 0,q,void 0);};c.prototype.EJb=function(q){var u;if(q.Kb){u={};q.Kb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.VHb=function(q){var u;if(q.Kb){u={};q.Kb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.uh()};});return u;}};c.prototype.Y2b=function(){return !n.Pg.hidden;};c.prototype.DAb=function(q){return (q=q.ie) && (q=q.Kb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.j6b=function(q){if(q=q.ie)if(q=q.Kb.$)return n.Pg.body.contains(q);return !1;};c.prototype.mSa=function(q,u){var t,w,v,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Rfb="1";p.Sfb="2";p.Tfb="3";p.Mza="4";p.Ufb="5";p.Emb="6";p.Ef=["Audio","Video"];p.fub=["","NORMAL","BUFFERING","STALLED"];p.rWb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.lVb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Jc)),r.__param(1,(0,f.l)(a.Uca))],p);b.HBa=p;},2010:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.MK=function(h,d){var g;g=this;h && Object.entries(d).forEach(function(m){var k,n,p;k=la(m);m=k.next().value;k=k.next().value;if(g.TMb(k)){n=la(k);k=n.next().value;p=n.next().value;n=h[k];Array.isArray(n)?(g.gka(h,m,k),n.forEach(function(q){g.MK(q,p);})):k === f.ij?Object.values(h).forEach(function(q){g.MK(q,p);}):(g.gka(h,m,k),"object" === typeof n && g.MK(n,p));}else g.gka(h,m,k);});};c.prototype.TMb=function(h){return Array.isArray(h);};c.prototype.gka=function(h,d,g){h.hasOwnProperty(d) || d === g || Object.defineProperty(h,d,{get:function(){return h[g];},set:function(m){return h[g]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,l.T)()],a);b.MCa=a;},95947:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aP=b.UCa=void 0;r=a(5163);l=a(31811);a=a(22674);c.prototype.create=function(){return new l.Qj();};f=c;f=r.__decorate([(0,a.T)()],f);b.UCa=f;b.aP="EventSourceFactorySymbol";},31811:function(r,b,a){var l,f;function c(){this.mp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Qj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(h,d,g){var m,k;m="$netflix$player$order" + this.id + "$" + h;if(this.mp){k=this.mp[h]?this.mp[h].slice():[];g && (d[m]=g);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.mp[h]=k;}};c.prototype.removeListener=function(h,d){if(this.mp && this.mp[h]){for(var g=this.mp[h].slice(),m;0 <= (m=g.indexOf(d));){g.splice(m,1);}this.mp[h]=g;}};c.prototype.Ec=function(h,d,g){var m;if(this.mp){m=this.xma(h);for(h={iI:0};h.iI < m.length;(h={iI:h.iI},h.iI++)){g?(function(k){return function(){var n;n=m[k.iI];setTimeout(function(){n(d);},0);};})(h)():m[h.iI].call(this,d);}}};c.prototype.vg=function(){this.mp=void 0;};c.prototype.on=function(h,d,g){this.addListener(h,d,g);};c.prototype.xma=function(h){var d;return null !== (d=this.mp && (this.mp[h] || (this.mp[h]=[]))) && void 0 !== d?d:[];};f=l=c;f.counter=0;f=l=r.__decorate([(0,a.T)()],f);b.Qj=f;},11629:function(r,b,a){var l,f,h,d,g;function c(m,k){this.qa=m;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;r=a(5163);f=a(22674);h=a(5021);d=a(30869);a=a(10306);c.prototype.CA=function(){return this.qa.ee.ba(h.sm) * l.DAa + Math.floor(this.random.random() * l.DAa);};g=l=c;g.DAa=1E8;g=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.fg)),r.__param(1,(0,f.l)(a.S_))],g);b.QEa=g;},52657:function(r,b,a){var l;function c(f,h,d,g,m){this.version=f;this.NG=h;this.swa=d;this.al=g;this.Ot=m;this.mk=new l.REa(f,h,d,g,m);this.Fl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hca=void 0;l=a(51665);c.prototype.load=function(f){var h;h=this;return this.mk.load(f).then(function(){var d;h.Fl=null !== (d=h.mk.Fl) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Fl.push(f);return this.mk.set(this.Fl);};c.prototype.remove=function(f,h){f=this.OYa(this.cL(f,h));return 0 <= f?(this.Fl.splice(f,1),this.mk.set(this.Fl)):Promise.resolve();};c.prototype.update=function(f,h){h=this.OYa(this.cL(f,h));return 0 <= h?(this.Fl[h]=f,this.mk.set(this.Fl)):Promise.resolve();};c.prototype.cL=function(f,h){for(var d=0;d < this.Fl.length;++d){if(h(this.Fl[d],f))return this.Fl[d];}};c.prototype.OYa=function(f){return f?this.Fl.indexOf(f):-1;};b.hca=c;},51665:function(r,b,a){var l,f;function c(h,d,g,m,k){this.version=h;this.NG=d;this.swa=g;this.al=m;this.Ot=k;}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;l=a(36129);f=a(31149);c.prototype.load=function(h){return this.fPb(h);};c.prototype.set=function(h){this.Fl=h;return this.TUb();};c.prototype.fPb=function(h){var d;d=this;this.s3a || (this.s3a=new Promise(function(g,m){function k(n){d.cBb().then(function(){m(n);}).catch(function(){m(n);});}d.nna().then(function(n){d.storage=n;return d.storage.load(d.NG);}).then(function(n){var p;n=n.value;try{p=h(n);d.version=p.version;d.Fl=p.data;g();}catch(q){k(q);}}).catch(function(n){n.ya !== l.R.Ow?m(n):g();});}));return this.s3a;};c.prototype.TUb=function(){var h,d,g,m,k;h=this;if(!this.swa)return Promise.resolve();if(this.q$){m=new Promise(function(n,p){d=n;g=p;});k=function(){h.q$=m;h.pbb().then(function(){d();}).catch(function(n){g(n);});};this.q$.then(k).catch(k);return m;}return this.q$=this.pbb();};c.prototype.pbb=function(){var h,d;h=this;d=this.Ot();return new Promise(function(g,m){h.nna().then(function(k){return k.save(h.NG,d,!1);}).then(function(){g();}).catch(function(k){m(c.J3b(l.U.Okb,k));});});};c.prototype.cBb=function(){var h;h=this;return this.swa?new Promise(function(d,g){h.nna().then(function(m){return m.remove(h.NG);}).then(function(){d();}).catch(function(m){g(m);});}):Promise.resolve();};c.prototype.nna=function(){return this.storage?Promise.resolve(this.storage):this.al.create();};c.J3b=function(h,d){var g;if(d.ya && d.cc)return new f.Mc(h,d.ya,void 0,void 0,void 0,void 0,void 0,d.cc);if(void 0 !== d.ic){g=d.message?d.message + " ":"";d.code=h;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(h,l.R.ml,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(h,l.R.Go,void 0,void 0,void 0,void 0,void 0,d);};b.REa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.eD=void 0;c=/^\S+$/;a.prototype.XE=function(l){return void 0 !== l;};a.prototype.ug=function(l){return null !== l && void 0 !== l;};a.prototype.zR=function(l){return a.eRa(l);};a.prototype.zga=function(l){return !(!l || !a.eRa(l));};a.prototype.nA=function(l){return Array.isArray(l);};a.prototype.fRa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Yj=function(l,f,h){return a.iQa(l,f,h);};a.prototype.yga=function(l){return a.yga(l);};a.prototype.iha=function(l,f,h){return a.X1(l,f,h) && 0 === l % 1;};a.prototype.AR=function(l,f,h){return a.X1(l,f || 0,h);};a.prototype.jR=function(l){return a.X1(l,1);};a.prototype.pqb=function(l){return a.X1(l,0,255);};a.prototype.qqb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.gRa=function(l){return !(!l || !c.test(l));};a.prototype.Xo=function(l){return a.jQa(l);};a.prototype.zm=function(l){return !(!a.jQa(l) || !l);};a.prototype.F1=function(l){return !0 === l || !1 === l;};a.prototype.H1=function(l){return "function" == typeof l;};a.jQa=function(l){return "string" == typeof l;};a.iQa=function(l,f,h){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === f || l >= f) && (void 0 === h || l <= h);};a.yga=function(l){return "number" == typeof l && isNaN(l);};a.X1=function(l,f,h){return a.iQa(l,f,h) && 0 === l % 1;};a.eRa=function(l){return "object" == typeof l;};b.eD=new a();},81734:function(r,b,a){var l,f,h;function c(d,g){this.Cu=g?[g]:[];this.Bfa="$op$" + h++;this.Pa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Hb=void 0;l=a(33096);f=a(45146);h=0;c.prototype.addListener=function(d,g){var m;m=this;(0,f.Sja)(d);(0,f.oa)(0 > this.Cu.indexOf(d));d[l.A_ + this.Bfa]=g;this.Cu=this.Cu.slice();this.Cu.push(d);this.Cu.sort(function(k,n){return m.B1b(k,n);});};c.prototype.removeListener=function(d){var g;(0,f.Sja)(d);this.Cu=this.Cu.slice();0 <= (g=this.Cu.indexOf(d)) && this.Cu.splice(g,1);};c.prototype.set=function(d,g){var m;if(this.Pa !== d){m={oldValue:this.Pa,newValue:d,Jh:g};this.Pa=d;this.lnb=g;d=this.Cu;g=d.length;for(var k=0;k < g;k++){d[k](m);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(m){function k(n){if(d(n.newValue))return (g.removeListener(k),m(n.newValue));}if(d(g.Pa))return m(g.Pa);g.addListener(k);});};c.prototype.B1b=function(d,g){return (d[l.A_ + this.Bfa] || 0) - (g[l.A_ + this.Bfa] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Pa;}},Jh:{configurable:!0,enumerable:!0,get:function(){return this.lnb;}}});b.Hb=c;},55099:function(r,b,a){var l;function c(f){this.sGb=f;this.x5=!1;this.I5=this.Uf=this.YN=0;this.VT=!1;this.J5=0;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;l=a(32687);c.prototype.Tga=function(f){f < this.YN && (this.Uf+=this.YN);this.YN=f;this.x5=!0;};c.prototype.eHb=function(){if(this.x5)return this.VT?this.J5 - this.I5:this.Uf + this.YN - this.I5;};c.prototype.refresh=function(){var f;f=this.sGb();(0,l.sb)(f) && this.Tga(f);};c.prototype.L1b=function(){this.VT || (this.x5 && (this.J5=this.Uf + this.YN),this.VT=!0);};c.prototype.$1b=function(){this.VT && (this.x5 && (this.I5+=this.Uf + this.YN - this.J5),this.J5=0,this.VT=!1);};b.WHa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.dda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.dda=a;},20483:function(r,b,a){var l;function c(f){this.dob=void 0 === f?!1:f;this.Ue={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Rda=void 0;r=a(5163);a=a(22674);c.prototype.add=function(f,h){var d;h=void 0 === h?0:h;d=this.Ue[h];d?this.dob && -1 !== d.indexOf(f) || d.push(f):this.Ue[h]=[f];};c.prototype.remove=function(f,h){this.ex(f,void 0 === h?0:h);};c.prototype.removeAll=function(f){this.ex(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ue).sort().reduce(function(h,d){return h.concat(f.Ue[d]);},[]);};c.prototype.ex=function(f,h){Object.entries(this.Ue).forEach(function(d){var g,m;g=la(d);d=g.next().value;g=g.next().value;if(void 0 === h || h === parseInt(d)){-1 < (m=g.indexOf(f)) && g.splice(m,1);}});};l=c;l=r.__decorate([(0,a.T)()],l);b.Rda=l;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K_=void 0;b.K_=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},4734:function(r,b,a){var l,f,h;function c(d){this.Ac=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(5163);l=a(22674);f=a(53085);h=a(59818);c.prototype.Op=function(d,g){var m;m=this;return new Promise(function(k,n){var p;p=m.Ac.lk(d,function(){n(new h.iq(d));});g.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Di))],a);b.KKa=a;},67525:function(r,b,a){var l,f;function c(h){this.X2b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(5163);l=a(22674);a=a(10306);c.prototype.random=function(){return this.X2b.random();};c.prototype.A8a=function(h,d){if("number" !== typeof h)(d=h.end,h=h.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(h + this.random() * (d - h));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.qMa))],f);b.SKa=f;},74267:function(r,b){function a(c,l,f){if(null != f){if(0 < f(c,l))throw a.KUa(c,l);}else if(c.Ek && 0 < c.Ek(l))throw a.KUa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Yda=void 0;a.KUa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Yda=a;},61909:function(r,b,a){var f,h,d,g;function c(m){this.so=m;(0,h.co)(this,"timers");}function l(m,k){this.so=m;this.fvb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(5163);f=a(22674);h=a(66523);d=a(63368);g=a(5021);l.prototype.cancel=function(){this.fvb(this.so);};c.prototype.Yi=function(m){return this.lk(g.Ia,m);};c.prototype.lk=function(m,k){var n;n=this.so.setTimeout(k,m.ba(g.na));return new l(this.so,function(p){p.clearTimeout(n);});};c.prototype.xN=function(m,k){var n;n=this.so.setInterval(k,m.ba(g.na));return new l(this.so,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.ENa))],a);b.wLa=a;},57180:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wD=void 0;r=a(5163);a=a(22674);c.prototype.format=function(f,h){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,k){return "undefined" != typeof g[k]?g[k]:m;});};c.prototype.Abb=function(f){for(var h=f.length,d=new Uint16Array(h),g=0;g < h;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.Dbb=function(f){return JSON.stringify(f,null,"  ");};l=c;l=r.__decorate([(0,a.T)()],l);b.wD=l;},49721:function(r,b,a){var l,f,h,d;function c(g,m,k){var n;n=this;this.Yf=g;this.Ac=m;this.e3=k;this.zM=function(p){n.Zi=void 0;n.n4b(p || n.e3);};this.L2a=(0,h.Lb)(-this.e3.ba(h.na));}Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(5021);a=a(53085);c.prototype.Yi=function(g){this.$ua=g;this.Zi=this.Zi || this.Mf(this.zM);};c.prototype.vg=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};c.prototype.n4b=function(g){var m,k;m=this.Yf.Eb();if(this.$ua){k=g.wa(m.wa(this.L2a));0 >= k.Ek(h.Ia)?(g=this.$ua,this.$ua=void 0,this.L2a=m,g()):this.Zi=this.Zi || this.Ac.lk(k,this.zM.bind(this,g));}};c.prototype.Mf=function(g){return this.Ac.lk(h.Ia,g);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(a.Di))],d);b.zMa=d;},84130:function(r,b,a){var l,f,h;function c(d,g,m){this.Ac=d;this.Twa=g;this.ov=m;}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;r=a(5163);l=a(53085);f=a(22674);h=a(5021);c.prototype.SA=function(){this.Zi || (this.Zi=this.Ac.lk((0,h.Lb)(this.Twa),this.ov));};c.prototype.Up=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Di))],a);b.LMa=a;},1639:function(r,b,a){var l,f,h,d;function c(g,m){this.Ea=g;this.entries=new Set();this.la=m.Wa("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.wea=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(5021);a=a(87386);c.prototype.mark=function(g,m,k){g={name:g,zr:this.Ea.Eb()};m && (g.ma=m);k && (g.Bf=k);this.entries.add(g);return g;};c.prototype.Lma=function(){var g;g=[];this.entries.forEach(function(m){return g.push(m);});return g;};c.prototype.PZa=function(g){return this.Lma().filter(function(m){return m.ma === g;});};c.prototype.qIb=function(){var g;g={};try{g=this.Lma().filter(function(m){return !m.ma;}).reduce(function(m,k){m[k.name]=k.zr.ba(h.na);return m;},{});}catch(m){this.la.error(" getMapOfCommonMarks exception",m);}return g;};c.prototype.j9a=function(g){var m;m=this;this.Lma().forEach(function(k){k.ma === g && m.entries.delete(k);});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(a.Za))],d);b.wea=d;},6214:function(r,b){function a(){this.searchParams={};}function c(l){this.ep=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.ep + this.searchParams.toString();}}});b.dNa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,f){this.searchParams[l]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,f,h){var d;d=la(f);f=d.next().value;d=d.next().value;return "" + l + (0 == h?"?":"&") + f + "=" + d;},"");};},53399:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(h){return l.Lka(h);};c.prototype.decode=function(h){return l.Wja(h);};c.Lka=function(h){if(!h)throw new TypeError("Invalid byte array");for(var d=0,g,m=h.length,k="";d < m;){g=h[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (h[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((h[d++] & 63) << 6) + (h[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(g);}return k;};c.Wja=function(h){var d,g,m,k,n;d=h.length;g=0;k=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=h.charCodeAt(m);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(m=0;m < d;m++){n=h.charCodeAt(m);128 > n?g[k++]=n:(2048 > n?g[k++]=192 | n >>> 6:(g[k++]=224 | n >>> 12,g[k++]=128 | n >>> 6 & 63),g[k++]=128 | n & 63);}return g;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.gNa=f;},24900:function(r,b,a){var l,f,h,d;function c(g,m){this.is=g;this.Li=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;r=a(5163);l=a(22674);a(36129);f=a(42207);h=a(6405);d=a(22365);c.prototype.RB=function(g,m,k){var n,p,q,u;n=this;if(m)if(k){p=k.KU;q=k.prefix;u=k.l8;this.UA(m,function(t,w){if(!u || n.is.ug(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.UA(m,function(t,w){g[t]=w;});return g;};c.prototype.UA=function(g,m){for(var k in g){g.hasOwnProperty(k) && m(k,g[k]);}};c.prototype.zA=function(g,m){if(g.length == m.length){for(var k=g.length;k--;){if(g[k] != m[k])return !1;}return !0;}return !1;};c.prototype.gUa=function(g,m){if(g.length != m.length)return !1;g.sort();m.sort();for(var k=g.length;k--;){if(g[k] !== m[k])return !1;}return !0;};c.prototype.we=function(g){var m,k,n;if(g){m=g.stack;k=g.number;n=g.message;n || (n="" + g);m?(g="" + m,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;k && (g+="\nnumber:" + k);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.oma=function(g){return this.getFunctionName(g.constructor);};c.prototype.xra=function(g){var m,k;m=this;k="";this.is.nA(g) || this.is.fRa(g)?k=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Xo(g)?k=g:this.UA(g,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (m.is.H1(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.oma(g) + " " + k + "]";};c.prototype.createElement=function(g,m,k,n){var p;p=d.Pg.createElement(g);m && (p.style.cssText=m);k && (p.innerHTML=k);n && this.UA(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.zEb=function(g,m){return function(k){return k[g] === m;};};c.prototype.KV=function(g){var m;m={};(g || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(k.substr(n + 1));}else m[k.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Wf)),r.__param(1,(0,l.l)(h.pw))],a);b.hNa=a;},38385:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.H3a=void 0;c=a(80401);l=a(76989);r=a(22674);f=a(36410);h=a(87386);d=a(42790);b.H3a=new r.ed(function(g){g(h.Za).to(l.gGa).da();g(f.GI).to(c.hGa).da();g(h.xca).to(d.WFa).da();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YO=b.Za=b.xca=b.dj=void 0;r=b.dj || (b.dj={});r[r.gib=0]="FATAL";r[r.ll=1]="ERROR";r[r.Eea=2]="WARN";r[r.dca=3]="INFO";r[r.uMa=4]="TRACE";r[r.K=5]="DEBUG";b.xca="LogFieldBuilderFactorySymbol";b.Za="LoggerFactorySymbol";b.YO={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GI="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zca=void 0;b.zca=a;a.Ygb="display";a.Egb="console";},22097:function(r,b,a){var l,f;function c(h,d,g,m,k,n,p){this.level=h;this.Fm=d;this.timestamp=g;this.message=m;this.Dc=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;l=a(5021);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.G$=function(h,d){h=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.q2b(!!h));return (this.timestamp.ba(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Fm + "| " + h;};c.prototype.q2b=function(h){var k;for(var d=this.Dc.length,g="",m=0;m < d;++m){k=this.Dc[m].Ct;m && g.length && (g+=" ");if("object" === typeof k){if(null === k)g+="null";else if(k instanceof Error)g+=this.p2b(k,h);else try{g+=JSON.stringify(k);}catch(n){g+=this.o2b(k);}}else g+=k;}return g;};c.prototype.p2b=function(h,d){return h.toString() + (h.stack && !d?"\n" + h.stack:"") + "\n";};c.prototype.o2b=function(h){var d;d=[];return JSON.stringify(h,function(g,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.kza=c;},98895:function(r,b,a){var l,f;function c(h,d,g,m,k,n){h=l.FI.call(this,h,d,g,m) || this;h.groups=k;Array.isArray(n)?h.prefix=n:n && "string" === typeof n && (h.prefix=[],h.prefix.push(n));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;l=a(29045);f=a(22097);ea(c,l.FI);c.prototype.gA=function(h,d,g){h=new f.kza(h,this.Fm,this.Ea.Eb(),d,g,this.prefix);d=la(this.kn.kn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(h);}};c.prototype.i3=function(h){return new c(this.Ea,this.E2,this.kn,h,this.groups,this.prefix);};b.lza=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vSa=void 0;b.vSa=function(a,c){var f;a=a.kIb();for(var l=0;l < c.length;++l){f=c[l];void 0 != f && null != f && (f.yg && (f=f.yg),f.constructor === Uint8Array?a.prb(f):"MediaRequest" === f.constructor.name?a.brb(f):"string" === typeof f?a.mrb(f):"function" === typeof f?a.Wqb(f):f instanceof Error?a.Vqb(f):f instanceof Object && "function" === typeof f.toJSON?a.LQa(f.toJSON()):f instanceof Object?a.LQa(f):a.rrb(f));}return a.rh();};},90694:function(r,b,a){var l;function c(f,h,d,g,m,k){this.level=f;this.Fm=h;this.timestamp=d;this.message=g;this.Dc=m;this.index=void 0 === k?0:k;this.njb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.wca=void 0;l=a(5021);c.prototype.G$=function(f,h){var d;d="" + this.message;this.Dc.forEach(function(g){d+=g.RH(f,h);});return (this.timestamp.ba(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.njb[this.level] || this.level) + "|" + this.Fm + "| " + d;};b.wca=c;},42790:function(r,b,a){var l,f,h,d;function c(g,m){this.mc=g;this.Yd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(5163);l=a(22674);f=a(14600);h=a(2248);a=a(74870);c.prototype.kIb=function(){return new f.XFa(this.mc,this.Yd);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ih)),r.__param(1,(0,l.l)(a.mh))],d);b.WFa=d;},14600:function(r,b,a){var p,q,u;function c(t,w){this.mc=t;this.Yd=w;this.Dc=[];}function l(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function f(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function h(t,w){w=n.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.mc=t;return w;}function d(t,w){w=n.call(this,w,function(v){return v();}) || this;w.Yd=t;return w;}function g(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function m(t,w,v){w=n.call(this,w,v) || this;w.Yd=t;return w;}function k(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.Ct=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);n.prototype.KS=function(t){return this.Ct === t;};ea(k,n);k.prototype.RH=function(t,w){return w?"":"\r\n" + this.Ct;};ea(m,n);m.prototype.RH=function(){var t;t="";this.Yd.UA(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(y){try{t+=", " + w + ": " + JSON.stringify(v);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ea(g,n);g.prototype.RH=function(t){var w;w="\r\n" + this.Ct.message;t || (w+="\r\n" + this.Ct.stack);return w;};ea(d,n);d.prototype.RH=function(){var t;t="";this.Yd.UA(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};ea(h,n);h.prototype.RH=function(t,w){return this.Ct && !w?"\r\n" + this.mc.encode(this.Ct):"";};ea(f,n);f.prototype.RH=function(){return this.Ct?this.Ct.toJSON():"";};ea(l,n);l.prototype.RH=function(){return ", " + (this.Ct.toString?"" + this.Ct.toString():"");};c.prototype.mrb=function(t){this.Dc.push(new k(t));};c.prototype.LQa=function(t){this.Dc.push(new m(this.Yd,t));};c.prototype.Vqb=function(t){this.Dc.push(new g(t));};c.prototype.Wqb=function(t){this.Dc.push(new d(this.Yd,t));};c.prototype.prb=function(t){this.Dc.push(new h(this.mc,t));};c.prototype.brb=function(t){this.Dc.push(new f(t));};c.prototype.rrb=function(t){this.Dc.push(new l(t));};c.prototype.rh=function(){return this.Dc;};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(a.ih)),r.__param(1,(0,p.l)(q.mh))],u);b.XFa=u;},76989:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q){this.Ea=n;this.kn=p;this.Npa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(5163);l=a(29045);f=a(22674);h=a(51742);d=a(81918);g=a(36410);m=a(87386);k=a(98895);c.prototype.Wa=function(n,p,q,u,t){q=void 0 === q?this.kn:q;return p?new h.MJa(this.Ea,this.Npa,q,p,n):t?new k.lza(this.Ea,this.Npa,q,n,u || "",t):new l.FI(this.Ea,this.Npa,q,n);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.Jc)),r.__param(1,(0,f.l)(g.GI)),r.__param(2,(0,f.l)(m.xca))],a);b.gGa=a;},29045:function(r,b,a){var l,f,h;function c(d,g,m,k){this.Ea=d;this.E2=g;this.kn=m;this.Fm=void 0 === k?"General":k;this.cja={};}Object.defineProperty(b,"__esModule",{value:!0});b.FI=void 0;l=a(87386);f=a(90694);h=a(37960);c.prototype.zQa=function(d,g){this.cja[d]=g;};c.prototype.fatal=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.gA(l.dj.gib,d,this.rO(d,m));};c.prototype.error=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.gA(l.dj.ll,d,this.rO(d,m));};c.prototype.warn=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.gA(l.dj.Eea,d,this.rO(d,m));};c.prototype.info=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.gA(l.dj.dca,d,this.rO(d,m));};c.prototype.trace=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.gA(l.dj.uMa,d,this.rO(d,m));};c.prototype.debug=function(d,g){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,g){for(var m=[],k=1;k < arguments.length;++k){m[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ca(m)));};c.prototype.write=function(d,g,m){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.gA(d,g,this.rO(g,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Fm};};c.prototype.i3=function(d){return new c(this.Ea,this.E2,this.kn,d);};c.prototype.gA=function(d,g,m){d=new f.wca(d,this.Fm,this.Ea.Eb(),g,m);g=la(this.kn.kn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d);}};c.prototype.ZGb=function(d){return 0 < Object.keys(this.cja).length?[this.cja].concat(ca(d)):d;};c.prototype.rO=function(d,g){var m;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,h.vSa)(this.E2,this.ZGb(g));};b.FI=c;},80401:function(r,b,a){var l;function c(){this.Lab={};this.kn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(5163);a=a(22674);c.prototype.h9=function(f,h){h && (this.Lab[f]=h,this.kn=Object.values(this.Lab));};l=c;l=r.__decorate([(0,a.T)()],l);b.hGa=l;},51742:function(r,b,a){var l,f,h;function c(d,g,m,k,n){d=h.FI.call(this,d,g,m,n) || this;d.j=k;(0,l.co)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;l=a(66523);f=a(90694);h=a(29045);ea(c,h.FI);c.prototype.i3=function(d){return new c(this.Ea,this.E2,this.kn,this.j,d);};c.prototype.gA=function(d,g,m){d=new f.wca(d,this.Fm,this.Ea.Eb(),g,m,this.j.index);g=la(this.kn.kn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d,this.j);}};b.MJa=c;},56371:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.h5a=void 0;r=a(22674);c=a(76193);l=a(25857);b.h5a=new r.ed(function(f){f(c.lHa).to(l.kHa).da();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="MomentObserverFactory";},25857:function(r,b,a){var l,f,h;function c(d){this.Ac=d;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;r=a(5163);l=a(22674);f=a(89350);a=a(53085);c.prototype.CUa=function(d,g){return new f.mHa(this.Ac,d,g);};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Di))],h);b.kHa=h;},89350:function(r,b){function a(c,l,f){this.Ac=c;this.config=l;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;a.prototype.observe=function(c,l){var f;f=this;this.cancel();this.Zi=this.Ac.xN(this.config.k_a(),function(){f.getTime() >= c && (f.cancel(),l());});};a.prototype.cancel=function(){this.Zi && (this.Zi.cancel(),this.Zi=void 0);};b.mHa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NPb=b.bM=b.LPb=void 0;b.LPb=function(a){return a;};b.bM=function(a){return a;};b.NPb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.M=void 0;r=a(22674);c=a(2911);l=a(93488);f=a(12242);h=a(71807);d=a(25830);g=a(49310);b.M=new r.ed(function(m){m(c.iea).to(f.HLa).da();m(l.DLa).to(h.CLa).da();m(d.PMa).to(g.OMa).da();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iea="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa="TransitionLoggerSymbol";},61494:function(r,b,a){var h,d,g,m;function c(k,n,p,q,u,t,w){var v;v=this;this.X=n;this.j=p;this.mM=q;this.Ac=u;this.VJ=t;this.config=w;this.fK=function(){v.YB && (v.YB.cancel(),v.YB=void 0);};this.log=k.Wa("SegmentManager",this.j);this.M=new Map();this.j.Ya.ag && (this.j.addEventListener(g.fa.mH,function(y){return v.Fv(y);}),this.j.addEventListener(g.fa.closed,this.fK));}function l(k,n){this.id=k;this.Mia=n;}function f(k,n,p,q){return d.Mc.call(this,k,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;h=a(36129);d=a(31149);g=a(85001);m=a(5021);ea(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ic + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.sa,contentEndPts:this.ta};};Xa.Object.defineProperties(l.prototype,{sa:{configurable:!0,enumerable:!0,get:function(){return this.Mia.startTimeMs;}},ta:{configurable:!0,enumerable:!0,get:function(){return this.Mia.endTimeMs;}},vy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Mia.next);}}});c.prototype.Fv=function(k){var n;n=this;!1;k=k.position.segmentId;0 === this.M.size && Object.entries(this.j.gT()).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n.M.set(p,new l(p,q));});this.aa=this.M.get(k);};c.prototype.play=function(k){this.aN && (this.aN=void 0);this.fK();this.log.trace("Playing segment",k);return this.U1a(k)?this.hVb(k):this.OV(k);};c.prototype.$M=function(k){this.log.trace("Queueing segment",k);return this.U1a(k)?this.pXb(k):this.qXb(k);};c.prototype.bj=function(k,n){var p,q;p=this;q=this.j.Xa;if(null === q || void 0 === q || !q.Fh)return Promise.reject(this.getError(h.U.Lza,"ASE session manager is not yet initialized",h.R.Xaa,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(u,t){try{q.S4b(k,n);p.j.fireEvent(g.fa.wxa,{I:k,u5b:n});u();}catch(w){t(p.getError(h.U.Lza,"updateNextSegmentWeights threw an exception",h.R.Pfb,{segmentId:k,updates:n,error:w}));}});};c.prototype.U1a=function(k){return this.aa?void 0 !== this.j.gT()[this.aa.id].next[k]:!1;};c.prototype.cna=function(){var k;k=this.j.Xa;if(null === k || void 0 === k?0:k.Fh)return k.Un().pVb;};c.prototype.dJb=function(){var k;k=this.j.Xa;if(null === k || void 0 === k?0:k.Fh)return k.Un().id;};c.prototype.WGb=function(){var k;k=this.j.Xa;if(null === k || void 0 === k?0:k.Fh)return (k={$ha:0},k.$ha);};c.prototype.hVb=function(k){var n,p;n=this;p=this.j.Xa;return null !== p && void 0 !== p && p.Fh?this.aa && 1 === this.aa.vy.length?this.OV(k):this.j.ie?void 0 === this.WGb()?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.OV(k)):new Promise(function(q,u){var x,z,A,B,D,C;function t(){!A && z && x && (C.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:z,repositioned:x,completed:A}),p.N2(k,!1)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.OV(k).then(q).catch(u)));}function w(){x=!0;n.log.trace("Player is repositioned",{id:k,stopped:z,repositioned:x,completed:A});n.j.removeEventListener(g.fa.Dj,w);t();}function v(){n.j.removeEventListener(g.fa.pC,v);p.stop();}function y(){z=!0;n.log.trace("ASE is stopped",{id:k,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=n.M.get(k);D=n.cna();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.OV(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:D,currentSegment:n.aa,nextSegment:B},null,"  "));n.j.fireEvent(g.fa.M7,{sh:n.aa && n.aa.id,qM:k});p.addEventListener("stop",y);n.j.addEventListener(g.fa.pC,v);n.j.addEventListener(g.fa.Dj,w);C=n.Ac.lk((0,m.zh)(10),function(){A=!0;C.cancel();u(n.getError(h.U.IO,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.R.Lfb,{id:k,stopped:z,repositioned:x,completed:A}));});n.X.seek(D,g.Zc.XI);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(h.U.IO,"MediaPresenter is not initialized",h.R.Mfb,{id:k}))):Promise.reject(this.getError(h.U.IO,"ASE session manager is not yet initialized",h.R.Xaa,{id:k}));};c.prototype.OV=function(k){var n;n=this.M.get(k);return n?this.FW(n,h.U.IO):Promise.reject(this.getError(h.U.IO,"Unable to find the separated segment",h.R.Kza,{id:k}));};c.prototype.pXb=function(k){var n;n=this.j.Xa;if(null === n || void 0 === n || !n.Fh)return Promise.reject(this.getError(h.U.JO,"ASE session manager is not yet initialized",h.R.Xaa,{id:k}));this.j.fireEvent(g.fa.M7,{sh:this.aa && this.aa.id,qM:k});if(n.N2(k,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:k});return this.FVa(k);};c.prototype.qXb=function(k){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.O,srcsegment:this.dJb()});return this.FVa(k);};c.prototype.FVa=function(k){var n,p;n=this;if(this.aN)return Promise.reject(this.getError(h.U.JO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",h.R.Ofb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.aN.id,failedSegment:k}));if(!this.aa)return Promise.reject(this.getError(h.U.JO,"Unable to queue segment for delayed seek because there is no currently playing segment",h.R.Kfb,{nextSegmentid:k}));p=this.M.get(k);if(!p)return Promise.reject(this.getError(h.U.JO,"Unable to find the separated segment",h.R.Kza,{nextSegmentid:k,currentSegmentId:this.aa.id}));this.aN={id:k,promise:new Promise(function(q,u){var t;n.YB=n.mM.CUa({k_a:function(){return (0,m.Lb)(100);}},function(){return n.X.Jq() || 0;});t=n.cna() - n.config().e5a;n.log.trace("Adding moment for queued segment for delayed seek",{segment:k,pts:t});n.YB.observe(t,function(){n.log.trace("Moment has arrived, seek to segment",{segment:k,currentSegment:n.aa.id,playerEndPts:n.cna(),pts:t});n.aN=void 0;n.fK();n.FW(p,h.U.JO).then(q).catch(u);});})};this.aN.promise.catch(function(q){n.j.od(q.code,q);});return Promise.resolve();};c.prototype.FW=function(k,n){var p;p=this;return new Promise(function(q,u){var t;try{t=k.sa;!1;p.X.seek(t,g.Zc.Nw);q();}catch(w){u(p.getError(n,"Seek threw an exception",h.R.Nfb,{id:k.id,error:w}));}});};c.prototype.getError=function(k,n,p,q){this.log.warn(n,q);return new f(k,n,p,q);};b.cAa=c;},71807:function(r,b,a){var f,h;function c(){}function l(d,g,m,k,n){this.debug=d;this.version=g;this.XNb=m;this.eVb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(5163);f=a(22674);h=a(5021);l.prototype.LHb=function(){return this.config().RF;};l.prototype.kma=function(){return this.config().iSa;};l.prototype.k_a=function(){return (0,h.Lb)(this.config().GVb);};l.prototype.LZa=function(){return this.config().kPb;};l.prototype.OZa=function(){return this.config().YPb;};c.prototype.AF=function(d,g,m,k,n){return new l(d,g,m,k,n);};a=c;a=r.__decorate([(0,f.T)()],a);b.CLa=a;},12242:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v;function c(y,x,z,A,B,D,C,F,G,E,J){this.Ea=y;this.Df=x;this.mM=z;this.Rxa=A;this.PV=B;this.Ac=D;this.VJ=C;this.xh=F;this.ela=G;this.Ch=E;this.config=J;}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(87386);d=a(76193);g=a(79274);m=a(51038);k=a(58872);n=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);w=a(74870);a=a(4203);c.prototype.qzb=function(y,x,z){return new n.ILa(this.Ea,this.Df,this.mM,this.Rxa,x,y,this.xh,this.PV,this.Ch,this.ela,z);};c.prototype.Nyb=function(y,x){return new p.cAa(this.Df,y,x,this.mM,this.Ac,this.VJ,this.config);};v=c;v=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(h.Za)),r.__param(2,(0,l.l)(d.lHa)),r.__param(3,(0,l.l)(k.qNa)),r.__param(4,(0,l.l)(m.IJa)),r.__param(5,(0,l.l)(u.Di)),r.__param(6,(0,l.l)(q.GO)),r.__param(7,(0,l.l)(g.RP)),r.__param(8,(0,l.l)(t.aP)),r.__param(9,(0,l.l)(w.mh)),r.__param(10,(0,l.l)(a.ac))],v);b.HLa=v;},64181:function(r,b,a){var d,g,m;function c(k,n,p,q,u,t,w,v,y,x,z){var A;A=this;this.Ea=k;this.mM=p;this.Rsa=q;this.config=u;this.ib=t;this.xh=w;this.PV=v;this.Ch=y;this.Pj=z;this.QDb=Object.values(d.Ja).map(function(B){return {event:B,ov:function(D){return A.Db.Ec(B,D);}};});this.Db=x.create();this.lC=[];this.log=n.Wa("SegmentManager");this.qF=!0;this.kk=this.Ch.createElement("div",m.Xda);}function l(k,n,p,q,u,t,w,v,y,x,z){var A;A=this;this.log=k;this.config=n;this.KSb=p;this.Rsa=q;this.xh=u;this.PV=t;this.Ft=w;this.u=v;this.kk=y;this.ib=x;this.Pj=z;this.fK=function(){A.YB && (A.YB.cancel(),A.YB=void 0);};this.Gna=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.BXb();};this.Gpa=function(){};this.log.debug("Constructing session data",f(v));this.F3b=new Promise(function(B){A.BXb=B;});}function f(k){return {movieId:k.O};}function h(k){return JSON.stringify({movieId:k.O,startPts:k.ab,logicalEnd:k.Ti,params:k.nb?{trackingId:k.nb.Nj,authParams:k.nb.t2,sessionParams:k.nb.am,disableTrackStickiness:k.nb.pka,uiPlayStartTime:k.nb.HC,loadImmediately:k.nb.Q6,playbackState:k.nb.playbackState?{currentTime:k.nb.playbackState.currentTime,volume:k.nb.playbackState.volume,muted:k.nb.playbackState.muted,playbackRate:k.nb.playbackState.playbackRate}:void 0,pin:k.nb.j7a,heartbeatCooldown:k.nb.Sna,uiLabel:k.nb.wd,uxLabels:k.nb.W$}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;d=a(85001);g=a(5021);m=a(33096);l.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",f(this.u));this.X=this.Rsa.qK(this.config,this.PV,this.xh,this.u,this.ib,this.Pj);this.X.addEventListener(d.Ja.AL,function(q){n.log.trace("Segment is inactive",f(n.u));n.Ft.close(n.xh(q.errorCode));});this.X.addEventListener(d.Ja.closed,this.fK);if(k)(this.log.debug("Pausing background segment",f(this.u)),this.X.addEventListener(d.Ja.bpa,this.Gna),this.X.a7a());else {this.kk.appendChild(this.X.Um());p=function(q){n.Gna(q);n.X.removeEventListener(d.Ja.loaded,p);};this.X.addEventListener(d.Ja.loaded,p);}};l.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",h(this.u));if(this.YB)this.log.trace("Segment is currently observing",f(this.u));else if(this.u.nb && this.u.nb.Q6)this.Gpa(this);else {n=this.KSb.CUa(this.config,function(){var q;if(k.X){q=k.X.Jq();if(q)return q;}return 0;});p=this.Iub(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",f(k.u));k.Gpa(k);k.fK();});}};l.prototype.close=function(k){this.log.info("Closing segment",{segment:h(this.u),error:k});return this.X?(this.X.removeEventListener(d.Ja.bpa,this.Gna),this.X.close(k)):Promise.resolve();};l.prototype.JTb=function(k){this.Gpa=k;};l.prototype.Iub=function(k){var n,p;n=k.Ti;k=k.nb?k.nb.Q6:!1;p=0;n && !k && (p=n - this.config.LZa(),p < this.config.OZa() && (k=n - this.config.OZa(),p=n - k / 2));return p;};c.prototype.lJb=function(){return this.Tg && this.Tg.X?this.Tg.X.rv():!1;};c.prototype.Um=function(){return this.kk;};c.prototype.JF=function(){if(!this.Tg || !this.Tg.X)throw Error("Player not ready");return this.Tg.X;};c.prototype.j5b=function(k){var n,p;p=this.Ala(k);p?this.Bdb(p,k):this.ib.Pd(k.id) || this.log.error("Tried to update a non-existent segment",{segment:h(k),currentMovieId:this.Tg.u.O,queuedMovieIds:this.lC.map(function(q){return q.u.O;}),xid:null === (n=this.Tg.X) || void 0 === n?void 0:n.Vs()});};c.prototype.hf=function(k){var n;this.log.info("Adding segment",h(k));if(this.qF){this.log.trace("First segment, loading",f(k));n=this.t3a(k);this.qF=!1;}else (this.log.trace("Subsequent segment, caching",f(k)),(n=this.Ala(k))?this.Bdb(n,k):(n=this.createSession(k),this.lC.push(n),this.Tg.observe()));return n?n.F3b:null;};c.prototype.transition=function(k,n){var p,q,u;q=this.DG;u=null === q || void 0 === q?void 0:q.X;if(q && u)return (this.DG=void 0,this.log.info("Transitioning segment",h(q.u)),u.Nva(this.Ea.Eb().ba(g.na)),this.Ncb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Tg.u.O,xid:null === (p=this.Tg.X) || void 0 === p?void 0:p.Vs(),nextSegmentId:k,currentSegment:h(this.Tg.u),nextSegment:n?h(n):void 0,queuedMovieIds:this.lC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Tg.u)),nextSession:this.DG?JSON.stringify(f(this.DG.u)):void 0});k=[this.Tg.close(k)];this.DG && k.push(this.DG.close());return Promise.all(k).then(function(){n.DG=void 0;n.lC=[];n.qF=!0;});};c.prototype.addListener=function(k,n,p){this.Db.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Db.removeListener(k,n);};c.prototype.Bdb=function(k,n){this.iUb(k.u,n);this.log.trace("Overwrote existing segment data",h(k.u));};c.prototype.t3a=function(k){var n,p;n=this;this.log.info("Loading the next episode",f(k));if(this.Tg){this.config.kma()[k.O]=k.ab;p=this.Ala(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",f(k)),p.JTb(function(q){n.pcb(q);}),this.Tg?(this.log.trace("Subsequent playback, caching player and pausing",f(k)),this.DG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(k)),p.load(!1),this.Ncb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(k));};c.prototype.Ncb=function(k,n){var p,q,u,t,w;n=void 0 === n?{}:n;t=k.X?null === (p=k.X) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Tg.u.O,mid:k.u.O,error:t,xid:null === (u=k.X) || void 0 === u?void 0:u.Vs()}),Promise.reject());this.log.trace("Playing episode",f(k.u));p=this.Tg;this.Tg=k;k=this.Tg.X;k.xva(!1);this.hI(k,p?p.X:void 0);if(p && p.X){w=p.X.Um();q=k.Um();w.style.display="none";p=p.close();this.kk.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.R$(n);k.NN();k.play();}return Promise.resolve();};c.prototype.pcb=function(k){var n,p,q,u,t;if(this.lC.length && k.X){n=k.X.Jq();p=this.lC[0];q=this.Tg.u.Ti;u=this.Tg.u.nb?this.Tg.u.nb.Q6:!1;if(q || u){u?t=0:q && (t=q - this.config.LZa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",f(p.u)),this.t3a(p.u),this.lC.splice(0,1),this.pcb(k));}}};c.prototype.Ala=function(k){return this.Tg.u.O === k.O?this.Tg:this.lC.find(function(n){return n.u.O === k.O;});};c.prototype.iUb=function(k,n){k.ab=n.ab || k.ab;k.Ti=n.Ti || k.Ti;k.nb=n.nb || k.nb;k.W=n.W || k.W;};c.prototype.createSession=function(k){return new l(this.log,this.config,this.mM,this.Rsa,this.xh,this.PV,this,k,this.kk,this.ib,this.Pj);};c.prototype.hI=function(k,n){this.QDb.forEach(function(p){n && n.removeEventListener(p.event,p.ov);k.addEventListener(p.event,p.ov);});this.Db.Ec(d.tD.JW);};b.ILa=c;},49310:function(r,b,a){var l,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;r=a(5163);l=a(22674);f=a(4203);h=a(3887);c.prototype.XWb=function(d,g,m,k){this.config().F_b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (m={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:g.O,xid:g.ma,srcxid:m.ma,srcmid:m.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!k && d.auxMid && d.auxMid !== g.O && (m.moffms=(0,h.$f)(g.jS)),g.$L.cb.transition(m)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ac))],a);b.OMa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GO=b.Dfb=b.fza=b.hza=void 0;(function(a){a[a.bCb=0]="downloading";a[a.aCb=1]="downloaded";a[a.CR=2]="appended";a[a.buffered=3]="buffered";a[a.iN=4]="removed";a[a.ahc=5]="unused";})(b.hza || (b.hza={}));(function(a){a[a.waiting=1]="waiting";a[a.ofc=2]="ondeck";a[a.bCb=4]="downloading";a[a.aCb=8]="downloaded";a[a.cU=6]="inprogress";})(b.fza || (b.fza={}));b.Dfb="AseBufferViewSymbol";b.GO="AseBufferAccountingSymbol";},1891:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.hb.get(f.kCa);t.va().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.kWa=void 0;r=a(22674);l=a(2413);f=a(31701);h=a(98281);d=a(24550);g=a(64372);m=a(52476);k=a(14188);n=a(33633);b.kWa=new r.ed(function(p){p(m.UFa).to(k.TFa).da();p(l.hCa).to(n.VFa);p(d.GO).to(g.dza).da();p(f.kCa).to(h.iCa).da();p(f.jCa).BX(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hCa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kCa="DxManagerSymbol";b.jCa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa="LogDisplayConfigSymbol";},64372:function(r,b,a){var l;function c(){this.j_b="";this.r6b=[[],[],[]];this.La=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;r=a(5163);l=a(22674);a(5021);a(24550);c.prototype.update=function(f){this.r6b[f.mediaType].forEach(function(h){h.bhc(f);});};Xa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.j_b;}}});a=c;a=r.__decorate([(0,l.T)()],a);b.dza=a;},44133:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;l=a(22365);c.fxb=function(f){var h;if(l.Pg.queryCommandSupported && l.Pg.queryCommandSupported("copy")){h=l.Pg.createElement("textarea");h.textContent=f;h.style.position="fixed";l.Pg.body.appendChild(h);h.select();try{l.Pg.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Pg.body.removeChild(h);}}};b.WAa=c;},98281:function(r,b,a){var l,f;function c(h){this.LBb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(5163);l=a(22674);a=a(2413);c.prototype.va=function(){var h;h=this;this.pB || (this.pB=new Promise(function(d,g){var m;m=[];h.LBb.forEach(function(k){m.push(k.va());});Promise.all(m).then(function(){d();}).catch(function(k){g(k);});}));return this.pB;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.BG)(a.hCa))],f);b.iCa=f;},14188:function(r,b,a){var l,f,h,d,g;function c(m,k){m=h.Re.call(this,m,"LogDisplayConfigImpl") || this;m.Lf=k;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;r=a(5163);l=a(22674);f=a(12501);h=a(64174);d=a(83767);a=a(5614);ea(c,h.Re);Xa.Object.defineProperties(c.prototype,{mW:{configurable:!0,enumerable:!0,get:function(){return !0;}},ZL:{configurable:!0,enumerable:!0,get:function(){return this.Lf.ZL;}},E3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.bd,"renderDomDiagnostics")],g.prototype,"mW",null);r.__decorate([f.config(f.sB,"logDisplayMaxEntryCount")],g.prototype,"ZL",null);r.__decorate([f.config(f.sB,"logDisplayAutoshowLevel")],g.prototype,"E3a",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.ul)),r.__param(1,(0,l.l)(a.SI))],g);b.TFa=g;},33633:function(r,b,a){var h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A;function c(B,D,C,F,G,E,J,M,L,H){var N;N=this;this.qa=B;this.Yf=D;this.Ch=C;this.Ac=F;this.kn=G;this.config=E;this.aF=J;this.Kwa=M;this.Rja=L;this.al=H;this.m3b=function(){N.OX.Yi(function(){N.update();});};this.clear=function(){N.entries=[];N.update();};this.X4a=function(){N.ze.LL=!N.ze.LL;N.MB && N.PB && (N.ze.LL?(N.MB.style.display="inline-block",N.PB.style.display="none"):(N.PB.style.display="inline-block",N.MB.style.display="none"));N.tH(!1);};this.xPb=function(I){var K;N.entries.push(I);K=N.config.ZL;0 <= K && N.entries.length > K && N.entries.shift();void 0 === N.ze.sx[I.Fm] && (N.ze.sx[I.Fm]=!0,N.tH(!1));N.ze.isVisible && !N.ecb?N.m3b():N.OX.Yi();};this.TBb=function(){f.download("all",N.entries.map(function(I){return I.G$(!1,!1);})).catch(function(I){console.error("Unable to download all logs to the file",I);});};this.qB=!1;this.ze={isVisible:!1,LL:!0,H3:!0,Opa:t.dj.dca,sx:{}};this.OX=this.Kwa((0,p.zh)(1));this.CEb=this.Rja((0,p.Lb)(250));this.entries=[];!1;!1;}function l(B){var D;this.elements=[];D=document.createElementNS(l.mX,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;r=a(5163);h=a(22674);d=a(74870);g=a(45842);m=a(34043);k=a(53085);n=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);w=a(36410);v=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);f.download=function(B,D){return f.EHb(B).then(function(C){return f.VJb(C,D.join("\r\n")).then(function(F){return f.RBb(F.filename,F.text);});});};f.EHb=function(B){return new Promise(function(D,C){var F,G,E,J,M,L,H;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();J=F.getFullYear().toString();M=F.getHours().toString();L=F.getMinutes().toString();H=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === H.length && (H="0" + H);D(J + E + G + M + L + H + "." + B + ".log");}catch(N){C(N);}});};f.VJb=function(B,D){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){F(G);}});};f.RBb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};l.prototype.MN=function(){var B;B=document.createElementNS(l.mX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.PN=function(B,D,C){var F;F=document.createElementNS(l.mX,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};l.prototype.aX=function(B,D,C,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(l.mX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",D.toString());E.setAttribute("height",C.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};l.prototype.S1b=function(){var B;B=document.createElementNS(l.mX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.rh=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Xa.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},UE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.mX="http://www.w3.org/2000/svg";c.prototype.va=function(){var B;B=this;this.pB || (this.pB=new Promise(function(D){nb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.vz.mjb?B.toggle():C.keyCode == z.vz.E && A.WAa.fxb(B.aF().bk));});B.kn.h9(v.zca.Ygb,B.xPb);D();}));return this.pB;};c.prototype.show=function(){document.body && (this.element || (this.Uyb(),this.qB=!0),!this.ze.isVisible && this.element && (document.body.appendChild(this.element),this.ze.isVisible=!0,this.update(!0)));};c.prototype.pv=function(){this.qB && this.ze.isVisible && this.element && (document.body.removeChild(this.element),this.ze.isVisible=!1);};c.prototype.toggle=function(){this.ze.isVisible?this.pv():this.show();this.tH(!1);};c.prototype.Uyb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.ro=this.Mzb());B.appendChild(this.Nzb());B.appendChild(this.Oyb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.Mzb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;readonly");D.addEventListener("focus",function(){B.ecb=!0;B.update();B.ro && (B.ro.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;EventListener("blur",function(){B.ecb=!1;B.update();B.ro && (B.ro.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return;B.appendChild(this.ozb());B.appendChild(this.dzb());B.appendChild(this.Zyb());B.appendChild(this.Ozb());B.appendChild(this.Syb());B.appendChild(this.vzb());B.appendChild(this.szb());B.appendChild(this.$yb());B.appendChild(this.Tyb());return B;};c.prototype.Oyb=function(){var B,D,C,F,G,E;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;;C=this.createElement("div","padding:2px");F=this.createElement("select",this.kv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(J){J.preventDefault();});E=!1;C.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.ze.sx).sort()).forEach(function(J){G.appendChild(B.Pyb(J,C));}),G.style.display="block");E=!E;});return D;};c.prototype.Pyb=function(B,D){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.ze.sx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.ze.sx).forEach(function(E){C.ze.sx[E]="all" === B;}),D.click()):C.ze.sx[B]=!C.ze.sx[B];C.tH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.ozb=function(){var B,D;B=this;D=this.createElement("select",this.kv(22,NaN,1,2),'<option value="' + t.dj.ll + '">Error</option><option value="' + (t.dj.Eea + '">Warn</option><option value="') + (t.dj.dca + '">Info</option><option value="') + (t.dj.uMa + '">Trace</option><option value="') + (t.dj.K + '">Debug</option>'));D.value=this.ze.Opa.toString();D.addEventListener("change",function(C){B.ze.Opa=parseInt(C.target.value);B.tH(!0);},!1);return D;};c.prototype.dzb=function(){var D,C;function B(F){return D.CEb.Yi(function(){var G;G=F.target.value;D.ze.filter=G?new RegExp(G):void 0;D.tH(!0);});}D=this;C=this.createElement("input",this.kv(14,150,1,2));C.value=this.ze.filter?this.ze.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.Zyb=function(){var B,D,C,F;B=this;D=this.createElement("div",this.kv(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.ze.H3;C.addEventListener("change",function(G){B.ze.H3=G.target.checked;B.tH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(C);D.appendChild(F);return D;};c.prototype.Ozb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").MN().S1b().end().PN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.UE,"nonzero").end().end().rh();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.Syb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 24 24").MN().aX(0,0,24,24,l.background).end().PN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.UE).end().end().rh();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.vzb=function(){var B;this.PB=this.createElement("button",this.kv());this.PB.style.display=this.ze.LL?"none":"inline-block";B=new l("0 0 24 24").MN().aX(0,0,24,24,l.background).end().PN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.UE,"nonzero").end().end().rh();this.PB.addEventListener("click",this.X4a,!1);this.PB.appendChild(B);this.PB.setAttribute("title","Shrink the log console");return this.PB;};c.prototype.szb=function(){var B;this.MB=this.createElement("button",this.kv());this.MB.style.display=this.ze.LL?"inline-block":"none";B=new l("0 0 24 24").MN().aX(4,4,16,16,l.background).end().PN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.UE,"nonzero").end().end().rh();this.MB.addEventListener("click",this.X4a,!1);this.MB.appendChild(B);this.MB.setAttribute("title","Expand the log console");return this.MB;};c.prototype.$yb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 26 26").MN().aX(0,0,24,24,l.background).end().PN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.UE,"nonzero").end().end().rh();B.appendChild(D);B.addEventListener("click",this.TBb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.Tyb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").MN().aX(0,0,24,24,l.background).end().PN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.UE,"nonzero").end().end().rh();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.tH=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.mW && Promise.resolve(this.iub() + this.FHb().join("\r\n")).then(function(C){D.element && D.ro && (D.ro.value=C,D.element.style.cssText=D.ze.LL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Ac.lk(p.Ia,function(){D.ro.scrollTop=D.ro.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.FHb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.ze.Opa && B.ze.sx[C.Fm] && (C=C.G$(!B.ze.H3,!B.ze.H3),B.ze.filter && !B.ze.filter.test(C) || D.push(C));});return D;};c.prototype.iub=function(){var B;B=this.aF();return "Version: 6.0041.839.911 \n" + ((B?"Esn: " + B.bk:"") + "\nJsSid: ") + (this.Yf.id + ", Epoch: " + this.qa.ee.ba(p.sm) + ", Start: " + this.Yf.jy.ba(p.sm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,F){return this.Ch.createElement(B,D,C,F);};c.prototype.kv=function(B,D,C,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + l.UE + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.a2b="logDxDisplay";a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(n.fg)),r.__param(1,(0,h.l)(q.Jc)),r.__param(2,(0,h.l)(d.mh)),r.__param(3,(0,h.l)(k.Di)),r.__param(4,(0,h.l)(w.GI)),r.__param(5,(0,h.l)(y.UFa)),r.__param(6,(0,h.l)(u.vw)),r.__param(7,(0,h.l)(g.Iz)),r.__param(8,(0,h.l)(m.XY)),r.__param(9,(0,h.l)(x.nw))],a);b.VFa=a;},72574:function(r,b,a){var f;function c(){return f.cQ.apply(this,arguments) || this;}function l(h){return new f.Rr(h,b.RC);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.cHa=b.oca=b.Jr=b.RC=b.LQb=b.fOb=b.xa=b.wq=b.pgb=void 0;f=a(35201);ea(c,f.cQ);b.pgb=c;b.wq=l;b.xa=function(h){return new f.Rr(h,b.Jr);};b.fOb=function(h){return new f.Rr(h,b.oca);};b.LQb=function(h){return new f.Rr(h,b.cHa);};b.RC=new c(1,"b");b.Jr=new c(8 * b.RC.eg,"B",b.RC);b.oca=new c(1024 * b.Jr.eg,"KB",b.RC);b.cHa=new c(1024 * b.oca.eg,"MB",b.RC);b.Ia=l(0);},5021:function(r,b,a){var f;function c(){return f.cQ.apply(this,arguments) || this;}function l(h){return new f.Rr(h,b.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.gEa=b.Tca=b.sm=b.na=b.nD=b.timestamp=b.oLb=b.B7=b.zh=b.Lb=b.O7a=b.TQb=b.smb=void 0;f=a(35201);ea(c,f.cQ);b.smb=c;b.TQb=function(h){return new f.Rr(h,b.nD);};b.O7a=function(h){return new f.Rr(h * b.sm.eg,b.nD);};b.Lb=l;b.zh=function(h){return new f.Rr(h,b.sm);};b.B7=function(h){return new f.Rr(h,b.Tca);};b.oLb=function(h){return new f.Rr(h,b.gEa);};b.timestamp=function(h){return l(h);};b.nD=new c(1,"\u03bcs");b.na=new c(1E3,"ms",b.nD);b.sm=new c(1E3 * b.na.eg,"s",b.nD);b.Tca=new c(60 * b.sm.eg,"min",b.nD);b.gEa=new c(60 * b.Tca.eg,"hr",b.nD);b.Ia=l(0);},35201:function(r,b,a){var f;function c(h,d){this.eg=d;this.ny=Math.floor(h);this.display=this.ny + " " + this.eg.name;}function l(h,d,g){this.eg=h;this.name=d;this.ep=g?g:this;(0,f.co)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Rr=b.cQ=void 0;f=a(66523);l.prototype.KS=function(h){return this.eg == h.eg;};l.prototype.toJSON=function(){return this.name;};b.cQ=l;c.prototype.ba=function(h){return this.eg.KS(h)?this.ny:Math.floor(this.ny * this.eg.eg / h.eg);};c.prototype.N7a=function(h){return this.eg.KS(h)?this.ny:this.ny * this.eg.eg / h.eg;};c.prototype.as=function(h){return new c(this.ba(h),h);};c.prototype.to=function(h){return new c(this.ba(h),h);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.ny,units:this.eg.name};};c.prototype.add=function(h){return this.JTa(h);};c.prototype.wa=function(h){return this.JTa(h,function(d){return -d;});};c.prototype.scale=function(h){return new c(this.ba(this.eg.ep) * h,this.eg.ep);};c.prototype.Ek=function(h){return this.ba(this.eg.ep) - h.ba(this.eg.ep);};c.prototype.KS=function(h){return 0 == this.Ek(h);};c.prototype.o2a=function(){return 0 == this.ny;};c.prototype.Uoa=function(){return 0 > this.ny;};c.prototype.c2a=function(){return 0 < this.ny;};c.prototype.JTa=function(h,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ba(this.eg.ep) + d(h.ba(this.eg.ep)),this.eg.ep);};b.Rr=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lm={ccc:"casttv",Nia:"chrome",icc:"chromecast",kp:"edge",pWa:"edgeoss",SXa:"firefox",Zdc:"ie",opera:"opera",d$a:"safari",bcb:"tesla"};b.tn={kha:"android",A1a:"ios",lTa:"chromeos",k3a:"linux",M3a:"mac",bya:"windows"};b.e_={Iwb:"computer",phone:"phone",Z2b:"tablet"};b.ac="ConfigSymbol";},12501:function(r,b,a){var h,d,g;function c(m){return function(k,n){return k.Nta(n,m);};}function l(m,k){return m.Y8.nXb[k] || f(m,k);}function f(m,k){m=m.ay.data[k];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.vE=b.Vta=b.object=b.DDb=b.url=b.xa=b.hk=b.lxa=b.EMb=b.FH=b.string=b.$y=b.bd=b.sB=b.config=void 0;h=a(72574);d=a(5021);g=a(37187);b.config=function(m,k,n){n=void 0 === n?!1:n;return function(p,q,u){var t,w;t=void 0 !== k?k:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.vNb(q))return this.tJb(q);a:{v=(this.Mrb || n?l:f)(this,t.toString());if(void 0 !== v)if((v=m(this.pV,v),v instanceof g.Do))this.hYa(t,v);else break a;v=w.bind(this)();}this.Cua(q,v);return v;});return u;};};b.sB=function(m,k){return m.I8a(k);};b.bd=function(m,k){return m.Kta(k);};b.$y=function(m,k){return m.Mp(k);};b.string=function(m,k){return m.Nta(k);};b.FH=function(m,k){return m.Cj(k,b.string);};b.EMb=function(m,k){return m.Cj(k,b.sB);};b.lxa=function(m,k){return m.Cj(k,b.$y);};b.hk=function(m,k){m=m.Mp(k);return m instanceof g.Do?m:(0,d.Lb)(m);};b.xa=function(m,k){m=m.Mp(k);return m instanceof g.Do?m:(0,h.xa)(m);};b.url=c(/^\S+$/);b.DDb=function(m){return function(k,n){return k.H8a(n,m);};};b.object=function(){return function(m,k){return m.J8a(k);};};b.Vta=c;b.vE=function(m,k){return function(n,p){return n.Cj(p,m,k);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jba="ConfigurableInputsSymbol";b.ul="ValidatingConfigurableInputsSymbol";b.IY="ConfigNameSymbol";b.nP="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qn=b.hu=b.yw=void 0;(function(a){a[a.xMa=0]="Test";a[a.cFa=1]="Int";a[a.imb=2]="Staging";a[a.ylb=3]="Prod";})(b.yw || (b.yw={}));(function(a){a[a.SP=0]="PreferMsl";a[a.xKa=1]="PreferNoMsl";a[a.gkb=2]="NoMsl";})(b.hu || (b.hu={}));b.qn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SI="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.wda=void 0;c=a(5021);l=a(72574);f=a(75568);h;b.wda=function(){this.sva=!0;this.xE=[];this.uk=[];this.Uq=[];this.FK=!1;this.Hka=!0;this.Mt=[f.tl.lba,f.tl.Tlb,f.tl.JI,f.tl.sEa];this.Tl=void 0;this.Rka=!0;this.W3=!1;this.e2=(0,l.xa)(288E4);this.i2=(0,l.xa)(335544320);this.h2=(0,l.xa)(1E4);this.py=(0,c.Lb)(15E3);this.jQb=(0,l.xa)(6291456);this.ZL=1E3;this.tia=!0;this.E$=h;this.aO=(0,l.xa)(0);this.yL=("ro zh-Hans zh-Hant ko vi ar he hi th en es ja").split(" ");this.N5=("ro zh-Hans zh-Hant vi ar he hi th").split(" ");this.O5=("ro zh-Hans zh-Hant ko vi ar he hi th").split(" ");this.I6=["th"];this.H$=(0,c.Lb)(0);this.UT=!0;this.T$=!1;this.HK=!0;this.bI=this.PA=this.$u=!1;this.RE=["start"];this.y$=!0;};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sJa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);l=a(80217);f=a(83767);h=a(34231);d=a(33823);g=a(48004);m=a(40158);k=a(69484);n=a(34731);p=a(23563);q=a(18135);b.config=new r.ed(function(u){u(c.ac).Wd(function(){return function(){return nb._cad_global.config;};});u(f.jba).to(l.dBa).da();u(f.ul).to(l.kNa).da();u(f.nP).to(l.ZEa).da();u(h.qn).to(d.nDa).da();u(g.AHa).to(m.zHa).da();u(k.hDa).to(n.gDa).da();u(p.cq).to(q.ECa).da();});},64174:function(r,b,a){var f,h,d,g;function c(m,k){var n;n=g.call(this,m,k) || this;n.bUa=k;n.debug=m.debug;n.la=m.Df.Wa(n.bUa);return n;}function l(m,k){this.bUa=k;this.vta={};this.ay=m.ay;this.pV=m.pV;this.Y8=m.Y8;}Object.defineProperty(b,"__esModule",{value:!0});b.Re=b.KO=b.tMa=void 0;r=a(5163);f=a(72465);h=a(22674);d=a(37187);b.tMa="isTestAccount";l.prototype.hYa=function(){};l.prototype.Cua=function(m,k){this.vta[m]=[k,this.ay.v9];};l.prototype.vNb=function(m){return f.dda.of(this.vta[m]).map(function(k){return k[1];}).or(-1) < this.ay.v9;};l.prototype.tJb=function(m){return f.dda.of(this.vta[m]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(l.prototype,{Mrb:{configurable:!0,enumerable:!0,get:function(){var m,k;if(this && this.ay && this.ay.data){m=this.ay.data[b.tMa];"undefined" !== typeof m && (k=m.toString());m=this.pV.Kta(k);m=m instanceof d.Do?!1:m;}else m=!1;return m;}}});g=l;g=r.__decorate([(0,h.T)(),r.__param(0,(0,h.nn)()),r.__param(1,(0,h.nn)())],g);b.KO=g;ea(c,g);c.prototype.hYa=function(m,k){this.la.error("Invalid configuration value.",{name:m},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,h.nn)()),r.__param(1,(0,h.nn)())],a);b.Re=a;},80217:function(r,b,a){var h,d,g,m,k;function c(){this.Hx={};this.X9a=0;}function l(n,p,q,u,t){this.debug=n;this.ay=p;this.pV=q;this.Df=u;this.Y8=t;}function f(n,p,q){this.ay=n;this.pV=p;this.Y8=q;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=b.kNa=b.dBa=void 0;r=a(5163);h=a(22674);d=a(90597);g=a(87386);m=a(37187);k=a(17842);a=a(83767);f=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.nP)),r.__param(1,(0,h.l)(m.f0)),r.__param(2,(0,h.l)(k.Uda))],f);b.dBa=f;l=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.rw)),r.__param(1,(0,h.l)(a.nP)),r.__param(2,(0,h.l)(m.f0)),r.__param(3,(0,h.l)(g.Za)),r.__param(4,(0,h.l)(k.Uda))],l);b.kNa=l;c.prototype.QQb=function(n){this.Hx=Object.assign({},this.Hx,n);this.X9a++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Hx;}},v9:{configurable:!0,enumerable:!0,get:function(){return this.X9a;}}});a=c;a=r.__decorate([(0,h.T)()],a);b.ZEa=a;},33823:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u){p=d.Re.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Lf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=b.OK=void 0;r=a(5163);l=a(5021);f=a(22674);h=a(12501);d=a(64174);g=a(34231);m=a(83767);a=a(5614);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.OK=function(p,q){return p.H8a(k[q] || q,g.yw);};ea(c,d.Re);Xa.Object.defineProperties(c.prototype,{OK:{configurable:!0,enumerable:!0,get:function(){return g.yw.ylb;}},obb:{configurable:!0,enumerable:!0,get:function(){return (0,l.zh)(8);}},RF:{configurable:!0,enumerable:!0,get:function(){return "";}},eK:{configurable:!0,enumerable:!0,get:function(){return "";}},JX:{configurable:!0,enumerable:!0,get:function(){return "";}},c2:{configurable:!0,enumerable:!0,get:function(){return !0;}},UT:{configurable:!0,enumerable:!0,get:function(){return this.Lf.UT;}},TDb:{configurable:!0,enumerable:!0,get:function(){return !1;}},nd:{configurable:!0,enumerable:!0,get:function(){return {};}},epa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Er:{configurable:!0,enumerable:!0,get:function(){return !1;}},HS:{configurable:!0,enumerable:!0,get:function(){return !0;}},zC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Nx:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.yw.xMa,g.yw.cFa].indexOf(this.OK);}}});n=c;r.__decorate([h.config(b.OK,"environment")],n.prototype,"OK",null);r.__decorate([h.config(h.hk,"storageTimeout")],n.prototype,"obb",null);r.__decorate([h.config(h.string,"groupName")],n.prototype,"RF",null);r.__decorate([h.config(h.string,"canaryGroupName",!0)],n.prototype,"eK",null);r.__decorate([h.config(h.string,"uiGroupName")],n.prototype,"JX",null);r.__decorate([h.config(h.bd,"applyIndexedDbOpenWorkaround")],n.prototype,"c2",null);r.__decorate([h.config(h.bd,"ignoreIdbOpenError")],n.prototype,"UT",null);r.__decorate([h.config(h.bd,"executeStorageMigration")],n.prototype,"TDb",null);r.__decorate([h.config(h.object(),"browserInfo")],n.prototype,"nd",null);r.__decorate([h.config(h.bd,"isTestAccount")],n.prototype,"epa",null);r.__decorate([h.config(h.bd,"useRangeHeader")],n.prototype,"Er",null);r.__decorate([h.config(h.bd,"enableMilestoneEventList")],n.prototype,"HS",null);r.__decorate([h.config(h.object,"storageRules")],n.prototype,"zC",null);n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ul)),r.__param(1,(0,f.l)(a.SI)),r.__param(2,(0,f.l)(m.IY)),r.__param(2,(0,f.optional)())],n);b.nDa=n;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MAa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yd=void 0;b.yd=a;a.Uba=/^hevc-main/;a.IDa=/^hevc-hdr-|hevc-dv/;a.BI=/^hevc-hdr-/;a.au=/^hevc-dv/;a.bP=/h264mpl/;a.YC=/h264mpl30/;a.ZC=/h264mpl31/;a.kz=/h264hpl.*-dash$/;a.sya=/h264hpl.*-live$/;a.Jz=/^vp9-/;a.Bi=/^av1-/;a.hib=/[l|L]4[0-1]-/;a.bJ=/-L5[0-1]-/;a.rFa=/-live/;a.qaa=/^heaac-2-/;a.sib=/^heaac-2hq-dash/;a.Sw=/^xheaac-dash/;a.Pgb=/ddplus-2/;a.Qgb=/ddplus-5/;a.Rgb=/ddplus-atmos/;},73796:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;l=a(56800);c.UUa=function(f){var h;h={};h[l.Se.VP]=c.bP;h[l.Se.tZ]=c.bP;h[l.Se.bJ]=c.sZ;h[l.Se.BI]=c.BI;h[l.Se.au]=f || c.au;h[l.Se.kz]=c.bP;h[l.Se.Jz]=c.dQ;h[l.Se.Bi]=c.Bi;return h;};b.dd=c;c.Lqa='video/mp4; codecs="avc1.4d0028"';c.bP="avc1.4d0028";c.sZ="hev1.1.6.L93.B0";c.nba="dvhe.05.01";c.yBa="dvhe.05.04";c.oba="dvhe.05.05";c.pba="dvhe.05.06";c.qba="dvhe.05.07";c.rba="dvhe.05.09";c.au=c.nba;c.BI=c.sZ;c.qaa="mp4a.40.2";c.Sw="mp4a.40.42";c.Ogb="ec-3";c.dQ="vp09.00.11.08.02";c.Bi="av01.0.04M.08";},51259:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Mm=void 0;r=a(22674);c=a(56800);l=a(4203);f=a(98960);h=a(1079);d=a(95162);g=a(57718);m=a(16152);k=a(79974);n=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);w=a(43551);v=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);D=a(33430);C=a(78866);b.Mm=new r.ed(function(F){F(d.XP).to(g.ULa).da();F(c.uw).to(f.LBa).da();F(m.hFa).to(k.gFa).da();F(p.MAa).to(q.LAa).da();F(m.tJa).il({isTypeSupported:u.zz && u.zz.isTypeSupported});F(n.YCa).EC(function(G){return {CHb:function(){return G.hb.get(B.G_);}};});F(h.sI).EC(function(G){return G.hb.get(l.ac);});F(t.LGa).to(w.IGa).da();F(D.HGa).to(C.GGa).da();F(v.KGa).to(y.JGa).da();F(x.Oba).to(z.XCa).da();F(A.GKa).il(nb);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uw=b.uNa=b.ymb=b.Bo=b.Se=b.vl=b.Yt=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.mNa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.tw=0]="Default";a[a.Gw=1]="Microsoft";})(b.Yt || (b.Yt={}));(function(a){a[a.tw=0]="Default";a[a.rI=1]="Chrome";a[a.Gw=2]="Microsoft";})(b.vl || (b.vl={}));(function(a){a[a.VP=0]="SD";a[a.tZ=1]="HD";a[a.bJ=2]="UHD";a[a.au=3]="DV";a[a.BI=4]="HDR10";a[a.kz=5]="AVCHigh";a[a.Jz=6]="VP9";a[a.Bi=7]="AV1";})(b.Se || (b.Se={}));(function(a){a[a.l_=0]="Level_1_4";a[a.hD=1]="Level_2_2";})(b.Bo || (b.Bo={}));b.ymb=function(){};(function(a){a[a.Y$b=0]="Platform";a[a.q8b=1]="CurrentTitle";})(b.uNa || (b.uNa={}));b.uw="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.sI=b.Ehb=void 0;c=a(56800);b.Ehb=function(){this.xE=[];this.uk=[];this.Uq=[];this.XQa=[];this.Gha=c.Yt.tw;this.aaa=c.vl.tw;};b.sI="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oba=b.Aw=void 0;r=b.Aw || (b.Aw={});r.wmb="unknown";r.tya="absent";r.FKa="present";r.Error="error";b.Oba="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YCa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="IsTypeSupportedProviderFactorySymbol";b.tJa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var l,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uI=b.$a=void 0;l=a(53921);f=a(31149);h=a(36129);c.lT=function(d){if(d){if(d.includes(b.uI.By))return l.wk.By;if(d.includes("fps"))return l.wk.XA;if(d.includes(b.uI.cY))return l.wk.cY;}throw new f.Mc(h.U.Thb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.uma=function(d){switch(d){case l.wk.By:return b.uI.By;case l.wk.XA:return b.uI.XA;default:return b.uI.cY;}};b.$a=c;c.Mw="com.microsoft.playready";c.sd="com.microsoft.playready.hardware";c.rD="com.microsoft.playready.software";c.jib="com.apple.fps.2_0";c.gQ="com.widevine.alpha";c.CNa="com.widevine.alpha.experiment";c.yda="com.microsoft.playready.recommendation.3000";c.zJa="com.microsoft.playready.recommendation.2000";c.nEa=[c.yda];b.uI={XA:"fairplay",cY:"widevine",By:"playready"};},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HGa="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KGa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={YC:"playready-h264mpl30-dash",ZC:"playready-h264mpl31-dash",rZ:"playready-h264mpl40-dash",tDa:"h264mpl30-dash-playready-prk-qc",uDa:"h264mpl31-dash-playready-prk-qc",vDa:"h264mpl40-dash-playready-prk-qc",rDa:"playready-h264hpl22-dash",lZ:"playready-h264hpl30-dash",nZ:"playready-h264hpl31-dash",pZ:"playready-h264hpl40-dash",sDa:"h264hpl22-dash-playready-live",mZ:"h264hpl30-dash-playready-live",oZ:"h264hpl31-dash-playready-live",qZ:"h264hpl40-dash-playready-live",Bea:"vp9-profile0-L21-dash-cenc",o0:"vp9-profile0-L30-dash-cenc",p0:"vp9-profile0-L31-dash-cenc",eQ:"vp9-profile0-L40-dash-cenc",Vba:"hevc-main10-L30-dash-cenc",Wba:"hevc-main10-L31-dash-cenc",Xba:"hevc-main10-L40-dash-cenc",Yba:"hevc-main10-L41-dash-cenc",eP:"hevc-main10-L50-dash-cenc",fP:"hevc-main10-L51-dash-cenc",OZ:"hevc-main10-L30-dash-cenc-prk",RZ:"hevc-main10-L31-dash-cenc-prk",UZ:"hevc-main10-L40-dash-cenc-prk",XZ:"hevc-main10-L41-dash-cenc-prk",PZ:"hevc-main10-L30-dash-cenc-prk-do",SZ:"hevc-main10-L31-dash-cenc-prk-do",VZ:"hevc-main10-L40-dash-cenc-prk-do",YZ:"hevc-main10-L41-dash-cenc-prk-do",$Z:"hevc-main10-L50-dash-cenc-prk-do",b_:"hevc-main10-L51-dash-cenc-prk-do",NZ:"hevc-main10-L30-dash-cenc-live",QZ:"hevc-main10-L31-dash-cenc-live",TZ:"hevc-main10-L40-dash-cenc-live",WZ:"hevc-main10-L41-dash-cenc-live",ZZ:"hevc-main10-L50-dash-cenc-live",a_:"hevc-main10-L51-dash-cenc-live",MY:"hevc-dv5-main10-L30-dash-cenc-prk",OY:"hevc-dv5-main10-L31-dash-cenc-prk",WO:"hevc-dv5-main10-L40-dash-cenc-prk",RY:"hevc-dv5-main10-L41-dash-cenc-prk",TY:"hevc-dv5-main10-L50-dash-cenc-prk",VY:"hevc-dv5-main10-L51-dash-cenc-prk",sba:"hevc-dv5-main10-L40-dash-cenc-prk-qc",tba:"hevc-dv5-main10-L41-dash-cenc-prk-qc",uba:"hevc-dv5-main10-L50-dash-cenc-prk-qc",vba:"hevc-dv5-main10-L51-dash-cenc-prk-qc",NY:"hevc-dv5-main10-L30-dash-cenc-prk-do",PY:"hevc-dv5-main10-L31-dash-cenc-prk-do",QY:"hevc-dv5-main10-L40-dash-cenc-prk-do",SY:"hevc-dv5-main10-L41-dash-cenc-prk-do",UY:"hevc-dv5-main10-L50-dash-cenc-prk-do",WY:"hevc-dv5-main10-L51-dash-cenc-prk-do",vZ:"hevc-hdr-main10-L30-dash-cenc-prk",yZ:"hevc-hdr-main10-L31-dash-cenc-prk",dP:"hevc-hdr-main10-L40-dash-cenc-prk",DZ:"hevc-hdr-main10-L41-dash-cenc-prk",GZ:"hevc-hdr-main10-L50-dash-cenc-prk",JZ:"hevc-hdr-main10-L51-dash-cenc-prk",wZ:"hevc-hdr-main10-L30-dash-cenc-prk-do",zZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",BZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",EZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",HZ:"hevc-hdr-main10-L50-dash-cenc-prk-do",KZ:"hevc-hdr-main10-L51-dash-cenc-prk-do",uZ:"hevc-hdr-main10-L30-dash-cenc-live",xZ:"hevc-hdr-main10-L31-dash-cenc-live",AZ:"hevc-hdr-main10-L40-dash-cenc-live",CZ:"hevc-hdr-main10-L41-dash-cenc-live",FZ:"hevc-hdr-main10-L50-dash-cenc-live",IZ:"hevc-hdr-main10-L51-dash-cenc-live",mya:"av1-main-L20-dash-cbcs-prk",nya:"av1-main-L21-dash-cbcs-prk",iz:"av1-main-L30-dash-cbcs-prk",jz:"av1-main-L31-dash-cbcs-prk",lI:"av1-main-L40-dash-cbcs-prk",mI:"av1-main-L41-dash-cbcs-prk",pY:"av1-main-L50-dash-cbcs-prk",qY:"av1-main-L51-dash-cbcs-prk"};b.Kc={BY:[b.H.YC,b.H.ZC,b.H.rZ],lY:[b.H.lZ,b.H.nZ,b.H.pZ],kY:[b.H.mZ,b.H.oZ,b.H.qZ],raa:[b.H.o0,b.H.p0,b.H.eQ],sgb:[b.H.Vba,b.H.Wba,b.H.Xba,b.H.Yba,b.H.eP,b.H.fP],EY:[b.H.OZ,b.H.RZ,b.H.UZ,b.H.XZ,b.H.eP,b.H.fP],FY:[b.H.PZ,b.H.SZ,b.H.VZ,b.H.YZ,b.H.$Z,b.H.b_],cba:[b.H.NZ,b.H.QZ,b.H.TZ,b.H.WZ,b.H.ZZ,b.H.a_],CY:[b.H.vZ,b.H.yZ,b.H.dP,b.H.DZ,b.H.GZ,b.H.JZ],DY:[b.H.wZ,b.H.zZ,b.H.BZ,b.H.EZ,b.H.HZ,b.H.KZ],bba:[b.H.uZ,b.H.xZ,b.H.AZ,b.H.CZ,b.H.FZ,b.H.IZ],sAa:[b.H.MY,b.H.WO,b.H.TY,b.H.OY,b.H.RY,b.H.VY],tAa:[b.H.NY,b.H.QY,b.H.UY,b.H.PY,b.H.SY,b.H.WY],uAa:[b.H.iz,b.H.jz,b.H.lI,b.H.mI,b.H.pY,b.H.qY]};b.xd={$C:"heaac-2-dash",LZ:"heaac-5.1-dash",aD:"heaac-2hq-dash",Sw:"xheaac-dash",UO:"ddplus-2.0-dash",KY:"ddplus-5.1-dash",VO:"ddplus-atmos-dash"};b.tl={Tlb:"simplesdh",lba:"dfxp-ls-sdh",sEa:"imsc1.1",r0:"webvtt-lssdh-ios8",JI:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GKa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XP="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z;function c(A,B,D,C,F,G,E,J,M,L){this.j2a=A;this.config=B;this.Ac=D;this.qa=C;this.is=F;this.ho=G;this.Ul=E;this.platform=J;this.mc=M;this.ry=L;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;r=a(5163);l=a(22674);f=a(56800);h=a(16152);d=a(1079);g=a(92049);m=a(75456);k=a(46286);n=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);w=a(21103);v=a(87386);y=a(91581);x=a(2248);a=a(33430);c.prototype.Kyb=function(A){var B;B=this.j2a.IUa();switch(A){case f.Yt.Gw:return new g.iHa(this.config,B,this.is,this.platform,this.ry);default:return new n.ZY(this.config,B,this.ry);}};c.prototype.Rzb=function(A){var B;B=this.j2a.IUa();switch(A){case f.vl.rI:A=new t.TAa(this.config,B,this.is,this.ho,this.Ul,this.qa,this.ry);break;case f.vl.Gw:A=new m.rGa(this.config,B,this.is,this.Ac,this.qa,this.Ul,this.mc,this.ry,this.ho);break;default:A=new k.qz(this.config,B,this.is,this.ry);}return A;};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.hFa)),r.__param(1,(0,l.l)(d.sI)),r.__param(2,(0,l.l)(p.Di)),r.__param(3,(0,l.l)(q.fg)),r.__param(4,(0,l.l)(u.Wf)),r.__param(5,(0,l.l)(w.Fw)),r.__param(6,(0,l.l)(v.Za)),r.__param(7,(0,l.l)(y.vn)),r.__param(8,(0,l.l)(x.ih)),r.__param(9,(0,l.l)(a.HGa))],z);b.LAa=z;},65264:function(r,b,a){var l,f,h,d,g;function c(m,k,n,p){this.config=m;this.io=k;this.mediaType=n;this.ry=p;this.Dqa={};this.Dqa[l.v.Audio]="audio";this.Dqa[l.v.mNa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.VC=void 0;l=a(56800);r=a(57180);f=a(22210);h=a(22365);d=a(7802);g=new r.wD().format;c.prototype.F_a=function(m){return this.wBb(this.fJb(this.n_a(),m));};c.prototype.HE=function(m){return this.io.isTypeSupported(m);};c.prototype.hHb=function(){return [f.yd.qaa,f.yd.sib,f.yd.YC,f.yd.ZC];};c.prototype.sMb=function(){this.no=[];this.At=[];this.config().hUb && this.At.push(f.yd.Sw);this.config().K6a && this.At.push(f.yd.Uba);this.config().J6a && this.At.push(f.yd.IDa);this.config().I6a && this.At.push(f.yd.au);this.config().G6a && this.At.push(f.yd.kz);this.config().H6a && this.At.push(f.yd.sya);this.config().L6a && this.At.push(f.yd.Jz);this.config().F6a && this.At.push(f.yd.Bi);this.At=this.At.concat(this.hHb());!this.config().lDb && this.no.push(f.yd.Sw);!this.config().CWa && this.no.push(f.yd.Pgb);!this.config().BWa && this.no.push(f.yd.Qgb);!this.config().GK && this.no.push(f.yd.Rgb);!this.config().YCb && this.no.push(/prk$/);this.config().I6a || this.config().JCb || this.no.push(f.yd.au);this.config().K6a || this.config().MCb || this.no.push(f.yd.Uba);this.config().J6a || this.config().Jka || this.no.push(f.yd.IDa);this.config().G6a || this.config().FK || this.no.push(f.yd.kz);this.config().H6a || this.config().Hka || this.no.push(f.yd.sya);this.config().L6a || this.config().hDb || this.no.push(f.yd.Jz);this.config().F6a || this.config().zCb || this.no.push(f.yd.Bi);!this.config().gDb && this.no.push(f.yd.bJ);};c.prototype.fJb=function(m,k){var n;n=h.Be.hardwareConcurrency && h.Be.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.wd) || !p.restrictToUILabels.includes(k.wd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.PS=function(m){var k,n;k=this;n=m.map(function(p){for(var q=la(k.At),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=la(k.no);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return k.OS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.J_(m,p);});};c.prototype.OS=function(m){var k;k=this;return this.$oa(m).then(function(n){return n.supported?k.config().UCb?k.ry.OS(m):k.ula(m):n;});};c.prototype.ula=function(m){var k;m=this.aW[m];k="";return m?(Array.isArray(m) && (k=1 < m.length?" " + m[1]:"",m=m[0]),m=g("{0}/mp4;codecs={1};{2}",this.Dqa[this.mediaType],m,k),this.HE(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.wBb=function(m){this.sMb();return this.PS(m);};c.prototype.$oa=function(){return Promise.resolve({supported:!0});};Xa.Object.defineProperties(c.prototype,{aW:{configurable:!0,enumerable:!0,get:function(){this.sPa || (this.sPa=this.Bq());return this.sPa;}}});b.VC=c;},5180:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u,t,w){k=l.qz.call(this,k,n,p,w) || this;k.ho=q;k.Ul=u;k.qa=t;k.ry=w;k.type=f.vl.rI;k.log=k.Ul.Wa("ChromeVideoCapabilityDetector");return k;}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;l=a(46286);f=a(56800);h=a(5021);d=a(82100);g=a(22210);m=a(17612);ea(c,l.qz);c.prototype.HH=function(k){switch(k){case f.Bo.hD:return this.N2b;default:return Promise.resolve(!1);}};c.prototype.yT=function(){var k;k=this;return this.HH(f.Bo.hD).then(function(n){return n?f.Bo.hD:void 0;}).then(function(n){return k.g3(n);});};c.prototype.Kga=function(k){this.Fp=k;};c.prototype.ONb=function(k){var n;return !(null === (n=k.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.Mr;}));};c.prototype.ydb=function(){var k;if(this.Fp){k=this.p0a && this.q0a && this.p0a.wa(this.q0a).ba(h.na);this.Fp.itshdcp=JSON.stringify({hdcp2:this.Ws,time2:k});}};c.prototype.$oa=function(k){var n;n=this;return this.ho.$A().then(function(p){var q;q=(0,d.Y4)(p);p=q === d.Mr || m.$a.nEa.includes(p.keySystem);return [g.yd.kz,g.yd.Jz,g.yd.Bi].some(function(u){return u.test(k);}) && !g.yd.rFa.test(k) && n.config().M4a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && g.yd.Uba.test(k) || g.yd.hib.test(k) && !(n.config().LCb || n.config().EWa && q === d.Mr) || g.yd.bJ.test(k) && (!n.config().EWa || q !== d.Mr)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.F4a || (this.F4a=this.ho.$A().then(function(k){return k.createMediaKeys();}));return this.F4a;}},N2b:{configurable:!0,enumerable:!0,get:function(){var k;k=this;this.Fwa || (this.config().NCb?this.Fwa=Promise.all([this.ho.$A(),this.mediaKeys]).then(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;if(!k.ONb(n))return (k.Ws="not HW_SECURE_ALL",k.log.trace("hdcpStatus: " + k.Ws),!1);if(p && p.getStatusForPolicy)return (k.q0a=k.qa.ee,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){k.p0a=k.qa.ee;k.Ws=q;k.log.trace("hdcpStatus: " + k.Ws);return "usable" === k.Ws;}));k.Ws="not available";k.log.trace("hdcpStatus: " + k.Ws);return !1;}).catch(function(n){k.Ws="exception";k.log.error("Exception in supportsHdcpLevel",{hdcpStatus:k.Ws},n);return !1;}).then(function(n){k.ydb();return n;}):(this.Ws="not enabled",this.log.trace("hdcpStatus: " + this.Ws),this.ydb(),this.Fwa=Promise.resolve(!1)));return this.Fwa;}}});b.TAa=c;},31741:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){p=f.VC.call(this,k,n,l.v.Audio,p) || this;p.config=k;p.io=n;p.type=l.Yt.tw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.ZY=void 0;l=a(56800);f=a(65264);h=a(73796);r=a(57180);d=a(12187);g=a(7802);m=new r.wD().format;ea(c,f.VC);c.prototype.hX=function(){var k;k=m(c.N$,h.dd.Ogb);return Promise.resolve(this.config().GK && this.io.isTypeSupported(k));};c.prototype.Bq=function(){return d.yba.Bq();};c.prototype.n_a=function(){return this.config().xE;};c.prototype.PS=function(k){return this.config().fUb?Promise.resolve(new g.J_(k,k.map(function(){return {supported:!0};}))):f.VC.prototype.PS.call(this,k);};b.ZY=c;c.N$="audio/mp4;codecs={0};";},12187:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yba=void 0;l=a(75568);c.Bq=function(){var f;f={};return (f[l.xd.$C]="mp4a.40.2",f[l.xd.LZ]="mp4a.40.2",f[l.xd.aD]="mp4a.40.2",f[l.xd.Sw]="mp4a.40.42",f[l.xd.UO]="ec-3",f[l.xd.KY]="ec-3",f[l.xd.VO]="ec-3",f);};b.yba=c;},46286:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u){var t;t=h.VC.call(this,n,p,l.v.mNa,u) || this;t.config=n;t.io=p;t.is=q;t.f7=u;t.type=l.vl.tw;t.p6b=d.dd.UUa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.qz=void 0;l=a(56800);f=a(75568);h=a(65264);r=a(57180);d=a(73796);g=a(48617);m=a(45266);k=a(7802);new r.wD();ea(c,h.VC);c.prototype.HH=function(){return Promise.resolve(!1);};c.prototype.FF=function(){return Promise.resolve("");};c.prototype.P4=function(){return Promise.resolve("");};c.prototype.jX=function(){return this.config().Jka?this.f7.Ooa()?this.f7.OS(f.H.dP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.z$=function(){return this.config().Jka?this.f7.Ooa()?this.f7.OS(f.H.WO).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.kX=function(){return Promise.resolve(!1);};c.prototype.hX=function(){return Promise.resolve(!1);};c.prototype.hT=function(n){return this.p6b[n];};c.prototype.Kga=function(){};c.prototype.VPb=function(n){switch(n){case l.Bo.l_:return "1.4";case l.Bo.hD:return "2.2";}};c.prototype.Bq=function(){return g.$Y.Bq();};c.prototype.n_a=function(){var p;function n(q,u){return (0,m.ddb)(function(t,w){return t.name === w.name;},q,u);}p=n(this.config().XQa,this.config().uk);return n(p,this.config().Uq);};c.prototype.yT=function(){return Promise.resolve(void 0);};c.prototype.c5=function(){return Promise.resolve(void 0);};c.prototype.g3=function(n){var p;p=[];this.is.ug(n) && p.push(this.VPb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.PS=function(n){return this.config().gUb?Promise.resolve(new k.J_(n,n.map(function(){return {supported:!0};}))):h.VC.prototype.PS.call(this,n);};b.qz=c;c.N$="video/mp4;codecs={0};";},48617:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Y=void 0;l=a(75568);f=a(73796);c.Bq=function(){var h;h={};return (h[l.H.YC]="avc1.4D401E",h[l.H.ZC]="avc1.4D401F",h[l.H.rZ]="avc1.4D4028",h[l.H.tDa]="avc1.4D401E",h[l.H.uDa]="avc1.4D401F",h[l.H.vDa]="avc1.4D4028",h[l.H.Vba]="hev1.2.6.L90.B0",h[l.H.Wba]="hev1.2.6.L93.B0",h[l.H.Xba]="hev1.2.6.L120.B0",h[l.H.Yba]="hev1.2.6.L123.B0",h[l.H.OZ]="hev1.2.6.L90.B0",h[l.H.RZ]="hev1.2.6.L93.B0",h[l.H.UZ]="hev1.2.6.L120.B0",h[l.H.XZ]="hev1.2.6.L123.B0",h[l.H.eP]="hev1.2.6.L150.B0",h[l.H.fP]="hev1.2.6.L153.B0",h[l.H.PZ]="hev1.2.6.L90.B0",h[l.H.SZ]="hev1.2.6.L93.B0",h[l.H.VZ]="hev1.2.6.L120.B0",h[l.H.YZ]="hev1.2.6.L123.B0",h[l.H.$Z]="hev1.2.6.L150.B0",h[l.H.b_]="hev1.2.6.L153.B0",h[l.H.NZ]="hev1.2.6.L90.B0",h[l.H.QZ]="hev1.2.6.L93.B0",h[l.H.TZ]="hev1.2.6.L120.B0",h[l.H.WZ]="hev1.2.6.L123.B0",h[l.H.ZZ]="hev1.2.6.L150.B0",h[l.H.a_]="hev1.2.6.L153.B0",h[l.H.vZ]="hev1.2.6.L90.B0",h[l.H.yZ]="hev1.2.6.L93.B0",h[l.H.dP]="hev1.2.6.L120.B0",h[l.H.DZ]="hev1.2.6.L123.B0",h[l.H.GZ]="hev1.2.6.L150.B0",h[l.H.JZ]="hev1.2.6.L153.B0",h[l.H.wZ]="hev1.2.6.L90.B0",h[l.H.zZ]="hev1.2.6.L93.B0",h[l.H.BZ]="hev1.2.6.L120.B0",h[l.H.EZ]="hev1.2.6.L123.B0",h[l.H.HZ]="hev1.2.6.L150.B0",h[l.H.KZ]="hev1.2.6.L153.B0",h[l.H.uZ]="hev1.2.6.L90.B0",h[l.H.xZ]="hev1.2.6.L93.B0",h[l.H.AZ]="hev1.2.6.L120.B0",h[l.H.CZ]="hev1.2.6.L123.B0",h[l.H.FZ]="hev1.2.6.L150.B0",h[l.H.IZ]="hev1.2.6.L153.B0",h[l.H.MY]=f.dd.nba,h[l.H.OY]=f.dd.yBa,h[l.H.WO]=f.dd.oba,h[l.H.RY]=f.dd.pba,h[l.H.TY]=f.dd.qba,h[l.H.VY]=f.dd.rba,h[l.H.sba]=f.dd.oba,h[l.H.tba]=f.dd.pba,h[l.H.uba]=f.dd.qba,h[l.H.vba]=f.dd.rba,h[l.H.NY]=f.dd.nba,h[l.H.PY]=f.dd.yBa,h[l.H.QY]=f.dd.oba,h[l.H.SY]=f.dd.pba,h[l.H.UY]=f.dd.qba,h[l.H.WY]=f.dd.rba,h[l.H.rDa]="avc1.640016",h[l.H.lZ]="avc1.64001E",h[l.H.nZ]="avc1.64001F",h[l.H.pZ]="avc1.640028",h[l.H.sDa]="avc1.640016",h[l.H.mZ]="avc1.64001E",h[l.H.oZ]="avc1.64001F",h[l.H.qZ]="avc1.640028",h[l.H.Bea]=f.dd.dQ,h[l.H.o0]=f.dd.dQ,h[l.H.p0]=f.dd.dQ,h[l.H.eQ]=f.dd.dQ,h[l.H.mya]=f.dd.Bi,h[l.H.nya]=f.dd.Bi,h[l.H.iz]=f.dd.Bi,h[l.H.jz]=f.dd.Bi,h[l.H.lI]=f.dd.Bi,h[l.H.mI]=f.dd.Bi,h[l.H.pY]=f.dd.Bi,h[l.H.qY]=f.dd.Bi,h);};b.$Y=c;},98960:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){this.config=k;this.PSa=n;this.dVb=p;this.YWb=this.Dzb();}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;r=a(5163);l=a(56800);f=a(1079);h=a(22674);d=a(75568);g=a(57657);a=a(41605);c.prototype.E_a=function(k){return this.zYa().F_a(k);};c.prototype.G_a=function(k){return this.Us().F_a(k);};c.prototype.zYa=function(){this.Fha && this.Fha.type == this.config().Gha || (this.Fha=this.PSa.Kyb(this.config().Gha));return this.Fha;};c.prototype.Us=function(){this.$$ && this.$$.type == this.config().aaa || (this.$$=this.PSa.Rzb(this.config().aaa),this.$$.Kga(this.dVb.CHb()));return this.$$;};c.prototype.PHb=function(k){var q;if(!k || !k.length)return l.Se.tZ;k=this.aFb(k);for(var n=[l.Se.VP,l.Se.tZ,l.Se.bJ,l.Se.BI,l.Se.au,l.Se.kz,l.Se.Jz,l.Se.Bi],p=n.length;p--;){q=n[p];if((0,this.YWb[q])(k))return q;}return l.Se.VP;};c.prototype.HH=function(k){return this.Us().HH(k);};c.prototype.HE=function(k){return this.Us().HE(k);};c.prototype.FF=function(){return this.Us().FF();};c.prototype.P4=function(){return this.Us().P4();};c.prototype.jX=function(){return this.Us().jX();};c.prototype.hX=function(){return this.zYa().hX();};c.prototype.z$=function(){return this.Us().z$();};c.prototype.kX=function(){return this.Us().kX();};c.prototype.hT=function(k){return this.Us().hT(k);};c.prototype.yT=function(){return this.Us().yT();};c.prototype.c5=function(){return this.Us().c5();};c.prototype.aFb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Fd]="";});return Object.keys(n);};c.prototype.Dzb=function(){var k;k={};k[l.Se.Bi]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[l.Se.kz]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[l.Se.Jz]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[l.Se.au]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[l.Se.BI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[l.Se.bJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[l.Se.tZ]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=la(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.ZC]);k[l.Se.VP]=function(){return !0;};return k;};m=c;m=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(f.sI)),r.__param(1,(0,h.l)(a.MAa)),r.__param(2,(0,h.l)(g.YCa))],m);b.LBa=m;},74742:function(r,b,a){var l,f,h;function c(d){this.nWb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;r=a(5163);l=a(22674);f=a(94800);a=a(18580);c.prototype.uEb=function(){var d,g;d={SK:f.Aw.wmb};try{g=this.nWb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var k;d.SK=m.value?f.Aw.FKa:f.Aw.tya;if(d.SK === f.Aw.tya){k=function(){m.value && (d.SK=f.Aw.FKa);m.removeEventListener("change",k);};m.addEventListener("change",k);}}).catch(function(){d.SK=f.Aw.Error;});}catch(m){d.SK=f.Aw.Error;}return d;};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.GKa))],h);b.XCa=h;},79974:function(r,b,a){var l,f,h,d,g;function c(m,k){this.config=m;this.KAb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(5163);l=a(22674);f=a(16152);h=a(1079);d=a(56800);g=a(40290);c.prototype.IUa=function(){switch(this.config().aaa){case d.vl.Gw:return g.xz.lzb();default:return this.KAb;}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.sI)),r.__param(1,(0,l.l)(f.tJa))],a);b.gFa=a;},75456:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;function c(G,E,J,M,L,H,N,I,K){G=f.qz.call(this,G,E,J,I) || this;G.Ac=M;G.qa=L;G.Ul=H;G.mc=N;G.ry=I;G.ho=K;G.type=h.vl.Gw;G.qI="hvc1";G.wAa="avc1";G.p7a={};G.log=G.Ul.Wa("MicrosoftVideoCapabilityDetector");G.R1b();G.iX && G.config().UQb?G.hWa=G.bzb():(G.hWa=Promise.resolve(""),G.config().WQb?G.hzb():G.config().VQb && G.gzb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;l=a(75568);f=a(46286);h=a(56800);r=a(57180);d=a(17612);g=a(5021);m=a(33543);k=a(73796);n=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");C=new r.wD();F=new m.Yaa();ea(c,f.qz);c.prototype.hT=function(G){return G === h.Se.au && this.config().C5b?k.dd.sZ:f.qz.prototype.hT.call(this,G);};c.prototype.HH=function(G){switch(G){case h.Bo.l_:return this.Pbb();case h.Bo.hD:return this.cW;default:return Promise.resolve(!1);}};c.prototype.FF=function(){var E;function G(){return E.iX?E.wLb?E.Pbb().then(function(J){return Promise.resolve(J?d.$a.sd:d.$a.rD);}):Promise.resolve(d.$a.rD):E.Q2b?Promise.resolve(d.$a.rD):Promise.resolve(d.$a.Mw);}E=this;this.keySystem || (this.keySystem=this.config().Fr?this.ho.$A().then(function(J){return J.keySystem;}):G());return this.keySystem;};c.prototype.P4=function(){return this.hWa;};c.prototype.jX=function(){return Promise.resolve({result:this.Obb(),reason:"is-type-supported"});};c.prototype.kX=function(){return this.iX && this.Rbb()?this.cW:Promise.resolve(!1);};c.prototype.z$=function(){return Promise.resolve(this.Nbb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Kga=function(G){this.Fp=G;Object.assign(this.Fp,this.p7a);G.itshwdrm=this.iX;G.itsqhd=this.Qbb();G.itshevc=this.Rbb();G.itshdr=this.Obb();G.itsdv=this.Nbb();G.itsav1=this.M2b();G.itshevccl=this.O2b();G.itsavccl=this.K2b();this.xxa();};c.prototype.vR=function(G,E){(this.Fp?this.Fp:this.p7a)[G]=E;};c.prototype.yT=function(){var G;G=this;return this.HH(h.Bo.hD).then(function(E){return E?G.g3(h.Bo.hD):G.HH(h.Bo.l_).then(function(J){return J?G.g3(h.Bo.l_):G.g3(void 0);});});};c.prototype.c5=function(){return this.config().Fr?Promise.resolve(void 0):this.FF().then(function(G){return G === d.$a.sd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.ula=function(G){var E;E=this;return this.FF().then(function(J){var M,L,H;M=E.aW[G];if(M){L=[];if(E.is.Xo(M))H=M;else (L=M.features,H=M.ud,J=M.keySystem);return E.As(J,H,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Bq=function(){var G;G=f.qz.prototype.Bq.call(this);G[l.H.eQ]=G[l.H.p0]=G[l.H.o0]=G[l.H.Bea]={ud:"vp09.00.11.08.02",keySystem:d.$a.sd,features:u};G[l.H.PZ]=G[l.H.OZ]=G[l.H.NZ]={ud:"hev1.2.6.L90.B0",keySystem:d.$a.sd,features:t};G[l.H.SZ]=G[l.H.RZ]=G[l.H.QZ]={ud:"hev1.2.6.L93.B0",keySystem:d.$a.sd,features:t};G[l.H.VZ]=G[l.H.UZ]=G[l.H.TZ]={ud:"hev1.2.6.L120.B0",keySystem:d.$a.sd,features:t};G[l.H.YZ]=G[l.H.XZ]=G[l.H.WZ]={ud:"hev1.2.6.L123.B0",keySystem:d.$a.sd,features:t};G[l.H.$Z]=G[l.H.eP]=G[l.H.ZZ]={ud:"hev1.2.6.L150.B0",keySystem:d.$a.sd,features:t};G[l.H.b_]=G[l.H.fP]=G[l.H.a_]={ud:"hev1.2.6.L153.B0",keySystem:d.$a.sd,features:t};G[l.H.wZ]=G[l.H.vZ]=G[l.H.uZ]={ud:"hev1.2.6.L90.B0",keySystem:d.$a.sd,features:v};G[l.H.zZ]=G[l.H.yZ]=G[l.H.xZ]={ud:"hev1.2.6.L93.B0",keySystem:d.$a.sd,features:v};G[l.H.BZ]=G[l.H.dP]=G[l.H.AZ]={ud:"hev1.2.6.L120.B0",keySystem:d.$a.sd,features:v};G[l.H.EZ]=G[l.H.DZ]=G[l.H.CZ]={ud:"hev1.2.6.L123.B0",keySystem:d.$a.sd,features:y};G[l.H.HZ]=G[l.H.GZ]=G[l.H.FZ]={ud:"hev1.2.6.L150.B0",keySystem:d.$a.sd,features:y};G[l.H.KZ]=G[l.H.JZ]=G[l.H.IZ]={ud:"hev1.2.6.L153.B0",keySystem:d.$a.sd,features:y};G[l.H.NY]=G[l.H.MY]={ud:"hev1.2.6.L90.B0",keySystem:d.$a.sd,features:x};G[l.H.PY]=G[l.H.OY]={ud:"hev1.2.6.L93.B0",keySystem:d.$a.sd,features:x};G[l.H.QY]=G[l.H.sba]=G[l.H.WO]={ud:"hev1.2.6.L120.B0",keySystem:d.$a.sd,features:x};G[l.H.SY]=G[l.H.tba]=G[l.H.RY]={ud:"hev1.2.6.L123.B0",keySystem:d.$a.sd,features:z};G[l.H.UY]=G[l.H.uba]=G[l.H.TY]={ud:"hev1.2.6.L150.B0",keySystem:d.$a.sd,features:z};G[l.H.WY]=G[l.H.vba]=G[l.H.VY]={ud:"hev1.2.6.L153.B0",keySystem:d.$a.sd,features:z};G[l.H.iz]={ud:"av01.0.04M.10",keySystem:d.$a.sd,features:u};G[l.H.jz]={ud:"av01.0.05M.10",keySystem:d.$a.sd,features:u};G[l.H.lI]={ud:"av01.0.08M.10",keySystem:d.$a.sd,features:u};G[l.H.mI]={ud:"av01.0.09M.10",keySystem:d.$a.sd,features:u};G[l.H.pY]={ud:"av01.0.12M.10",keySystem:d.$a.sd,features:w};G[l.H.qY]={ud:"av01.0.13M.10",keySystem:d.$a.sd,features:w};return G;};c.prototype.As=function(G,E,J){G=n.xz.h3(G,E,J);return this.HE(G);};c.prototype.Qbb=function(){return this.As(d.$a.sd,this.qI,t);};c.prototype.Obb=function(){return this.As(d.$a.sd,this.qI,v);};c.prototype.Nbb=function(){return this.As(d.$a.sd,this.qI,x);};c.prototype.M2b=function(){return this.As(d.$a.sd,k.dd.Bi,u);};c.prototype.Rbb=function(){return this.As(d.$a.sd,this.qI,w);};c.prototype.O2b=function(){return this.As(d.$a.sd,this.qI,D);};c.prototype.K2b=function(){return this.As(d.$a.sd,this.wAa,D);};c.prototype.Pbb=function(){var G;G=this;return this.cW.then(function(E){return E?Promise.resolve(E):G.m8a;});};c.prototype.xxa=function(){this.Fp && (this.Fp.itshdcp=JSON.stringify({hdcp1:this.n0a,time1:this.ncb - this.dbb,hdcp2:this.o0a,time2:this.ocb - this.ebb}));};c.prototype.R1b=function(){var G;G=this;this.iX?(this.cW=this.j_a(this.config().N4a,this.config().YQb,function(){var E;E=G.NHb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.m8a=this.cW.then(function(E){return E?!0:G.j_a(G.config().N4a,G.config().XQb,function(){var J;J=G.MHb();return ["maybe" !== J,J];}).then(function(J){return "probably" === J;});})):(this.m8a=Promise.resolve(!0),this.cW=Promise.resolve(!1));};c.prototype.j_a=function(G,E,J){var M;M=this;return new Promise(function(L){var H,N,I,K;H=la(J());N=H.next().value;H=H.next().value;if(N)return L(H);I=M.Ac.xN((0,g.Lb)(G),function(){var O,R;O=la(J());R=O.next().value;O=O.next().value;R && (I.cancel(),K.cancel(),L(O));});K=M.Ac.lk((0,g.Lb)(E),function(){I.cancel();K.cancel();L("timeout");});});};c.prototype.MHb=function(){var G;G=n.xz.h3(d.$a.rD,this.wAa,A).split("|");this.n0a=n.xz.Ewa(G[0],G[1]);this.ncb=this.qa.ee.ba(g.na);this.dbb=this.dbb || this.ncb;this.xxa();return this.n0a;};c.prototype.NHb=function(){var G;G=n.xz.h3(d.$a.sd,this.qI,B).split("|");this.o0a=n.xz.Ewa(G[0],G[1]);this.ocb=this.qa.ee.ba(g.na);this.ebb=this.ebb || this.ocb;this.xxa();return this.o0a;};c.prototype.bzb=function(){var G;G=this;return this.Cja(d.$a.sd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.gIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.vR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.gzb=function(){var G;G=this;this.Cja(d.$a.Mw,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.mc.decode(E));G.vR("itsHardwareInfo",J);G.log.debug("HardwareInfo: " + J);return E;}).catch(function(E){G.vR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.hzb=function(){var G;G=this;this.Cja(d.$a.Mw,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.mc.decode(E));G.vR("itsHardwareReset",J);G.log.debug("ResetHardwareDRMDisabled: " + J);return E;}).catch(function(E){G.vR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.Cja=function(G,E){var J;J=this;return new Promise(function(M,L){var R,Y,oa;function H(ka){try{K(ka.target,"Unexpectedly got an mskeyerror event: 0x" + F.vF(ka && ka.target && ka.target.error && ka.target.error.Igc || 0,4));}catch(ha){K(ka.target,ha);}}function N(ka){K(ka.target,"Unexpectedly got an mskeyadded event");}function I(ka){var ha;try{ha=J.ola(ka.message,"PlayReadyKeyMessage","Challenge");O(ka.target);M(ha);}catch(za){K(ka.target,za);}}function K(ka,ha){J.log.error("PlayReadyChallenge error",{cdmData:E});O(ka);L(ha);}function O(ka){ka.removeEventListener("mskeymessage",I);ka.removeEventListener("mskeyadded",N);ka.removeEventListener("mskeyerror",H);oa && oa.cancel();}try{R=new Uint8Array(C.Abb(E));Y=new nb.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);Y.addEventListener("mskeymessage",I);Y.addEventListener("mskeyadded",N);Y.addEventListener("mskeyerror",H);oa=J.Ac.lk((0,g.Lb)(1E3),function(){K(Y,Error("timeout"));});}catch(ka){L(ka);}});};c.prototype.ola=function(G,E){var M,L,H;for(var J=1;J < arguments.length;++J){;}J="";L=G.length;for(M=0;M < L;M++){H=G[M];0 < H && (J+=String.fromCharCode(H));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){H=arguments[M];if(0 > J.search(H))return;H="(?:[^:].*:|)" + H;L="[\\s\\S]*<" + H + "[^>]*>" + L + "</" + H + ">[\\s\\S]*";}if(J=J.match(new RegExp(L)))return J[1];};c.prototype.$oa=function(G){var E;E=this;return this.FF().then(function(J){return [q.yd.kz,q.yd.Jz,q.yd.Bi].some(function(M){return M.test(G);}) && !q.yd.rFa.test(G) && E.config().M4a && ![d.$a.rD,d.$a.zJa].some(function(M){return M === J;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{wLb:{configurable:!0,enumerable:!0,get:function(){return this.config().FWa && (!this.config().O4a || this.Qbb());}},iX:{configurable:!0,enumerable:!0,get:function(){try{return this.HE(d.$a.sd + "|" + k.dd.Lqa);}catch(G){return !1;}}},Q2b:{configurable:!0,enumerable:!0,get:function(){try{return this.HE(d.$a.rD);}catch(G){return !1;}}}});b.rGa=c;},78866:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Ul=u;this.gM=t;this.MRa={};this.ieb={};this.Xga={};this.log=this.Ul.Wa("MediaCapabilityDetector");this.MRa=this.Jyb();this.ieb=this.Qzb();}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;r=a(5163);l=a(22674);f=a(75568);h=a(87386);d=a(63368);g=a(21103);m=a(1079);k=a(82100);n=a(22365);c.prototype.OS=function(p){var q;q=this;return this.gM.$A().then(function(u){return q.IEb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.fNb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Ooa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.IEb=function(p,q){var u,t,w;try{u={type:"media-source"};t=this.MRa[p];w=this.ieb[p];if(t)u.audio=t;else if(w){u.video=w;if(this.fNb(w) && !this.Ooa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.bIb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.xvb(u),this.vvb((t || w).contentType)]).then(function(v){var y;y=la(v);v=y.next().value;y=y.next().value;return v?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(v){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",v),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.xvb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.FNb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.vvb=function(p){var q;q=this;if(!this.config().VCb)return Promise.resolve(!0);this.Xga[p] || (this.Xga[p]=new Promise(function(u){var t;try{t=new n.zz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}}));return this.Xga[p];};c.prototype.bIb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,k.Y4)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.Jyb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.xd.$C]=q;p[f.xd.LZ]=q;p[f.xd.aD]=q;p[f.xd.Sw]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.xd.UO]=q;p[f.xd.KY]=q;p[f.xd.VO]=q;return p;};c.prototype.Qzb=function(){var p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});v=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);D=Object.assign(Object.assign({},p),w);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),v);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),w),z);J=Object.assign(Object.assign(Object.assign({},p),v),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);L=Object.assign(Object.assign(Object.assign({},q),v),A);H=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),v);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.YC]=t,A[f.H.ZC]=t,A[f.H.rZ]=t,A[f.H.tDa]=t,A[f.H.uDa]=t,A[f.H.vDa]=t,A[f.H.rDa]=u,A[f.H.lZ]=u,A[f.H.nZ]=u,A[f.H.pZ]=u,A[f.H.sDa]=u,A[f.H.mZ]=u,A[f.H.oZ]=u,A[f.H.qZ]=u,A[f.H.Bea]=B,A[f.H.o0]=B,A[f.H.p0]=B,A[f.H.eQ]=B,A[f.H.Vba]=D,A[f.H.Wba]=D,A[f.H.Xba]=D,A[f.H.Yba]=C,A[f.H.OZ]=D,A[f.H.RZ]=D,A[f.H.UZ]=D,A[f.H.XZ]=C,A[f.H.eP]=F,A[f.H.fP]=G,A[f.H.PZ]=D,A[f.H.SZ]=D,A[f.H.VZ]=D,A[f.H.YZ]=C,A[f.H.$Z]=F,A[f.H.b_]=G,A[f.H.NZ]=D,A[f.H.QZ]=D,A[f.H.TZ]=D,A[f.H.WZ]=C,A[f.H.ZZ]=F,A[f.H.a_]=G,A[f.H.vZ]=E,A[f.H.yZ]=E,A[f.H.dP]=E,A[f.H.DZ]=J,A[f.H.GZ]=M,A[f.H.JZ]=p,A[f.H.wZ]=E,A[f.H.zZ]=E,A[f.H.BZ]=E,A[f.H.EZ]=J,A[f.H.HZ]=M,A[f.H.KZ]=p,A[f.H.uZ]=E,A[f.H.xZ]=E,A[f.H.AZ]=E,A[f.H.CZ]=J,A[f.H.FZ]=M,A[f.H.IZ]=p,A[f.H.MY]=z,A[f.H.OY]=z,A[f.H.WO]=z,A[f.H.RY]=L,A[f.H.TY]=H,A[f.H.VY]=q,A[f.H.sba]=z,A[f.H.tba]=L,A[f.H.uba]=H,A[f.H.vba]=q,A[f.H.NY]=z,A[f.H.PY]=z,A[f.H.QY]=z,A[f.H.SY]=L,A[f.H.UY]=H,A[f.H.WY]=q,A[f.H.mya]=w,A[f.H.nya]=w,A[f.H.iz]=w,A[f.H.jz]=w,A[f.H.lI]=w,A[f.H.mI]=v,A[f.H.pY]=y,A[f.H.qY]=x,A);};c.prototype.FNb=function(p,q){return p.video && this.config().MVb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.sI)),r.__param(1,(0,l.l)(d.LI)),r.__param(2,(0,l.l)(h.Za)),r.__param(3,(0,l.l)(g.Fw))],a);b.GGa=a;},43551:function(r,b,a){var l,f;function c(h){this.navigator=h;this.D4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(5163);l=a(22674);a=a(63368);c.prototype.tla=function(h){return this.D4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:h.contentType,width:h.width,height:h.height,bitrate:h.bitrate,framerate:h.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.LI))],f);b.IGa=f;},6600:function(r,b,a){var l,f,h,d;function c(g,m){this.mediaCapabilities=g;this.log=m.Wa("MediaCapabilities");this.aW=d.$Y.Bq();}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;r=a(5163);l=a(12931);f=a(87386);h=a(22674);d=a(48617);c.prototype.tla=function(g){var m,k,n,p;m=this;n={Kf:void 0};if(this.mediaCapabilities.D4a){p={contentType:'video/mp4;codecs="' + (null !== (k=this.aW[g.Fd]) && void 0 !== k?k:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.tla(p).then(function(q){return n.Kf=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(l.LGa)),r.__param(1,(0,h.l)(f.Za))],a);b.JGa=a;},92049:function(r,b,a){var l,f,h,d,g;function c(m,k,n,p,q){m=d.ZY.call(this,m,k,q) || this;m.is=n;m.platform=p;m.type=l.Yt.Gw;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;l=a(56800);f=a(75568);h=a(17612);d=a(31741);g=a(40290);ea(c,d.ZY);c.prototype.hX=function(){return Promise.resolve(this.config().GK && this.As(h.$a.Mw,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Bq=function(){var m,k;m={};m=(m[f.xd.$C]="mp4a.40.2",m[f.xd.aD]="mp4a.40.2",m);if("browser" === this.platform.lka){k={};return Object.assign(Object.assign({},m),(k[f.xd.UO]=this.config().GK?{ud:"avc1",keySystem:h.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[f.xd.VO]=this.config().GK?{ud:"avc1",keySystem:h.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[f.xd.LZ]=void 0,k[f.xd.Sw]=void 0,k[f.xd.KY]=void 0,k));}k={};return Object.assign(Object.assign({},m),(k[f.xd.UO]=this.config().CWa?"ec-3":void 0,k[f.xd.KY]=this.config().BWa?"ec-3":void 0,k[f.xd.VO]=this.config().GK?{ud:"avc1",keySystem:h.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[f.xd.LZ]=void 0,k[f.xd.Sw]=void 0,k));};c.prototype.ula=function(m){var k,n,p;m=this.aW[m];k=[];n=h.$a.Mw;if(m){if(this.is.Xo(m))p=m;else (k=m.features,p=m.ud,n=m.keySystem);return this.As(n,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.As=function(m,k,n){m=g.xz.h3(m,k,n);return this.HE(m);};b.iHa=c;},40290:function(r,b,a){var l,f,h;function c(){this.type=l.Yt.Gw;}Object.defineProperty(b,"__esModule",{value:!0});b.xz=void 0;l=a(56800);r=a(57180);f=a(17612);h=new r.wD();c.lzb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?nb.MSMediaKeys.isTypeSupported(f.$a.Mw,d):"probably" === c.Ewa(g[0],g[1]);}catch(m){return !1;}}};};c.h3=function(d,g,m){g=h.format(c.N$,g);if(0 === m.length)return g;m=h.format('features="{0}"',m.join());return h.format("{0}|{1}{2}",d,g,m);};c.Ewa=function(d,g){var m;try{m=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(k){m="exception";}return m;};b.xz=c;c.N$='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,l){var f;f=this;this.status={};c.forEach(function(h,d){f.status[h]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.J_=void 0;a.prototype.rL=function(){return this.status;};a.prototype.j5=function(){return Object.entries(this.status).filter(function(c){c=la(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=la(c);l=c.next().value;c.next();return l;});};b.J_=a;},57718:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u){this.Mm=p;this.tb=q;this.Cbb=u;this.kqb="video/mp4;codecs={0}";this.Pmb="audio/mp4;codecs={0}";p=this.Mm.hT(f.Se.au);this.jqb=d.dd.UUa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;r=a(5163);f=a(56800);h=a(22674);d=a(73796);g=a(42207);m=a(88490);k=a(29670);n=a(33096);c.prototype.l3=function(p){p=this.Mm.PHb(p);p=this.tb.XE(p)?p:f.Se.VP;return this.Cbb.format(this.kqb,this.jqb[p]);};c.prototype.f3=function(p){if(0 === p.length)return this.Cbb.format(this.Pmb,d.dd.qaa);p=k.Gza[p[0].Fd] || l.kya;return p === l.kya?n.nGa:p === l.pfb?n.oGa:n.mGa;};a=l=c;a.kya="AAC";a.pfb="XHEAAC";a=l=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(f.uw)),r.__param(1,(0,h.l)(g.Wf)),r.__param(2,(0,h.l)(m.rea))],a);b.ULa=a;},82656:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;r=a(22674);c=a(33554);l=a(58393);f=a(48723);h=a(68703);d=a(99662);b.Fk=new r.ed(function(g){g(c.vw).Wd(function(){return function(){return nb._cad_global.device;};});g(h.QBa).to(d.PBa).da();g(l.NBa).to(f.MBa).da();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NBa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QBa="DeviceProviderSymbol";},48723:function(r,b,a){var l,f,h,d,g,m;function c(k,n){this.qa=k;this.Hta=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;r=a(5163);l=a(30869);f=a(5021);h=a(10306);d=a(74267);g=a(66523);a=a(22674);c.prototype.hGb=function(){for(var k="",n=this.qa.ee.ba(f.na),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Hta.A8a(new d.Yda(0,31,g.a6a))];}return k;};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.fg)),r.__param(1,(0,a.l)(h.S_))],m);b.MBa=m;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;b.OBa=function(a,c,l,f){this.bk=a;this.Mn=c;this.Z3=f;};},99662:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t,w){this.xBb=p;this.al=q;this.tb=t;this.JUb=w;this.wCa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Wa("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;r=a(5163);l=a(36129);f=a(42207);h=a(66085);d=a(87386);g=a(58393);m=a(22674);k=a(17892);a=a(70285);c.prototype.mXa=function(p){try{return p.match(this.wCa)[2];}catch(q){}};c.prototype.kEb=function(p){try{return p.match(this.wCa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.al.create().then(function(w){var y,x,z,A,B,D;function v(C){q.tb.zm(C) && q.tb.zm(y)?(x=new h.OBa(C,y,void 0,z,p.sS || "cadmium"),u(x)):t({ya:l.R.tBa});}y=p.Mn;if(p.sma){z="bind_device";q.JUb.Cf(q.log,{}).then(function(C){v(C.esn);}).catch(function(C){t(C);});}else if(p.aL){B=p.bk;if(q.tb.zm(B)){D=q.kEb(B);D != p.Mn && q.log.error("esn prefix from ui is different",{ui:D,cad:p.Mn,ua:p.userAgent});}else p.Mpa && q.log.error("esn from ui is missing");!p.pO && q.tb.zm(B)?(z="config",v(B)):w.load(p.NVa).then(function(C){A=C.value;q.tb.zm(A) && (!1,q.tb.zm(B)?(C=q.mXa(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",v(y + A));}).catch(function(C){var E;function F(){w.save(p.NVa,E,!1).then(function(){v(y + E);}).catch(function(J){t(J);});}function G(){E=q.xBb.hGb();!1;F();}if(C.ya === l.R.Ow){if(q.tb.zm(p.bk)){E=q.mXa(p.bk);q.tb.zm(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.bk),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(C);});}else v();}).catch(function(w){t(w);});});};n=c;n=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(g.NBa)),r.__param(1,(0,m.l)(k.nw)),r.__param(2,(0,m.l)(d.Za)),r.__param(3,(0,m.l)(f.Wf)),r.__param(4,(0,m.l)(a.BIa))],n);b.PBa=n;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fba="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HY="CannedChallengeProvider";},49594:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D;Object.defineProperty(b,"__esModule",{value:!0});b.DK=b.tWa=void 0;r=a(22674);c=a(47737);l=a(58120);f=a(31050);h=a(93673);d=a(44235);g=a(97485);m=a(21103);k=a(92395);n=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);w=a(41980);v=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);D=a(61738);b.tWa=new r.ed(function(C){C(l.$Ba).to(f.ZBa).da();C(h.fba).to(d.IAa).da();C(c.cZ).BX(g.o8a);C(z.oFa).to(A.nFa).da();C(B.nca).to(D.pFa).da();C(m.Fw).EC(function(F){b.DK.parent=F.hb;return b.DK.get(m.Fw);});C(k.CP).Wd(function(){return function(){return new n.UGa();};});C(p.HY).to(q.KAa).da();C(u.Jba).to(t.DCa).da();C(w.Cba).to(v.eCa).da();C(y.RGa).to(x.QGa).da();});b.DK=new r.JY({vH:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ba="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Moa=b.bu=void 0;(function(a){a.Mdb="usable";a.Gq="expired";a.released="released";a.B6a="output-restricted";a.cUb="output-downscaled";a.X1b="status-pending";a.BMb="internal-error";})(b.bu || (b.bu={}));b.Moa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.jWa=b.Kr=void 0;(function(c){c[c.f3a=0]="licenseStarted";c[c.R8a=1]="receivedLicenseChallenge";c[c.Q8a=2]="receivedLicense";c[c.S8a=3]="receivedRenewalChallengeComplete";c[c.T8a=4]="receivedRenewalLicenseComplete";c[c.U8a=5]="receivedRenewalLicenseFailed";c[c.GXb=6]="receivedIndivChallengeComplete";c[c.HXb=7]="receivedIndivLicenseComplete";c[c.GQa=8]="addLicenseComplete";c[c.MQa=9]="addRenewalLicenseComplete";c[c.NQa=10]="addRenewalLicenseFailed";})(a=b.Kr || (b.Kr={}));b.jWa=function(c){switch(c){case a.f3a:return "lg";case a.R8a:return "lc";case a.Q8a:return "lr";case a.S8a:return "renew_lc";case a.T8a:return "renew_lr";case a.U8a:return "renew_lr_failed";case a.GXb:return "ilc";case a.HXb:return "ilr";case a.GQa:return "ld";case a.MQa:return "renew_ld";case a.NQa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dCa="DrmServicesSymbol";b.cZ="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cba="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nhb=b.wk=void 0;r=b.wk || (b.wk={});r[r.By=0]="playready";r[r.cY=1]="widevine";r[r.XA=2]="fairplay";r[r.kcc=3]="clearkey";b.Nhb="DrmTypeSymbol";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yD=void 0;r=b.yD || (b.yD={});r[r.Request=0]="Request";r[r.VKa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oFa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nca="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RGa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fw="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CP="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.uWa=void 0;r=a(22674);c=a(47737);l=a(80075);f=a(21103);h=a(9717);d=a(10060);g=a(74946);b.uWa=new r.ed(function(m){m(c.dCa).to(l.cCa).da();m(f.Fw).to(h.TGa).da();m(d.GCa).to(g.FCa);});},44235:function(r,b,a){var h,d,g,m,k,n,p,q;function c(u,t,w){var v;v=this;this.is=u;this.al=t;this.config=w;this.Ot=function(){return {version:v.version,drmData:v.M3.map(function(y){return y.Ot();})};};this.ama=function(y){var x;v.is.zm(y) && (y=l(y));1 === y.version && (y=f(v.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.bZ(z);});}catch(z){throw new k.Mc(g.U.CI,g.R.oz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !v.is.Yj(y.version))throw new k.Mc(g.U.CI,g.R.oz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new k.Mc(g.U.CI,g.R.nAa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.mk=new n.hca(2,this.config.zS,this.is.zm(this.config.zS),this.al,this.Ot);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new k.Mc(g.U.CI,g.R.oz);return {version:1,drmData:[u]};}function f(u,t){if(u.nA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.bZ({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Ot();})};throw new k.Mc(g.U.CI,g.R.oz);}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;r=a(5163);h=a(22674);d=a(23563);g=a(36129);m=a(42207);k=a(31149);n=a(52657);p=a(17892);q=a(31050);c.prototype.G8a=function(){return this.T1b();};c.prototype.BQa=function(u){return this.mk.add(u);};c.prototype.lW=function(u){return this.mk.remove(u,function(t,w){return t.ma === w.ma;});};c.prototype.toString=function(){return JSON.stringify(this.Ot(),null,"  ");};c.prototype.T1b=function(){var u;u=this;this.K8a || (this.K8a=new Promise(function(t,w){u.mk.load(u.ama).then(function(){t();}).catch(function(v){v.ya && v.cc?w(new k.Mc(g.U.CI,v.ya,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.K8a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.mk.version;}},M3:{configurable:!0,enumerable:!0,get:function(){return this.mk.Fl;}}});a=c;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.Wf)),r.__param(1,(0,h.l)(p.nw)),r.__param(2,(0,h.l)(d.cq))],a);b.IAa=a;},77228:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t,w){this.hF=p;this.mc=q;this.hM=t;this.ho=w;this.log=u.Wa("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;r=a(5163);l=a(22674);f=a(47737);h=a(2248);d=a(87386);g=a(92395);m=a(21103);k=a(53921);n=a(84218);c.prototype.jna=function(p){var q;q=this;return Promise.all([this.hF(),this.Dma()]).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;return u.iGb({type:p,initData:t,b6:!1},q.hM());}).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;t=q.mc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {Ry:u,Cia:t};});};c.prototype.Dma=function(){var p;p=this;return this.ho.$A().then(function(q){return q.Qs();}).then(function(q){switch(q){case k.wk.XA:return n.bDa;case k.wk.By:return n.yJa;default:return n.DNa;}}).then(function(q){return q.map(p.mc.decode);});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.cZ)),r.__param(1,(0,l.l)(h.ih)),r.__param(2,(0,l.l)(d.Za)),r.__param(3,(0,l.l)(g.CP)),r.__param(4,(0,l.l)(m.Fw))],a);b.KAa=a;},31050:function(r,b,a){var f;function c(){}function l(h){h?(this.active=!1,this.ama(h)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=b.bZ=void 0;r=a(5163);a=a(22674);l.prototype.ama=function(h){this.he=h.keySessionData?h.keySessionData.map(function(d){return {id:d.id,oG:d.licenseContextId,zU:d.licenseId};}):[];this.ma=h.xid;this.O=h.movieId;};l.prototype.Ot=function(){return JSON.parse(JSON.stringify({keySessionData:this.he?this.he.map(function(h){return {id:h.id,licenseContextId:h.oG,licenseId:h.zU};}):[],xid:this.ma,movieId:this.O}));};b.bZ=l;c.prototype.create=function(){return new l();};c.prototype.load=function(h){return new l(h);};f=c;f=r.__decorate([(0,a.T)()],f);b.ZBa=f;},80075:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w;function c(v,y,x,z,A,B,D,C,F){var G;G=this;this.Ac=y;this.Fy=x;this.config=z;this.Os=A;this.sCb=B;this.cK=D;this.hM=C;this.Wl=F;this.u2b=function(E,J){var M;G.Wl.mark(w.Oa.kZ,E.ti.ma,"generate-challenge");M=!1;J.f0b(function(L){M || (M=!0,G.Wl.mark(w.Oa.jZ,E.ti.ma,"generate-challenge"));G.HF(E,J,L).then(function(H){J.FQa(H);G.uub(J);}).catch(function(H){return J.arb(H);});});};this.log=v.Wa("DrmServices");this.Os().Fr && this.cK.G8a().then(function(){G.rYb();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.k1a && this.BA(C(),m.Dh.qm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(53085);d=a(69493);g=a(77134);m=a(24735);k=a(23563);n=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);w=a(63156);c.prototype.iGb=function(v,y){return this.BA(y,v.type,v.context).then(function(x){return x.lGb(v.initData,v.b6).then(function(z){return [x,{Om:x.Qs(),data:z.rj}];});});};c.prototype.Xg=function(v,y){var x;x=this;this.log.info("Requesting challenges",this.IZa(v,v.type));return this.BA(y,v.type,v.context).then(function(z){x.i5a(v,z);return z.mGb(v.initData,v.b6).then(function(){return z;});});};c.prototype.i5a=function(v,y){y.k0b(v.ti);this.u2b(v,y);};c.prototype.release=function(v,y){var x;x=this;this.log.info("Releasing server license",this.A_a(v));return this.nJb(v).then(function(){var z;z=Object.assign({active:!1,he:[]},v.ti);x.cK.lW(z);y.DYb();return v;});};c.prototype.IZa=function(v,y){return {movieId:v.ti.O,xid:v.ti.ma,type:(0,m.Bpa)(y)};};c.prototype.A_a=function(v){return {movieId:v.ti?v.ti.O:void 0,xid:v.ti?v.ti.ma:void 0,keySessionId:v.Sx()};};c.prototype.HF=function(v,y,x){this.log.info("Sending license request",this.IZa(v,x.qf));return this.Fy.Xg({ma:v.ti.ma,ke:v.ti.ke,L3:[v.ti.Gk],rj:[{sessionId:y.Sx() || "session",data:x.rj}],qf:x.qf,Om:y.Qs(),USa:x.USa,ki:v.ti.ki,dg:v.ti.dg});};c.prototype.nJb=function(v){this.log.info("Sending release request",this.A_a(v));return this.Fy.release({ma:v.ti.ma,he:v.he});};c.prototype.BA=function(v,y,x){return this.sCb.create().then(function(z){return z.createSession(v,y,x).then(function(){return z;});});};c.prototype.qYb=function(v){var y;y=this;return this.Fy.release({ma:v.ma,he:v.he}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.rYb=function(){var v;v=this;this.Ac.lk(this.config.Esa,function(){v.log.trace("Removing cached sessions",{"count:":v.cK.M3.length});v.cK.M3.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return v.qYb(x);}).then(function(){return v.cK.lW(x);});},Promise.resolve(void 0));});};c.prototype.uub=function(v){var y;if(v.Sx() && v.ti){y=new p.bZ();y.he=v.he;y.ma=v.ti.ma;y.O=v.ti.O;this.cK.BQa(y);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.Di)),r.__param(2,(0,l.l)(d.bCa)),r.__param(3,(0,l.l)(k.cq)),r.__param(4,(0,l.l)(u.ac)),r.__param(5,(0,l.l)(q.GCa)),r.__param(6,(0,l.l)(n.fba)),r.__param(7,(0,l.l)(t.CP)),r.__param(8,(0,l.l)(g.HP))],a);b.cCa=a;},97485:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.o8a=void 0;c=a(36129);l=a(70999);f=a(47737);h=a(49594);b.o8a=function(g){h.DK.parent=g.hb;return function(){d || (d=new Promise(function(m,k){try{m(h.DK.get(f.dCa));}catch(n){k(new l.Og(c.U.Oib,c.R.Yib,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},90581:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){this.hh=t;this.Li=w;this.mc=v;this.config=y;this.di=x;this.Yg=z;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;r=a(5163);l=a(22674);f=a(6405);h=a(2248);d=a(84408);g=a(4203);m=a(7605);k=a(53921);n=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case k.wk.By:return new q.CCa(this.Li,this.mc);case k.wk.XA:return new u.vLa(this.Li,this.mc,this.hh,this.Yg);default:return new p.SAa(this.Li,this.mc,this.di,this.config);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.kq)),r.__param(1,(0,l.l)(f.pw)),r.__param(2,(0,l.l)(h.ih)),r.__param(3,(0,l.l)(g.ac)),r.__param(4,(0,l.l)(n.cq)),r.__param(5,(0,l.l)(m.Lw))],a);b.eCa=a;},17250:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){this.Yd=t;this.hh=w;this.mc=v;this.is=y;this.gV=x;this.di=z;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(5163);l=a(22674);f=a(2248);h=a(42207);d=a(63368);g=a(84408);m=a(74870);k=a(53921);n=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case k.wk.By:return new q.wKa(this.gV,this.is,this.mc,this.Yd,this.di,this.hh);case k.wk.XA:return new p.aDa(this.gV,this.is,this.mc,this.Yd,this.di,this.hh);default:return new u.lu(this.gV,this.is,this.mc,this.Yd,this.di,this.hh);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.mh)),r.__param(1,(0,l.l)(g.kq)),r.__param(2,(0,l.l)(f.ih)),r.__param(3,(0,l.l)(h.Wf)),r.__param(4,(0,l.l)(d.LI)),r.__param(5,(0,l.l)(n.cq))],a);b.DCa=a;},18135:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){k=f.Re.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.nd=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(5021);g=a(12501);a=a(22816);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{i7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},k1a:{configurable:!0,enumerable:!0,get:function(){return this.nd.K1a || this.nd.f6 || this.nd.oU?!0:!1;}},GB:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(5);}},Esa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(10);}},zS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},YS:{configurable:!0,enumerable:!0,get:function(){return !1;}},oka:{configurable:!0,enumerable:!0,get:function(){return !1;}},gr:{configurable:!0,enumerable:!0,get:function(){return !0;}},iRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},jRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},lRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},Z1:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},mRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zh)(30);}},tva:{configurable:!0,enumerable:!0,get:function(){return "";}},C6a:{configurable:!0,enumerable:!0,get:function(){return this.nd.fy?!1:!0;}},D6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([g.config(g.bd,"persistentStateRequired")],m.prototype,"i7a",null);r.__decorate([g.config(g.bd,"initializeKeySystemAtStartup")],m.prototype,"k1a",null);r.__decorate([g.config(g.hk,"licenseRenewalRequestDelay")],m.prototype,"GB",null);r.__decorate([g.config(g.hk,"persistedReleaseDelay")],m.prototype,"Esa",null);r.__decorate([g.config(g.string,"drmPersistKey")],m.prototype,"zS",null);r.__decorate([g.config(g.bd,"forceLimitedDurationLicense")],m.prototype,"YS",null);r.__decorate([g.config(g.bd,"disableLicenseRenewal")],m.prototype,"oka",null);r.__decorate([g.config(g.bd,"prepareCadmium")],m.prototype,"gr",null);r.__decorate([g.config(g.hk,"apiCloseTimeout")],m.prototype,"iRa",null);r.__decorate([g.config(g.hk,"apiCreateMediaKeysTimeout")],m.prototype,"jRa",null);r.__decorate([g.config(g.hk,"apiSetServerCertificateTimeout")],m.prototype,"lRa",null);r.__decorate([g.config(g.hk,"apiGenerateRequestTimeout")],m.prototype,"Z1",null);r.__decorate([g.config(g.hk,"apiUpdateTimeout")],m.prototype,"mRa",null);r.__decorate([g.config(g.string,"serverCertificate")],m.prototype,"tva",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatal")],m.prototype,"C6a",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatalForUhd")],m.prototype,"D6a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul)),r.__param(1,(0,l.l)(a.TC)),r.__param(2,(0,l.l)(h.IY)),r.__param(2,(0,l.optional)())],m);b.ECa=m;},70999:function(r,b,a){var l,f;function c(h,d,g,m,k){h=void 0 === h?l.U.Go:h;return f.Mc.call(this,h,d,g,void 0,void 0,m,f.Mc.we(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Og=void 0;l=a(36129);f=a(31149);ea(c,f.Mc);b.Og=c;},74946:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t,w,v){this.Ul=p;this.Ea=q;this.mc=u;this.config=t;this.oo=w;this.ho=v;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(81918);d=a(2248);g=a(23563);m=a(59818);k=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.ho.$A().then(function(q){return new k.HCa(p.Ul,p.Ea,p.mc,p.config,p.oo,q);});};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.Jc)),r.__param(2,(0,l.l)(d.ih)),r.__param(3,(0,l.l)(g.cq)),r.__param(4,(0,l.l)(m.Ez)),r.__param(5,(0,l.l)(a.Fw))],n);b.FCa=n;},97737:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v;function c(y,x,z,A,B,D){var C;C=this;this.Ea=x;this.rA=z;this.config=A;this.oo=B;this.SB=D;this.keyStatuses=new p.Hb({});this.Lra=function(F){var G,E,J,M,L,H;try{E=C.jl.xja(F);J=E.wG;M=E.messageType;L=E.sessionId;C.tv=C.tv || E.tv;C.OW(L);C.log.trace("Received " + F.type + " event",{sessionId:L,messageType:M,keyIds:C.tv});if(M === b.Hca){if(C.config.oka){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.qf=h.Dh.qm;C.lo=t.dH;}C.lo === t.Xg && C.Yo(d.Kr.R8a);C.lo === t.dH && C.Yo(d.Kr.S8a);H={rj:J,USa:M,qf:C.qf};null === (G=C.k6a) || void 0 === G?void 0:G.call(C,H);C.Mna(J)?C.CB(new n.Mc(f.U.sCa)):C.ck && !C.ck.Aeb && C.q2a(H);}catch(N){C.CB(N);}};this.Jra=function(F){var G,E,J,M,L,I,K,O,R,Y,oa,ka,Ca,La,Wa,db,U;E=F.target;J=E.keyStatuses;C.OW(E.sessionId);C.log.trace("Received event: " + F.type);try{L=null === (G=C.context) || void 0 === G?void 0:G.u6;F=[];for(var H=la(J),N=H.next();!N.done;N=H.next()){I=la(N.value);K=I.next().value;O=I.next().value;R=C.rA.encode(new Uint8Array(K));F.push({Zn:R,status:O,height:null === L || void 0 === L?void 0:L[R]});}F.sort(function(ja,sa){return (ja.height || 0) - (sa.height || 0);});Y=F.map(function(ja){return ja.Zn;});oa=F.map(function(ja){return ja.height;});ka=F.map(function(ja){return ja.status;});C.npa=Y + ", " + oa + ", " + ka;C.log.trace("KeyStatus: " + C.npa);L={};for(var ha=la(J),za=ha.next();!za.done;za=ha.next()){Ca=la(za.value);La=Ca.next().value;Wa=Ca.next().value;db=C.rA.encode(new Uint8Array(La));U=w[Wa];L[db]=U.status;C.bG(db,U.error) && (M=new m.Og(U.error));}C.keyStatuses.set(L);}catch(ja){M=new m.Og(f.U.Ykb);M.rS(ja);}M?C.Tq?C.n6(M):C.qU(M):(C.jl.V2() || C.r2a(),C.qf !== h.Dh.rn || C.jl.Iha() || (C.config.oka?C.log.trace("Disabling license renewal"):C.IYb()));};this.$m=function(F){var G;G=C.jl.Ex(F);C.log.error("Received event: " + F.type,G);C.CB(G);C.n6(G);C.ck || C.Tq || C.qU(G);};this.fTb=function(F){C.log.error("MediaKeySession closed unexpectedly: " + F);C.qU(new n.Mc(f.U.Gba,v[F]));};this.CB=function(F){C.close().then(function(){var G;C.log.trace("Issuing a generate challenge error");null === (G=C.ck) || void 0 === G?void 0:G.UN.reject(F);C.ck=void 0;},function(G){var E;C.log.error("EmeSession closed with an error.",C.jl.Ex(G));null === (E=C.ck) || void 0 === E?void 0:E.UN.reject(F);C.ck=void 0;});};this.q2a=function(F){var G;null === (G=C.ck) || void 0 === G?void 0:G.UN.resolve(F);C.ck=void 0;};this.n6=function(F){C.log.error("Failed to add license",F);C.close().then(function(){var G,E;C.log.trace("Issuing a license error");null === (G=C.ck) || void 0 === G?void 0:G.UN.reject(F);C.ck=void 0;null === (E=C.Tq) || void 0 === E?void 0:E.reject(F);C.Tq=void 0;},function(G){var E,J;C.log.error("EmeSession closed with an error.",C.jl.Ex(G));C.lo === t.dH && C.Yo(d.Kr.NQa);null === (E=C.ck) || void 0 === E?void 0:E.UN.reject(F);C.ck=void 0;null === (J=C.Tq) || void 0 === J?void 0:J.reject(F);C.Tq=void 0;});};this.r2a=function(){C.Tq && (C.log.info("Successfully added license"),C.lo === t.Xg?C.Yo(d.Kr.GQa):C.lo === t.dH && C.Yo(d.Kr.MQa),C.Tq.resolve(),C.Tq=void 0);};this.qU=function(F){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.ck=void 0;C.Tq=void 0;null === (G=C.h6a) || void 0 === G?void 0:G.call(C,F);},function(G){var E;C.log.error("EmeSession closed with an error.",C.jl.Ex(G));C.ck=void 0;C.Tq=void 0;null === (E=C.h6a) || void 0 === E?void 0:E.call(C,F);});};this.Yo=function(F){C.Vc.push({time:C.Ea.Eb(),$U:F});};this.s9a=!1;this.log=y.Wa("EmeSession");this.lo=t.C4b;this.qh=D.yUa();this.jl=D.xUa();this.Vc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=b.Hca=b.Ica=void 0;l=a(5021);f=a(36129);h=a(24735);d=a(28289);r=a(28048);g=a(27995);m=a(70999);k=a(59818);n=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.C4b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Xg=3]="license";y[y.dH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Ica="license-request";b.Hca="license-renewal";w={usable:{status:r.bu.Mdb},expired:{status:r.bu.Gq,error:f.U.ida},released:{status:r.bu.released},"output-not-allowed":{status:r.bu.B6a,error:f.U.jIa},"output-restricted":{status:r.bu.B6a,error:f.U.jda},"output-downscaled":{status:r.bu.cUb},"status-pending":{status:r.bu.X1b},"internal-error":{status:r.bu.BMb,error:f.U.Xkb}};v={"internal-error":f.R.Shb,"closed-by-application":f.R.Ohb,"release-acknowledged":f.R.Whb,"hardware-context-reset":f.R.Eba,"resource-evicted":f.R.Yhb};c.prototype.jL=function(){return this.SB.w6;};c.prototype.EZa=function(){return this.npa;};c.prototype.Sx=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.k6a=this.context=void 0;this.lo=t.closed;this.Vc=[];void 0 !== this.m9 && (nb.clearTimeout(this.m9),this.m9=void 0);return this.qh.ANb()?(this.log.trace("Closing the session"),this.qh.k9a(this.Lra),this.qh.h9a(this.Jra),this.qh.f9a(this.$m),this.mediaKeys=void 0,this.oo.Op(this.config.iRa,this.qh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.jl.Ex(x).code=f.U.$kb;throw x;})):Promise.resolve(void 0);};c.prototype.Qs=function(){return this.SB.Qs();};c.prototype.e0a=function(){return void 0 !== this.Nk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.qf=x;this.lo=t.create;this.Yo(d.Kr.f3a);return (y.f0a()?Promise.resolve():this.oo.Op(this.config.jRa,this.qh.createMediaKeys(this.SB)).then(function(B){A.log.trace("Created media keys");return A.isb(B).then(function(){return y.HQa(B);}).catch(function(D){return Promise.reject(A.qta(D,f.U.Zhb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.qh.createSession(A.mediaKeys,u.TEMPORARY);A.qh.IQa(A.Lra);A.qh.EQa(A.Jra);A.qh.CQa(A.$m);A.qh.Rqb(A.fTb);A.OW(A.qh.Sx());}catch(B){return Promise.reject(A.qta(B,f.U.Phb));}}).catch(function(B){return Promise.reject(A.qta(B,f.U.ZO));});};c.prototype.k0b=function(y){this.ti=y;this.log.zQa("xid",y.ma);};c.prototype.lGb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.mGb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.FQa=function(y){this.he=y.he;y=y.Nk.map(function(x){return x.data;});this.Mna(y)?(this.log.error("The license buffer is empty"),this.CB(new m.Og(f.U.rCa,f.R.pCa))):(this.lo === t.Xg && (this.Yo(d.Kr.Q8a),this.Nk=y,this.iWa=this.jl.hL(this.tv,y),this.ck && this.ck.Aeb && this.q2a()),this.lo === t.dH && (this.Yo(d.Kr.T8a),this.Nk=y,this.iWa=this.jl.hL(this.tv,y),this.rha()));};c.prototype.arb=function(y){this.lo === t.dH?(this.Yo(d.Kr.U8a),this.qU(y)):this.CB(y);};c.prototype.rha=function(){var y,x;y=this;if(!this.Nk){x=new m.Og(f.U.rCa,f.R.uCa);this.n6(x);return Promise.reject(x);}this.Tq=new q.K_();x=this.Nk;this.Nk=void 0;this.oo.Op(this.config.mRa,this.qh.update(x,this.lo === t.Xg?g.yD.Request:g.yD.VKa,this.tv)).then(function(){y.jl.V2() && y.r2a();}).catch(function(z){z=y.jl.Ex(z);z.code=f.U.D_;z.message="Unable to update the EME";y.log.error(z.message,z);y.n6(z);});return this.Tq.promise;};c.prototype.f0b=function(y){this.k6a=y;};c.prototype.Z_b=function(y){this.h6a=y;};c.prototype.hL=function(){return this.iWa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.lo=t.Xg;this.log.trace("Generating a license challenge");if(!y)return (y=new m.Og(f.U.qCa,f.R.uCa),this.CB(y),Promise.reject(y));if(this.Mna(y))return (y=new m.Og(f.U.qCa,f.R.pCa),this.CB(y),Promise.reject(y));this.ck={UN:new q.K_(),Aeb:z};this.oo.Op(this.config.Z1,this.qh.generateRequest(this.jl.Ema(),y,x)).then(function(){A.OW(A.qh.Sx());}).catch(function(B){var D,C;D=new m.Og(f.U.eZ,B instanceof k.iq?f.R.$O:f.R.ml);try{C=A.jl.Ex(B);D.Tc=C.Tc;D.message="Unable to generate request.";D.rS(B);}catch(F){}A.log.error("Unable to generate a license request",D);A.CB(D);});return this.ck.UN.promise;};c.prototype.isb=function(y){return this.oo.Op(this.config.lRa,this.qh.setServerCertificate(y,this.jl.J4()));};c.prototype.OW=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.zQa("sessionId",y));};c.prototype.IYb=function(){var y;y=this;this.s9a || (this.s9a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.GB}),this.m9=nb.setTimeout(function(){y.m9=void 0;y.cH();},this.config.GB.ba(l.na)));};c.prototype.HNb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.u6) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.bG=function(y,x){return x === f.U.jda?this.HNb(y)?this.config.D6a:this.config.C6a:!!x;};c.prototype.cH=function(){this.log.trace("Initiating a renewal request");this.qf=h.Dh.qm;this.lo=t.dH;this.jl.uia()?this.jl.Eoa(this.qh):this.k3();};c.prototype.k3=function(){var y;y=this;this.qh.k3(this.mediaKeys,u.TEMPORARY,this.Lra,this.Jra,this.$m).then(function(){y.log.debug("Creating session to renew license");y.OW(y.qh.Sx());}).catch(function(){y.qU(new m.Og(f.U.eZ));});};c.prototype.Mna=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.qta=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ic))return y;A=(0,u.Wma)(null === y || void 0 === y?void 0:y.message);return new m.Og(x,y instanceof k.iq?f.R.$O:f.R.ml,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.HCa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DNa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.bDa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.yJa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t){this.Ul=p;this.config=q;this.BS=u;this.DB=t;this.log=this.Ul.Wa("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(5163);l=a(22674);f=a(66523);h=a(87386);d=a(4203);g=a(17612);m=a(82100);k=a(41980);a=a(18647);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().G2a || [this.config().Tl]).map(function(t){var w;w=g.$a.lT(t);w=p.BS.create(w).gna();return (0 < w.length?w:[void 0]).map(function(v){return {keySystem:t,robustness:v};});});u=(0,f.flatten)(q).filter(function(t){return p.GEb(t);});return this.DB.get().then(function(t){return p.JEb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.GEb=function(p){var q;return g.$a.nEa.includes(p.keySystem) || m.oEa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().ZQb && 1440 > nb.screen.height * nb.devicePixelRatio?!1:this.config().FWa:!0;};c.prototype.JEb=function(p,q){var u;u=this;return p.reduce(function(t,w,v){var y;y=u.KKb(w);v=p.length - 1 === v;y=(0,m.WTa)(y);q.includes(y) && !v || t.push(w);return t;},[]);};c.prototype.KKb=function(p){var q;q={keySystem:p.keySystem === g.$a.CNa?g.$a.gQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(k.Cba)),r.__param(3,(0,l.l)(a.nca))],n);b.nFa=n;},61738:function(r,b,a){var l,f,h,d;function c(g,m,k){this.config=g;this.Ul=m;this.mia=k;this.log=this.Ul.Wa("KeySystemRestrictor");this.iPb=this.config().IWa?this.mia.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(4203);a=a(33258);c.prototype.get=function(){var g;g=this;try{return this.config().IWa?this.iPb.then(function(m){return g.QEb(m);}):Promise.resolve([]);}catch(m){return (this.log.error("KeySystemRestrictor failed.",m),Promise.resolve([]));}};c.prototype.QEb=function(g){var m,n;this.T9a={};m=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(m));g=[];m=la(Object.entries(m));for(var k=m.next();!k.done;k=m.next()){n=la(k.value);k=n.next().value;n=n.next().value;this.bLb(n) && g.push(k);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.wZb=g;};c.prototype.bLb=function(g){var m,k;m=this;k=g.reduce(function(n,p){m.config().KDb.includes(p.code) && (p=m.czb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.T9a[g[0].keySystem]=k;return Object.values(k).some(function(n){return n >= m.config().LDb;});};c.prototype.czb=function(g){return [g.code,g.ic,g.Tc].filter(Boolean).join(".");};Xa.Object.defineProperties(c.prototype,{H2a:{configurable:!0,enumerable:!0,get:function(){return this.wZb;}},I2a:{configurable:!0,enumerable:!0,get:function(){return this.T9a;}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ac)),r.__param(1,(0,l.l)(f.Za)),r.__param(2,(0,l.l)(a.hba))],d);b.pFa=d;},38231:function(r,b,a){var l,f,h,d;function c(g,m){this.BS=g;this.DS=m;}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(5163);l=a(22674);f=a(41980);h=a(34008);d=a(52428);c.prototype.create=function(g,m,k){return new d.SGa(g,this.BS,this.DS,m,k);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Cba)),r.__param(1,(0,l.l)(h.Jba))],a);b.QGa=a;},52428:function(r,b,a){var l,f;function c(h,d,g,m,k){this.keySystem=h;this.BS=d;this.DS=g;this.SB=m;this.Om=k;}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;l=a(17612);f=a(82100);c.prototype.createMediaKeys=function(){return this.SB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.SB.getConfiguration();};c.prototype.Qs=function(){return l.$a.lT(this.SB.keySystem);};c.prototype.yUa=function(){return this.DS.create(this.Om);};c.prototype.xUa=function(){return this.BS.create(this.Om);};Xa.Object.defineProperties(c.prototype,{w6:{configurable:!0,enumerable:!0,get:function(){var h,d;h=this.keySystem;d=(0,f.Y4)(this.SB);d && (h+="." + d);return h;}}});b.SGa=c;},9717:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F){this.Ul=x;this.mc=z;this.config=A;this.di=B;this.uRb=D;this.DS=C;this.bOb=F;this.log=this.Ul.Wa("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(87386);d=a(70999);g=a(53921);m=a(2248);k=a(4203);n=a(17612);p=a(82100);q=a(84218);u=a(91490);t=a(34008);w=a(22266);v=a(23563);y=a(73796);c.prototype.$A=function(){this.promise || (this.promise=this.KZb());return this.promise;};c.prototype.tzb=function(x,z){var A;A="video/mp4;codecs=" + (z === p.Mr && this.config().O4a?y.dd.sZ:y.dd.bP);A={initDataTypes:[p.Zt],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === g.wk.cY && this.di.i7a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.mzb=function(x,z){var A;A=this;return new Promise(function(B,D){var C;C=n.$a.lT(x);A.DS.create(C).UYb(x,A.tzb(C,z)).then(function(F){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:F.getConfiguration?JSON.stringify(F.getConfiguration()):void 0});F=A.uRb.create(x,F,C);A.w6=F.w6;B(F);}).catch(function(F){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:F.message});D(new d.Og(f.U.oCa,f.R.ml,void 0,"Unable to create media keys system access. " + F.message,F));});});};c.prototype.vHb=function(){var x;x=this.config().G2a || [this.config().Tl];if(1 < x.length)return (x=x.map(function(z){return n.$a.uma(n.$a.lT(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.$A().then(function(z){return z.Qs();}).then(function(z){return n.$a.uma(z);}));x=n.$a.lT(x[0]);return Promise.resolve(n.$a.uma(x));};c.prototype.Mxa=function(x){var z,A,B,D;z=this;A=x.Qs();B=x.yUa();D=x.xUa();return x.createMediaKeys().then(function(C){B.createSession(C,p.TEMPORARY);return B.setServerCertificate(C,D.J4());}).then(function(){return B.generateRequest(p.Zt,z.Dma(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(C){z.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.Dma=function(x){switch(x){case g.wk.XA:x=q.bDa;break;case g.wk.By:x=q.yJa;break;default:x=q.DNa;}return x.map(this.mc.decode);};c.prototype.KZb=function(){var x;x=this;try{return this.bOb.get().then(function(z){return z.map(function(A,B){return function(){var D,C;D=B === z.length - 1;C=x.config().Mxa && !D;return x.mzb(A.keySystem,A.robustness).then(function(F){return C?x.Mxa(F):Promise.resolve(F);});};});}).then(function(z){return x.LZb(z);});}catch(z){return Promise.reject(z);}};c.prototype.LZb=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Xa.Object.defineProperties(c.prototype,{F2a:{configurable:!0,enumerable:!0,get:function(){return this.w6;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(m.ih)),r.__param(2,(0,l.l)(k.ac)),r.__param(3,(0,l.l)(v.cq)),r.__param(4,(0,l.l)(u.RGa)),r.__param(5,(0,l.l)(t.Jba)),r.__param(6,(0,l.l)(w.oFa))],a);b.TGa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;a.prototype.f0a=function(){return void 0 !== this.mediaKeys;};a.prototype.HQa=function(c){this.mediaKeys=c;};a.prototype.DYb=function(){this.f0a() && (this.mediaKeys=void 0);};b.UGa=a;},77699:function(r,b){function a(c,l,f){var h;h=this;this.mc=c;this.Ch=l;this.hh=f;this.aIb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=h.mc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.dDa={Zt:1667591779,rgb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;a.prototype.Rwb=function(c,l){l=l?this.dDa.rgb:this.dDa.Zt;c=c.map(function(f){return {mec:"",cOb:f,Bha:f,I1b:f,a6b:[1]};});return this.KPb(l,c);};a.prototype.JPb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.dqa("fpsi",[l]);};a.prototype.IPb=function(c,l,f,h){c=[this.dqa("fkri",[c])];l.byteLength && c.push(this.JU("fkai",[l]));f.byteLength && c.push(this.JU("fkcx",[f]));h.length && c.push(this.JU("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.JU("fpsk",c);};a.prototype.KPb=function(c,l){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.JPb(c)];for(var h in l){d=l[h];c.push(this.IPb(d.cOb,d.Bha,d.I1b,d.a6b));}l=this.JU("fpsd",c);h=new Uint8Array(4);new DataView(h.buffer).setUint32(0,l.byteLength);return this.dqa("pssh",[f,h,l]);};a.prototype.dqa=function(c,l){var f,h,d;f=0;for(d in l){f+=l[d].byteLength;}f=new Uint8Array(12 + f);h=new DataView(f.buffer);d=0;h.setUint32(d,f.byteLength);d+=4;f.set(this.hh.decode(c),d);d+=4;h.setUint32(d,0);d+=4;for(var g in l){c=l[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.JU=function(c,l){var f,h;f=0;for(h in l){f+=l[h].byteLength;}f=new Uint8Array(8 + f);h=0;new DataView(f.buffer).setUint32(h,f.byteLength);h+=4;f.set(this.hh.decode(c),h);h+=4;for(var d in l){c=l[d];f.set(c,h);h+=c.byteLength;}return f;};b.$Ca=a;},81471:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){t=f.lu.call(this,t,w,v,y,x,z) || this;t.mc=v;t.Ch=y;t.di=x;t.hh=z;t.t0a=new h.$Ca(t.mc,t.Ch,t.hh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;r=a(5163);l=a(22674);f=a(90349);h=a(77699);d=a(63368);g=a(42207);m=a(2248);k=a(74870);n=a(23563);p=a(84408);q=a(27995);u=a(47450);ea(c,f.lu);c.prototype.generateRequest=function(t,w,v){var y,x,z;y=this;try{x=w.map(function(A){return y.t0a.aIb(A);});this.b1a=x.map(function(A){return y.mc.encode(A);});z=this.t0a.Rwb(x,v);return f.lu.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,v){var y,x,z,A,B;y=this;if(v)try{x=this.hh.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(D){var C;C=u.a0.Bbb(D.ID);return {keyID:w === q.yD.VKa?y.b1a[y.b1a.length - 1]:v[C],payload:D.PAYLOAD};});if(w === q.yD.Request){A=z.map(function(D){return D.keyID;});v.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);t=[this.hh.decode(B)];}catch(D){return Promise.reject(D);}return f.lu.prototype.update.call(this,t,w);};c.prototype.cH=function(){return f.lu.prototype.update.call(this,[this.hh.decode("renew")],q.yD.Request);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.LI)),r.__param(1,(0,l.l)(g.Wf)),r.__param(2,(0,l.l)(m.ih)),r.__param(3,(0,l.l)(k.mh)),r.__param(4,(0,l.l)(n.cq)),r.__param(5,(0,l.l)(p.kq))],a);b.aDa=a;},963:function(r,b,a){var l,f,h,d;function c(){return f.lu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(5163);l=a(22674);f=a(90349);h=a(70999);d=a(36129);ea(c,f.lu);c.prototype.k3=function(g,m,k,n,p){this.k9a(k);this.h9a(n);this.f9a(p);this.OOa=this.pe;this.pe=g.createSession(m);this.IQa(k);this.EQa(n);this.CQa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var m;function g(k){return k && k.sessionId?k.close():Promise.resolve();}m=this;this.$ia=void 0;return this.pe?Promise.all([g(this.pe),g(this.OOa)]).then(function(){}).finally(function(){m.pe=void 0;m.OOa=void 0;}):Promise.reject(new h.Og(d.U.nCa,d.R.wI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,m,k){this.initDataType=g;this.initData=m;return f.lu.prototype.generateRequest.call(this,g,m,k);};a=c;a=r.__decorate([(0,l.T)()],a);b.wKa=a;},90349:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){this.gV=t;this.is=w;this.mc=v;this.Ch=y;this.di=x;this.hh=z;(0,h.co)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.lu=void 0;r=a(5163);f=a(22674);h=a(66523);d=a(36129);g=a(63368);m=a(42207);k=a(70999);n=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.Sx=function(){if(this.pe)return this.pe.sessionId;};c.prototype.UYb=function(t,w){return this.gV.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.pe=t.createSession(w);};c.prototype.k3=function(){return Promise.reject(new k.Og(d.U.eZ));};c.prototype.ANb=function(){return !!this.pe;};c.prototype.setServerCertificate=function(t,w){return this.is.H1(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.pe?this.pe.generateRequest(t,w[0]):Promise.reject(new k.Og(d.U.eZ,d.R.wI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.pe?this.pe.update(t[0]):Promise.reject(new k.Og(d.U.vCa,d.R.wI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.pe?this.pe.load(t):Promise.reject(new k.Og(d.U.Vhb,d.R.wI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.$ia=void 0;if(!this.pe)return Promise.reject(new k.Og(d.U.nCa,d.R.wI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Sx() && (t=this.pe.close());this.pe=void 0;return t;};c.prototype.remove=function(){return this.pe?this.pe.remove():Promise.reject(new k.Og(d.U.Xhb,d.R.wI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.cH=function(){return Promise.reject(new k.Og(d.U.Fba,void 0,"Unable to renew a key session, not supported"));};c.prototype.IQa=function(t){if(!this.pe)throw ReferenceError("Unable to add message handler, key session is not valid");this.pe.addEventListener(l.zCa,t);};c.prototype.EQa=function(t){if(!this.pe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.pe.addEventListener(l.yCa,t);};c.prototype.CQa=function(t){if(!this.pe)throw ReferenceError("Unable to add error handler, key session is not valid");this.pe.addEventListener(l.xCa,t);};c.prototype.Rqb=function(t){var w;w=this;if(!this.pe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.$ia=t;this.pe.closed.then(function(v){var y;return null === (y=w.$ia) || void 0 === y?void 0:y.call(w,v);});};c.prototype.k9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.pe.removeEventListener(l.zCa,t);};c.prototype.h9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.pe.removeEventListener(l.yCa,t);};c.prototype.f9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.pe.removeEventListener(l.xCa,t);};u=l=c;u.zCa="message";u.yCa="keystatuseschange";u.xCa="error";u=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.LI)),r.__param(1,(0,f.l)(m.Wf)),r.__param(2,(0,f.l)(p.ih)),r.__param(3,(0,f.l)(n.mh)),r.__param(4,(0,f.l)(q.cq)),r.__param(5,(0,f.l)(a.kq))],u);b.lu=u;},65315:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v){this.Li=u;this.mc=t;this.di=w;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(6405);d=a(2248);g=a(70999);m=a(59818);k=a(23563);n=a(4203);p=a(31149);q=a(82100);c.prototype.V2=function(){return !1;};c.prototype.Iha=function(){return !0;};c.prototype.uia=function(){return !0;};c.prototype.Ema=function(){return q.Zt;};c.prototype.J4=function(){return this.di.tva?this.mc.decode(this.di.tva):this.mc.decode(q.BNa);};c.prototype.gna=function(){return [q.Mr,q.$_,q.Z_];};c.prototype.Eoa=function(){Promise.reject(new p.Mc(f.U.Fba));};c.prototype.xja=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,wG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Ex=function(u){var t,w,v;t=new g.Og(f.U.hq);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.ic=1 <= w && 9 >= w?f.R.Lr + w:f.R.Lr):t.ic=u instanceof m.iq?f.R.$O:f.R.ml;try{v=u.message.match(/\((\d*)\)/)[1];t.Tc=this.Li.vF(v,4);}catch(y){}t.rS(u);return t;};c.prototype.hL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.pw)),r.__param(1,(0,l.l)(d.ih)),r.__param(2,(0,l.l)(k.cq)),r.__param(3,(0,l.l)(n.ac))],a);b.SAa=a;},20674:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q){this.Li=p;this.mc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.CCa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(6405);d=a(2248);g=a(70999);m=a(59818);k=a(31149);n=a(82100);c.prototype.V2=function(){return !0;};c.prototype.Iha=function(){return !1;};c.prototype.uia=function(){return !1;};c.prototype.Ema=function(){return n.Zt;};c.prototype.J4=function(){};c.prototype.gna=function(){return [];};c.prototype.Eoa=function(){Promise.reject(new k.Mc(f.U.Fba));};c.prototype.xja=function(p){var q;q=new Uint8Array(p.message);q=this.ola(q,"PlayReadyKeyMessage","Challenge");q=this.mc.decode(q);return {type:p.type,sessionId:p.target.sessionId,wG:[q],messageType:p.messageType};};c.prototype.Ex=function(p){var q,u,t;q=new g.Og(f.U.hq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ic=1 <= u && 9 >= u?f.R.Lr + u:f.R.Lr):q.ic=p instanceof m.iq?f.R.$O:f.R.ml;try{t=(/\((\d+)\)/).exec(p.message);q.Tc=this.Li.vF(Number(t && t[1]),4);}catch(w){}q.rS(p);return q;};c.prototype.ola=function(p,q){var t,w,v;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(t=0;t < w;t++){v=p[t];0 < v && (u+=String.fromCharCode(v));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){v=arguments[t];if(0 > u.search(v))return "";v="(?:[^:].*:|)" + v;w="[\\s\\S]*<" + v + "[^>]*>" + w + "</" + v + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.hL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.pw)),r.__param(1,(0,l.l)(d.ih))],a);b.CCa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.a0=void 0;a.ZLb=function(c){return "ID" + (c + 1);};a.Bbb=function(c){return Number(c.substr(2)) - 1;};b.a0=a;},8265:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t;function c(w,v,y,x){this.Li=w;this.mc=v;this.hh=y;this.Yg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(6405);d=a(84408);g=a(70999);m=a(59818);k=a(2248);n=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.V2=function(){return !1;};c.prototype.Iha=function(){return !1;};c.prototype.uia=function(){return !0;};c.prototype.Ema=function(){return n.Zt;};c.prototype.J4=function(){return this.mc.decode(n.hZ);};c.prototype.gna=function(){return [];};c.prototype.Eoa=function(w){w.cH();};c.prototype.xja=function(w){var v,y;v=[];if(w.messageType === p.Ica || w.messageType === p.Hca){if(w.messageType === p.Ica){y=this.hh.encode(new Uint8Array(w.message));v=JSON.parse(y);y=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.mc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new q.Mc(f.U.sCa);v=this.H3b(v);v=this.hh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,wG:[v],messageType:w.messageType,tv:y};};c.prototype.Ex=function(w){var v,y,x,z;y=null === (v=w.target) || void 0 === v?void 0:v.error;if(y)(x=y.systemCode,z=y.code);v=new g.Og(f.U.hq,w instanceof m.iq?f.R.$O:f.R.Lr,x?this.Li.vF(x,4):z,"",y);v.rS(w);return v;};c.prototype.H3b=function(w){w=w.map(function(v,y){return {ID:t.a0.ZLb(y),PAYLOAD:v};});return {VERSION:this.Yg.$u?3:1,CHALLENGES:w};};c.prototype.hL=function(w,v){var y,x;y=this;if(v && this.Yg.$u)try{x=this.hh.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.a0.Bbb(z.ID);z=y.mc.decode(z.DHB).subarray(4,12);A=y.mc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Og(f.U.Wkb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.pw)),r.__param(1,(0,l.l)(k.ih)),r.__param(2,(0,l.l)(d.kq)),r.__param(3,(0,l.l)(u.Lw))],a);b.vLa=a;},63341:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.nYa=void 0;r=a(22674);c=a(62502);l=a(15031);f=a(76691);h=a(69936);d=a(33399);g=a(14318);m=a(75447);k=a(69484);b.nYa=new r.ed(function(n){n(k.jDa).to(c.iDa).da();n(k.ZKa).to(l.YKa).da();n(k.XKa).to(f.WKa).da();n(g.fDa).to(h.eDa).da();n(m.lEa).to(d.kEa).da();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fDa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZKa="ReportSyncSymbol";b.XKa="ReportApiErrorSyncSymbol";b.hDa="FtlProbeConfigSymbol";b.jDa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lEa="HttpRequesterSymbol";},69936:function(r,b,a){var l,f,h,d,g;function c(m,k){this.is=m;this.json=k;(0,f.co)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;r=a(5163);l=a(22674);f=a(66523);h=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.zga(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.jR(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.jR(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.nA(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.jR(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.nA(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.zm(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.zR(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < m.urls.length;++k){n=m.urls[k];if(!this.is.zga(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Xo(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Xo(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {iXb:m.pulses,s8a:m.pulse_delays?m.pulse_delays.map(d.Lb):[],hXb:(0,d.Lb)(m.pulse_timeout),A2a:m.next?(0,d.Lb)(m.next):void 0,urls:m.urls,Tpa:m.logblob,context:m.ctx};};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Wf)),r.__param(1,(0,l.l)(h.fD))],g);b.eDa=g;},34731:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q){n=d.Re.call(this,n,"FtlProbeConfigImpl") || this;n.qh=p;n.qa=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;r=a(5163);l=a(30869);f=a(22674);h=a(5021);d=a(64174);g=a(24747);m=a(12501);a=a(83767);ea(c,d.Re);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.bma + (-1 === this.bma.indexOf("?")?"?":"&") + "monotonic=" + this.qa.l5a + "&device=web";}},Zab:{configurable:!0,enumerable:!0,get:function(){return h.Ia;}},Ula:{configurable:!0,enumerable:!0,get:function(){return "";}},bma:{configurable:!0,enumerable:!0,get:function(){return this.qh.endpoint + "/ftl/probe" + (this.Ula?"?force=" + this.Ula:"");}}});k=c;r.__decorate([m.config(m.bd,"ftlEnabled")],k.prototype,"enabled",null);r.__decorate([m.config(m.hk,"ftlStartDelay")],k.prototype,"Zab",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],k.prototype,"Ula",null);r.__decorate([m.config(m.url,"ftlEndpoint")],k.prototype,"bma",null);k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ul)),r.__param(1,(0,f.l)(g.sY)),r.__param(2,(0,f.l)(l.fg))],k);b.gDa=k;},62502:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t,w,v,y){this.config=p;this.D0a=q;this.Ac=u;this.rf=t;this.QYb=w;this.iua=v;this.RNb=0;this.la=y.Wa("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;r=a(5163);f=a(22674);h=a(5021);d=a(53085);g=a(87386);m=a(14318);k=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.pr && (this.pr=this.Ac.lk(this.config.Zab,this.uN.bind(this)));};c.prototype.stop=function(){this.pr && (this.pr.cancel(),this.pr=void 0);};c.prototype.uN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.RNb++;this.TJb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.JKb(u,t.url,t.name);})).then(function(t){0 < t.length && p.QYb.oW({data:t,context:u.context,Tpa:u.Tpa});}).then(function(){return u;});}).then(function(u){p.pr && (u.A2a?p.pr=p.Ac.lk(u.A2a,p.uN.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.TJb=function(p){var q;q=this;return this.D0a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.iua.oW({url:p,status:u.status,Fsa:"FTL API request failed",jo:u.jo}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.rf.parse(u.body);return t instanceof Error?(q.iua.oW({url:p,status:4,Fsa:"FTL Probe API JSON parsing error",jo:u.jo}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.iua.oW({url:p,status:0,Fsa:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.JKb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var F;for(var y,x,z,A,B=[],D={},C=0;C < p.iXb;(D={oaa:D.oaa,paa:D.paa},++C)){D.oaa=C < p.s8a.length?p.s8a[C]:h.Ia;D.paa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (C + 1);F=(function(G){return function(){return new Promise(function(E,J){t.Ac.lk(G.oaa,function(){l.HWb(t.D0a,G.paa,p.hXb).then(function(M){function L(H,N,I){H || (H=I.headers[N]);return H;}y=L(y,"via",M);x=L(x,"x-ftl-probe-data",M);z=L(z,"x-ftl-error",M);A=L(A,"latency-trace",M);M={status:M.status,jo:M.jo,d6b:y || "",Qvb:x || "",LS:z || "",qOb:t.DUb(A)};E(M);}).catch(function(M){J(M);});});});};})(D);B.push(0 < C?B[C - 1].then(F):F());}Promise.all(B).then(function(G){w({url:q,name:u,data:G});}).catch(function(G){v(G);});});};c.prototype.DUb=function(p){var q;if(p){q={};p=la(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.HWb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.hDa)),r.__param(1,(0,f.l)(k.lEa)),r.__param(2,(0,f.l)(d.Di)),r.__param(3,(0,f.l)(m.fDa)),r.__param(4,(0,f.l)(a.ZKa)),r.__param(5,(0,f.l)(a.XKa)),r.__param(6,(0,f.l)(g.Za))],n);b.iDa=n;},33399:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t){this.qa=q;this.S6b=u;this.performance=t;(0,f.co)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;r=a(5163);f=a(66523);h=a(64274);d=a(72574);g=a(63368);m=a(30869);k=a(22674);n=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,y){var x,z,A;try{x=w.S6b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ba(p.na));z=w.qa.ee;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.qa.ee.wa(z);break;case XMLHttpRequest.DONE:B=w.qa.ee.wa(z);B={body:x.responseText,status:x.status,headers:l.osa(x.getAllResponseHeaders()),jo:w.Oma(q,(0,d.xa)(x.responseText.length),B,A)};v(B);}};x.send();}catch(B){y(B);}});};c.osa=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Oma=function(q,u,t,w){u={size:u,duration:t,Qwa:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,h.bM)(u);q.decodedBodySize && (u.size=(0,d.xa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.WVa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.Iwa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.Qwa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.Wwa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.Wwa=(0,p.timestamp)(t),u.Iwa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return u;};a=l=c;a=l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.fg)),r.__param(1,(0,k.l)(n.JNa)),r.__param(2,(0,k.l)(g.uda)),r.__param(2,(0,k.optional)())],a);b.kEa=a;},76691:function(r,b,a){var l,f,h,d,g,m;function c(k,n){this.Of=k;this.Gqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(5163);f=a(22674);h=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.oW=function(k){k=this.Gqa.Ds("ftlProbeError","info",l.N6b({url:k.url,sc:k.status,pf_err:k.Fsa},k));this.Of.vc(k);};c.N6b=function(k,n){n.jo && (n=n.jo,l.Ru(k,"d",n.duration),l.Ru(k,"dns",n.WVa),l.Ru(k,"tcp",n.Iwa),l.Ru(k,"tls",n.Wwa),l.Ru(k,"ttfb",n.Qwa),k.sz=n.size.ba(h.Jr));return k;};c.Ru=function(k,n,p){p && (k[n]=p.ba(d.na));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.nl)),r.__param(1,(0,f.l)(a.Cw))],m);b.WKa=m;},15031:function(r,b,a){var l,f,h,d,g,m;function c(k,n){this.Of=k;this.Gqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;r=a(5163);f=a(22674);h=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.oW=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.O6b({d:q.jo.duration.ba(d.na),sc:q.status,sz:q.jo.size.ba(h.Jr),via:q.d6b,cip:q.Qvb,err:q.LS},q);})};})};k=this.Gqa.Ds(k.Tpa,"info",n);this.Of.vc(k);};c.O6b=function(k,n){l.Ru(k,"dns",n.jo.WVa);l.Ru(k,"tcp",n.jo.Iwa);l.Ru(k,"tls",n.jo.Wwa);l.Ru(k,"ttfb",n.jo.Qwa);l.drb(k,n.qOb);return k;};c.drb=function(k,n){n && (k.rtts=n);};c.Ru=function(k,n,p){p && (k[n]=p.ba(d.na));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.nl)),r.__param(1,(0,f.l)(a.Cw))],m);b.YKa=m;},43367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;r=a(22674);c=a(80012);l=a(26971);b.Mk=new r.ed(function(f){f(c.xFa).to(l.wFa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xFa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var l,f,h,d,g;function c(m,k){this.Kb=m;this.j=k;this.xU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.LO=void 0;r=a(5163);l=a(36129);f=a(22674);h=a(32687);d=a(3887);g=a(31276);c.prototype.q4=function(m){this.xU.forEach(function(k){return k(m);});};c.prototype.od=function(m,k,n){this.j.od(m,k,n);};c.prototype.$qb=function(m){-1 === this.xU.indexOf(m) && this.xU.push(m);};c.prototype.CYb=function(m){m=this.xU.indexOf(m);0 <= m && this.xU.splice(m,1);};c.prototype.M_a=function(m){var k,n;k={};(0,h.Uc)(m.code)?k.ya=(0,l.SCa)(m.code):k.ya=l.R.ml;try{n=m.message.match(/\((\d*)\)/)[1];k.De=(0,g.Sha)(n,4);}catch(p){}k.Jb=(0,d.we)(m);return k;};a=c;a=r.__decorate([(0,f.T)()],a);b.LO=a;},94951:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t;function c(w,v,y,x,z){x=p.LO.call(this,x,z) || this;x.config=w;x.di=v;x.cd=y;x.log=(0,f.Kh)(x.j,"LegacyLicenseBroker");x.Tl=x.config().Tl;x.config().l8a?(0,d.d2a)()?x.V$=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.pD}):x.V$=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(5163);l=a(36129);f=a(31276);h=a(95162);d=a(52569);g=a(22365);m=a(22674);k=a(99037);n=a(91581);p=a(20124);q=a(24735);u=a(5021);ea(c,p.LO);c.prototype.wUa=function(w){var v;v=void 0 === v?this.j:v;return new this.er.vI(w,function(y){return v.d3.HF(y);},function(y){return v.d3.release(y);},{nf:!1,dk:!1});};c.prototype.BA=function(w){var v,y,x,z,A,B;v=this;w=void 0 === w?this.j:w;y=a(24066).Hn;this.er.vI || this.od(l.U.EI,l.R.Qhb);x=(0,f.Kh)(w,"Eme");z=this.wUa(x);A=f.za.get(h.XP);B=A.f3(w.tc.value.streams);A=A.l3(w.Ng.value.streams);return this.er.xI(x,function(D){return w.je(D);},{nf:!1,dk:!1,qa:{getTime:y},Jd:z,bW:!!this.V$,$:this.Kb.$,ez:this.config().DWa,onerror:function(D,C,F){return v.od(D,C,F);},qra:function(){},OG:!0,Tsb:B,i6b:A,Apa:this.di.Z1.ba(u.na)});};c.prototype.setMediaKeys=function(w){var v;v=this;return this.V$?new Promise(function(y,x){if(v.Kb.$)v.Kb.$.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=v.M_a(z);x({ia:!1,code:l.U.NI,ic:A.ya,Tc:A.De,Jb:A.Jb,message:"Set media keys is a failure",cc:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.bXa=function(w){return {code:w.code,subCode:w.ic,extCode:w.Tc,edgeCode:w.Pm,message:w.message,errorDetails:w.Jb,errorData:w.VA,state:w.state};};c.prototype.Ava=function(w,v,y){var z,A,B;function x(){A.cH().catch(function(D){z.log.error("Unable to set the license",z.bXa(D));D.cc && D.cc.Jb && (D.Jb=D.Jb?D.Jb + D.cc.Jb:D.cc.Jb);z.od(D.code,D,D.Tc);});}z=this;y=void 0 === y?this.j:y;A=y.de;this.log.info("Setting the license");B=v?function(){return Promise.resolve();}:function(){return A.Xg(z.W4(!1),w);};return (v?function(){return A.b2(z.Kb.$);}:function(){return A.create(z.Tl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.q4(y.O);z.Kb.Beb.then(function(){z.config().GB && (v || z.config().YS) && (z.t9a=nb.setTimeout(x,z.config().GB));});}).catch(function(D){z.log.error("Unable to set the license",z.bXa(D));D.cc && D.cc.Jb && (D.Jb=D.Jb?D.Jb + D.cc.Jb:D.cc.Jb);if(v)throw Error(D && D.message?D.message:"failed to set license");z.od(D.code,D,D.Tc);});};c.prototype.Jy=function(){return Promise.resolve();};c.prototype.h8=function(){var v;function w(){var y;v.j.de=v.BA();y=[];v.j.Bt.forEach(function(x){y.push((0,f.uq)(x));});v.Ava(y);}v=this;this.yU || (this.yU=!0,this.er.xI?this.j.Bt?this.config().GS && this.config().gr?this.cd.NYa(this.j.O).then(function(y){v.j.de=y;return y.Wxa.then(function(){var x;x=[];v.j.Bt.forEach(function(z){x.push((0,f.uq)(z));});return v.Ava(x,!0).then(function(){var z;if(y.lcc)v.od(l.U.Uhb);else {z=(0,f.Kh)(v.j,"Eme");y.Adb({log:z,bn:function(A){return v.j.je(A);}},{Jd:v.wUa(z),onerror:function(A,B,D){return v.od(A,B,D);}});v.j.$x(y.Vc || ({}));v.j.FE="videopreparer";}});});}).catch(function(y){v.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.od(l.U.Zkb)):this.od(l.U.EI,l.R.Rhb));};c.prototype.z9a=function(w){var v;w=void 0 === w?this.j:w;w.de=this.BA();v=[];w.Bt.forEach(function(y){v.push((0,f.uq)(y));});return this.Ava(v,!1,w);};c.prototype.W4=function(w){return this.config().YS?q.Dh.rn:w?q.Dh.rn:q.Dh.qm;};Xa.Object.defineProperties(c.prototype,{er:{configurable:!0,enumerable:!0,get:function(){return f.za.get(n.H_);}},VB:{configurable:!0,enumerable:!0,get:function(){return this.V$?"encrypted":this.Kb.ACa + "needkey";}}});t=c;r.__decorate([k.H6],t.prototype,"er",null);r.__decorate([k.H6],t.prototype,"VB",null);t=r.__decorate([(0,m.T)()],t);b.sFa=t;},26971:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t,w){this.hF=p;this.di=q;this.config=u;this.hM=t;this.cd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(5163);l=a(22674);f=a(47737);h=a(128);d=a(94951);g=a(23563);m=a(4203);k=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new h.yFa(this.config(),this.di,this.cd,q,u,this.hF,this.hM()):new d.sFa(this.config,this.di,this.cd,q,u);};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.cZ)),r.__param(1,(0,l.l)(g.cq)),r.__param(2,(0,l.l)(m.ac)),r.__param(3,(0,l.l)(k.CP)),r.__param(4,(0,l.l)(a.AD))],n);b.wFa=n;},128:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z,A){y=k.LO.call(this,y,x) || this;y.config=t;y.di=w;y.cd=v;y.hF=z;y.j7=A;y.log=(0,f.Kh)(y.j,"LicenseBroker");y.yU=new Set();y.Cqa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(5163);l=a(36129);f=a(31276);h=a(28289);d=a(5021);g=a(22674);m=a(99037);k=a(20124);n=a(24735);p=a(85001);q=a(82100);u=a(56039);ea(c,k.LO);c.prototype.h8=function(){var t,w;t=this;w=this.j.aa;this.yU.has(w.O) || (this.yU.add(w.O),this.hsb(w).catch(function(){return t.A9a(w);}).then(function(){return t.wRa(w);}).catch(function(v){return t.vRa(w,v);}).catch(function(v){return t.od(v.code,v,v.Tc);}));};c.prototype.hsb=function(t){var w;w=this;return Promise.all([this.cd.NYa(t.O),this.hF()]).then(function(v){var y,x;v=la(v);y=v.next().value;x=v.next().value;return y.R9.then(function(z){var A;A=w.j7.mediaKeys;if(A && A !== z.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=w.JZa(t),x.i5a(A,z));return z;}).then(function(z){return w.b2(z,t,y.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.b2=function(t,w,v){this.d8a(t,w);w.FE=v;this.j7.HQa(t.mediaKeys);return t.rha();};c.prototype.FFb=function(t){var w;w={};t.forEach(function(v){w[(0,h.jWa)(v.$U)]=v.time.ba(d.na);});return w;};c.prototype.d8a=function(t,w){var v;v=this;w.de=t;t.Z_b(function(y){v.od(y.code,y,y.Tc);});};c.prototype.wRa=function(t){this.log.info("Successfully applied license for xid: " + t.ma + ", viewable: " + t.O + ", segment: " + t.I);this.$x(t);this.Cqa?this.q4(t.O):this.setMediaKeys(t);};c.prototype.vRa=function(t,w){this.$x(t);throw w;};c.prototype.$x=function(t){t.de && t.$x(this.FFb(t.de.Vc));};c.prototype.JZa=function(t){var w,v;w=t.gw[0];v=w.streams[0].Fd;v=(0,q.Koa)(v);w=(0,u.Jma)(w.streams);return {type:this.W4(!1),initData:t.Bt.map(function(y){return (0,f.uq)(y);}),b6:v,context:{$:this.Kb.$,u6:w},ti:{O:t.O,ma:t.ma,ke:t.ke,Gk:t.Gk,ki:t.W.ki,dg:t.W.Fa.dg}};};c.prototype.A9a=function(t){var w;w=this;return this.hF().then(function(v){var y;y=w.JZa(t);w.yU.add(t.O);return v.Xg(y,w.j7).then(function(x){w.d8a(x,t);w.j.fireEvent(p.fa.AU,{O:t.O});return x.rha();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.Cqa)this.log.trace("Media Keys already set");else try{this.Kb.$?(this.Cqa=!0,this.Kb.$.setMediaKeys(t.de.mediaKeys).then(function(){w.q4(t.O);}).catch(function(v){v=w.M_a(v);w.od(l.U.NI,v,v.De);})):this.q4(t.O);}catch(v){this.od(l.U.NI,v,void 0);}};c.prototype.Jy=function(){var t,w;t=this;w=this.j.aa.de;return w?this.hF().then(function(v){return v.release(w,t.j7).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.z9a=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.A9a(t).then(function(){return w.wRa(t);}).catch(function(v){return w.vRa(t,v);});};c.prototype.W4=function(t){return this.di.YS?n.Dh.rn:t?n.Dh.rn:n.Dh.qm;};Xa.Object.defineProperties(c.prototype,{VB:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Tl:{configurable:!0,enumerable:!0,get:function(){return this.config.Tl;}}});a=c;r.__decorate([m.H6],a.prototype,"VB",null);a=r.__decorate([(0,g.T)()],a);b.yFa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zya="AppLogSinkSymbol";},21009:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.G3a=void 0;r=a(22674);c=a(97996);l=a(31966);f=a(79428);h=a(50723);d=a(33345);g=a(74621);m=a(4203);k=a(41320);n=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);w=a(53234);v=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);D=a(30895);C=a(36792);F=a(74714);G=a(73449);E=a(26158);b.G3a=new r.ed(function(J){J(z.nl).to(f.RFa).da();J(w.hHa).to(h.gHa).da();J(v.fGa).to(d.eGa).da();J(x.bGa).to(g.aGa).da();J(z.vca).to(k.QFa).da();J(y.Cw).to(n.YFa).da();J(x.$Fa).to(p.ZFa).da();J(A.uP).to(B.tP).da();J(A.yca).to(F.cGa).da();J(G.xP).to(E.wP).da();J(D.WBa).to(C.VBa).da();J(t.Zya).to(l.Yya).da();J(z.SFa).BX(function(M){return function(){return M.hb.get(c.IP)().then(function(L){return new Promise(function(H){var I,K,O;function N(){K() && O() && L.fV?H(M.hb.get(z.nl)):I.Yi(N);}I=M.hb.get(q.Di);K=M.hb.get(m.ac);O=M.hb.get(u.vw);I.Yi(N);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vca="LogBatcherConfigSymbol";b.nl="LogBatcherSymbol";b.SFa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cw="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa="LogMessageRulerConfigSymbol";b.bGa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uP="LogblobBuilderFactorySymbol";b.yca="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fc=void 0;r=b.Fc || (b.Fc={});r.Htb="bitraterestriction";r.SSa="cdnsel";r.ux="chgstrm";r.debug="debug";r.NBb="dlreport";r.Lx="endplay";r.eU="intrplay";r.sy="midplay";r.MM="playbackaborted";r.nW="renderstrmswitch";r.oC="repos";r.Et="resumeplay";r.L_b="serversel";r.xr="startplay";r.dX="statechanged";r.transition="transition";r.jva="segmentdropped";r.usb="asereport";r.ePb="livereport";r.dPb="livepipelinefailover";r.PRa="audioswitch";r.hSa="blockedautoplay";r.config="config";r.udc="ftlProbeError";r.C2b="subtitleerror";r.D2b="subtitleqoe";r.D3b="timedtextrebuffer";r.tcb="timedtextswitch";r.Wab="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xP="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hHa="MessageQueueSymbol";},31966:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u){var t;t=this;this.yPb=n;this.ky=p;this.config=u;this.Tta=[];this.yPb.h9(l.afb,this.zKb.bind(this));q().then(function(w){var v;v=u().kp.wFb;t.lQb=v?k.dj[v.toUpperCase()]:k.dj.ll;t.Of=w;t.C_b();});}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;r=a(5163);f=a(22674);h=a(4203);d=a(36410);g=a(45118);m=a(31850);k=a(87386);c.prototype.zKb=function(n,p){this.Of?this.v8a(n,p):this.Tta.push([n,p]);};c.prototype.C_b=function(){var n,p;n=this;p=this.Tta;this.Tta=[];p.forEach(function(q){n.v8a(q[0],q[1]);});};c.prototype.v8a=function(n,p){var q;if(this.Of && this.Q0b(n)){q={debugMessage:n.message,debugCategory:n.Fm};n.Dc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.ky.Ds("debug",k.dj[n.level].toLowerCase(),q,p);this.Of.vc(n);}};c.prototype.Q0b=function(n){var p;p=this.lQb;return void 0 !== p && n.level <= p && !n.Dc.find(function(q){return q.KS(k.YO);});};a=l=c;a.afb="adaptorAll";a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.GI)),r.__param(1,(0,f.l)(m.Cw)),r.__param(2,(0,f.l)(g.SFa)),r.__param(3,(0,f.l)(h.ac))],a);b.Yya=a;},36792:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;r=a(5163);l=a(82956);f=a(51344);h=a(3887);d=a(36129);g=a(45146);m=a(22365);k=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.url;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,h.Zf)(t,function(v,y){w.push(u.hKb(y,q));});return {urls:w};};c.prototype.hKb=function(p,q){var u,t,w,v,y;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:null === (t=w.Bc) || void 0 === t?void 0:t.id,dltype:w.PBb,id:w.Tb};y={};p.forEach(function(x){var z;z=u.$Mb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,h.Zf)(y,function(x,z){"fail" === x?v.failures=u.DHb(z,q):"success" === x && (v.downloads=u.tHb(z,q));});return v;};c.prototype.tHb=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.gwb;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,h.Zf)(t,function(v,y){var x;x=[];y.forEach(function(z){x.push(z);u.IMb(z) && (w.push(u.fZa(x,q,v)),x=[]);});0 < x.length && w.push(u.fZa(x,q,v));});return w;};c.prototype.fZa=function(p,q,u){var t,w,v,y,z;t=p.sort(function(A,B){return A.Vl.Wi < B.Vl.Wi?-1:A.Vl.Wi > B.Vl.Wi?1:0;});w=t[0].Vl;v=w.My;y=w.Wi;w=w.Pp;for(var x=1;x < p.length;x++){z=p[x].Vl;z.My < v && (v=z.My);z.Wi < y && (y=z.Wi);z.Pp > w && (w=z.Pp);}x=this.jJb(t);z=t[t.length - 1];return {time:v - q,tcpid:u?parseInt(u):-1,tresp:y - v,first:x,ranges:this.kJb(t,x),dur:w - y,trace:this.eB(p),status:this.rL(z),enctimeinfo:z.Mka};};c.prototype.jJb=function(p){var q;q=0;p.forEach(function(u){u.Nv && (q=(0,m.Ew)(q,u.Nv[0]));});return q;};c.prototype.kJb=function(p,q){var u;u=[];p.forEach(function(t){t.Nv?u.push([t.Nv[0] - q,t.Nv[1] - q]):u.push([0,-1]);});return u;};c.prototype.eB=function(p){var q,u;q=[];p.forEach(function(t){var w;t=t.Vl;if(u){w=t.My - u.Pp;0 < w && q.push([w,-2]);w=(0,m.Qr)(u.Pp,t.My);w=t.Wi - w;0 < w && q.push([w,-3]);}q.push([t.Pp - t.Wi,t.b3 || 0]);u=t;});return q;};c.prototype.IMb=function(p){if(p.ya === d.R.bD || p.ya === d.R.cD)return !0;};c.prototype.rL=function(p){if(p.ia)return "complete";if(p.ya === d.R.bD)return "abort";if(p.ya === d.R.cD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.DHb=function(p,q){var u,t;u=this;t=[];p.forEach(function(w){var v;v=w.Vl;w={time:v.Wi - q,tresp:v.Wi - v.My,dur:v.Pp - v.Wi,range:w.Nv,reason:u.mJb(w),httpcode:w.Kl,nwerr:(0,l.WZa)(w.ya),enctimeinfo:w.Mka};t.push(w);});return t;};c.prototype.mJb=function(p){return p.Kl || p.ya === d.R.iP?"http":p.ya === d.R.kP?"timeout":"network";};c.prototype.$Mb=function(p){return p.ia || void 0 === p.ia || p.ya === d.R.bD || p.ya === d.R.cD?!1:!0;};c.prototype.axb=function(p){var q,u,t,w,v,y;q=p.request;u=q.stream;t=q.track;w=q.url;v=this.qHb(t,w);switch(v){case f.Rj.audio:case f.Rj.video:y=q.stream.Tb;break;case f.Rj.Swa:case f.Rj.fxa:y=t.Tb;}p={bitrate:u && u.bitrate,PBb:v,Tb:y,Vl:p.Vl,Bc:q.Bc,url:w,De:p.De,Kl:p.Kl,ya:p.ya,ia:p.ia,gwb:this.hEb(p),Mka:q.KK};void 0 !== q.offset && void 0 != q.length && (p.Nv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.qHb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.hEb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,h.Ui)(p):p;};n=c;n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.ac))],n);b.VBa=n;},41320:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p){n=m.Re.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.gQb=(0,l.xa)(5E5);n.A_b=(0,f.B7)(1);n.o4a=(0,l.xa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;r=a(5163);l=a(72574);f=a(5021);h=a(22674);d=a(4203);g=a(12501);m=a(64174);a=a(83767);ea(c,m.Re);Xa.Object.defineProperties(c.prototype,{Lga:{configurable:!0,enumerable:!0,get:function(){return this.config().Lga;}},zab:{configurable:!0,enumerable:!0,get:function(){return [];}},yab:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],k.prototype,"zab",null);r.__decorate([g.config(g.vE("string"),"shedDebugTypes")],k.prototype,"yab",null);k=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.ul)),r.__param(1,(0,h.l)(d.ac))],k);b.QFa=k;},79428:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){this.config=t;this.json=w;this.Ac=v;this.qPb=y;this.ZU=z;this.h6=this.qB=!1;this.listeners=[];(0,f.co)(this,"json");this.la=x.Wa("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;r=a(5163);l=a(22674);f=a(66523);h=a(63368);d=a(33945);g=a(53085);m=a(87386);k=a(45118);n=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.va=function(){this.qB=!0;};c.prototype.vc=function(t){var w;w=this;this.a1b(t) || (!1,0 < t.size.Ek(this.config.gQb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.RQb(t);}),!1,this.ZU.Rga(t),this.Ac.Yi(function(){w.eFb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.h6?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,y){w.la.trace("Flushing",m.YO);w.Up();w.Ac.Yi(function(){w.ova(t).then(function(){v();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.ova=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.qB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.h6)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.ZU.JGb();if(0 === v.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Up();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=la(v),z=x.next();!z.done;(y={naa:y.naa},z=x.next())){y.naa=z.value;t=t.then((function(A){return function(){return w.z_b(A.naa);};})(y));}return t.then(function(){return w.SA();}).catch(function(A){v.filter(function(B){return !B.ey;}).forEach(function(B){return B.Ks();});w.SA();throw Error("Send failure. " + A);});};c.prototype.z_b=function(t){var w;w=this;this.la.trace("Sending batch: " + t.size,m.YO);return Promise.resolve(this.ZU.wYb(t)).then(function(){return w.qPb.send(t.wG);}).then(function(){return t.WN();}).catch(function(v){w.la.warn("Failed to send batch of logblobs.",v,m.YO);t.Ks();w.N0b(v) && w.ZU.Pqb(t);w.b1b(v) && (w.h6=!0);throw v;});};c.prototype.N0b=function(t){return t.Tc === p.f_.vIa?!1:this.config.Lga;};c.prototype.b1b=function(t){return t.ic === p.R.lDa || t.ic === p.R.hP || t.ic === p.R.lP?!0:!1;};c.prototype.eFb=function(){var t;t=this;0 < this.ZU.size.Ek(this.config.o4a)?this.ova().catch(function(w){return t.la.warn("Failed to send log messages on size threshold. " + w);}):this.SA();};c.prototype.Up=function(){this.s6 && (!1,this.s6.cancel(),this.s6=void 0);};c.prototype.SA=function(){this.s6 || (!1,this.s6=this.Ac.lk(this.config.A_b,this.zM.bind(this)));};c.prototype.zM=function(){var t;t=this;this.h6=!1;this.Up();this.ova().catch(function(w){return t.la.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.a1b=function(t){return 0 <= this.config.zab.indexOf(t.type)?!0:t.type === u.Fc.debug?0 <= this.config.yab.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.vca)),r.__param(1,(0,l.l)(h.fD)),r.__param(2,(0,l.l)(g.Di)),r.__param(3,(0,l.l)(d.fGa)),r.__param(4,(0,l.l)(m.Za)),r.__param(5,(0,l.l)(n.hHa)),r.__param(6,(0,l.l)(q.YY))],a);b.RFa=a;},69124:function(r,b,a){var f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z,A,B,D,C,F){this.platform=w;this.Jja=v;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=D;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.IA;this.data.clver=this.platform.version;t && t.nd && (t.nd.os && (this.data.osplatform=t.nd.os.name,this.data.osver=y.platformVersion.sU?y.platformVersion.version:t.nd.os.version),this.data.browsername=t.nd.name,this.data.browserver=t.nd.version);t.epa && (this.data.tester=!0);t.RF && !this.data.groupname && (this.data.groupname=t.RF);t.eK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.eK:t.eK);t.JX && (this.data.uigroupname=t.JX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.nIb();this.data.uniqueLogId=C.tYa();this.data.appId=this.Ea.id;F && (t=this.Ea.Eb(),this.data.soffms=t.wa(F.Ph).ba(g.na),this.data.mid=this.data.mid || F.O,this.data.lvpi=F.F3a,this.data.uiLabel=F.wd,this.data.uxLabels=F.W$,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.ma,F.sH && (x=F.sH,(F=F.sH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,v,y,x,z,A){this.qa=t;this.Jja=w;this.config=v;this.Ea=y;this.R5b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(5163);f=a(72574);h=a(22674);d=a(30869);g=a(5021);m=a(58098);k=a(34231);n=a(81918);p=a(96723);q=a(91581);a=a(75236);l.prototype.Ds=function(t,w,v,y){return new c(this.config,this.platform,this.Jja,this.userAgentData,t,w,this.qa.ee,v,this.Ea,this.R5b,y);};u=l;u=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.fg)),r.__param(1,(0,h.l)(m.oBa)),r.__param(2,(0,h.l)(k.qn)),r.__param(3,(0,h.l)(n.Jc)),r.__param(4,(0,h.l)(p.jNa)),r.__param(5,(0,h.l)(q.vn)),r.__param(6,(0,h.l)(a.n0))],u);b.YFa=u;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.ASa || (this.ASa=(0,f.xa)(this.Jja.encode(this.data).length));return this.ASa;}}});},74031:function(r,b,a){var l,f,h;function c(d){this.Fk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(5163);l=a(22674);f=a(72574);a=a(33554);c.prototype.sPb=function(){var d;d=this.Fk()?this.Fk().bk.length:40;return (0,f.xa)(d + 33);};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.vw))],h);b.ZFa=h;},74621:function(r,b,a){var l,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(5163);l=a(22674);f=a(81829);h=a(72574);c.prototype.measure=function(d){var g;g=this;return d.map(function(m){return m.size.add(g.config.sPb());}).reduce(function(m,k){return m.add(k);},(0,h.xa)(0));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.$Fa))],a);b.aGa=a;},74714:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y){this.platform=t;this.config=w;this.Ea=v;this.userAgentData=y;this.tNa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(36129);d=a(91581);g=a(5021);m=a(4203);k=a(3887);n=a(22365);p=a(82956);q=a(75236);u=a(60328);c.prototype.up=function(t,w,v){v && (t.adlid=v.Tb,t.abitrate=v.bitrate);w && (t.vdlid=w.Tb,t.vbitrate=w.bitrate);};c.prototype.T0a=function(t,w,v){v?t=Object.assign(t,(0,p.g_a)(this.platform.Dq,v)):t.errorcode=h.U.Go;t.errorcode === this.platform.Dq + h.U.iIa && (t.lastSyncWithVideoElement=this.getTime() - w.pX);};c.prototype.Y0a=function(t,w){var v;try{Object.assign(t,(0,p.hna)());v=w.getBoundingClientRect();t.rendersize=v.width + "x" + v.height;t.renderpos=v.left + "x" + v.top;}catch(y){}};c.prototype.X0a=function(t,w){var v,y,x;v=w.Bc[u.v.Y].value;y=w.Bc[u.v.ea].value;x=w.sf.value;w=w.Ud.value;v && (t.cdnid=v.id,t.cdnname=v.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Tb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Tb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.V0a=function(t,w,v){0 <= w.mediaTime.value && (w=v && !w.Ya.ag?w.jS:w.mediaTime.value,t.moff=(0,k.Ml)(w),t.moffms=(0,k.$f)(w));};c.prototype.R0a=function(t,w){w.Bf && (t.pbcid=w.Bf);w.ke && (t.playbackcontextid=w.ke);};c.prototype.noa=function(t){var w,v;t.browserua=n.pD;t.browseruad=null === (v=null === (w=n.Be.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === v?void 0:v.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.sU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=n.Be && n.Be.connection && n.Be.connection.type) && (t.nettype=w);};c.prototype.CL=function(t){var w,v,y,x,z;if(this.config().aDb){z=null === (w=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === w?void 0:w.effectiveType;w=null === n.Be || void 0 === n.Be?void 0:n.Be.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (v=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === v?void 0:v.type) && (t.connectionType=z);v=null === (y=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === y?void 0:y.downlink;"number" === typeof v && isFinite(v) && (t.downlink=v);y=null === (x=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.M5=function(t,w){if(w=w.Ya.am)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.DL=function(t,w,v,y){var x,z,A,B,D;x=this;if(v=v && v.streams){A=new Set();B=new Set();D=new Set();v.forEach(function(C){C=C.Fd;A.add(C);B.add(C.replace(x.tNa,""));(C=C.match(x.tNa)) && 0 < C.length && D.add(C[1]);});t.videoProfiles=[].concat(ca(A));t.videoProfile=0 === B.size?"none":[].concat(ca(B))[0];t.videoProfileLevels=[].concat(ca(D));v && v.length && (t.isMcClearen=!!v[0].Ai.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.W) || void 0 === z?0:z.WX) && (t.videoProfilesStatus=this.Y3a(y.W.WX));};c.prototype.Y3a=function(t){return this.XPb(t.rL(),function(w){return w.supported?!0:w.reason;});};c.prototype.XPb=function(t,w){return Object.entries(t).reduce(function(v,y){var x;x=la(y);y=x.next().value;x=x.next().value;v[y]=w(x);return v;},{});};c.prototype.O0a=function(t,w,v){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Fd]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=v.W) || void 0 === y?0:y.HR) && (t.audioProfilesStatus=this.Y3a(v.W.HR));};c.prototype.S0a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Eb().ba(g.na);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.vn)),r.__param(1,(0,l.l)(m.ac)),r.__param(2,(0,l.l)(f.Jc)),r.__param(3,(0,l.l)(q.n0))],a);b.cGa=a;},52025:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;function c(G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db){this.mcb=G;this.Of=E;this.zqa=J;this.nla=M;this.Yd=L;this.I3=H;this.He=N;this.config=I;this.cd=K;this.qa=O;this.Ea=R;this.platform=Y;this.Fp=oa;this.ky=ka;this.vi=ha;this.Os=za;this.xG=Ca;this.uc=La;this.gM=Wa;this.DB=db;}Object.defineProperty(b,"__esModule",{value:!0});b.tP=void 0;r=a(5163);l=a(87549);f=a(45118);h=a(74870);d=a(28185);g=a(94800);m=a(22674);k=a(98326);n=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);w=a(81918);v=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);D=a(2160);C=a(21103);a=a(18647);c.prototype.create=function(G,E){return new n.vP(G,E,this.mcb,this.Of,this.zqa,this.nla,this.Yd,this.I3,this.He,this.config,this.cd,this.qa,this.Ea,this.Fp,this.ky,this.vi,this.Os,this.xG,this.uc,this.gM,this.DB);};F=c;F=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(l.CMa)),r.__param(1,(0,m.l)(f.nl)),r.__param(2,(0,m.l)(d.KGa)),r.__param(3,(0,m.l)(g.Oba)),r.__param(4,(0,m.l)(h.mh)),r.__param(5,(0,m.l)(p.WBa)),r.__param(6,(0,m.l)(q.eu)),r.__param(7,(0,m.l)(u.ac)),r.__param(8,(0,m.l)(x.AD)),r.__param(9,(0,m.l)(t.fg)),r.__param(10,(0,m.l)(w.Jc)),r.__param(11,(0,m.l)(v.vn)),r.__param(12,(0,m.l)(A.G_)),r.__param(13,(0,m.l)(y.Cw)),r.__param(14,(0,m.l)(z.sD)),r.__param(15,(0,m.l)(B.qn)),r.__param(16,(0,m.l)(D.Sca)),r.__param(17,(0,m.l)(k.yca)),r.__param(18,(0,m.l)(C.Fw)),r.__param(19,(0,m.l)(a.nca))],F);b.tP=F;},74098:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J;function c(M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q){var P;P=this;this.j=M;this.Ca=L;this.mcb=H;this.Of=N;this.zqa=I;this.nla=K;this.Yd=O;this.I3=R;this.He=Y;this.config=oa;this.cd=ka;this.qa=ha;this.Ea=za;this.Fp=Ca;this.ky=La;this.vi=Wa;this.Os=db;this.xG=U;this.uc=ja;this.gM=sa;this.DB=Q;this.xX=[];this.Jqa=this.tB=this.qW=0;this.zK=[];this.Vga=!1;this.xr=function(Z){var na,qa,Ha,Ya,Va,rb;qa={};try{qa={playdelaysdk:(0,n.$f)(P.j.VR()),applicationPlaydelay:(0,n.$f)(P.j.oia()),playdelay:(0,n.$f)(P.j.pia()),trackid:P.j.Nj,bookmark:(0,n.$f)(P.j.El || 0),pbnum:P.j.index,endianness:(0,g.lZa)()};P.config().iDb && (qa.transitiontime=P.j.gm,qa.uiplaystarttime=P.j.Ya.HC,qa.playbackrequestedat=P.j.Ph.ba(p.na),qa.clockgettime=P.getTime(),qa.clockgetpreciseepoch=P.qa.ee.ba(p.na),qa.clockgetpreciseappepoch=P.Ea.jy.ba(p.na),qa.absolutestarttime=P.j.xF(),qa.relativetime=P.j.q_a());P.D4(qa,"startplay");}catch(mb){P.log.error("error in startplay log fields",mb);}P.j.Hh && (qa.blocked=P.j.Hh);P.uc.S0a(qa);(0,x.sb)(P.j.kSa) && (qa.bookmarkact=(0,n.$f)(P.j.kSa));Ha=P.j.Vc.at && P.j.Vc.ats?P.j.Vc.at - P.j.Vc.ats:void 0;Ha && (qa.nccpat=Ha);(Ha=P.j.Vc.lr && P.j.Vc.lc?P.j.Vc.lr - P.j.Vc.lc:void 0) && (qa.nccplt=Ha);(Ha=P.j.Vc.lc && P.j.Vc.lg?P.j.Vc.lc - P.j.Vc.lg:void 0) && (qa.lct=Ha);(Ha=P.fF()) && (qa.downloadables=Ha);nb._cad_global.device && (0,x.Uc)(nb._cad_global.device.Z3) && (qa.esnSource=nb._cad_global.device.Z3);(0,n.Td)(qa,P.Fp,{prefix:"pi_"});P.j.Gn && P.j.Gn.initBitrate && (qa.initvbitrate=P.j.Gn.initBitrate);P.j.Gn && P.j.Gn.selector && (qa.selector=P.j.Gn.selector);qa.fullDlreports=P.Qdb;if(P.j.state.value >= y.Vb.$d)try{Ya=P.j.Cs();if(Ya){P.maxBitrate=(0,g.FO)(Ya.map(function(mb){return mb.bitrate;}));P.w4a=(0,g.FO)(Ya.map(function(mb){return mb.height;}));Va=0 < Ya.length?(0,D.V_a)(function(mb,Fb){return mb.height === Fb.height;},Ya).map(function(mb){return (0,z.oqa)(mb,function(Fb){return Fb.bitrate;});}):void 0;qa.maxbitrate=P.maxBitrate;qa.maxresheight=P.w4a;}}catch(mb){P.log.error("Exception computing max bitrate",mb);}try{rb=(0,g.KF)();rb && (qa.pdltime=rb);}catch(mb){}try{(0,n.Td)(qa,P.j.Vc,{prefix:"sm_"});(0,n.Td)(qa,P.j.q5(),{prefix:"vd_"});}catch(mb){}Z && P.j.Bt && (qa.pssh=P.j.Bt);P.W0a(P.j,qa);qa.avtp=P.MH.Wm().Nwa;(null === (na=P.j.Xa) || void 0 === na?0:na.Ww) && P.L5(qa);if(P.j.Gb.value)try{qa.ttTrackFields=P.j.Gb.value.yg;}catch(mb){}P.uc.O0a(qa,P.j.tc.value,P.Ca);P.uc.DL(qa,!0,P.j.Ng.value,P.Ca);P.j.W && (qa.packageId=P.j.W.Fa.gn);P.j.W && P.j.W.Fa.hp && (qa.hasChoiceMap=!0);P.eOb(Va);P.dOb();Z && (P.ooa(qa),P.qoa(qa));P.Q0a(P.j,qa);P.WF(P.j,qa);P.XF(P.j,qa);P.Pq(P.j,qa);P.oB(P.j,qa,P.Vga);P.XT(P.j,qa);P.PLb(P.j,qa);P.poa(qa);P.soa(qa);P.uc.CL(qa);P.P0a(qa);P.uc.M5(qa,P.Ca);P.roa(qa);P.vc(A.Fc.xr,Z,J.Ld | J.Tr | J.Ci | J.Vr | J.UC | J.AY | J.XC | J.zo,qa);};this.Et=function(Z,na,qa){na={playdelay:(0,n.$f)(Z),reason:qa,intrplayseq:P.tB - 1,skipped:na};"repos" === qa && (na.prstate=!0 === P.j.paused.value?"paused":"playing");P.BL(na,f.Th.Et);P.XF(P.j,na);P.Pq(P.j,na);P.vc(A.Fc.Et,!1,J.Ld | J.Tr | J.Ci,na);"rebuffer" !== qa && "force_rebuffer" !== qa || P.j.Sk.Yqb(Number((0,n.$f)(Z)));};this.ux=function(Z,na,qa,Ha){Z={moff:(0,n.Ml)(qa),moffms:(0,n.$f)(qa),vbitrate:na.bitrate,vbitrateold:Z.bitrate,vdlid:na.Tb,vdlidold:Z.Tb,vheight:na.height,vheightold:Z.height,vwidth:na.width,vwidthold:Z.width,bw:Ha};P.XF(P.j,Z);P.Pq(P.j,Z);P.oB(P.j,Z);P.BL(Z,f.Th.ux);P.vc(A.Fc.ux,!1,J.Ci,Z);};this.eua=function(Z,na,qa){Z={moff:(0,n.Ml)(qa),moffms:(0,n.$f)(qa),vdlidold:Z.Tb,vbitrateold:Z.bitrate};P.XF(P.j,Z);P.Pq(P.j,Z);P.oB(P.j,Z);P.uc.up(Z,na,P.j.sf.value && P.j.sf.value.stream);P.BL(Z,f.Th.nW);P.vc(A.Fc.nW,!1,J.Ci,Z);};this.Ksa=function(){var Z,na;Z={waittime:(0,n.$f)(P.j.q_a()),abortedevent:"startplay",trackid:P.j.Nj,prstate:P.Ux(),paustate:P.j.paused.value};P.D4(Z,"endplay");P.BL(Z,f.Th.MM);P.Os.HS && (Z.eventlist_version=1,Z.eventlist=P.xG.e_a(P.j));P.j.Gn && P.j.Gn.initBitrate && (Z.initvbitrate=P.j.Gn.initBitrate);try{na=(0,g.KF)();na && (Z.pdltime=na);(0,n.Td)(Z,P.j.Vc,{prefix:"sm_"});}catch(qa){}P.loa(Z);P.uc.M5(Z,P.Ca);P.uc.DL(Z,!1,P.j.Ng.value,P.Ca);P.ooa(Z);P.uc.up(Z,P.j.Ne.value,P.j.Sg.value);P.W0a(P.j,Z);P.WF(P.j,Z);P.XT(P.j,Z);P.roa(Z);P.qoa(Z);P.Pq(P.j,Z);P.vc(A.Fc.MM,!1,J.Ld | J.Ci | J.UC | J.Vr | J.zo,Z);};this.Jsa=function(Z,na){Z={waittime:(0,n.$f)(Z),abortedevent:"resumeplay",resumeplayreason:na};P.j.Gn && P.j.Gn.initBitrate && (Z.initvbitrate=P.j.Gn.initBitrate);P.uc.up(Z,P.j.Ne.value,P.j.Sg.value);P.XT(P.j,Z);P.Pq(P.j,Z);P.vc(A.Fc.MM,!1,J.Ld | J.Ci | J.zo,Z);};this.nwa=function(Z,na,qa){Z={newstate:na?"Paused":"Playing",oldstate:Z?"Paused":"Playing",reason:qa};P.XF(P.j,Z);P.Pq(P.j,Z);P.oB(P.j,Z);P.uc.up(Z,P.j.Ud.value && P.j.Ud.value.stream,P.j.sf.value && P.j.sf.value.stream);P.BL(Z,f.Th.dX);P.vc(A.Fc.dX,!1,J.Ld | J.Ci,Z);};this.eU=function(Z,na,qa){var Ha,Ya;Z=(0,n.Td)({vdlid:P.j.Ne.value.Tb,playingms:Z,pausedms:na,intrplayseq:P.tB++,prstate:P.Ux(),paustate:P.j.paused.value},qa);P.D4(Z,"intrplay");na=P.j.Bc[C.v.Y].value;qa=P.j.Bc[C.v.ea].value;Z.cdnid=Z.vcdnid=na && na.id;Z.acdnid=qa && qa.id;Z.locid=P.tU && P.tU.Lpa;Z.loclv=P.tU && P.tU.C3a;Z.avtp=P.MH.Wm().Nwa;Z.mediabuffered=null === (Ha=P.j.ie) || void 0 === Ha?void 0:Ha.F4();if(null === (Ya=P.j.Xa) || void 0 === Ya?0:Ya.Ww)(P.loa(Z),P.L5(Z),P.U0a(Z));try{(0,n.Td)(Z,P.j.q5(),{prefix:"vd_"});}catch(Va){}P.XF(P.j,Z);P.Pq(P.j,Z);P.oB(P.j,Z);P.uc.up(Z,P.j.Ud.value && P.j.Ud.value.stream,P.j.sf.value && P.j.sf.value.stream);P.vc(A.Fc.eU,!1,J.Ld | J.Ci,Z);};this.oC=function(Z,na,qa){Z={moffold:(0,n.Ml)(Z),reposseq:P.qW++,prstate:P.Ux(),paustate:P.j.paused.value};P.oB(P.j,Z);P.uc.up(Z,qa && qa.stream,na && na.stream);P.BL(Z,f.Th.oC);P.vc(A.Fc.oC,!1,J.Ld | J.Ci,Z);};this.Hha=function(){var Z,na,qa,Ha;na=P.j.tc.value;qa=P.j.Sg.value.Tb;na=na?{trackId:na.trackId,bcp47:na.se,downloadableId:qa,rank:na.ec,chan:na.channels}:{};qa=P.hy;Ha=null === (Z=P.opa) || void 0 === Z?void 0:Z.Tb;Z=qa?{trackId:qa.trackId,bcp47:qa.se,downloadableId:Ha,rank:qa.ec,chan:qa.channels}:{};P.vc(A.Fc.PRa,!1,J.Ld | J.Ci,{switchdelay:(0,n.$f)(P.getTime() - P.ppa),track:na,oldtrack:Z});};this.$W=function(Z){P.vc(A.Fc.Wab,!1,J.Ld | J.Ci,{speedold:Math.floor(1E3 * Z.oldValue),speed:Math.floor(1E3 * Z.newValue)});};this.$N=function(){P.vc(A.Fc.D3b,!1,J.Ld | J.Ci,{track:P.j.Gb.value.yg});};this.Xy=function(Z){var na,qa;na=P.j.Gb.value;if(Z.newValue || na && na.Yn() && !na.Zm()){qa=(Z=null !== (qa=Z.newValue) && void 0 !== qa?qa:na)?{trackId:Z.trackId,bcp47:Z.se,downloadableId:Z.Tb,rank:Z.ec,isImageBased:Z.ek}:{};Z=(Z=P.wpa)?{trackId:Z.trackId,bcp47:Z.se,downloadableId:Z.Tb,rank:Z.ec,isImageBased:Z.ek}:{};qa={switchdelay:(0,n.$f)(P.getTime() - P.vpa),track:qa,oldtrack:Z};P.uc.up(qa,P.j.Ud.value && P.j.Ud.value.stream,P.j.sf.value && P.j.sf.value.stream);P.vc(A.Fc.tcb,!1,J.Ld | J.Ci,qa);}};this.fp=function(Z){P.vc(A.Fc.Htb,!1,J.Ld | J.Ci,Z.newValue);};this.lvb=function(Z,na){var qa,Ha;qa=na.serverid;Ha={locid:na.location,loclv:na.locationlv,selocaid:qa,selcdnid:qa,selocaname:na.servername};Ha.mediatype=na.mediatype;Ha.selreason=na.selreason || "unknown";Ha.seldetail=na.seldetail;Ha.cdnbwdata=JSON.stringify([{id:qa}]);Z && (Ha.oldlocid=Z.Lpa,Ha.oldloclv=Z.C3a,Ha.oldocaid=Z.J_b,Ha.oldocaname=Z.NW);P.vc(A.Fc.SSa,!1,J.AY,Ha);};this.UVa=function(){var Z,na,qa;if(P.j.rg)try{Z=!1;P.Qdb || (Z=!0,P.zK=P.zK.filter(function(Ha){return !Ha.ia;}));if(0 < P.zK.length){na=P.I3.construct(P.zK,P.j.Ph.ba(p.na));P.zK=[];na.erroronly=Z;qa={};(0,n.Zf)(na,function(Ha,Ya){qa[Ha]=JSON.stringify(Ya);});P.vc(A.Fc.NBb,!1,J.Ci,qa);}}catch(Ha){P.log.error("Exception in dlreport.",Ha);}};this.Ux=function(){var Z;Z=P.j.lb.value;return Z === y.bb.me?"playing":Z === y.bb.Uh?"paused":Z === y.bb.bq?"ended":"waiting";};this.sy=function(){var Z,na,qa;if(P.j.state.value == y.Vb.$d){qa=P.QV();P.config().kua && (qa.avtp=P.MH.Wm().Nwa,(null === (Z=P.j.Xa) || void 0 === Z?0:Z.Ww) && P.L5(qa));qa.mediabuffered=null === (na=P.j.ie) || void 0 === na?void 0:na.F4();qa.midplayseq=P.Jqa++;qa.prstate=P.Ux();qa.paustate=P.j.paused.value;P.config().E_b && P.Hbb("midplay");P.config().gr && P.toa(qa);P.poa(qa);P.soa(qa);P.Pq(P.j,qa);P.uc.CL(qa);P.vc(A.Fc.sy,!1,J.Ld | J.Ci | J.UC | J.Vr,qa);}};this.Hbb=function(Z){var na,qa;na={};na.trigger=Z;try{qa=P.j.Zma();na.subtitleqoescore=P.j.ln.RJb(qa);na.metrics=JSON.stringify(P.j.ln.sna(qa));}catch(Ha){P.log.error("error getting subtitle qoe data",Ha);}P.vc(A.Fc.D2b,!1,J.Ld | J.UC | J.Tr,na);};this.transition=function(Z){P.oB(P.j,Z);P.XT(P.j,Z);P.vc(A.Fc.transition,!1,0,Z);};this.jva=function(Z,na){P.vc(A.Fc.jva,na,0,Z);};this.Lx=function(Z){var na,qa,Ha,Ya,Va,rb,mb;qa=P.QV();P.D4(qa,"endplay");qa.prstate=P.Ux();qa.paustate=P.j.paused.value;qa.muted=P.j.muted.value;P.j.Yy && "downloaded" === P.j.Yy.rL() && (qa.trickplay_ms=P.j.HX.offset,qa.trickplay_res=P.j.HX.G9a);P.config().Wdb && (qa.rtinfo=P.j.uJb());P.config().kua && (null === (na=P.j.Xa) || void 0 === na?0:na.Ww) && P.L5(qa);qa.endreason=Z?"error":P.j.lb.value === y.bb.bq?"ended":"stopped";(na=P.Fp) && (0,n.Td)(qa,na,{prefix:"pi_"});try{(0,n.Td)(qa,P.j.Vc,{prefix:"sm_"});}catch(Ta){}P.j.koa && (qa.inactivityTime=P.j.koa);P.loa(qa);P.U0a(qa);if(P.j.B2){na=P.j.B2;Ha=P.config().oSa;Ya=P.j.loadTime;Va={iv:Ha,seg:[]};rb=function(Ta,bb,ib){return 0 === bb || void 0 === ib[bb - 1]?Ta:Ta - ib[bb - 1];};mb=na.atb.map(rb);rb=na.n6b.map(rb);for(var Fb,Kb=0;Kb < mb.length;Kb++){if(mb[Kb] || rb[Kb])Fb?(Fb.ams.push(mb[Kb]),Fb.vms.push(rb[Kb])):Fb={ams:[na.atb[Kb]],vms:[na.n6b[Kb]],soffms:na.startTime + Kb * Ha - Ya};Kb !== mb.length - 1 && mb[Kb] && rb[Kb] || !Fb || (Va.seg.push(Fb),Fb=void 0);}qa.bt=JSON.stringify(Va);}Z && (P.ooa(qa),P.qoa(qa));P.Hbb("endplay");P.config().gr && P.toa(qa);P.uc.DL(qa,!1,P.j.Ng.value,P.Ca);P.Q0a(P.j,qa);P.WF(P.j,qa);P.XF(P.j,qa);P.oB(P.j,qa,P.Vga);P.Pq(P.j,qa);P.XT(P.j,qa);P.poa(qa);P.soa(qa);P.uc.CL(qa);P.RLb(qa);P.P0a(qa);P.TLb(qa);P.SLb(qa);P.VLb(qa);P.roa(qa);P.WLb(qa);P.vc(A.Fc.Lx,Z,J.Ld | J.Tr | J.Ci | J.UC | J.Vr | J.XC | J.zo,qa);};this.UBb=function(Z){P.zK.push(P.I3.axb(Z.response));};this.Hh=function(){P.vc(A.Fc.hSa,!1,J.Ld | J.UC | J.zo,{});};this.twb=function(Z){var na,qa;na=Z.response.Vl;Z=(0,p.Lb)(na.Wi);qa=(0,p.Lb)(na.Pp);na=(0,u.xa)(na.b3 || 0);na.o2a() || na.Uoa() || (Z=new t.Yda(Z,qa),P.MH.Sqb(new w.UBa(Z,na)));};this.t8=function(Z){var na,qa,Ha;Ha=Z.newValue;Z.Jh && Z.Jh.sM && Ha && (null === (na=Z.Jh) || void 0 === na || !na.reason) || Ha == P.jG || (P.nwa(P.jG,Ha,null === (qa=Z.Jh) || void 0 === qa?void 0:qa.reason),P.jG=Ha);};this.px=function(Z){function na(qa){var Ha;if(P.j.Kb && P.j.Kb.sourceBuffers){Ha=P.j.Kb.sourceBuffers.filter(function(Ya){return Ya.type === qa;}).pop();if(Ha)return {busy:Ha.uh(),updating:Ha.updating(),ranges:Ha.G4()};}}Z={cause:Z.cc};Z.cause && Z.cause === d.zda && (Z.mediaTime=P.j.mediaTime.value,Z.buf_audio=na(h.n_),Z.buf_video=na(h.AP));P.eU(P.xX[y.bb.me] || 0,P.xX[y.bb.Uh] || 0,Z);};this.Icb=function(Z){var na;Z=Z.oldValue;na=P.getTime();Z === y.bb.Ff?P.xX=[]:P.xX[Z]=(P.xX[Z] || 0) + (na - P.mOb);P.mOb=na;};this.Dl=function(Z){P.ppa=P.getTime();P.hy=Z.oldValue;};this.gl=function(Z){P.vpa=P.getTime();P.wpa=Z.oldValue;};this.IR=function(Z){P.opa=Z.oldValue;};this.FU=function(Z){function na(qa,Ha){var Ya;if(!qa || qa.Lpa !== Ha.location){Ya={Lpa:Ha.location,C3a:Ha.locationlv,J_b:Ha.serverid,NW:Ha.servername};P.lvb(qa,Ha);return Ya;}}if("audio" === Z.mediatype){if(Z=na(P.hOb,Z))P.hOb=Z;}else if(Z=na(P.tU,Z))P.tU=Z;};this.MW=function(Z){var na,qa;na=Z.mediatype;qa=Z.reason;"video" === na?"serverswitchaway" === qa?(P.aj.summary.web++,P.aj.F6=P.qa.ee.ba(p.na)):"serverswitchback" === qa && (P.aj.summary.xeb++,P.aj.F6 && (P.aj.summary.yeb.push(P.qa.ee.ba(p.na) - P.aj.F6),P.aj.F6=void 0)):"audio" === na && ("serverswitchaway" === qa?(P.aj.summary.CRa++,P.aj.x6=P.qa.ee.ba(p.na)):"serverswitchback" === qa && (P.aj.summary.DRa++,P.aj.x6 && (P.aj.summary.ERa.push(P.qa.ee.ba(p.na) - P.aj.x6),P.aj.x6=void 0)));P.vc(A.Fc.L_b,!1,J.Ld | J.Ci,{mediatype:Z.mediatype,server:Z.server,selreason:Z.reason,location:Z.location,bitrate:Z.bitrate,confidence:Z.confidence,throughput:Z.throughput,oldserver:Z.oldserver});};this.wE=function(Z){P.vc(A.Fc.usb,!1,J.Ci,{strmsel:Z.strmsel});};this.O6=function(Z){Z=l.__rest(Z,["type"]);P.Pq(P.j,Z);P.vc(A.Fc.ePb,!1,J.Ld,Z);};this.N6=function(Z){var na,qa;na=Z.mediaType;qa=Z.current;Z=Z.Yl;na === C.v.Y && (na={mediatype:(0,E.vG)(na),curr:{enc:qa.RA,origin:qa.QA},prev:{enc:Z.RA,origin:Z.QA}},P.Pq(P.j,na),P.vc(A.Fc.dPb,!1,J.Ld,na));};this.VN=function(Z){Z=Object.assign({},Z);Z.details && (Z.details=JSON.stringify(Z.details));P.vc(A.Fc.C2b,!0,J.Ld | J.Tr | J.AY,Z);};this.Vga=Wa.Kxa || Wa.U$ || Wa.bYa;this.MH=H();this.log=(0,m.Kh)(M,"LogblobBuilder");this.jG=M.paused.value;this.ma=this.Ca.ma;this.aj={summary:{web:0,xeb:0,yeb:[],CRa:0,DRa:0,ERa:[]},F6:void 0,x6:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;l=a(5163);f=a(93161);h=a(33096);d=a(13044);g=a(52569);m=a(31276);k=a(45146);n=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);w=a(70826);v=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);D=a(45266);C=a(60328);F=a(30873);G=a(79542);E=a(93161);c.prototype.W0a=function(M,L){var H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja;if(this.config().gr)try{H={};N=this.cd.getStats(void 0,void 0,M.O);I=M.xF();K=N.KH.Ewb || [];H.attempts=N.J8 || 0;H.num_completed_tasks=K.length;O=this.Yd.zEb;R={};Y=B.fj.WN;oa=B.fj.Ks;ka=B.fj.wia;N.Hk && (R.scheduled=N.Hk - I);ha=M.W;ha && (0,x.sb)(ha.fH) && (R.preauthsent=ha.fH - M.loadTime,R.preauthreceived=ha.nN - M.loadTime);za=K.filter(function(sa){return "manifest" === sa.type;});H.mf_succ=za.filter(O("status",Y)).length;H.mf_fail=za.filter(O("status",oa)).length;Ca=M.Vc;(0,x.Uc)(Ca.lg) && 0 > Ca.lg && M.loadTime && (R.ldlsent=Ca.lc,R.ldlreceived=Ca.lr);La=K.filter(function(sa){return "ldl" === sa.type;});H.ldl_succ=La.filter(O("status",Y)).length;H.ldl_fail=La.filter(O("status",oa)).length;N=!0;I=[];"notcached" === M.GE && (N=!1,I.push("Missing cached manifest"));this.config().GS || (N=!1,I.push("LDL prefetch disabled"));Wa=La.filter(O("status",ka)).length;this.config().GS && 0 === Wa && (!R.ldlreceived || 0 <= R.ldlreceived) && (N=!1,I.push("LDL received after start"));if(this.config().MWa)if(L.isPrefetchItem){db=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > db)(N=!1,I.push("Insufficient media fetched"));}else (N=!1,I.push("aseStats not initialized"));U=K.filter(function(sa){return "getHeaders" === sa.type;});H.header_succ=U.filter(O("status",Y)).length;H.header_fail=U.filter(O("status",oa)).length;ja=K.filter(function(sa){return "getMedia" === sa.type;});H.media_succ=ja.filter(O("status",Y)).length;H.media_fail=ja.filter(O("status",oa)).length;H.hm_succ=H.header_succ + H.media_succ;H.hm_fail=H.header_fail + H.media_fail;(0,n.Td)(L,H,{prefix:"pr_"});this.Os.HS && (L.eventlist_version=1,L.eventlist=this.xG.e_a(M));(L.prefetchCompleted=N) || (L.prefetchFailed=I,(0,n.Td)(L,R,{prefix:"pe_"}));this.toa(L);}catch(sa){this.log.warn("error in collecting video prepare data",sa);}};c.prototype.zJb=function(M,L){if(M=M.gT())if(L=M[L])return L.sa;};c.prototype.Q0a=function(M,L){M.Ya.ag && (L.isBranching=!0);};c.prototype.WF=function(M,L){var H,N;N=(null === (H=M.W) || void 0 === H?void 0:H.Roa) || "videopreparer" === M.FE;L.cachedManifest=M.GE;L.cachedLicense=M.FE;L.usedldl=this.config().GS?N.toString():"not_capable";};c.prototype.XF=function(M,L){var H,N;if(this.config().ULb){H=M.$ma();N=M.aa.W;H && N && (L.segment=H,N=M.cB(),L.segmenttime=N,M=this.zJb(M,H),null !== N && void 0 !== M && (L.segmentoffset=N - M));}};c.prototype.oB=function(M,L,H){L.pxid=M.E8;(void 0 === H?0:H) && (L.playgraph_trace=M.F7a);};c.prototype.XT=function(M,L){L.hasContentPlaygraph=M.w5();};c.prototype.PLb=function(M,L){var H,N;if(M.w5()){H=M.FA;N=M.W.Fa.Jm.ga;L.auxViewables=Object.keys(N.M).map(function(I){return N.M[I].J;}).filter(function(I,K,O){return I !== H && O.indexOf(I) === K;});}};c.prototype.U0a=function(M){var L,H;L=this.j.Rdc;H=L && L.Nfc;L && L.vLb && (M.htwbr=L.vLb,M.pbtwbr=L.xfc,M.hptwbr=L.Vdc);L && L.IZb && (M.rr=L.IZb,M.ra=L.Kfc);L && H && 0 < (H.length || 0) && (M.qe=JSON.stringify(H));};c.prototype.ooa=function(M){var L,H,N;try{L=this.Yd.createElement("canvas");H=L.getContext("webgl") || L.getContext("experimental-webgl");if(H){N=H.getExtension("WEBGL_debug_renderer_info");N && (M.WebGLRenderer=H.getParameter(N.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=H.getParameter(N.UNMASKED_VENDOR_WEBGL));}}catch(I){}};c.prototype.VLb=function(M){M.switchAwaySummary={vsa:this.aj.summary.web,vsb:this.aj.summary.xeb,vsbt:this.aj.summary.yeb,asa:this.aj.summary.CRa,asb:this.aj.summary.DRa,asbt:this.aj.summary.ERa};};c.prototype.Anb=function(M){var L;L=[];return M?Object.keys(M).map(function(H){return +H;}):L;};c.prototype.fF=function(){var M,L;M=this;if(this.j.gw && this.j.ai){L=[];this.j.gw.concat(this.j.ai).forEach(function(H){H.streams.forEach(function(N){L.push({dlid:N.Tb,type:N.type,bitrate:N.bitrate,vmaf:N.yb,cdn_ids:M.Anb(N.ska)});});});return JSON.stringify(L);}};c.prototype.kvb=function(){var L,H,N;function M(I,K){var O,R,Y;O=I.cdnId + "$" + I.correlationId;R=N[O];R || (R={cdnid:I.cdnId,pbcid:I.correlationId,dls:[]},N[O]=R,H.push(R));(0,k.vK)(I.bitrate);(0,k.vK)(I.duration);O={bitrate:I.bitrate,tm:(0,v.sn)(I.duration)};Y=I.vmaf;Y && ((0,k.vK)(I.vmaf),O.vf=Y);O[K]=(0,n.Ui)(I.downloadableId);R.dls.push(O);}L=this.j.Sk.FGb();H=[];N={};L.audio.forEach(function(I){M(I,"adlid");});L.video.forEach(function(I){M(I,"dlid");});return JSON.stringify(H);};c.prototype.QV=function(){var M,L,H,N,I,K,O,R,Y,oa,ka,ha,za;M=this.j.Sk;L={totaltime:(0,n.Ml)(M.pp("content")),totalcontenttime:(0,n.Ml)(M.FT("content")),totaladtime:(0,n.Ml)(M.pp("ads")),totalothertime:(0,n.Ml)(M.pp("other")),cdndldist:this.kvb(),reposcount:this.qW,intrplaycount:this.tB};try{H={numskip:0,numlowqual:0};N=this.j.ie;I=N.mv();(0,x.sb)(I) && (L.totfr=I,H.numren=I);I=N.CF();(0,x.sb)(I) && (L.totdfr=I,H.numrendrop=I);I=N.kT();(0,x.sb)(I) && (L.totcfr=I,H.numrenerr=I);L.playqualvideo=JSON.stringify(H);K=this.j.Ne.value;K && (L.videofr=K.framerate.toFixed(3));O=M.ima();O && (L.abrdel=O);R=M.D5() && M.FYa();R && (L.tw_vmaf=R);Y=M.DYa();Y && (0,n.Td)(L,Y);L.rbfrs=this.tB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.w4a;oa=this.j.fB();for(M=0;M < oa.length;M++){ka=oa[M];ha=this.Ca.jM.Ty(ka);if(ha){(0,k.oa)(za);L.maxbitrate=za?za.bitrate:0;L.maxresheight=za?za.height:0;L.bitratefilters=ha.join("|");break;}za=ka;}this.j.Yy && (L.trickplay=this.j.Yy.rL());null !== this.j.ln.XRa && (L.avg_subt_delay=this.j.ln.XRa);}catch(Ca){this.log.error("Exception reading some of the endplay fields",Ca);}(0,n.Td)(L,this.j.q5(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Eb().ba(p.na);};c.prototype.kna=function(){return this.getTime() - this.Ca.Ph.ba(p.na);};c.prototype.toa=function(M){var L;try{L=this.cd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.gGb);}catch(H){}};c.prototype.poa=function(M){this.log.debug("httpstats",this.He.Tf);(0,n.Td)(M,this.He.Tf,{prefix:"http_"});};c.prototype.Pq=function(M,L){M=M.fd;M.ha && (L.intenttoplayatedge=M.NT(),M=M.bB(),L.livestage=this.iIb(M));};c.prototype.iIb=function(M){switch(M){case F.Or.WP:case F.Or.qca:case F.Or.Hba:return M.toLowerCase();default:return (0,G.MS)(M);}};c.prototype.loa=function(M){var L,H,N;L=this.config().lVa && !(this.ma % this.config().lVa);H=this.j.Xa;N=null === H || void 0 === H?void 0:H.Fh;L && N && (M.ASEstats=JSON.stringify(H.x1a()));};c.prototype.L5=function(M){Object.assign(M,this.j.Xa.Ic.ZJb());};c.prototype.soa=function(M){var L;try{L=v.ju.memory;(0,x.l2a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(H){}};c.prototype.P0a=function(M){var L;try{if(this.config().XR){L=this.j.LGb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(H){}};c.prototype.RLb=function(M){this.j.s3 && (M.dqec=this.j.s3);};c.prototype.roa=function(M){var L,H,N;(null === (L=this.j.de) || void 0 === L?0:L.jL)?M.keysys=this.j.de.jL():(null === (N=null === (H=this.j.de) || void 0 === H?void 0:H.mediaKeys) || void 0 === N?0:N.keySystem)?M.keysys=this.j.de.mediaKeys.keySystem:this.gM.F2a && (M.keysys=this.gM.F2a);this.DB.H2a && (M.keySystemRestrictions=this.DB.H2a);this.DB.I2a && (M.keySystemRestrictionsDebug=this.DB.I2a);};c.prototype.qoa=function(M){var L;if(null === (L=this.j.de) || void 0 === L?0:L.EZa)M.keystatus=this.j.de.npa;};c.prototype.SLb=function(M){this.mla && (M.externaldisplay=this.mla.SK);};c.prototype.TLb=function(M){var L,H;if(this.Pxa){L=this.Pxa.map(function(N){return N.Kf;}).filter(function(N){return void 0 !== N;});H=(0,z.oqa)(L,function(N){return N.height;});H && (M.media_capabilities_smooth=H.smooth,M.media_capabilities_efficient=H.powerEfficient,M.media_capabilities_bitrate=H.bitrate,M.media_capabilities_height=H.height,M.media_capabilities_width=H.width);M.media_capabilities=L.map(function(N){return {smooth:N.smooth,efficient:N.powerEfficient,bitrate:N.bitrate,height:N.height,width:N.width};});}};c.prototype.WLb=function(M){M.didHydrateTracks=this.j.E3;};c.prototype.dOb=function(){void 0 === this.mla && (this.mla=this.nla.uEb());};c.prototype.eOb=function(M){var L;L=this;void 0 === this.Pxa && void 0 !== M && (this.Pxa=M.map(function(H){return L.zqa.tla(H);}));};c.prototype.D4=function(M,L){(L=this.j.lL(L)) && Object.entries(L).forEach(function(H){var N;N=la(H);H=N.next().value;N=N.next().value;M[H]=N;});};c.prototype.BL=function(M,L){var H;(L=null === (H=this.j.Xa) || void 0 === H?void 0:H.X4(void 0,L)) && Object.entries(L).forEach(function(N){var I;I=la(N);N=I.next().value;I=I.next().value;M[N]=I;});};c.prototype.vc=function(M,L,H,N){var I,K;K=L?"error":"info";L && this.j.th && (0,q.gZ)(this.j.th.errorCode,this.j.th.ya,this.kna(),null === (I=this.j.ie) || void 0 === I?void 0:I.mv()) && (K="info");this.Iga(N,this.j,L,H);M=this.ky.Ds(M,K,N,this.Ca);this.Of.vc(M);};c.prototype.QLb=function(M,L){var H,N;N=null === (H=L.Xa) || void 0 === H?void 0:H.cAb;N && (null === N || void 0 === N?void 0:N.J) !== L.FA && (M.auxMid || (M.auxMid=N.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.Ik(N.J).ke));};c.prototype.Iga=function(M,L,H,N){var I,K,O,R,Y;this.uc.R0a(M,L);this.QLb(M,L);N & J.Ld && ((0,k.oa)(!M || void 0 === M.moff),this.uc.V0a(M,L,L.w5()));N & J.Tr && this.uc.X0a(M,L);N & J.Ci && (null === (I=L.Xa) || void 0 === I?0:I.Fh) && (M.abuflbytes=null !== (K=M.abuflbytes) && void 0 !== K?K:L.Dha(),M.abuflmsec=null !== (O=M.abuflmsec) && void 0 !== O?O:L.FR(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.Nxa(),M.vbuflmsec=null !== (Y=M.vbuflmsec) && void 0 !== Y?Y:L.UX());N & J.Vr && this.uc.Y0a(M,L.kk);N & J.UC && (I=v.Be.hardwareConcurrency,0 <= I && (M.numcores=I),I=this.Ca.zka) && (K=I.jma(),M.droppedFrames=JSON.stringify(K),I=I.xT(this.config().kCb),(0,n.Zf)(I,function(oa,ka){M["droppedFramesP" + oa]=JSON.stringify(ka);}));if(N & J.AY)try{L.rg && (M.cdninfo=JSON.stringify(L.rg.map(function(oa){return {id:oa.id,nm:oa.name,rk:oa.ec,wt:oa.location.weight,lv:oa.location.level};})));}catch(oa){}H && N & J.XC && ((0,k.oa)(L.th),this.uc.T0a(M,L,L.th));N & J.zo && this.uc.noa(M);};Xa.Object.defineProperties(c.prototype,{Qdb:{configurable:!0,enumerable:!0,get:function(){return this.j.OA || this.j.ES;}}});b.vP=c;(function(M){M[M.Ld=1]="MOFF";M[M.Tr=2]="PRESENTEDSTREAMS";M[M.Ci=4]="BUFFER";M[M.Vr=8]="SCREEN";M[M.UC=16]="CPU";M[M.AY=32]="CDN";M[M.XC=64]="FATALERROR";M[M.zo=128]="BROWSERINFO";})(J || (J={}));},26158:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t){this.Of=n;this.config=p;this.qa=q;this.Ea=u;this.Spa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.wP=void 0;r=a(5163);l=a(45118);f=a(22674);h=a(98326);d=a(4203);g=a(30869);m=a(81918);k=a(99400);c.prototype.create=function(n,p,q,u){var t;t=this.Spa.create(n,p);return new k.yP(n,p,q,u,this.Of,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.nl)),r.__param(1,(0,f.l)(d.ac)),r.__param(2,(0,f.l)(g.fg)),r.__param(3,(0,f.l)(m.Jc)),r.__param(4,(0,f.l)(h.uP))],a);b.wP=a;},99400:function(r,b,a){var l,f,h,d;function c(g,m,k,n,p,q,u,t){var w;w=this;this.j=g;this.Ca=m;this.NF=n;this.Of=p;this.config=q;this.Ea=u;this.cb=t;this.HB=function(v,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === w.O && v(x);};};this.W3a=this.HB(function(v){w.k$(v.bG);},function(v){return v.O;});this.T3a=this.HB(function(){w.YR();},function(v){return v.O;});this.CTa=this.HB(function(){w.YR();},function(v){return v.movieId;});this.Hia=this.HB(function(){w.j.lb.value === d.bb.me && (w.j.lb.removeListener(w.Hia),w.vt());},function(){return w.j.O;});this.Xy=function(v){w.Gp && w.cb.Xy(v);};this.HTa=this.HB(this.cb.twb,function(v){return v.O;});this.bWa=this.HB(this.cb.UBb,function(v){return v.O;});this.z3a=this.HB(this.cb.FU,function(v){return w.j.ei(v.segmentId).O;});this.H$a=this.HB(this.cb.MW,function(v){return w.j.ei(v.segmentId).O;});this.Dj=function(v){v.skip && (w.xH=!0);switch(v.cc){case d.Zc.Nw:case d.Zc.qP:case d.Zc.g0:w.nr && w.xo && w.cb.Jsa(w.getTime() - w.xo,w.nr);w.nr="repos";w.cb.oC(v.zra,v.sf,v.Ud);w.xo=w.getTime();(0,h.Mf)(w.Yu);break;case d.Zc.iZ:(w.nr="force_rebuffer",w.xo=w.getTime(),(0,h.Mf)(w.Yu));}};this.Dl=function(v){w.hy=v.oldValue;w.cb.Dl(v);};this.Yu=function(){var v;if(w.xo && w.j.lb.value !== d.bb.Ff){v=w.getTime() - w.xo;w.cb.Et(v,w.xH,w.nr);w.hy && w.hy != w.j.tc.value && w.cb.Hha();w.xo=void 0;w.nr=void 0;w.xH=void 0;}};this.vt=function(){w.Gp || (w.Gp=!0,w.cb.xr(!1),w.woa(),w.config().U5 && (w.by=nb.setTimeout(function(){w.Of.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.by=void 0;},w.config().U5)));};this.sg=function(){w.by && (nb.clearTimeout(w.by),w.by=void 0);if(w.config().J3 || w.config().ER)(w.rka && (nb.clearInterval(w.rka),w.rka=void 0),w.cb.UVa());w.LX && w.LX();w.Gp?w.cb.Lx(!!w.j.th):w.j.th?w.cb.xr(!0):w.Ca.background.value || w.cb.Ksa();};this.YX=function(v){v.oldValue && v.Jh && v.Jh.KE && w.cb.ux(v.oldValue,v.newValue,v.Jh.KE,v.Jh.NR);};this.YV=function(v){var y;if(v.newValue){y=v.newValue.stream;w.kG != y && (w.kG && y && w.cb.eua(w.kG,y,w.NF(v.newValue.hK.startTime)),w.kG=y);}};this.O=m.O;this.log=(0,l.Kh)(g,"LogblobBuilder");this.va();k && this.k$();}Object.defineProperty(b,"__esModule",{value:!0});b.yP=void 0;l=a(31276);f=a(5021);h=a(32219);d=a(85001);c.prototype.va=function(){this.j.addEventListener(d.fa.qG,this.W3a);this.j.addEventListener(d.fa.fqa,this.T3a);this.j.addEventListener(d.fa.FU,this.z3a);this.j.addEventListener(d.fa.MW,this.H$a);this.j.addEventListener(d.fa.sg,this.CTa);if(this.config().J3 || this.config().ER)(this.j.addEventListener(d.fa.cF,this.bWa),this.rka=nb.setInterval(this.cb.UVa,this.config().YBb));this.config().kua && this.j.addEventListener(d.fa.cF,this.HTa);};c.prototype.k$=function(g){var m;m=this;this.j5a || (this.j.lb.value !== d.bb.me || (void 0 === g?0:g)?this.j.lb.addListener(this.Hia):this.vt(),this.j.Yh.addListener(this.Xy),this.j.Gb.addListener(this.cb.gl),this.j.tc.addListener(this.Dl),this.j.Sg.addListener(this.cb.IR),this.j.paused.addListener(this.cb.t8),this.j.Ud.addListener(this.YV),this.j.lb.addListener(this.Yu),this.j.lb.addListener(this.cb.Icb),this.j.Ne.addListener(this.YX),this.j.playbackRate.addListener(this.cb.$W),this.j.addEventListener(d.fa.Hh,this.cb.Hh),this.j.addEventListener(d.fa.wE,this.cb.wE),this.j.addEventListener(d.fa.O6,this.cb.O6),this.j.addEventListener(d.fa.N6,this.cb.N6),this.j.addEventListener(d.fa.VN,this.cb.VN),this.j.addEventListener(d.fa.px,function(k){m.nr="rebuffer";m.cb.px(k);m.xo=m.getTime();(0,h.Mf)(m.Yu);}),this.j.addEventListener(d.fa.Dj,this.Dj),this.j.addEventListener(d.fa.$N,this.cb.$N),this.Ca.fp && this.Ca.fp.addListener(this.cb.fp),this.j5a=!0);};c.prototype.YR=function(){this.sg();this.j5a && (this.j.removeEventListener(d.fa.qG,this.W3a),this.j.removeEventListener(d.fa.fqa,this.T3a),this.j.removeEventListener(d.fa.FU,this.z3a),this.j.removeEventListener(d.fa.MW,this.H$a),this.j.Yh.removeListener(this.Xy),this.j.Gb.removeListener(this.cb.gl),this.j.tc.removeListener(this.Dl),this.j.Sg.removeListener(this.cb.IR),this.j.paused.removeListener(this.cb.t8),this.j.Ud.removeListener(this.YV),this.j.lb.removeListener(this.Yu),this.j.lb.removeListener(this.Hia),this.j.lb.removeListener(this.cb.Icb),this.j.Ne.removeListener(this.YX),this.j.playbackRate.removeListener(this.cb.$W),this.j.removeEventListener(d.fa.sg,this.CTa),this.j.removeEventListener(d.fa.Hh,this.cb.Hh),this.j.removeEventListener(d.fa.wE,this.cb.wE),this.j.removeEventListener(d.fa.VN,this.cb.VN),this.j.removeEventListener(d.fa.px,this.cb.px),this.j.removeEventListener(d.fa.Dj,this.Dj),this.j.removeEventListener(d.fa.$N,this.cb.$N),this.Ca.fp && this.Ca.fp.removeListener(this.cb.fp),this.j.removeEventListener(d.fa.cF,this.bWa),this.j.removeEventListener(d.fa.cF,this.HTa));};c.prototype.getTime=function(){return this.Ea.Eb().ba(f.na);};c.prototype.woa=function(){var g,m,k;g=this;k=[];this.config().P4a && (this.config().Q4a.forEach(function(n){k.push(nb.setTimeout(g.cb.sy,n));}),this.config().q7 && (m=nb.setInterval(this.cb.sy,this.config().q7)),this.LX=function(){k.forEach(function(n){nb.clearTimeout(n);});m && nb.clearInterval(m);});};b.yP=c;},33345:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t;function c(w,v,y,x,z,A,B,D){this.Ea=w;this.platform=y;this.Fk=x;this.json=z;this.Ch=A;this.Yg=B;this.wPb=D;(0,h.co)(this,"json");this.la=v.Wa("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;r=a(5163);f=a(22674);h=a(66523);d=a(63368);g=a(5021);m=a(74870);k=a(81918);n=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(w){var v;v=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(v.pzb(B));return A;},new l());y(v.kGb(z));}catch(A){v.la.error(A.message);x(A);}}).then(function(y){return v.qva(y);});};c.prototype.pzb=function(w){return this.Ch.RB(this.Ch.RB({},w.data),{esn:this.Fk().bk,sev:w.severity,type:w.type,lver:this.platform.Qpa,jssid:this.Ea.id,devmod:this.platform.IA,jsoffms:w.timestamp.wa(this.Ea.jy).ba(g.na),clienttime:w.timestamp.ba(g.na),client_utc:w.timestamp.ba(g.sm),uiver:this.Yg.cw});};c.prototype.kGb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={CO:y.CO,Wt:y.Wt},++x)){y.Wt=Object.assign({},w.entries[x]);try{this.json.stringify(y.Wt);}catch(A){y.CO=void 0;this.Ch.UA(y.Wt,(function(B){return function(D,C){try{v.json.stringify(C);}catch(F){B.CO=F.message;B.Wt[D]=B.CO;}};})(y));y.Wt.stringifyException=y.CO;y.Wt.originalType=y.Wt.type;y.Wt.type="debug";y.Wt.sev="error";}}return this.json.stringify(w);}};c.prototype.qva=function(w){var v;v=this;return this.wPb.Cf(this.la,{logblobs:w}).then(function(){!1;}).catch(function(y){v.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Jc)),r.__param(1,(0,f.l)(q.Za)),r.__param(2,(0,f.l)(n.vn)),r.__param(3,(0,f.l)(p.vw)),r.__param(4,(0,f.l)(d.fD)),r.__param(5,(0,f.l)(m.mh)),r.__param(6,(0,f.l)(a.Lw)),r.__param(7,(0,f.l)(u.TIa))],t);b.eGa=t;},82956:function(r,b,a){var l,f;function c(h){switch(h){case l.R.iP:return "http";case l.R.kP:return "connectiontimeout";case l.R.cD:return "readtimeout";case l.R.UDa:return "corruptcontent";case l.R.bD:return "abort";case l.R.lP:case l.R.cca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.hna=b.g_a=b.WZa=void 0;l=a(36129);f=a(22365);b.WZa=c;b.g_a=function(h,d){var g;h={errorcode:h + (d.errorCode || l.U.Go)};d.ya && (h.errorsubcode=d.ya);d.De && (h.errorextcode=d.De);d.Uka && (h.erroredgecode=d.Uka);d.Jb && (h.errordetails=d.Jb);d.Kl && (h.httperr=d.Kl);d.H7 && (h.aseneterr=d.H7);d.VA && (h.errordata=d.VA);d.YU && (h.mediaerrormessage=d.YU);g=c(Number(d.ya));g && (h.nwerr=g);d.ke && (h.playbackContextId=d.ke);return h;};b.hna=function(){return {screensize:f.ku.width + "x" + f.ku.height,screenavailsize:f.ku.availWidth + "x" + f.ku.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:f.uHa};};},50723:function(r,b,a){var f,h,d,g,m,k,n;function c(p){this.GJ=d.Ia;this.Vfa=[];this.GQ=this.S0=!1;p && (this.GJ=p.size,this.Vfa=p.wG);}function l(p,q,u,t){this.SQb=p;this.config=q;this.Df=u;this.json=t;(0,h.co)(this,"json");this.la=this.Df.Wa("MessageQueue");this.ys=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;r=a(5163);f=a(22674);h=a(66523);d=a(72574);g=a(81829);m=a(87386);k=a(63368);a=a(45118);l.prototype.Rga=function(p){var q,u;0 === this.ys.length && this.ys.push(this.wma());if(p=this.wJb(p)){q=this.SQb.measure([p]);u=this.ys[this.ys.length - 1];0 < u.size.add(q).Ek(this.config.o4a) && (u=this.wma(),this.ys.push(u));u.Rga(p);}};l.prototype.JGb=function(){var p;p=this.ys.filter(function(q){return q.evb;});this.ys.push(this.wma());p.forEach(function(q){return q.$Pb();});return p;};l.prototype.Pqb=function(p){p.ey || this.ys.unshift(new c(p));};l.prototype.wYb=function(p){p=this.ys.indexOf(p);0 <= p && this.ys.splice(p,1);};l.prototype.wJb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};l.prototype.wma=function(){return new c();};Xa.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.ys.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.bGa)),r.__param(1,(0,f.l)(a.vca)),r.__param(2,(0,f.l)(m.Za)),r.__param(3,(0,f.l)(k.fD))],n);b.gHa=n;c.prototype.WN=function(){this.S0=!1;this.GQ=!0;};c.prototype.Ks=function(){this.S0=!1;};c.prototype.Rga=function(p){this.Vfa.push(p);this.GJ=this.GJ.add(p.size);};c.prototype.$Pb=function(){this.S0=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.GJ;}},wG:{configurable:!0,enumerable:!0,get:function(){return this.Vfa;}},evb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.wG.length && !1 === this.S0;}},ey:{configurable:!0,enumerable:!0,get:function(){return this.GQ;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.V3a=void 0;r=a(22674);c=a(37104);l=a(83081);f=a(43185);h=a(23176);d=a(17950);g=a(24273);m=a(44236);k=a(17398);n=a(47930);p=a(60042);q=a(97791);b.V3a=new r.ed(function(u){u(f.xGa).to(h.wGa).da();u(c.Lca).to(l.yGa).da();u(d.bKa).il(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(26159).xD;return new (Function.prototype.bind.apply(v,[null].concat(ca(w))))();});u(g.BGa).Wd(function(){return function(t){return new m.CGa(t);};});u(k.HI).to(n.uGa).da();u(p.tGa).to(q.sGa).da();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xGa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BGa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bKa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q){n=f.EP.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;l=a(29670);f=a(28518);h=a(45266);d=a(51344);g=a(35128);m=a(36129);k=a(31149);ea(c,f.EP);c.prototype.U6a=function(n,p,q){var u,t;u=this;t=this.config.x$;p=p.filter(function(w){var v,y;v=w.xB || !w.wg || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.k5(w));y=0 === t.length || 0 <= t.indexOf(w.Bh);y || u.log.warn("Audio track is not supported",u.k5(w));return v && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.T6a(n,w,u.yGb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.yUb=function(n,p,q,u){var t,w,v,y;t=this;w=la((0,h.$B)(function(x){return x.xB;},p));p=w.next().value;w=w.next().value;w=la((0,h.$B)(function(x){return x.streams && 0 < x.streams.length;},w));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.k5(x));});y=this.config.x$;w=la((0,h.$B)(function(x){return 0 === y.length || 0 <= y.indexOf(x.Bh);},v));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.k5(x));});p=[].concat(ca(v),ca(p)).map(function(x){return t.T6a(n,x,t.eIb(x.bg,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.htb=function(n){var p,q;p=this;q=this.config.Rla;if(q){if(n=la(n.filter(function(u){return u.se == q || u.trackId == q;})).next().value)return n;}else if(this.j.w4 && (n=la(n.filter(function(u){return u.trackId == p.j.w4;})).next().value))return n;};c.prototype.HEb=function(n,p){this.config.VRa.forEach(function(q){var u,t,w;u=p.ws.filter(function(v){return v.profile === q;}).reduce(function(v,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());t=!1;w=n.Fa.ws.map(function(v){var y;if(v.profile === q){y=v.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === v.streams.length)return v;t=!0;if(0 === y.length)throw new k.Mc(m.U.jGa,m.R.tfb);return Object.assign(Object.assign({},v),{streams:y});}return v;});t && (n.Fa=Object.assign(Object.assign({},n.Fa),{ws:w}));});return n;};c.prototype.T6a=function(n,p,q){var u,t,w,v;v=p.Bh;n=Object.assign(Object.assign({},n),{type:d.Rj.audio,GH:p.GH,variant:p.variant,trackId:p.bg,$F:p.jO,Bh:g.j0[v.toLowerCase()] || g.Eo.QI,nC:v,se:p.language,displayName:p.EB,ec:null !== (u=p.ec) && void 0 !== u?u:-1,wg:null !== (t=p.wg) && void 0 !== t?t:!0,channels:p.channels,hcc:p.channels,eh:q,yg:{Bcp47:p.language,TrackId:p.bg},streams:[],isNative:p.isNative,Yn:p.xB,lX:p.lX});n.streams=this.Mcb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.eh.length});n.pwb=l.Gza[null === (w=n.streams[0]) || void 0 === w?void 0:w.Fd];return n;};c.prototype.k5=function(n){return {language:n.EB,bcp47:n.language,type:n.Bh};};c.prototype.yGb=function(n,p){return p.filter(function(q){if(0 <= n.IBb.indexOf(q.$F))return !1;if(n.zVa){if(n.zVa !== q.$F && (q.Yn() || q.Zm()))return !1;}else if(n.PSb){if(q.Yn() || q.Zm())return !1;}else if(q.Zm())return !1;return !0;});};c.prototype.eIb=function(n,p,q){return p.filter(function(u){return u.Bd.ea === n;}).map(function(u){return u.Bd.Ka;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.Fza=c;},82409:function(r,b,a){var l,f;function c(h,d){this.log=h;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;l=a(45266);f=a(64274);c.prototype.V6a=function(h,d){var g,m,k,n;g=this;m=this.config.Aia;k=this.config.zia;h=la((0,l.$B)(function(p){return (!m.length || 0 <= m.indexOf(p.id)) && 0 > k.indexOf(p.id);},h || []));n=h.next().value;h.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});h=n.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,ec:p.ec,type:p.type,x3a:p.key,lNb:p.L3a,location:{id:q.key,ec:q.ec,level:q.level,weight:q.weight}};});h.sort(function(p,q){return p.ec - q.ec;});this.log.trace("Transformed cdns",{Count:h.length});if(!h.length)throw Error("no valid cdns");return h;};c.prototype.ALb=function(h,d,g,m){var k;k=h.filter(function(n){return -1 === g.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {x6a:!0,$b:n};}).concat(g.map(function(n){return {x6a:!1,$b:n};})).sort(function(n,p){return n.$b.ec === p.$b.ec?n.x6a?-1:1:n.$b.ec - p.$b.ec;}).map(function(n,p){(0,f.bM)(n.$b).ec=p + 1;return n.$b;});h=d.filter(function(n){return -1 === m.findIndex(function(p){return p.key === n.key;});}).concat(m).map(function(n){var p;p=k.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=k[p],(0,f.bM)(n).ec=p.ec,n);}).filter(function(n){return void 0 !== n;});return {I_b:k,nPb:h};};b.PAa=c;},23176:function(r,b,a){var l,f,h,d,g,m;function c(k,n){k=f.Re.call(this,k,"ManifestParserConfigImpl") || this;k.Lf=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(12501);g=a(5614);m=a(72574);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{x$:{configurable:!0,enumerable:!0,get:function(){return [];}},Rla:{configurable:!0,enumerable:!0,get:function(){return "";}},Aia:{configurable:!0,enumerable:!0,get:function(){return [];}},zia:{configurable:!0,enumerable:!0,get:function(){return [];}},Vla:{configurable:!0,enumerable:!0,get:function(){return "";}},foa:{configurable:!0,enumerable:!0,get:function(){return 0;}},aO:{configurable:!0,enumerable:!0,get:function(){return this.Lf.aO.ba(m.Jr);}},Mt:{configurable:!0,enumerable:!0,get:function(){return this.Lf.Mt;}},yL:{configurable:!0,enumerable:!0,get:function(){return this.Lf.yL;}},VRa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.FH,"supportedAudioTrackTypes")],a.prototype,"x$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Rla",null);r.__decorate([d.config(d.lxa,"cdnIdWhiteList")],a.prototype,"Aia",null);r.__decorate([d.config(d.lxa,"cdnIdBlackList")],a.prototype,"zia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Vla",null);r.__decorate([d.config(d.$y,"imageSubsResolution")],a.prototype,"foa",null);r.__decorate([d.config(d.$y,"timedTextSimpleFallbackThreshold")],a.prototype,"aO",null);r.__decorate([d.config(d.FH,"timedTextProfiles")],a.prototype,"Mt",null);r.__decorate([d.config(d.FH,"imscLanguageList")],a.prototype,"yL",null);r.__decorate([d.config(d.FH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"VRa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul)),r.__param(1,(0,l.l)(g.SI))],a);b.wGa=a;},83081:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y){this.Df=t;this.config=w;this.Vsa=v;this.dxa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(43185);d=a(82409);g=a(71420);m=a(85696);k=a(6795);n=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var w,v;w=this.Df.Wa("ManifestParser",t);v=new d.PAa(w,this.config);return new m.zGa(v,new g.yMa(w,this.config,t,this.Vsa),new k.TMa(w,t,this.dxa),new n.Fza(w,this.config,t),new p.wNa(w));};u=c;u=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.xGa)),r.__param(2,(0,l.l)(q.bKa)),r.__param(3,(0,l.l)(a.SMa))],u);b.yGa=u;},85696:function(r,b,a){var l;function c(f,h,d,g,m){this.Bia=f;this.Jwa=h;this.f4b=d;this.KR=g;this.peb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;l=a(64274);c.prototype.X6a=function(f){var h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B;g=f.Fa;m={Bf:null !== (d=null === (h=g.xA) || void 0 === h?void 0:h.Ep) && void 0 !== d?d:"",dC:g.Ioa?"ads":"content"};k=!!g.iW;h=this.Bia.V6a(g.nk,g.li);d=this.Jwa.Z6a(m,g.PH);f=this.f4b.EUb(g.i4b);n=k?this.KR.U6a(m,g.ws,d):this.KR.yUb(m,g.ws,g.media,d);m=this.peb.FUb(m,g.Tt);p=m[0];q=this.KR.htb(n) || n.find(function(D){return k?D.trackId === g.iW.ap:D.$F === g.w3[0].ap;}) || n[0];u=this.Jwa.C3b(q.eh) || d.find(function(D){return k?D.trackId === g.iW.bO:D.$F === g.w3[0].Ibb;}) || q.eh[0];t=this.peb.BUb(g.Tt);w=g.ke;v=g.fwb;y=g.iB;x=g.Gk;z=g.ws.findIndex(function(D){return D.bg == q.trackId;});A=g.Tt.findIndex(function(D){return D.bg == p.trackId;});B=g.PH.findIndex(function(D){return D.bg == u.trackId;});return {Bt:t,rg:h,ai:n,gw:m,eh:d,Zy:f,ke:w,M_b:v,fG:y,Gk:x,GAb:z,NAb:A,MAb:B,x3:p,oS:q,pS:u};};c.prototype.BLb=function(f,h,d){var g,m,k,n,p,q;g=this;n=this.Bia.ALb(f.Fa.nk,f.Fa.li,d.Fa.nk,d.Fa.li);p=n.I_b;n=n.nPb;(0,l.bM)(f.Fa).nk=p;(0,l.bM)(f.Fa).li=n;h.rg=this.Bia.V6a(p,n);q={Bf:null !== (k=null === (m=d.Fa.xA) || void 0 === m?void 0:m.Ep) && void 0 !== k?k:"",dC:d.Fa.Ioa?"ads":"content"};d=d.Fa;m=d.ws;d.PH.forEach(function(u){var t;if(u.wg){t=g.v9a(f.Fa.PH,h.eh,u,function(w){return g.Jwa.Z6a(q,[w])[0];});t && h.ai.forEach(function(w){var v;w=w.eh;v=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});m.forEach(function(u){u.wg && g.v9a(f.Fa.ws,h.ai,u,function(t){return g.KR.U6a(q,[t],h.eh)[0];});});return {W:f,zc:h};};c.prototype.TZb=function(f,h){return this.KR.HEb(f,h);};c.prototype.v9a=function(f,h,d,g){var m,k,n,p;m=f.findIndex(function(q){return q.bg === d.bg;});k=-1 !== m?f[m]:void 0;n=h.findIndex(function(q){return q.trackId === d.bg;});p=-1 !== n?h[n]:void 0;if(k && !k.wg && p && !p.wg)return (g=g(d),f[m]=d,h[n]=g);};b.zGa=c;},44236:function(r,b){function a(c){this.zc=c;this.Jb=JSON.stringify(this.pIb());}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;a.prototype.pIb=function(){var c;c=[];(!this.zc.rg || 0 >= this.zc.rg.length) && c.push({error:"No CDN."});this.zc.oS || c.push({error:"No default audio track.",foundTracks:this.yma(this.zc.ai)});this.zc.x3 || c.push({error:"No default video track.",foundTracks:this.yma(this.zc.gw)});this.zc.pS || c.push({error:"No default subtitle track.",foundTracks:this.yma(this.zc.eh)});return c;};a.prototype.yma=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.CGa=a;},28518:function(r,b,a){var l;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.EP=void 0;l=a(6305);c.prototype.Mcb=function(f,h){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + h.type + " track - " + h.trackId),[]);g=f.map(function(m){var k,n,p,q,u,t,w,v;v=new l.MediaStream(h,h.type,m.Nm,m.bitrate,m.yb,m.size,d.rHb(m.urls),m.AA,m.lYa / m.kYa,m.gi,m.Ai);v.C0b(m.H9a,m.xua,m.m7a,m.l7a);v.S_b(null !== (k=m.$zb) && void 0 !== k?k:void 0,null !== (n=m.aAb) && void 0 !== n?n:void 0,null !== (p=m.Zzb) && void 0 !== p?p:void 0,null !== (q=m.Yzb) && void 0 !== q?q:void 0,null !== (u=m.m7a) && void 0 !== u?u:void 0,null !== (t=m.l7a) && void 0 !== t?t:void 0);h.Gk && (v.Gk=h.Gk);m.gF && (v.gF=null !== (w=m.gF) && void 0 !== w?w:void 0);m.AA && (v.Fd=m.AA);return v;});g.sort(function(m,k){return m.bitrate - k.bitrate;});g.forEach(function(m,k){m.lower=g[k - 1];m.Qdc=g[k + 1];});return g;};c.prototype.rHb=function(f){return f.reduce(function(h,d){h[d.Gg]=d.url;return h;},{});};b.EP=c;},71420:function(r,b,a){var l,f,h,d;function c(g,m,k,n){this.log=g;this.config=m;this.j=k;this.Vsa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;l=a(75568);f=a(22365);h=a(35128);d=a(14423);c.prototype.Z6a=function(g,m){var k;k=this;m=m.map(function(n){var p,q,u,t,w;t=k.X3b(n);n.xB || !n.wg || t && 0 < t.length || k.log.error("track without downloadables",k.mIb(n));w={};0 < t.length && (w=n.language && 0 <= k.config.yL.indexOf(n.language)?null !== (p=t.find(function(v){return v.profile === l.tl.sEa;})) && void 0 !== p?p:t[0]:t[0],w.profile == l.tl.JI && (w=k.r_b(t),!1));n=k.Vsa(k.j,n.bg,n.id,null !== (q=n.ec) && void 0 !== q?q:-1,null !== (u=n.wg) && void 0 !== u?u:!0,g,w.Tb,w.urls || [],n.language,n.EB,h.j0[n.Bh.toLowerCase()] || h.Eo.QI,n.GH,n.variant,n.nC.toUpperCase(),w.profile,k.zIb(w) || ({}),n.xB,n.g6,n.i6,n.Xs);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.C3b=function(g){var m,k;m=this;k=this.config.Vla;if(k){if(g=la(g.filter(function(n){return n.se == k || n.trackId == k;})).next().value)return g;}else if(this.j.x4 && (g=la(g.filter(function(n){return n.trackId == m.j.x4;})).next().value))return g;};c.prototype.X3b=function(g){var m,k;m=this;k=g.gWa;g=Object.entries(g.jxa || ({})).map(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;return {Tb:k[n],profile:n,size:p.size || 0,priority:m.sHb(n,p),offset:p.Kqa || 0,YUb:p.width,k7a:p.height,urls:p.urls};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.sHb=function(g,m){var k,n;k=this.config.Mt.indexOf(g);m=m.size;n=this.config.aO;return g === l.tl.lba && 0 < n && m > n?this.config.Mt.length + 1:0 <= k?k:this.config.Mt.length;};c.prototype.zIb=function(g){if(g.profile === l.tl.JI)return {offset:g.offset,length:g.size,Yk:{width:g.YUb,height:g.k7a}};};c.prototype.r_b=function(g){var m,k;m=this.config.foa || d.sea.m_a();k=la(g.filter(function(n){return n.profile === l.tl.JI;}).filter(function(n){return n.k7a === m;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.ku.height,intendedResolution:m});return g[0];};c.prototype.mIb=function(g){return {isNone:g.xB,isForced:g.g6,bcp47:g.language,id:g.bg};};b.yMa=c;},6795:function(r,b){function a(c,l,f){this.log=c;this.j=l;this.dxa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;a.prototype.EUb=function(c){var l;l=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return l.dxa(l.j,f.id,f.height,f.width,f.aVb,f.bVb,f.size,f.Xs,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,h){return f.size - h.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.TMa=a;},44858:function(r,b,a){var l,f,h,d;function c(g){return f.EP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wNa=void 0;l=a(45266);f=a(28518);h=a(51344);d=a(35128);ea(c,f.EP);c.prototype.FUb=function(g,m){var k,n;k=this;m=la((0,l.$B)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.bg});});m=n.map(function(p){var q;q=p.Bh;q=Object.assign(Object.assign({},g),{type:h.Rj.video,trackId:p.bg,$F:p.jO,Bh:d.j0[q.toLowerCase()] || d.Eo.QI,nC:q,streams:[],yg:{},$V:p.$V});q.streams=k.Mcb(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.BUb=function(g){var m;m=g.map(function(k){return k.$V;}).filter(Boolean);m=[].concat.apply([],ca(m)).map(function(k){return k.xa;});g=g.map(function(k){return k.wka;}).filter(Boolean).map(function(k){return k.xa;});return 0 < m.length?m:g;};b.wNa=c;},81737:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(22674);c=a(99070);l=a(49745);b.W=new r.ed(function(f){f(l.mD).to(c.vGa).da();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tGa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HI="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mD="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wza="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uza="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tza="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.YJ=void 0;r=a(22674);c=a(91622);l=a(72516);f=a(81364);h=a(63143);d=a(25293);g=a(12563);b.YJ=new r.ed(function(m){m(c.Wza).to(h.Vza).da();m(l.Uza).to(d.Rza).da();m(f.Tza).to(g.Sza).da();});},25293:function(r,b,a){var l,f;function c(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Rza=void 0;r=a(5163);l=a(22674);a=a(4203);c.prototype.Bma=function(){return this.AF().Jtb;};c.prototype.Cma=function(){return this.AF().Ktb;};c.prototype.SHb=function(){return this.AF().Ltb;};c.prototype.kma=function(){return this.AF().iSa;};c.prototype.AF=function(){return this.config();};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ac))],f);b.Rza=f;},12563:function(r,b,a){var l,f,h;function c(d){this.tb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;r=a(5163);l=a(22674);f=a(42207);h=a(5021);c.prototype.n2b=function(d,g){var m,k;m=parseFloat(d);k=0;"%" === d[d.length - 1] && this.tb.Yj(m)?k=Math.round(m * g.ba(h.na) / 100):(d=parseInt(d),this.tb.AR(d) && (k=d));return (0,h.Lb)(Math.min(k,g.ba(h.na)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Wf))],a);b.Sza=a;},63143:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q){this.y2=n;this.tb=p;this.Itb=q;this.la=k.Wa("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;r=a(5163);l=a(22674);f=a(72516);h=a(81364);d=a(87386);g=a(42207);m=a(5021);c.prototype.Brb=function(k){var n,p;n=k.Ya.playbackState && k.Ya.playbackState.currentTime;p=this.$Gb(k.O);n=this.tb.XE(n)?(0,m.Lb)(n):p;p=0;this.tb.ug(n)?(this.la.info("Overriding bookmark",{From:k.bz.ba(m.na),To:n.ba(m.na)}),n=Object.assign({},k,{bz:n})):n=k;k.fd.ha && (k=k.fd.Kma(k.bz.ba(m.na)),n=Object.assign({},n,{bz:(0,m.Lb)(k.El),eC:(0,m.Lb)(k.eC)}),p=k.xVa);return n.bz.Uoa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,m.Lb)(p)):this.ILb(n)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Lb)(p)):this.HLb(n)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,m.Lb)(p)):this.GLb(n)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Lb)(p)):n.bz;};c.prototype.ILb=function(k){return 0 > k.bz.Ek(this.Bma(k));};c.prototype.Bma=function(k){return this.jSa(this.y2.Bma(),k.eC);};c.prototype.HLb=function(k){return 0 < k.bz.Ek(this.Cma(k));};c.prototype.Cma=function(k){var n;n=k.Ya.ag?this.y2.SHb():this.y2.Cma();return k.eC.wa(this.jSa(n,k.eC));};c.prototype.GLb=function(k){return 0 < k.bz.Ek(this.zHb(k));};c.prototype.zHb=function(k){return k.eC.wa((0,m.Lb)(k.ZB));};c.prototype.$Gb=function(k){var n;k=this.y2.kma()[k];n=-1;this.tb.Xo(k)?n=parseInt(k):this.tb.Yj(k) && (n=k);if(this.tb.AR(n))return (0,m.Lb)(n);};c.prototype.jSa=function(k,n){return this.Itb.n2b(k,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.Za)),r.__param(1,(0,l.l)(f.Uza)),r.__param(2,(0,l.l)(g.Wf)),r.__param(3,(0,l.l)(h.Tza))],a);b.Vza=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rAa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.BSa=void 0;r=a(22674);c=a(34029);l=a(28419);b.BSa=new r.ed(function(f){f(c.rAa).to(l.qAa).da();});},28419:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t,w,v,y){this.config=q;this.UB=t;this.profile=w;this.K$=v;this.WR=y;this.log=u.Wa("CDMAttestedDescriptor");this.SYa(n.hu.SP);}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;r=a(5163);l=a(22674);f=a(4203);h=a(87386);d=a(97996);g=a(70865);m=a(71501);k=a(2492);n=a(34231);p=a(24735);c.prototype.SYa=function(q){var u;u=this;return this.K$.b$(q)?this.config().FCb?this.QYa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.e3a || (!1,u.e3a=u.WR.jna(p.Dh.rn));return u.e3a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Ry.close();return null === t || void 0 === t?void 0:t.Cia;}).then(function(t){return Promise.all([Promise.resolve(t),u.QYa()]);}).then(function(t){var w;t=la(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.UB().then(function(t){t.fV.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.QYa=function(){var q;q=this;return this.UB().then(function(u){return (u=u.fV.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ac)),r.__param(1,(0,l.l)(h.Za)),r.__param(2,(0,l.l)(d.IP)),r.__param(3,(0,l.l)(m.VI)),r.__param(4,(0,l.l)(g.l0)),r.__param(5,(0,l.l)(k.HY))],a);b.qAa=a;},97791:function(r,b,a){var l,f;function c(h){this.yDb=h;this.S3a={Om:"drmType",Tcc:"drmVersion",expiration:"expiration",O:"movieId",gn:"packageId",duration:"duration",ke:"playbackContextId",w3:["defaultTrackOrderList",{fM:"mediaId",tO:"videoTrackId",Ibb:"subtitleTrackId",ap:"audioTrackId",Efc:"preferenceOrder"}],Xcc:["eligibleABTestMap",{ij:f.ij}],Obc:["badgingInfo",{Occ:"dolbyDigitalAudio",Ldc:"hdrVideo",Pcc:"dolbyVisionVideo",$gc:"ultraHdVideo","3dVideo":"3dVideo",Ncc:"dolbyAtmosAudio",Dbc:"assistiveAudio",bgc:"sdVideo",Kdc:"hdVideo"}],type:"type",Jbc:["audioTextShortcuts",{id:"id",ap:"audioTrackId",dcb:"textTrackId"}],wfc:"partiallyHydrated",u4a:"maxRecommendedAudioRank",v4a:"maxRecommendedTextRank",Gk:"drmContextId",QKb:"hasDrmProfile",OKb:"hasClearProfile",iB:"hasDrmStreams",v5:"hasClearStreams",li:["locations",{ec:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],nk:["servers",{id:"id",name:"name",type:"type",ec:"rank",L3a:"lowgrade",QBb:["dns",{host:"host",GMb:"ipv4",HMb:"ipv6",AFb:"forceLookup"}],key:"key"}],ws:["audio_tracks",{type:"type",GH:"subType",variant:"variant",Bh:"trackType",bg:"new_track_id",jO:"track_id",ZWb:"profileType",Z1b:"stereo",profile:"profile",channels:"channels",language:"language",uvb:"channelsFormat",lX:"surroundFormatLabel",EB:"languageDescription",IBb:"disallowedSubtitleTracks",zVa:"defaultTimedText",isNative:"isNative",xB:"isNoneTrack",streams:["streams",{Nm:"downloadable_id",size:"size",AA:"content_profile",Bh:"trackType",bitrate:"bitrate",gi:"isDrm",urls:["urls",{Gg:"cdn_id",url:"url",M6:"liveOcaCapabilities"}],XRb:"new_stream_id",type:"type",channels:"channels",uvb:"channelsFormat",lX:"surroundFormatLabel",language:"language",Hbc:"audioKey",zRb:["moov",{size:"size",offset:"offset"}],pk:["sidx",{size:"size",offset:"offset"}],J1b:["ssix",{size:"size",offset:"offset"}],Ai:"tags",SYb:"representationId"}],pwb:"codecName",nC:"rawTrackType",id:"id",ec:"rank",wg:"hydrated",PSb:"offTrackDisallowed"}],Tt:["video_tracks",{Bh:"trackType",bg:"new_track_id",type:"type",jO:"track_id",QKb:"hasDrmProfile",OKb:"hasClearProfile",iB:"hasDrmStreams",v5:"hasClearStreams",RF:"groupName",streams:["streams",{Nm:"downloadable_id",size:"size",AA:"content_profile",Bh:"trackType",gF:"drmHeaderId",bitrate:"bitrate",gi:"isDrm",urls:["urls",{Gg:"cdn_id",url:"url",M6:"liveOcaCapabilities"}],XRb:"new_stream_id",type:"type",yfc:"peakBitrate",CBb:"dimensionsCount",DBb:"dimensionsLabel",m7a:"pix_w",l7a:"pix_h",H9a:"res_w",xua:"res_h",$zb:"crop_x",aAb:"crop_y",Zzb:"crop_w",Yzb:"crop_h",lYa:"framerate_value",kYa:"framerate_scale",Yab:"startByteOffset",yb:"vmaf",zRb:["moov",{size:"size",offset:"offset"}],pk:["sidx",{size:"size",offset:"offset"}],J1b:["ssix",{size:"size",offset:"offset"}],oH:["segmentVmaf",{offset:"offset",yb:"vmaf"}],Ai:"tags",SYb:"representationId"}],ZWb:"profileType",Z1b:"stereo",profile:"profile",CBb:"dimensionsCount",DBb:"dimensionsLabel",wgc:["snippets",{ij:[f.ij,{vgc:"snippetSpec",sa:"startTimeMs",ta:"endTimeMs"}]}],wka:["drmHeader",{xa:"bytes",Ovb:"checksum",gF:"drmHeaderId",Zn:"keyId",Yk:["resolution",{height:"height",width:"width"}]}],$V:["prkDrmHeaders",{xa:"bytes",Ovb:"checksum",gF:"drmHeaderId",Zn:"keyId",Yk:["resolution",{height:"height",width:"width"}]}],Hq:"flavor",Xdc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Gsa:"pixelAspectX",Hsa:"pixelAspectY",Dec:"maxCroppedWidth",Cec:"maxCroppedHeight",Eec:"maxCroppedX",Fec:"maxCroppedY",yqa:"max_framerate_value",xqa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Wec:"minCroppedWidth",Vec:"minCroppedHeight",Xec:"minCroppedX",Yec:"minCroppedY",Xg:["license",{uOb:"licenseResponseBase64",Ifc:"providerSessionToken",fgc:"secureStopExpected",Scc:"drmSessionId",links:["links",{}]}]}],xA:["cdnResponseData",{sH:"sessionABTestCell",Ep:"pbcid"}],hp:["choiceMap",{xe:"initialSegment",type:"type",J:"viewableId",M:["segments",{ij:[f.ij,{sa:"startTimeMs",ta:"endTimeMs",next:["next",{ij:[f.ij,{weight:"weight"}]}],Cb:"defaultNext",Fq:"exitZones"}]}]}],Jm:["contentPlaygraph",{ga:["playgraph",{xe:"initialSegment",M:["segments",{ij:[f.ij,{J:"viewableId",sa:"startTimeMs",ta:"endTimeMs",next:["next",{ij:[f.ij,{weight:"weight"}]}],Cb:"defaultNext"}]}]}],xgc:["startIdent",{Ydc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Bd:["tracks",{ea:"AUDIO",Ka:"TEXT",Y:"VIDEO"}]}],iW:["recommendedMedia",{tO:"videoTrackId",ap:"audioTrackId",bO:"timedTextTrackId"}],PH:["timedtexttracks",{Bh:"trackType",bg:"new_track_id",type:"type",GH:"subType",variant:"variant",nC:"rawTrackType",EB:"languageDescription",language:"language",id:"id",xB:"isNoneTrack",g6:"isForcedNarrative",gWa:["downloadableIds",{}],dcc:["cdnlist",{id:"id",name:"name",type:"type",ec:"rank",L3a:"lowgrade",QBb:["dns",{host:"host",GMb:"ipv4",HMb:"ipv6",AFb:"forceLookup"}],key:"key"}],jxa:["ttDownloadables",{ij:[f.ij,{id:"id",size:"size",Mgc:"textKey",Jdc:"hashValue",Idc:"hashAlgo",gec:"isImage",Kqa:"midxOffset",R4a:"midxSize",height:"height",width:"width",ska:["downloadUrls",{}],urls:["urls",{url:"url",Gg:"cdn_id",M6:"liveOcaCapabilities"}]}]}],i6:"isLanguageLeftToRight",Xs:"headIdentDuration",ec:"rank",wg:"hydrated"}],i4b:["trickplays",{Nm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",bVb:"pixelsAspectY",aVb:"pixelsAspectX",width:"width",height:"height",Xs:"headIdentDuration"}],Feb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Rcc:"dpsid",ag:"isBranching",nhc:"viewableType",Ioa:"isAd",NL:"isSupplemental",fwb:"clientIpAddress",chc:"urlExpirationDuration",xec:"manifestExpirationDuration",zgc:["steeringAdditionalInfo",{Agc:"steeringId",ybc:"additionalGroupNames",Bgc:["streamingClientConfig",{}]}],bc:"auxiliaryManifestToken",zj:["liveMetadata",{tka:["downloadableIdToSegmentTemplateId",{ij:f.ij}],kva:["segmentTemplateIdToSegmentTemplate",{ij:[f.ij,{v2:"availabilityStartTime",oMb:"initialization",media:"media",oWb:"presentationTimeOffset",ON:"startNumber",duration:"duration",S:"timescale"}]}],OSb:"ocLiveWindowDurationSeconds",c4:"eventAvailabilityOffsetMs",fla:"eventStartTime",d4:"eventEndTime",FBb:"disableLiveUi"}],dg:"streamingType"};this.QPb=Object.assign(Object.assign({},this.S3a),{cp:["auxiliaryManifests",this.S3a],Am:["adverts",{ce:["adBreaks",{fk:"locationMs",ph:"adBreakToken",Ye:["ads",{id:"id",sa:"startTimeMs",ta:"endTimeMs",D$:["timedAdEvents",{event:"event",Ou:"adEventToken",Pwa:"timeMs"}],hA:["actionAdEvents",{start:["start",{event:"event",Ou:"adEventToken"}],complete:["complete",{event:"event",Ou:"adEventToken"}],stop:["stop",{event:"event",Ou:"adEventToken"}]}],$s:"is3pVerificationEnabled",XN:"thirdPartyVerificationToken"}],Cga:["actionAdBreakEvents",{complete:["complete",{event:"event",Ou:"adEventToken"}]}],s2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.MK=function(h){this.yDb.MK(h,this.QPb);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.NCa))],a);b.sGa=a;},47930:function(r,b,a){var l,f,h,d,g;function c(m,k){this.j3a=m;this.PPb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;r=a(5163);l=a(22674);f=a(81025);h=a(60042);d=a(31149);g=a(36129);c.prototype.create=function(m){var k,n,p,q;k=this;if(m && !this.jNb(m)){if(this.oNb(m))throw d.Mc.M6b(g.U.kD,g.R.emb,m);q=this.j3a();q.Nga(m.links);this.PPb.MK(m);return {Fa:m,ki:q,Roa:!1,Qoa:!1,cp:null !== (p=null === (n=m.cp) || void 0 === n?void 0:n.map(function(u){var t;t=k.j3a();t.Nga(u.links);return {Fa:u,ki:t,Roa:!1,Qoa:!1,cp:[]};})) && void 0 !== p?p:[]};}};c.prototype.oNb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.jNb=function(m){return ("runtime" in m) && !!m.runtime;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.PIa)),r.__param(1,(0,l.l)(h.tGa))],a);b.uGa=a;},99070:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v,y,x,z){this.Yf=t;this.U3a=v;this.MU=x;this.qa=z;this.kW=new Map();this.log=u.Wa("ManifestFetcher");this.qg=w.qg;this.vub=y().TCb;}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(30869);d=a(31149);g=a(87386);m=a(5021);k=a(4203);n=a(72639);p=a(18148);a=a(17398);c.prototype.Tx=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.jrb(u.J,w);return t && this.u5(u.J)?this.H4(u.J).catch(function(){return v.B9a(u,t);}):this.B9a(u,t);};c.prototype.u5=function(u){return this.qg.MT(u,"manifest");};c.prototype.fX=function(u,t){var w;w=this;this.vub && this.qg.setData(u,"manifest",t,function(){return w.AKb(u,t?Promise.resolve(t):void 0);});};c.prototype.H4=function(u){var t;t=this;return this.qg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Fa.expiration <= t.qa.ee.ba(m.na))throw (t.qg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.AKb=function(u,t){var w;null === (w=this.kW.get(u)) || void 0 === w?void 0:w.forEach(function(v){return v(t);});this.kW.delete(u);};c.prototype.jrb=function(u,t){this.kW.has(u) || this.kW.set(u,[]);this.kW.get(u).push(t);};c.prototype.B9a=function(u,t){var w,v,y;w=this;this.log.trace("Requesting a new manifest",u.J);v=this.Yf.Eb().ba(m.na);y=(u.If && !u.If.ph?this.s4b(u).catch(function(x){w.log.warn(x.message);return w.U3a.Cf(w.log,u);}):this.U3a.Cf(this.log,u)).then(function(x){var z,A;if(x.Kx && (null === (z=u.If) || void 0 === z || !z.ph)){A=x.Kx;z={R9:Promise.resolve(A),source:"manifest"};delete x.Kx;w.qg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.Hq === n.ol.OI && (x.fH=v,x.nN=w.Yf.Eb().ba(m.na));return x;}).catch(function(x){t && w.fX(u.J,void 0);w.log.error("Failed to fetch manifest",d.Mc.we(x));throw x;});t && this.fX(u.J,y);return y;};c.prototype.s4b=function(u){var t;t=this;return new Promise(function(w,v){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.If) || void 0 === y?void 0:y.JV;if(!A)return v(Error("Parent manifest does not exist."));B=null === (x=u.If) || void 0 === x?void 0:x.bc;y=null === (z=A.cp) || void 0 === z?void 0:z.find(function(D){return D.O === u.J && (void 0 === B || D.bc === B);});if(!y)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.MU.create(y));});};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Za)),r.__param(1,(0,l.l)(f.Jc)),r.__param(2,(0,l.l)(p.eba)),r.__param(3,(0,l.l)(n.rda)),r.__param(4,(0,l.l)(k.ac)),r.__param(5,(0,l.l)(a.HI)),r.__param(6,(0,l.l)(h.fg))],q);b.vGa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej=void 0;r=b.ej || (b.ej={});r[r.Vab=1]="sourceopen";r[r.Kn=2]="currentTimeChanged";r[r.GW=3]="seeked";r[r.g3a=5]="licenseadded";r[r.Tab=6]="sourceBufferAdded";r[r.h8=7]="onNeedKey";},12653:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.o5a=void 0;r=a(22674);c=a(21801);l=a(59586);b.o5a=new r.ed(function(f){f(c.Uca).to(l.nHa).da();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uca=b.Tjb=void 0;b.Tjb=function(){};b.Uca="MseConfigSymbol";},59586:function(r,b,a){var l,f,h,d,g;function c(m){return f.Re.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(5163);l=a(12501);f=a(64174);h=a(22674);d=a(83767);g=a(5021);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{d5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(5E3);}},v6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E3);}},w6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E3);}}});a=c;r.__decorate([l.config(l.hk,"minDecoderBufferMilliseconds")],a.prototype,"d5a",null);r.__decorate([l.config(l.hk,"optimalDecoderBufferMilliseconds")],a.prototype,"v6a",null);r.__decorate([l.config(l.hk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"w6a",null);a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.ul))],a);b.nHa=a;},7826:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;r=a(22674);c=a(50681);l=a(63390);f=a(97996);b.UB=new r.ed(function(h){h(c.Vca).to(l.oHa).da();h(f.IP).BX(function(d){return function(){return d.hb.get(c.Vca).JRb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IP="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vca="MslReadyNotifierSymbol";},63390:function(r,b,a){var l;function c(){var f;f=this;this.ready=!1;this.JRb=new Promise(function(h){f.nZb=h;});}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;r=a(5163);a=a(22674);c.prototype.KRb=function(f){this.ready || (this.nZb(f),this.ready=!0);};c.prototype.rv=function(){return this.ready;};l=c;l=r.__decorate([(0,a.T)()],l);b.oHa=l;},30698:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.w5a=void 0;r=a(22674);c=a(76698);l=a(32934);f=a(81438);h=a(59806);d=a(21941);g=a(55823);m=a(27E3);k=a(2571);n=a(17559);b.w5a=new r.ed(function(p){p(f.JNa).to(c.INa).da();p(l.eu).EC(function(){return nb._cad_global.http;});p(d.CHa).to(h.BHa).da();p(g.DHa).il(m.default);p(k.iEa).to(n.hEa).da();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iEa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eu=b.KP=b.ResponseType=void 0;b.ResponseType={Text:1,abc:2,Yfb:3};b.KP="OPEN_CONNECT_APPLIANCE";b.eu="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DHa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CHa="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JNa="XhrFactorySymbol";},17559:function(r,b,a){var l,f,h;function c(d,g){this.He=g;this.la=d.Wa("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.hEa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.download=function(d,g){var m;m=this;g=void 0 === g?{x4a:0}:g;return new Promise(function(k,n){var q;function p(u){if(u.ia)return k(u.content);if(q === g.x4a)return n({ya:u.ya,Yx:u.Kl});q++;!1;m.He.download(d,p);}q=0;m.He.download(d,p);});};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(a.eu))],h);b.hEa=h;},40158:function(r,b,a){var l,f,h,d;function c(g,m){return h.Re.call(this,g,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(5163);l=a(22674);f=a(12501);h=a(64174);a=a(83767);ea(c,h.Re);Xa.Object.defineProperties(c.prototype,{Tdb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.bd,"useNetworkMonitor")],d.prototype,"Tdb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ul)),r.__param(1,(0,l.l)(a.IY)),r.__param(1,(0,l.optional)())],d);b.zHa=d;},59806:function(r,b,a){var l,f,h,d;function c(g,m,k){this.config=g;this.mPb=m;this.Ic=k;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(5163);l=a(48004);f=a(22674);h=a(48159);a=a(55823);c.prototype.xzb=function(){if(this.config.Tdb)return this.Ic(this.mPb());};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.AHa)),r.__param(1,(0,f.l)(h.wHa)),r.__param(2,(0,f.l)(a.DHa))],d);b.BHa=d;},76698:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.INa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.T)()],l);b.INa=l;},10256:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q){this.log=k;this.HF=n;this.Jy=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(36129);f=a(31276);h=a(74870);d=a(84408);g=a(2248);m=a(82100);c.prototype.Xg=function(k){var n,p;n=this;(this.context.nf || this.context.dk) && this.log.debug("Requesting a license",k);if(f.za.get(h.mh).zA(f.za.get(d.kq).decode("certificate"),k.rj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Nk:[{sessionId:k.rj[0].sessionId,data:f.za.get(g.ih).decode(m.hZ)}]});}else p=f.za.get(h.mh).zA(f.za.get(d.kq).decode("content"),k.rj[0].data)?Promise.resolve({Nk:[{sessionId:k.rj[0].sessionId,data:k.Zn}]}):(function(){n.log.trace("Requesting license",{drmType:k.Om});return n.HF(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.U.EI,ic:q.ic,Tc:q.Tc,Pm:q.Pm,uj:q.message || q.uj,VA:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.uj),cc:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.Jy(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ic,extCode:p.Tc,edgeCode:p.Pm,message:p.message || p.uj});throw {ia:!1,code:l.U.Wda,ic:p.ic,Tc:p.Tc,Pm:p.Pm,uj:p.message || p.uj,message:"Unable to release the FairPlay license. " + (p.message || p.uj),cc:p};});};r.exports=c;},7748:function(r,b,a){var l;function c(f,h,d,g){this.log=f;this.HF=h;this.Jy=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=void 0;l=a(36129);c.prototype.Xg=function(f){var h;h=this;(this.context.nf || this.context.dk) && this.log.trace("Requesting license",{drmType:f.Om});return this.HF(f).catch(function(d){h.log.error("Unable to get the Playready license",d);if(h.context.dhc)throw d;throw {ia:!1,code:l.U.EI,ic:d.ic,Tc:d.Tc,Pm:d.Pm,uj:d.message || d.uj,VA:d.data,message:"Unable to send the Playready license request. " + (d.message || d.uj)};});};c.prototype.release=function(f){var h;h=this;this.log.trace("Requesting stop data");return this.Jy(f).catch(function(d){h.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ic,extCode:d.Tc,edgeCode:d.Pm,message:d.message || d.uj});throw {ia:!1,code:l.U.Wda,ic:d.ic,Tc:d.Tc,Pm:d.Pm,uj:d.message || d.uj,message:"Unable to release the PlayReady license. " + (d.message || d.uj)};});};b.HNa=c;nb._cad_global.WindowsDrmRequests=c;},71834:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gea=void 0;c=a(36129);l=a(83989);f=a(88490);h=a(74870);d=a(6405);g=a(2248);m=a(56800);k=a(63156);(function(){var z;function n(A,B,D){var C;C=this;this.log=A;this.bn=B || x.bind(this);this.context=D;this.LV=this.challenge=this.keySystem=this.v6=this.zb=this.mediaKeys=void 0;this.Vc={};this.Dpa=this.rwa=!1;this.vV=t.bind(this);this.LV=void 0;this.Wxa=new Promise(function(F,G){C.Bua=F;C.Yta=G;});this.Wxa.catch(function(F){C.log.error("wait for license rejected",F);});l.dc.get(m.uw).P4().then(function(F){(C.context.nf || C.context.dk) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.$m=function(F,G){C.Yta(F,G);C.context.onerror(F,G);};this.Kra=function(){C.Bua();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.dc.get(g.ih);}function q(){return l.dc.get(h.mh);}function u(A){var B,D;B=l.dc.get(f.rea);D="";A.forEach(function(C){D+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Abb(A));(this.context.nf || this.context.dk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.zb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Vf.hq,z.Hz.Lr,B);this.zb=void 0;}function w(A,B,D){var F,G,E;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (C+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > C.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function v(A,B,D,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.nf || D.context.dk || D.context.ez) && D.log.debug("LICENSE: License challenge",p().encode(G));D.v6=F;A={qf:B,messageType:"license-request",Om:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",rj:[{data:G,sessionId:F}]};12 === D.state && (D.bn("lc"),G={data:G,Om:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.OG || (D.LV=G));D.context.Jd.Xg(A).then(function(E){if(12 === D.state && (D.bn("lr"),D.Kra(),!D.context.OG))(D.MV=E.Nk[0].data,D.state=13,C({ia:!0,state:D.state}));else if(D.zb)return y(D,E.Nk[0].data,D.zb).then(function(){D.state=30;C({ia:!0,state:D.state});});}).catch(function(E){C(q().RB(E,{state:D.state}));});}function y(A,B,D){A.c6() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.zb.update(B);C(void 0);A.c6() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(G){F({ia:!1,code:z.Vf.D_,message:"Unable to update the EME.",Jb:q().we(G)});}});}function x(A){this.context.qa && (this.Vc[A]=this.context.qa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Vc[A]));}z={Vf:c.U,Hz:c.R};n.prototype.jL=function(){return this.keySystem;};n.prototype.Adb=function(A,B){A.log && (this.log=A.log);A.bn && (this.bn=A.bn);B.Jd && (this.context.Jd=B.Jd);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.dc.get(m.uw).FF()).then(function(D){B.bn("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.bW)D=Promise.reject({ia:!1,code:z.Vf.ZO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(D);}catch(C){D=Promise.reject({ia:!1,code:z.Vf.hIa,message:"create MSMediaKeys(" + D + ") failed",Jb:q().we(C)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(C){D=Promise.reject({ia:!1,code:z.Vf.NI,message:"set MSMediaKeys failed",Jb:q().we(C)});break a;}D=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.zb){this.log.info("Closing the session",{sessionId:this.zb.sessionId});this.zb.removeEventListener("mskeyerror",this.vV);try{this.zb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.zb=void 0;}};n.prototype.Xg=function(A,B,D){var C;if(1 < B.length)return Promise.reject({code:z.Vf.lIa});if(0 === B.length)return Promise.reject({code:z.Vf.kIa});B=B[0];C=this;C.context.nf && C.log.trace("LICENSE: Setting license");return C.context.bW?Promise.reject({ia:!1,code:z.Vf.tCa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,J,M,L,H,N,I;try{J=function(K){C.zb && (C.zb.removeEventListener("mskeymessage",L),C.zb.removeEventListener("mskeyadded",H),C.zb.removeEventListener("mskeyerror",N),C.zb.addEventListener("mskeyerror",C.vV));K.state=11;K.ia?F(K):(C.close(),G(K));};M=function(K){var O,R;O=[];R=Array.prototype.map.call(K,function(oa){return oa?String.fromCharCode(oa):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)O.push(R[1]);else {K=w(K,"KIDS");R=/VALUE="(.+?)">/g;for(var Y=R.exec(K);null != Y;){O.push(Y[1]);Y=R.exec(K);}}return O;};L=function(K){E && nb.clearTimeout(E);v(K,A,C,J);};H=function(K){(C.context.nf || C.context.dk) && C.log.trace("LICENSE: Received " + K.type + " event",{keySystem:K.target.keySystem,sessionId:K.target.sessionId});J({ia:!0});};N=function(K){var O,R;E && nb.clearTimeout(E);if(K.target && K.target.error)(O=K.target.error.systemCode,R=K.target.error.code);O={code:z.Vf.hq,ic:z.Hz.Lr,Tc:O?l.dc.get(d.pw).vF(O,4):R,details:q().we(K),cc:K.target && K.target.error,A$:O,f4:R};C.log.error("LICENSE: Received " + K.type + " event",{sessionId:C.zb && C.zb.sessionId,keySystem:K.target.keySystem,systemCode:O.A$,code:O.f4});C.bn("le");C.$m && C.$m(z.Vf.hq,O);J({ia:!1,code:z.Vf.hq,ic:z.Hz.Lr,Tc:O.Tc,message:"Received a key error.",Jb:O.details,cc:O.cc});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.nf || C.context.dk) && C.log.debug("LICENSE: PSSH",p().encode(B));C.tv || (C.tv=M(B));if(D){I=u.call(C,C.tv);C.zb=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),I);}else C.zb=C.mediaKeys.createSession("video/mp4",B,null);(C.context.nf || C.context.dk) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.zb.keySystem,sessionId:C.zb.sessionId});C.zb.addEventListener("mskeymessage",L);C.zb.addEventListener("mskeyadded",H);C.zb.addEventListener("mskeyerror",N);C.context.Apa && (E=nb.setTimeout(function(){J({ia:!1,code:z.Vf.NP,ic:z.Hz.$hb});},C.context.Apa));}catch(K){G({code:z.Vf.NP,ic:z.Hz.ml});}});})();};n.prototype.cH=function(){var A;(this.context.nf || this.context.dk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Xg(k.om.pca.qm,A,!0);};n.prototype.b2=function(A){this.MV || this.log.error("pending license must exist at this point");this.context.OG=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Vf.NI,message:"setMediaKeys failed",Jb:q().we(B)});}return y(this,this.MV,this.zb);};n.prototype.iXa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ma:A.ma,he:A.he};return new Promise(function(C,F){(function(){B.context.Jd.release.call(B.context.Jd,D).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.v6,code:G.code,subCode:G.ic,extCode:G.Tc,edgeCode:G.Pm,message:G.uj});B.close();G.ia?C(G):F(G);});})();});};n.prototype.c6=function(){return this.context.nf || this.context.dk;};b.Gea=n;nb._cad_global.WindowsEmeSession=b.Gea;})();},99813:function(r,b,a){var v,y,x,z,A,B,D,C,F,G,E,J;function c(M,L,H){var N;N=this;this.log=M;this.bn=L || w.bind(this);this.context=H;this.LV=this.challenge=this.keySystem=this.v6=this.mediaKeys=void 0;this.Vc={};this.io=void 0;this.url="";this.Dpa=this.rwa=!1;this.vV=k.bind(this);this.kk=this.LV=void 0;this.Wxa=new Promise(function(I,K){N.Bua=I;N.Yta=K;});this.$m=function(I,K){N.Yta(I,K);N.context.onerror(I,K);};this.Kra=function(){N.Bua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return v.za.get(A.kq);}function f(){return v.za.get(z.ih);}function h(){return v.za.get(y.mh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function g(M){var L;M=(function(H){var I,K;function N(O,R,Y,oa){var ka,ha;ka=new Uint8Array("piff" == R?88:72);ha=new G.XO(ka);ha.hz(12);ha.gz("frma");ha.gz(O);ha.hz(20);ha.gz("schm");ha.fY(0);ha.fY(0);ha.gz(R);ha.hz(Y);"piff" == R?(ha.hz(56),ha.gz("schi"),ha.hz(48),ha.gz("uuid"),ha.eY([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ha.hz(40),ha.gz("schi"),ha.hz(32),ha.gz("tenc"));ha.fY(0);ha.fY(0);ha.hz(264);ha.eY(oa);return ka;}I=N("avc1","piff",65537,H);I=l().decode(f().encode(I));H=N("avc1",E.Zt,65536,H);H=l().decode(f().encode(H));K=new Uint8Array(7 + I.length + 8 + H.length + 5);K.set([91,10,32,32,32,32,34],0);K.set(I,7);K.set([34,44,10,32,32,32,32,34],7 + I.length);K.set(H,7 + I.length + 8);K.set([34,10,32,32,93],7 + I.length + 8 + H.length);return K;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function m(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=f().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function k(M){var L;L=n(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.zb?this.zb.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.A$,code:L.f4});this.$m && this.$m(J.Vf.hq,L);this.zb=void 0;}function n(M){var L,H;if(M.target.error)(L=M.target.error.systemCode,H=M.target.error.code);return {code:J.Vf.hq,ic:J.Hz.Lr,Tc:L?v.za.get(x.pw).vF(L,4):H,details:h().we(M),cc:M.target.error,A$:L,f4:H};}function p(M,L,H,N){var I,K,O;I=M.target.sessionId;K=M.message;O=h().zA(K,l().decode("certificate"));H.Dpa=L === F.om.pca.rn;H.state=O?2:12;H.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:I});(H.context.nf || H.context.dk || H.context.ez) && H.log.debug("LICENSE: License challenge",f().encode(K));H.v6=I;M={Zn:H.Zn,qf:L,messageType:"license-request",Om:(/clearkey/i).test(H.keySystem)?"clearkey":"fps",rj:[{data:K,sessionId:I}]};12 === H.state && (H.bn("lc"),K={data:K,Om:(/clearkey/i).test(H.keySystem)?"clearkey":"fps"},H.context.OG || (H.LV=K));H.context.Jd.Xg(M).then(function(R){if(12 === H.state && (H.bn("lr"),H.Kra(),!H.context.OG))(H.MV=R.Nk[0].data,H.state=13,N({ia:!0,state:H.state}));else if(H.zb)return (R=t(H,O,R.Nk[0].data,H.zb),2 === H.state?R:R.then(function(){H.state=30;N({ia:!0,state:H.state});}));}).catch(function(R){N(h().RB(R,{state:H.state}));});}function q(M,L,H){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});H({ia:!0});}function u(M,L,H){var N;N=n(M);L.$m && L.$m(J.Vf.hq,N);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.zb?L.zb.sessionId:void 0,keySystem:M.target.keySystem,systemCode:N.A$,code:N.f4});H({ia:!1,code:J.Vf.hq,ic:J.Hz.Lr,Tc:N.Tc,message:"Received a key error.",Jb:N.details,cc:N.cc});}function t(M,L,H,N){N={sessionId:N.sessionId};M.c6() && (N.license=f().encode(H));M.log.trace("calling keysession update",N);return new Promise(function(I,K){function O(){M.zb.removeEventListener("webkitkeyadded",O);I(void 0);}try{L || M.zb.addEventListener("webkitkeyadded",O);M.zb.update(H);L && I(void 0);}catch(R){K({ia:!1,code:J.Vf.D_,message:"Unable to update the EME.",e:R});}});}function w(M){this.Vc[M]=v.za.get(B.Jc).Eb().ba(D.na);this.log.trace("Milestone: " + M + ", " + this.Vc[M]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);D=a(5021);C=a(22365);F=a(63156);G=a(62082);E=a(82100);J={Vf:b.U,Hz:b.R};c.prototype.jL=function(){return this.keySystem;};c.prototype.Adb=function(M,L){M.log && (this.log=M.log);M.bn && (this.bn=M.bn);L.Jd && (this.context.Jd=L.Jd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.bn("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.bW?Promise.reject({ia:!1,code:J.Vf.ZO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function H(){var N,I;N=h().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");I=N.lastChild;L.kk=N;L.context.$=C.Pg.createElement("VIDEO");I?L.kk.insertBefore(L.context.$,I):L.kk.appendChild(L.context.$);}return new Promise(function(N,I){function K(O){(L.context.nf || L.context.dk || L.context.ez) && L.log.trace("CREATE: Received event: " + O.type,{readyState:O.target.readyState,duration:O.target.duration});try{L.mediaKeys=new nb.WebKitMediaKeys(M);L.context.$.webkitSetMediaKeys(L.mediaKeys);N({ia:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);I({ia:!1,code:J.Vf.NP,Jb:h().we(R)});}}if(d(L.keySystem))try{L.mediaKeys=new nb.WebKitMediaKeys(M);L.context.$ && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys));N({ia:!0,mediaKeys:L.mediaKeys});}catch(O){I({ia:!1,code:J.Vf.NP,Jb:h().we(O)});}else (L.mediaKeys=new nb.WebKitMediaKeys(M),L.context.$?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys)):(H(),L.io=new C.zz(),L.io.addEventListener("sourceopen",K),L.url=URL.createObjectURL(L.io),L.context.$.src=L.url),N({ia:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.zb && (this.log.info("Closing the session",{sessionId:this.zb.sessionId}),this.zb.removeEventListener("webkitkeyerror",this.vV),this.zb.close(),this.zb=void 0);};c.prototype.Xg=function(M,L){var H;if(1 < L.length)return Promise.reject({code:J.Vf.lIa});if(0 === L.length)return Promise.reject({code:J.Vf.kIa});L=L[0];H=this;H.context.nf && H.log.trace("LICENSE: Setting license",{initData:f().encode(L)});return H.context.bW?Promise.reject({ia:!1,code:J.Vf.tCa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(N,I){var O,R,Y;function K(oa){H.zb && (H.zb.removeEventListener("webkitkeymessage",O),H.zb.removeEventListener("webkitkeyadded",R),H.zb.removeEventListener("webkitkeyerror",Y),H.zb.addEventListener("webkitkeyerror",H.vV));oa.ia?N(oa):(H.close(),I(oa));}O=function(oa){p(oa,M,H,K);};R=function(oa){q(oa,H,K);};Y=function(oa){u(oa,H,K);};d(H.keySystem) && (H.Zn=m(L),L=g(H.Zn));H.log.trace("LICENSE: Executing prefix based EME");H.context.nf | H.context.dk && H.log.debug("LICENSE: PSSH",f().encode(L));H.zb=H.mediaKeys.createSession("video/mp4",L,null);(H.context.nf || H.context.dk) && H.log.debug("LICENSE: Created the media keys sessions",{keySystem:H.zb.keySystem,sessionId:H.zb.sessionId});H.zb.addEventListener("webkitkeymessage",O);H.zb.addEventListener("webkitkeyadded",R);H.zb.addEventListener("webkitkeyerror",Y);});})();};c.prototype.cH=function(){var M;M=this;return M.rwa?Promise.resolve({ia:!0}):new Promise(function(L,H){var I,K,O;function N(R){M.zb && (M.zb.removeEventListener("webkitkeymessage",I),M.zb.removeEventListener("webkitkeyadded",K),M.zb.removeEventListener("webkitkeyerror",O));R.ia?L(R):(H(R),M.close());}I=function(R){p(R,F.om.pca.qm,M,N);};K=function(R){q(R,M,N);L({ia:!0});};O=function(R){u(R,M,N);};M.Dpa=!1;M.zb.addEventListener("webkitkeymessage",I);M.zb.addEventListener("webkitkeyadded",K);M.zb.addEventListener("webkitkeyerror",O);M.zb.update(l().decode("renew"));});};c.prototype.b2=function(M){this.MV || this.log.error("pending license must exist at this point");this.context.OG=!0;try{M && (this.context.$=M,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(H,N){N({ia:!1,code:J.Vf.NI,message:"setMediaKeys failed",Jb:h().we(L)});});}return t(this,!1,this.MV,this.zb);};c.prototype.iXa=function(M){var L,H;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.rwa=!0;H={ma:M.ma,he:M.he};return new Promise(function(N,I){(function(){L.context.Jd.release.call(L.context.Jd,H).then(function(){var K;L.log.trace("successfully released the license",JSON.stringify(M));K={ia:!0};K.ia?N(K):(L.close(),I(K));}).catch(function(K){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.zb?L.zb.sessionId:void 0,code:K.code,subCode:K.ic,extCode:K.Tc,edgeCode:K.Pm,message:K.uj});K.ia?N(K):(L.close(),I(K));});})();});};c.prototype.c6=function(){return this.context.nf || this.context.dk;};r.exports=c;},31360:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.c7a=void 0;r=a(22674);c=a(30650);l=a(71976);f=a(7605);h=a(17705);d=a(31071);g=a(91918);m=a(81025);k=a(23632);n=a(15348);p=a(17108);b.c7a=new r.ed(function(q){q(f.Lw).to(h.FIa).da();q(c.HIa).to(l.GIa).da();q(m.RIa).to(k.QIa);q(m.PIa).Wd(function(u){return function(){return u.hb.get(m.RIa);};});q(d.mJa).to(g.lJa).da();q(n.tda).to(p.iJa).da();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lw="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RIa="PboLinksManagerSymbol";b.PIa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tda="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa="AdEventPboCommandSymbol";b.Aaa="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka;Object.defineProperty(b,"__esModule",{value:!0});b.MTa=void 0;r=a(22674);c=a(40953);l=a(30543);f=a(72639);h=a(86563);d=a(81378);g=a(13158);m=a(75014);k=a(39832);n=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);w=a(84860);v=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);D=a(83998);C=a(54949);F=a(62898);G=a(15153);E=a(70285);J=a(76427);M=a(36642);L=a(15614);H=a(95738);N=a(82306);I=a(7605);K=a(67658);O=a(3035);R=a(46320);Y=a(595);oa=a(49917);ka=a(49449);b.MTa=new r.ed(function(ha){ha(D.rl).to(C.EIa);ha(c.TIa).to(l.SIa);ha(F.zIa).to(G.yIa);ha(E.BIa).to(J.AIa);ha(f.rda).to(h.UIa);ha(K.VIa).Wd(function(za){return function(){var Ca;Ca=za.hb.get(I.Lw);return Ca && Ca.Ydb?za.hb.resolve(R.nJa):za.hb.resolve(O.WIa);};});ha(d.xIa).to(g.wIa);ha(m.kJa).to(k.jJa);ha(n.NIa).to(p.MIa);ha(q.qda).to(u.OIa);ha(t.aMa).to(w.$La);ha(t.gMa).to(v.fMa);ha(t.lFa).to(z.kFa);ha(t.WLa).to(A.VLa);ha(t.KCa).to(B.JCa);ha(L.mlb).to(M.XIa);ha(H.LIa).to(N.KIa);ha(oa.Baa).to(Y.Aya);ha(oa.Aaa).to(ka.uya);ha(t.Mba).Wd(function(za){return function(Ca){switch(Ca){case t.Ao.start:return za.hb.get(t.aMa);case t.Ao.stop:return za.hb.get(t.gMa);case t.Ao.rU:return za.hb.get(t.lFa);case t.Ao.splice:return za.hb.get(t.WLa);case t.Ao.LK:return za.hb.get(t.KCa);}throw new y.Mc(x.U.ykb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Ca);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ao={start:"start",stop:"stop",rU:"keepAlive",LK:"engage",splice:"splice"};b.Mba="EventPboCommandFactorySymbol";b.aMa="StartEventPboCommandSymbol";b.gMa="StopEventPboCommandSymbol";b.lFa="KeepAliveEventPboCommandSymbol";b.WLa="SpliceEventPboCommandSymbol";b.KCa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zIa="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BIa="PboBindDeviceCommandSymbol";},40547:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fg={Rpa:"logblob",W:"manifest",wOb:"licensedmanifest",Xg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Glb={cLa:"X-Netflix.Request.Attempt",aea:"X-Netflix.Client.Request.Name",eAa:"x-netflix.browsername",jAa:"x-netflix.browserversion",SHa:"x-netflix.osname",THa:"x-xetflix.osversion",VAa:"x-netflix.clienttype",$Ma:"x-netflix.uiversion"};b.Fz={cLa:"reqAttempt",aea:"reqName",eAa:"browsername",jAa:"browserversion",SHa:"osname",THa:"osversion",VAa:"clienttype",$Ma:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rl="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LIa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qda="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TIa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rda=b.ol=void 0;r=b.ol || (b.ol={});r.OI="PRE_FETCH";r.zlb="QC";r.qm="STANDARD";r.Y_="SUPPLEMENTAL";r.t8b="DOWNLOAD";b.rda="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mlb="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kJa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.hya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);g=a(83998);a(2762);ea(c,d.jh);c.prototype.Cf=function(m,k){var n,p,q;n=this;p=k.event;q=this.uA(k);!1;!1;return this.send(m,{url:k.href,name:h.Fg.events,Ej:h.Fg.events + "/" + p},q).then(function(){return k;}).catch(function(u){throw n.Nl(u);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.uA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Ou,adBreakLocationMs:m.qE,position:m.position,clientTime:m.wx,sessionStartTime:m.bm,appId:m.appId,sessionId:m.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.rl))],a);b.uya=a;},595:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.hya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);g=a(83998);a(2762);ea(c,d.jh);c.prototype.Cf=function(m,k){var n,p,q;n=this;p=k.event;q=this.uA(k);!1;!1;return this.send(m,{url:k.href,name:h.Fg.events,Ej:h.Fg.events + "/" + p},q).then(function(){return k;}).catch(function(u){throw n.Nl(u);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.uA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Ou,adBreakLocationMs:m.qE,position:m.position,clientTime:m.wx,sessionStartTime:m.bm,appId:m.appId,sessionId:m.sessionId,playTimes:this.gia(m.Iv),mainManifestPlaybackContextId:m.FPb,thirdPartyAdVerificationMetadata:m.l3b};};c.prototype.gia=function(m){return {total:m.total,audio:m.audio.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Gm};}),video:m.video.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Gm};}),text:m.text.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Gm};})};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.rl))],a);b.Aya=a;},88496:function(r,b,a){var l,f,h;function c(d,g,m,k){g=h.jh.call(this,d,g,k) || this;g.context=d;g.dla=m;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.aq=void 0;r=a(5163);l=a(22674);f=a(40547);h=a(51658);a(2762);ea(c,h.jh);c.prototype.g5=function(d){return "LIVE" === d.dg?f.Fg.events + "/live/" + this.dla:f.Fg.events + "/" + this.dla;};c.prototype.Cf=function(d,g){var m,k;m=this;k=this.uA(g);!1;!1;return this.send(d,{url:g.href,name:f.Fg.events,Ej:this.g5(g)},k).then(function(){return g;}).catch(function(n){throw m.Nl(n);});};c.prototype.On=function(d,g,m){var k,n,p;k=this;n=this.uA(m);!1;!1;p={url:g.kL("events").href,name:f.Fg.events,Ej:this.g5(m)};return this.send(d,p,n).then(function(q){g.Nga(q.result.links);return m;}).catch(function(q){throw k.Nl(q);});};c.prototype.uA=function(d){return {event:this.dla,xid:d.ma,position:d.position || 0,clientTime:d.wx,sessionStartTime:d.bm,videoTrackId:d.tO,audioTrackId:d.ap,timedTextTrackId:d.bO,mediaId:d.fM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.gia(d.Iv),sessionParams:d.am};};c.prototype.fia=function(d){return {downloadableId:d.Tb,duration:d.duration};};c.prototype.gia=function(d){var g;g={total:d.total,audio:d.audio.map(this.fia),video:d.video.map(this.fia),text:d.text.map(this.fia)};d.total !== d.SH && (g.totalContentTime=d.SH);0 !== d.FC && (g.totalAdDuration=d.FC);0 !== d.GC && (g.totalOtherDuration=d.GC);if(0 !== d.GC || 0 !== d.FC)g.totalCombinedDuration=d.eO;0 !== d.TH && (g.totalLiveEdgeDuration=d.TH);0 !== d.UH && (g.totalStartSlateDuration=d.UH);return g;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.nn)()),r.__param(1,(0,l.nn)()),r.__param(2,(0,l.nn)()),r.__param(3,(0,l.nn)())],a);b.aq=a;},51658:function(r,b,a){var l,f,h,d,g;function c(m,k,n){this.context=m;this.errorCode=k;this.BZb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.jh=void 0;r=a(5163);l=a(22674);f=a(71977);h=a(5021);d=a(31149);g=a(34231);c.prototype.send=function(m,k,n,p,q,u){var t;t=this;u=void 0 === u?g.hu.SP:u;return this.pHb(m,k,n,u,p,q).then(function(w){return t.context.JBb.send(w.context,w.request);});};c.prototype.pHb=function(m,k,n,p,q,u){var t,w;try{t=this.context.WYb.create(this.context.Zx.CA(),k.url,n,q,p);w=this.hub(k,m,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.hub=function(m,k,n,p){return {He:this.context.He,log:k,Hm:m.name,url:this.context.A5b((0,f.ySa)(this.context.qh,this.context.Yg,m.name,n)),Hua:this.BZb,timeout:(0,h.zh)(59),headers:(0,f.xSa)(this.context.Yg,this.context.aF),Ej:m.Ej,Ftb:p};};c.prototype.Nl=function(m){return m instanceof d.Mc?m:(0,f.Nl)(this.errorCode,m);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.nn)()),r.__param(1,(0,l.nn)()),r.__param(2,(0,l.nn)())],a);b.jh=a;},88951:function(r,b,a){var l,f,h,d,g;function c(m){return h.aq.call(this,m,f.U.aib,d.Ao.LK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(88496);d=a(87607);a=a(83998);ea(c,h.aq);c.prototype.uA=function(m){return Object.assign(Object.assign({},h.aq.prototype.uA.call(this,m)),{action:m.action});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.JCa=g;},82306:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.nib,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:h.Fg.W,Ej:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.On=function(m,k,n){var p;p=this;k={url:k.kL("generateScreenshots").href,name:h.Fg.W,Ej:"generateScreenshots"};return this.send(m,k,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.KIa=g;},25546:function(r,b,a){var l,f,h,d,g;function c(m){return h.aq.call(this,m,f.U.mca,d.Ao.rU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(88496);d=a(87607);a=a(83998);ea(c,h.aq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.kFa=g;},13158:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.EI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.g5=function(m){var k;k="ldl" === m.i3a?"prefetch/license":"license";"LIVE" === m.dg && (k+="/live");return k;};c.prototype.On=function(m,k,n){var p;p=this;k={url:k.kL(n.i3a).href,name:h.Fg.Xg,Ej:this.g5(n)};return this.send(m,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.Avb(q);return q;}).catch(function(q){throw p.Nl(q);});};c.prototype.Avb=function(m){m.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.wIa=g;},15153:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.Ifb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k,n){var p;p=this;return this.send(m,{url:"/" + h.Fg.bind,name:h.Fg.bind,Ej:h.Fg.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.yIa=g;},76427:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.Jfb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:h.Fg.bind,Ej:h.Fg.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.AIa=g;},54949:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t,w,v,y,x,z,A){this.qh=q;this.He=u;this.Yg=t;this.JBb=w;this.Zx=v;this.A5b=y;this.WYb=z;this.aF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;r=a(5163);l=a(22674);f=a(24747);h=a(7605);d=a(31071);g=a(30650);m=a(62665);k=a(32934);n=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.sY)),r.__param(1,(0,l.l)(k.eu)),r.__param(2,(0,l.l)(h.Lw)),r.__param(3,(0,l.l)(g.HIa)),r.__param(4,(0,l.l)(m.Bw)),r.__param(5,(0,l.l)(n.cNa)),r.__param(6,(0,l.l)(p.YY)),r.__param(7,(0,l.l)(d.mJa)),r.__param(8,(0,l.l)(a.vw))],c);b.EIa=c;},71977:function(r,b,a){var m,k;function c(n){return !(!n || !n.aC && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.ic);}function f(n){return !!(n instanceof Error);}function h(n){switch(n){case "ACCOUNT_ON_HOLD":return k.R.okb;case "STREAM_QUOTA_EXCEEDED":return k.R.xkb;case "INSUFFICICENT_MATURITY":return k.R.Ckb;case "TITLE_OUT_OF_WINDOW":return k.R.Lkb;case "CHOICE_MAP_ERROR":return k.R.wkb;case "BadRequest":return k.R.Gkb;case "Invalid_SemVer_Format":return k.R.Dkb;case "RESTRICTED_TO_TESTERS":return k.R.Jkb;case "AGE_VERIFICATION_REQUIRED":return k.R.ukb;case "BLACKLISTED_IP":return k.R.vkb;case "DEVICE_EOL_WARNING":return k.R.fda;case "DEVICE_EOL_FINAL":return k.R.$Ha;case "INCORRECT_PIN":return k.R.dIa;case "MOBILE_ONLY":return k.R.Ikb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.R.Hkb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.R.Mkb;case "RESET_DEVICE":return k.R.cIa;case "RELOAD_DEVICE":return k.R.bIa;case "EXIT_DEVICE":return k.R.aIa;case "FREE_PREVIEW_ENDED":return k.R.Bkb;case "STREAMING_LOCATION_DISALLOWED":return k.R.Kkb;case "EXTRA_MEMBER_STREAM_HOLD":return k.R.Akb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.R.zkb;case "ADS_UNAVAILABLE_VIEWABLE":return k.R.pkb;case "ADS_UNSUPPORTED_DEVICE":return k.R.skb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.R.qkb;case "ADS_UNSUPPORTED_COUNTRY":return k.R.rkb;case "ADS_VPN_USE_DETECTED":return k.R.tkb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.R.Fkb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.R.Ekb;default:return k.R.lDa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Mc(n,h(p.code),"BadRequest" === p.code?k.f_.Xfb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag,p.playbackContextId);}function g(n,p){return new m.Mc(n,p.ic,p.Tc,void 0,p.uy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.xSa=b.ySa=b.UFb=b.ZFb=b.Nl=b.YFb=b.kU=b.RMb=b.X1a=void 0;m=a(31149);k=a(36129);b.X1a=c;b.RMb=l;b.kU=f;b.YFb=h;b.Nl=function(n,p){return l(p)?g(n,p):c(p)?d(n,p):f(p)?m.Mc.$la(n,p):new m.Mc(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.ZFb=d;b.UFb=g;b.ySa=function(n,p,q,u,t){var w,v,y,x;t=void 0 === t?"router":t;w=p.J$a[q];if(void 0 === w)throw {aC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {aC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {aC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {aC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.WIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v):n.LIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v) + "/" + t;};b.xSa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.UQa && p && (q["X-Esn"]=p.bk);return q;};},46303:function(r,b,a){var l,f,h,d,g;function c(m,k,n){this.qa=m;this.platform=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(5163);l=a(22674);f=a(30869);h=a(5021);d=a(91581);a=a(4203);c.prototype.W3b=function(m){var k,n;k=this;n=this.qa.ee.ba(h.sm);return {inputs:m.rj.map(function(p){var q,u,t,w,v;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:m.ma.toString(),clientVersion:k.platform.version,platform:null === (q=k.config().nd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=k.config().nd) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (v=null === (w=k.config().nd) || void 0 === w?void 0:w.os) || void 0 === v?void 0:v.name};}),i3a:"standard" === m.qf.toLowerCase()?"license":"ldl",dg:m.dg};};c.prototype.Z3b=function(m){var k,n;k=this;n=[];return m.he.map(function(p){n.push(p.id);return {url:k.jub(p.oG,p.zU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:m.ma.toString()}};});};c.prototype.jub=function(m,k){return "/releaseLicense?drmLicenseContextId=" + m + (k?"&licenseId=" + k:"");};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.fg)),r.__param(1,(0,l.l)(d.vn)),r.__param(2,(0,l.l)(a.ac))],g);b.MIa=g;},45830:function(r,b,a){var l,f,h;function c(d,g){this.Ch=d;this.rA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(5163);l=a(22674);f=a(74870);a=a(2248);c.prototype.Lcb=function(d){var g,m;g=this;m=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return g.Ch.KV(k.substring(k.indexOf("?") + 1));});return {ia:!0,he:d.map(function(k,n){return {id:k.drmSessionId,oG:m[n].drmlicensecontextid,zU:m[n].licenseid};}),Nk:d.map(function(k){return {data:g.rA.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.mh)),r.__param(1,(0,l.l)(a.ih))],h);b.OIa=h;},30543:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.qjb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k){var n;n=this;return this.send(m,{url:"/" + h.Fg.Rpa,name:h.Fg.Rpa,Ej:h.Fg.Rpa},k).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.SIa=g;},86563:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x){t=d.jh.call(this,t,f.U.kD,3) || this;t.platform=w;t.MU=v;t.vOb=y;t.RPb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(5163);l=a(72639);f=a(36129);h=a(40547);a(2762);d=a(51658);g=a(83998);m=a(91581);k=a(34231);n=a(17398);p=a(829);q=a(22674);a=a(67658);ea(c,d.jh);c.prototype.qJb=function(t,w){var v,y;y=w?h.Fg.wOb:h.Fg.W;w=w?"licensedManifest":"manifest";t.Hq === l.ol.OI && (w="prefetch/" + w);"live" === t.Ya.wd && (w+="/live");if(null === (v=t.If) || void 0 === v?0:v.ph)w="adBreakHydration";return {Ej:w,xwb:y};};c.prototype.Cf=function(t,w){var v,y;v=this;y=w.Hq === l.ol.Y_?k.hu.xKa:k.hu.SP;return this.RPb().transform(w,y).then(function(x){var z,A;z=la(x);x=z.next().value;A=z.next().value;!1;z=v.qJb(w,"licensedManifest" === A.Hm);return v.send(t,{url:A.Hm,name:z.xwb,Ej:z.Ej},x,void 0,void 0,y).then(function(B){var D;B=v.MU.create(B.result);D=B.Fa;A.Kx && (D=D.Tt.map(function(C){return C.Xg;}).filter(Boolean),0 < D.length?(D=v.vOb.Lcb(D),A.Kx.FQa(D),B.Kx=A.Kx,B.Roa=w.Hq === l.ol.OI,B.Qoa=!0):A.Kx.close());B.HR=A.HR;B.WX=A.WX;!1;return B;});}).catch(function(x){!1;throw v.Nl(x);});};c.prototype.On=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(g.rl)),r.__param(1,(0,q.l)(m.vn)),r.__param(2,(0,q.l)(n.HI)),r.__param(3,(0,q.l)(p.qda)),r.__param(4,(0,q.l)(a.VIa))],u);b.UIa=u;},3035:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J){this.Yg=x;this.platform=z;this.config=A;this.ivb=B;this.iVb=D;this.ho=C;this.WR=F;this.qa=G;this.i7=E;this.Mm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=void 0;r=a(5163);l=a(22674);f=a(72639);h=a(4203);d=a(14423);g=a(34029);m=a(67650);k=a(21103);n=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);w=a(36582);v=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,D,C,F,G,E,J;A=this;B=x.Ya;D=Object.assign({},B.t2,B.am);C={};F=x.J;G=this.config();C[F]={unletterboxed:!!D.preferUnletterboxed || G.SVb};E=G.J5b?30:25;G=G.Fr?this.ho.vHb():Promise.resolve(this.i7.Qs());J={wd:null === B || void 0 === B?void 0:B.wd};return Promise.all([this.Mm.E_a(J),this.Mm.G_a(J),this.Mm.yT(),this.Mm.c5(),this.RGb(x.ma,z),this.xHb(x),G]).then(function(M){var L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U;L=la(M);H=L.next().value;N=L.next().value;I=L.next().value;K=L.next().value;O=L.next().value;M=L.next().value;R=L.next().value;L=H.j5().concat(N.j5()).concat(A.config().Mt).concat(["BIF240","BIF320"]).filter(Boolean);K=K?K.DEVICE_SECURITY_LEVEL:void 0;U="postplay" === B.wd?!0:!!D.isUIAutoPlay;I={type:"standard",manifestVersion:A.Yg.RWa?"v2":"v1",viewableId:F,profiles:L,flavor:x.Hq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.Ya.ag,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().R2b,imageSubtitleHeight:d.sea.m_a(),uiVersion:A.Yg.cw,uiPlatform:A.Yg.O$,clientVersion:A.platform.version,platform:null === (Y=A.config().nd) || void 0 === Y?void 0:Y.version,osVersion:null === (ka=null === (oa=A.config().nd) || void 0 === oa?void 0:oa.os) || void 0 === ka?void 0:ka.version,osName:null === (za=null === (ha=A.config().nd) || void 0 === ha?void 0:ha.os) || void 0 === za?void 0:za.name,supportsPreReleasePin:A.config().kp.I2b,supportsWatermark:A.config().kp.J2b,packageId:A.TIb(B),deviceSecurityLevel:K,videoOutputInfo:I,titleSpecificData:C,preferAssistiveAudio:!!D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:U,challenge:O,isNonMember:A.Yg.V1a,pin:B.j7a,desiredVmaf:A.config().Sdb?A.config().KVa:A.config().LVa,desiredSegmentVmaf:A.config().Sdb?A.config().KVa:A.config().LVa,requestSegmentVmaf:A.config().aZb,supportsPartialHydration:A.Yg.HK,contentPlaygraph:x.Ya.ag?[]:A.Yg.RE,supportsAdBreakHydration:x.Ya.ag?!1:A.Yg.y$,auxiliaryManifestToken:x.Ya.ag?void 0:null === (Ca=x.If) || void 0 === Ca?void 0:Ca.bc,adBreakToken:x.Ya.ag?void 0:null === (La=x.If) || void 0 === La?void 0:La.ph,originalPlaybackContextId:!x.Ya.ag && (null === (Wa=x.If) || void 0 === Wa?0:Wa.bc)?null === (db=x.If) || void 0 === db?void 0:db.EV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.lXa && (I.extraParams=B.lXa);B.JVa && (I.desiredDownloadables=B.JVa);B.rua && (I.requestReference=B.rua);Y={Hm:I.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",Kx:null === M || void 0 === M?void 0:M.Ry,HR:H,WX:N};M && (M={drmSessionId:M.Ry.Sx() || "session",clientTime:A.qa.qH.ba(q.sm),challengeBase64:M.Cia},I.challenges={"default":[M]},I.profileGroups=[{name:"default",profiles:L}],I.licenseType=x.qf == y.Dh.rn?"limited":"standard",x.ma && (I.xid=x.ma.toString()));A.Yg.HK || (I.showAllSubDubTracks=A.config().kp.f1b || !!D.showAllSubDubTracks);A.Yg.JWa && x.Hq === f.ol.Y_ && (I.maxSupportedLanguages=2);x.hO && (I.originalPlaybackContextId=x.hO.EV,I.requiredAudioTrackId=x.hO.eZb,I.requiredTextTrackId=x.hO.hZb);return [I,Y];});};c.prototype.TIb=function(x){if(this.config().X8.enabled){if(void 0 !== x.gn)return x.gn;if(void 0 !== this.config().X8.gn)return Number(this.config().X8.gn);}};c.prototype.RGb=function(x,z){var A;A=this;return this.ivb.SYa(z).then(function(B){var D;D=x && A.iVb.YIb(x);D && D.Yo("cad");return B;});};c.prototype.xHb=function(x){var z;if(void 0 === x.qf || !this.config().Fr)return Promise.resolve(void 0);z=x.qf === y.Dh.qm && this.Yg.$u;return x.qf === y.Dh.rn && this.Yg.PA || z?this.WR.jna(x.qf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(t.Lw)),r.__param(1,(0,l.l)(n.vn)),r.__param(2,(0,l.l)(h.ac)),r.__param(3,(0,l.l)(g.rAa)),r.__param(4,(0,l.l)(m.Gda)),r.__param(5,(0,l.l)(k.Fw)),r.__param(6,(0,l.l)(u.HY)),r.__param(7,(0,l.l)(p.fg)),r.__param(8,(0,l.l)(w.Nca)),r.__param(9,(0,l.l)(v.uw))],a);b.WIa=a;},36642:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.Nkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k,n){var p;p=this;return this.send(m,{url:"/" + h.Fg.ping,name:h.Fg.ping,Ej:h.Fg.ping},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.XIa=g;},39832:function(r,b,a){var l,f,h,d,g;function c(m){return d.jh.call(this,m,f.U.Wda,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jJa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(40547);d=a(51658);a=a(83998);ea(c,d.jh);c.prototype.Cf=function(m,k){var n;n=this;return this.send(m,{url:"/bundle",name:h.Fg.Xg,Ej:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.On=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.jJa=g;},46320:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q){this.platform=k;this.config=n;this.WR=p;this.Mm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;r=a(5163);l=a(22674);f=a(4203);h=a(91581);d=a(2492);g=a(56800);m=a(24735);c.prototype.transform=function(k){var n,p,q;n=this;p=k.Ya;q={wd:void 0};return Promise.all([this.Mm.E_a(q),this.Mm.G_a(q),this.WR.jna(m.Dh.qm)]).then(function(u){var t,w;t=la(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:k.J,packageId:p.gn,assetId:p.Bha,challenge:t.Cia,audioProfiles:u.j5(),textProfiles:n.config().Mt,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.j5(),audioLanguages:p.Usb,textLanguages:p.i3b,videoLanguages:p.keb?[p.keb]:void 0,requestReference:p.rua,additionalAudioAssets:p.trb,additionalTextAssets:p.wrb,useBetterTextUrls:!0},{Kx:null === t || void 0 === t?void 0:t.Ry,Hm:"studioManifest",HR:u,WX:w}];});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.vn)),r.__param(1,(0,l.l)(f.ac)),r.__param(2,(0,l.l)(d.HY)),r.__param(3,(0,l.l)(g.uw))],a);b.nJa=a;},69740:function(r,b,a){var l,f,h,d,g;function c(m){return h.aq.call(this,m,f.U.oLa,d.Ao.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(88496);d=a(87607);a=a(83998);ea(c,h.aq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.VLa=g;},84860:function(r,b,a){var l,f,h,d,g;function c(m){return h.aq.call(this,m,f.U.Ylb,d.Ao.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(88496);d=a(87607);a=a(83998);ea(c,h.aq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.$La=g;},35329:function(r,b,a){var l,f,h,d,g;function c(m){return h.aq.call(this,m,f.U.Zlb,d.Ao.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;r=a(5163);l=a(22674);f=a(36129);h=a(88496);d=a(87607);a=a(83998);ea(c,h.aq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],g);b.fMa=g;},17705:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u){n=f.Re.call(this,n,"PboConfigImpl") || this;n.config=p;n.Urb=q;n.Lf=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.FIa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(12501);g=a(4203);m=a(24747);a=a(5614);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{cw:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.cw || "";}},O$:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.O$ || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.bta;}},V1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},J$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Urb.eSa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.K$a);}},K$a:{configurable:!0,enumerable:!0,get:function(){return {};}},Y8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Yna:{configurable:!0,enumerable:!0,get:function(){return 10;}},UQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},$u:{configurable:!0,enumerable:!0,get:function(){return this.Lf.$u;}},PA:{configurable:!0,enumerable:!0,get:function(){return this.Lf.PA;}},bI:{configurable:!0,enumerable:!0,get:function(){return this.Lf.bI;}},Ydb:{configurable:!0,enumerable:!0,get:function(){return !1;}},JWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Rdb:{configurable:!0,enumerable:!0,get:function(){return [];}},RWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},HK:{configurable:!0,enumerable:!0,get:function(){return this.Lf.HK;}},RE:{configurable:!0,enumerable:!0,get:function(){return this.Lf.RE;}},y$:{configurable:!0,enumerable:!0,get:function(){return this.Lf.y$;}}});k=c;r.__decorate([d.config(d.string,"uiVersion")],k.prototype,"cw",null);r.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"O$",null);r.__decorate([d.config(d.$y,"pboVersion")],k.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([d.config(d.FH,"pboLanguages")],k.prototype,"languages",null);r.__decorate([d.config(d.bd,"hasLimitedPlaybackFunctionality")],k.prototype,"V1a",null);r.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"J$a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"K$a",null);r.__decorate([d.config(d.bd,"pboRecordHistory")],k.prototype,"Y8a",null);r.__decorate([d.config(d.$y,"pboHistorySize")],k.prototype,"Yna",null);r.__decorate([d.config(d.bd,"pboAddXEsnHeader")],k.prototype,"UQa",null);r.__decorate([d.config(d.bd,"combineManifestAndLicense")],k.prototype,"$u",null);r.__decorate([d.config(d.bd,"enableLicensedManifestForPrefetch")],k.prototype,"PA",null);r.__decorate([d.config(d.bd,"useLdlForPrefetchLicensedManifest")],k.prototype,"bI",null);r.__decorate([d.config(d.bd,"pboUseStudioManifest")],k.prototype,"Ydb",null);r.__decorate([d.config(d.bd,"pboEnableLeanManifest")],k.prototype,"JWa",null);r.__decorate([d.config(d.bd,"useHeaderForRequestNames")],k.prototype,"Rdb",null);r.__decorate([d.config(d.bd,"pboEnableV2OptimizedManifest")],k.prototype,"RWa",null);r.__decorate([d.config(d.bd,"pboEnableManifestPartialHydrationSupport")],k.prototype,"HK",null);r.__decorate([d.config(d.FH,"pboContentPlaygraphTypes")],k.prototype,"RE",null);r.__decorate([d.config(d.bd,"pboSupportsAdBreakHydration")],k.prototype,"y$",null);k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul)),r.__param(1,(0,l.l)(g.ac)),r.__param(2,(0,l.l)(m.sY)),r.__param(3,(0,l.l)(a.SI))],k);b.FIa=k;},71976:function(r,b,a){var h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B;function c(D){this.config=D;this.xx=[];}function l(D,C,F){this.Ea=D;this.kO=C;this.context=F;this.startTime=this.Ea.Eb();}function f(D,C,F,G,E,J,M,L,H,N){this.Qcb=C;this.json=F;this.Ea=G;this.Os=E;this.Hta=J;this.Ac=M;this.config=L;this.Db=H;this.receiver=N;this.log=D.Wa("Pbo");L.Y8a && (this.xx=new c(L));this.kO=this.Qcb();}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(5163);h=a(22674);d=a(5021);g=a(14543);m=a(87386);k=a(63368);n=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);w=a(7605);v=a(15160);y=a(85001);x=a(40547);z=a(45385);a=a(15348);A={"shakti-":"akira"};f.prototype.send=function(D,C){var F;F=new l(this.Ea,this.kO,D);this.xx && this.xx.append(F);return this.qva(D,C,F);};f.prototype.qva=function(D,C,F){var G;G=this;return new Promise(function(E,J){G.retry(D,C).then(function(M){var L,H;G.D_b(M);L=la(G.Z5b(M));H=L.next().value;L=L.next().value;H && (G.receiver.Cta({command:D.Hm,inputs:C,outputs:H}),G.nwb(F),E(M));L && (G.receiver.Cta({command:D.Hm,inputs:C,outputs:L}),G.DTa(F,L),J(L));}).catch(function(M){var L;G.receiver.Cta({command:D.Hm,inputs:C,outputs:M});L=G.DTa(F,M);M.Jb && (M.Jb=[M.Jb," ",L].join(""));J(M);});});};f.prototype.D_b=function(D){(D=D.serverTime) && this.Db.Ec(y.jca.I$a,(0,d.Lb)(D));};f.prototype.Z5b=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{aC:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.Osb=function(D,C,F){var G;G=this;this.t5b(C,D);this.kO=this.Qcb(F);return this.kO.send(C,F).then(function(E){return {retry:!1,result:z.E_.CUb(G.json,E.body)};}).catch(function(E){var J,M;J=z.E_.rIb(E);M=void 0 !== J?Math.min(J,C.Hua):C.Hua;return G.a$(C,E,D,M)?(J=G.Qub(E,D,M),G.log.warn("Method failed, retrying",Object.assign({Method:C.Hm,Attempt:D + 1,WaitTime:J,MaxRetries:M},G.Vja(E))),Promise.resolve({retry:!0,delay:J,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.pGb=function(D){var C,F;if(!this.Aga || this.Aga.YTb !== D){C="";F=D;Object.entries(A).find(function(G){var E;E=la(G);G=E.next().value;E=E.next().value;if(0 === D.indexOf(G))return (C=E,D=D.slice(G.length),!0);});this.Aga={zTa:C,cw:D,YTb:F};}return this.Aga;};f.prototype.t5b=function(D,C){var F,G,E,J;J=D.url.searchParams;J.set(x.Fz.cLa,(C + 1).toString());this.config.Rdb.includes(D.Ej)?D.headers[x.Glb.aea]=D.Ej:J.set(x.Fz.aea,D.Ej);D=this.pGb(null !== (F=this.config.cw) && void 0 !== F?F:"");D.zTa && (J.set(x.Fz.VAa,D.zTa),D.cw && J.set(x.Fz.$Ma,encodeURIComponent(D.cw)),F=this.Os.nd,(null === F || void 0 === F?0:F.name) && J.set(x.Fz.eAa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && J.set(x.Fz.jAa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && J.set(x.Fz.SHa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && J.set(x.Fz.THa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(D,C,F){var G;G=this;F=void 0 === F?0:F;return this.Osb(F++,D,C).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(D,C,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.a$=function(D,C,F,G){var E;E=z.E_.xNb(C);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Hm,Attempt:F + 1,MaxRetries:G},this.Vja(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Hm},this.Vja(C)));return !1;};f.prototype.Qub=function(D,C,F){if(D && D.qC && void 0 !== D.qC.retryAfterSeconds)return (0,d.zh)(D.qC.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Lb)(this.Hta.A8a(D,C));};f.prototype.wait=function(D){var C;C=this;return new Promise(function(F){C.Ac.lk(D || d.Ia,F);});};f.prototype.Vja=function(D){return (0,t.X1a)(D)?D:{message:D.message,subCode:D.ic,extCode:D.Tc,mslCode:D.uy,data:D.data};};f.prototype.nwb=function(D){D.WN();};f.prototype.DTa=function(D,C){var F;D.Ks(C);if(this.xx)try{F=this.json.stringify(this.xx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.Za)),r.__param(1,(0,h.l)(g.RMa)),r.__param(2,(0,h.l)(k.fD)),r.__param(3,(0,h.l)(n.Jc)),r.__param(4,(0,h.l)(p.qn)),r.__param(5,(0,h.l)(q.S_)),r.__param(6,(0,h.l)(u.Di)),r.__param(7,(0,h.l)(w.Lw)),r.__param(8,(0,h.l)(v.Rba)),r.__param(9,(0,h.l)(a.tda))],B);b.GIa=B;l.prototype.WN=function(){this.ia=!0;this.elapsedTime=this.Ea.Eb().wa(this.startTime);};l.prototype.Ks=function(D){this.ia=!1;this.elapsedTime=this.Ea.Eb().wa(this.startTime);this.r2b=D.ic || D.subCode;this.dEb=D.Tc || D.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var D;D=Object.assign({success:this.ia,method:this.context.Hm,startTime:this.startTime.ba(d.na),elapsedTime:this.elapsedTime?this.elapsedTime.ba(d.na):"in progress"},this.kO.rja());return this.ia?D:Object.assign(Object.assign(Object.assign({},D),this.kO.rja()),{subcode:this.r2b,extcode:this.dEb});};c.prototype.append=function(D){this.xx.push(D);0 < this.config.Yna && this.xx.length > this.config.Yna && this.xx.shift();};c.prototype.toJSON=function(){return this.xx;};},45385:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.E_=void 0;l=a(36129);c.xNb=function(f){var h,d;h=f && f.code;d=f && (f.ya || f.ic);f=f.Tc !== l.f_.vIa;d=!!d && d >= l.R.lP && d <= l.R.jP && f;return !("RETRY" !== h && "FAIL" !== h) || d;};c.rIb=function(f){var h,d;d=null === (h=null === f || void 0 === f?void 0:f.qC) || void 0 === h?void 0:h.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.CUb=function(f,h){var d;if(h){try{d=f.parse(h);}catch(g){throw {aC:!0,code:"FAIL",message:"Unable to parse the response body",data:h};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {aC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {aC:!0,code:"FAIL",message:"There is no body property on the response"};};b.E_=c;},23632:function(r,b,a){var l,f,h;function c(d,g){this.aF=g;this.log=d.Wa("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(33554);c.prototype.Nga=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.kL=function(d){!1;return this.links[d];};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(a.vw))],h);b.QIa=h;},17108:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;r=a(5163);a=a(22674);c.prototype.g0b=function(f){this.listener=f;};c.prototype.Cta=function(f){var h;null === (h=this.listener) || void 0 === h?void 0:h.call(this,f);};l=c;l=r.__decorate([(0,a.T)()],l);b.iJa=l;},91918:function(r,b,a){var f,h;function c(d,g,m,k,n,p,q){this.version=d;this.url=g;this.id=m;this.languages=k;this.nb=n;this.lCb=p;this.HRb=q;}function l(d){this.Yg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(5163);f=a(22674);a=a(7605);l.prototype.create=function(d,g,m,k,n){return new c(this.Yg.version,g,d,this.Yg.languages,m,k,n);};h=l;h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Lw))],h);b.lJa=h;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.nb,echo:this.lCb};};},5652:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);l=a(14543);f=a(60204);h=a(89146);d=a(74429);g=a(34231);b.transports=new r.ed(function(m){m(c.l0).to(d.QMa).da();m(l.qHa).to(f.pHa);m(l.YLa).to(h.XLa);m(l.RMa).Wd(function(k){return function(n){var p;return k.hb.get(c.l0).b$(null !== (p=null === n || void 0 === n?void 0:n.HRb) && void 0 !== p?p:g.hu.SP)?k.hb.get(l.qHa):k.hb.get(l.YLa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="TransportFactorySymbol";b.qHa="MslTransportSymbol";b.YLa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l0="TransportConfigSymbol";},60204:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){var q;q=this;this.UB=n;this.profile=p;this.log=k.Wa("MslTransport");this.UB().then(function(u){return q.F7=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(97996);d=a(5021);a=a(71501);g={license:!0};c.prototype.send=function(k,n){var p,q;p=this;q={Xqa:Object.assign({He:k.He,log:k.log,profile:this.profile},k.Ftb),method:k.Hm,url:k.url.href,body:JSON.stringify(n),timeout:k.timeout.ba(d.na),$db:this.profile,MYb:!g[k.Hm],J5a:!!g[k.Hm],lF:!0,Rp:k.Hua,headers:k.headers};!1;return this.UB().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.ic=t.ya || t.ic,t);w=t.error;w.qC=t.qC;p.log.error("Error sending MSL request",{mslCode:w.uy,subCode:w.ic,data:w.data,message:w.message});throw w;});});};c.prototype.rja=function(){var k;return {userTokens:null === (k=this.F7) || void 0 === k?void 0:k.fV.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.IP)),r.__param(2,(0,l.l)(a.VI))],m);b.pHa=m;},89146:function(r,b,a){var l,f,h,d;function c(g,m){this.He=m;this.log=g.Wa("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(5163);l=a(22674);f=a(5021);h=a(87386);a=a(32934);c.prototype.send=function(g,m){var k,n;k=this;n={url:g.url.href,JA:"nq-" + g.Hm,K7a:JSON.stringify(m),Z2:g.timeout.ba(f.na),headers:g.headers,withCredentials:!0,qr:"pbo"};!1;return new Promise(function(p,q){k.He.download(n,function(u){u.ia?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ic=p.ya || p.ic,p);q=p.error;q.qC=p.qC;k.log.error("Error sending SSL request",{subCode:q.ic,data:q.content,message:q.message});throw q;});};c.prototype.rja=function(){return {};};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(a.eu))],d);b.XLa=d;},74429:function(r,b,a){var l,f,h,d,g;function c(m){return f.Re.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(12501);g=a(34231);ea(c,f.Re);c.prototype.b$=function(m){var k,n;k=this.pO;n=this.cRa;switch(m){case g.hu.SP:return k;case g.hu.xKa:return k && !n;case g.hu.gkb:return !1;}};Xa.Object.defineProperties(c.prototype,{pO:{configurable:!0,enumerable:!0,get:function(){return !0;}},cRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.bd,"usesMsl")],a.prototype,"pO",null);r.__decorate([d.config(d.bd,"allowRequestsWithoutMsl")],a.prototype,"cRa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul))],a);b.QMa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xda="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n0="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C,F,G){this.Fm=C;this.groups=F;this.prefix=G;C=v(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function l(){}function f(){}function h(){return w?w:"0.0.0.0";}function d(C){C({tfc:0,Jgc:0,Mdc:0,jdc:0});}g=a(57055);l.prototype.set=function(C,F){n[C]=F;p.save(C,F);};l.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];t.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.ia?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};l.prototype.remove=function(C){p.remove(C);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.Ga=function(){return u();};f.prototype.Vqa=function(C){return C + q() - u();};f.prototype.ura=function(C){return C + u() - q();};c.prototype.QUa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.Fm,this.groups,F);};y=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){m=C.y8;v=C.Ri;p=C.storage;n=C.WL;q=C.KIb;u=C.getTime;t=C.psb;x=C.fq;D=C.gj;z=C.tI;A=C.SourceBuffer;B=C.MediaSource;w=C.cec;k=C.Cs;return {name:"cadmium",Cs:k,y8:m,storage:new l(),Storage:l,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,fq:x,tI:z,V9b:A,MediaSource:B,gj:D,ko:{name:h},memory:{ydc:d},rT:C.rT,p3:C.p3,Xja:C.Xja,ping:function(F){fetch(F).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.nt,minHCInitVideoBitrate:a.hRb,maxInitVideoBitrate:a.qy,minInitAudioBitrate:a.cV,maxInitAudioBitrate:a.RU,minHCInitAudioBitrate:a.v7,minAcceptableVideoBitrate:a.r7,minRequiredBuffer:a.QB,minPrebufSize:a.Zq,minCheckBufferingCompleteInterval:a.Oqa,rebufferingFactor:a.Pta,useMaxPrebufSize:a.Jxa,maxPrebufSize:a.NB,maxRebufSize:a.uqa,maxBufferingTime:a.Xq,minAudioMediaRequestSizeBytes:a.Nqa,minVideoMediaRequestSizeBytes:a.Rqa,initialBitrateSelectionCurve:a.S5,initSelectionLowerBound:a.e1a,initSelectionUpperBound:a.f1a,throughputPercentForAudio:a.vX,bandwidthMargin:a.Pha,bandwidthMarginContinuous:a.Qha,bandwidthMarginCurve:a.Rha,conservBandwidthMargin:a.nja,switchConfigBasedOnInSessionTput:a.Gwa,conservBandwidthMarginTputThreshold:a.pja,conservBandwidthMarginCurve:a.oja,switchAlgoBasedOnHistIQR:a.Ubb,switchConfigBasedOnThroughputHistory:a.Hwa,maxPlayerStateToSwitchConfig:a.t4a,lowEndMarkingCriteria:a.I3a,IQRThreshold:a.OEa,histIQRCalcToUse:a.z0a,maxTotalBufferLevelPerSession:a.UU,highWatermarkLevel:a.u0a,toStableThreshold:a.Acb,toUnstableThreshold:a.H$,skipBitrateInUpswitch:a.cwa,watermarkLevelForSkipStart:a.$xa,highStreamRetentionWindow:a.Una,lowStreamTransitionWindow:a.Wpa,highStreamRetentionWindowUp:a.Wna,lowStreamTransitionWindowUp:a.Ypa,highStreamRetentionWindowDown:a.Vna,lowStreamTransitionWindowDown:a.Xpa,highStreamInfeasibleBitrateFactor:a.Tna,lowestBufForUpswitch:a.ly,lockPeriodAfterDownswitch:a.GU,lowWatermarkLevel:a.aqa,lowestWaterMarkLevel:a.my,lowestWaterMarkLevelBufferRelaxed:a.bqa,mediaRate:a.k7,maxTrailingBufferLen:a.c7,audioBufferTargetAvailableSize:a.Eha,videoBufferTargetAvailableSize:a.Oxa,maxVideoTrailingBufferSize:a.B4a,maxAudioTrailingBufferSize:a.f4a,fastUpswitchFactor:a.j4,fastDownswitchFactor:a.sla,maxMediaBufferAllowed:a.tG,simulatePartialBlocks:a.Kab,simulateBufferFull:a.Jab,considerConnectTime:a.qja,connectTimeMultiplier:a.mja,lowGradeModeEnterThreshold:a.BPb,lowGradeModeExitThreshold:a.CPb,maxDomainFailureWaitDuration:a.i4a,maxAttemptsOnFailure:a.nqa,enableMaxAttemptsOnFailure:a.Kka,exhaustAllLocationsForFailure:a.hXa,maxNetworkErrorsDuringBuffering:a.p4a,maxBufferingTimeAllowedWithNetworkError:a.X6,fastDomainSelectionBwThreshold:a.tXa,throughputProbingEnterThreshold:a.icb,throughputProbingExitThreshold:a.jcb,locationProbingTimeout:a.y3a,finalLocationSelectionBwThreshold:a.AXa,throughputHighConfidenceLevel:a.gcb,throughputLowConfidenceLevel:a.hcb,locationStatisticsUpdateInterval:a.Jpa,enablePerfBasedLocationSwitch:a.OWa,probeServerWhenError:a.ZG,probeRequestTimeoutMilliseconds:a.ota,allowSwitchback:a.yR,probeDetailDenominator:a.a8a,maxDelayToReportFailure:a.Y6,countGapInBuffer:a.ixb,bufferThresholdForAbort:a.Ztb,allowCallToStreamSelector:a.Jrb,pipelineScheduleTimeoutMs:a.XUb,maxPartialBuffersAtBufferingStart:a.dM,maxActiveRequestsSABCell100:a.d4a,maxStreamingSkew:a.wQb,maxPendingBufferPercentage:a.pQb,headerRequestSize:a.E5,estimateHeaderSize:a.Zka,minBufferLenForHeaderDownloading:a.t7,reserveForSkipbackBufferMs:a.yua,numExtraFragmentsAllowed:a.ASb,pipelineEnabled:a.mo,maxParallelConnections:a.sqa,socketReceiveBufferSize:a.Rab,audioSocketReceiveBufferSize:a.p2,videoSocketReceiveBufferSize:a.daa,headersSocketReceiveBufferSize:a.Rna,updatePtsIntervalMs:a.h5b,bufferTraceDenominator:a.bub,bufferLevelNotifyIntervalMs:a.oSa,aseReportDenominator:a.ER,aseReportIntervalMs:a.zha,enableAbortTesting:a.ACb,abortRequestFrequency:a.rqb,streamingStatusIntervalMs:a.l2b,prebufferTimeLimit:a.UV,minBufferLevelForTrackSwitch:a.T4a,penaltyFactorForLongConnectTime:a.ysa,longConnectTimeThreshold:a.Upa,additionalBufferingLongConnectTime:a.aha,additionalBufferingPerFailure:a.bha,rebufferCheckDuration:a.gW,enableLookaheadHints:a.SCb,lookaheadFragments:a.zPb,enableOCSideChannel:a.IK,OCSCBufferQuantizationConfig:a.y_,updateDrmRequestOnNetworkFailure:a.odb,deferAseScheduling:a.ZAb,maxDiffAudioVideoEndPtsMs:a.fQb,defaultHeaderCacheSize:a.cka,defaultHeaderCacheDataPrefetchMs:a.bka,neverWipeHeaderCache:a.cra,networkFailureResetWaitMs:a.ara,networkFailureAbandonMs:a.$qa,maxThrottledNetworkFailures:a.b7,throttledNetworkFailureThresholdMs:a.C$,lowThroughputThreshold:a.$pa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.hla,mp4ParsingInNative:a.DRb,sourceBufferInOrderAppend:a.D1b,requireAudioStreamToEncompassVideo:a.oN,allowAudioToStreamPastVideo:a.Irb,enableManagerDebugTraces:a.LWa,managerDebugMessageInterval:a.R3a,managerDebugMessageCount:a.Q3a,bufferThresholdToSwitchToSingleConnMs:a.aub,bufferThresholdToSwitchToParallelConnMs:a.$tb,netIntrStoreWindow:a.NRb,minNetIntrDuration:a.jRb,fastHistoricBandwidthExpirationTime:a.nEb,bandwidthExpirationTime:a.stb,failureExpirationTime:a.mEb,historyTimeOfDayGranularity:a.kLb,expandDownloadTime:a.WDb,minimumMeasurementTime:a.sRb,minimumMeasurementBytes:a.rRb,throughputMeasurementTimeout:a.r3b,initThroughputMeasureDataSize:a.kMb,throughputMeasureWindow:a.q3b,throughputIQRMeasureWindow:a.p3b,IQRBucketizerWindow:a.ijb,connectTimeHalflife:a.Mwb,responseTimeHalflife:a.sZb,historicBandwidthUpdateInterval:a.jLb,throughputWarmupTime:a.w3b,minimumBufferToStopProbing:a.qRb,throughputPredictor:a.s3b,ase_stream_selector:a.tsb,enableFilters:a.KCb,filterDefinitionOverrides:a.DEb,defaultFilter:a.IAb,secondaryFilter:a.e_b,defaultFilterDefinitions:a.JAb,initBitrateSelectorAlgorithm:a.voa,bufferingSelectorAlgorithm:a.cia,ase_ls_failure_simulation:a.qAb,ase_dump_fragments:a.Tja,ase_location_history:a.Uja,ase_throughput:a.mVa,ase_simulate_verbose:a.rAb,secondThroughputEstimator:a.fva,secondThroughputMeasureWindowInMs:a.p$a,marginPredictor:a.jqa,networkMeasurementGranularity:a.bra,HistoricalTDigestConfig:a.eEa,maxIQRSamples:a.n4a,minIQRSamples:a.W4a,periodicHistoryPersistMs:a.v8,saveVideoBitrateMs:a.F9,needMinimumNetworkConfidence:a.Zqa,biasTowardHistoricalThroughput:a.Uha,maxFastPlayBufferInMs:a.pqa,maxFastPlayBitThreshold:a.k4a,minAudioMediaRequestDuration:a.Av,minVideoMediaRequestDuration:a.ty,minAudioMediaRequestDurationCache:a.Av,minVideoMediaRequestDurationCache:a.ty,addHeaderDataToNetworkMonitor:a.Mga,hindsightDenominator:a.x0a,hindsightDebugDenominator:a.w0a,hindsightParam:a.y0a,minimumTimeBeforeBranchDecision:a.A7,minimumTimeBeforeDelayedSeekToQueuedSegment:a.e5a,enableSessionHistoryReport:a.PWa,earlyStageEstimatePeriod:a.nWa,lateStageEstimatePeriod:a.a3a,maxNumSessionHistoryStored:a.q4a,minSessionHistoryDuration:a.$4a,appendMediaRequestOnComplete:a.oRa,waitForDrmToAppendMedia:a.Vxa,forceAppendHeadersAfterDrm:a.Qla,startMonitorOnLoadStart:a.jwa,reportFailedRequestsToNetworkMonitor:a.jua,reappendRequestsOnSkip:a.CXb,maxActiveRequestsPerSession:a.QU,limitAudioDiscountByMaxAudioBitrate:a.Cpa,appendFirstHeaderOnComplete:a.mha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.rCb,declareBufferingCompleteAtSegmentEnd:a.oVa,applyProfileTimestampOffset:a.DR,profileTimestampOffsets:a.U8,applyProfileStreamingOffset:a.Bm,mediaSourceSupportsNegativePts:a.m7,requireDownloadDataAtBuffering:a.tua,requireSetupConnectionDuringBuffering:a.uua,recordFirstFragmentOnSubBranchCreate:a.X8a,earlyAppendSingleChildBranch:a.mWa,selectStartingVMAFMethod:a.AN,activateSelectStartingVMAF:a.oR,minStartingVideoVMAF:a.ot,minAcceptableVMAF:a.aV,minAllowedVmaf:a.yG,alwaysNotifyEOSForPlaygraph:a.Rrb,enableNewAse:a.WCb,useNewApi:a.E5b,enableCombinedPlaygraphs:a.FS,enableAdPlaygraphs:a.kF,retainSbrOnFade:a.u9,excludedContentPlaygraphIds:a.ila,enableDiscontiguousBuffering:a.S3,forceImmediateTransitionTypeForTitles:a.Tla,forceImmediateTransitionExitZone:a.Sla,useBufferSizeLimiter:a.S$,useLegacyFragmentRounding:a.D5b,maxAllowedOutstandingRequests:a.W6,alwaysRunUnderflowTimer:a.TJ,minStreamableConcurrencyWindow:a.Pqa,streamableConcurrencyFactor:a.vwa,bufferingConcurrencyWindow:a.SR,singleStreamablePerBranch:a.n1b,enableResolutionVMAFStreamFilter:a.V3,resolutionVMAFCappingRuleList:a.t9,percentCapTitlesForResolutionVMAFStreamFilter:a.Bsa,useExitZones:a.Ixa,perFragmentVMAFConfig:a.JM,enableInitialTputLogging:a.HWa,maxResponsesInitialTput:a.rQb,paddingDurationMs:a.ksa,paddingMediaType:a.lsa,supportsPtsChanged:a.Sbb,ciPredictorSource:a.Oia,experimentalFilter:a.XDb,simulationDurationStrategy:a.awa,liveTargetBufferDuration:a.YL,liveEdgeCushion:a.K6,liveSwitchStreamsOnErrorInPipeline:a.P6};};},31594:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O;Object.defineProperty(b,"__esModule",{value:!0});b.q3a=void 0;c=a(28131);l=a(38385);f=a(56371);h=a(33194);d=a(36149);g=a(75950);m=a(40076);k=a(51259);n=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);w=a(82656);v=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);D=a(49594);C=a(28838);F=a(99584);G=a(92692);E=a(12653);J=a(31360);M=a(65945);L=a(18880);H=a(5652);N=a(43367);I=a(87886);K=a(87284);O=a(81737);b.q3a=function(R){R.load(c.zx,m.MH,l.H3a,k.Mm,f.h5a,h.M,d.neb,g.A0a,n.storage,p.YJ,q.BSa,u.V3a,t.UB,w.Fk,v.G3a,y.w5a,x.nYa,z.p8a,A.SG,B.kWa,D.tWa,C.Yd,F.cd,G.Xa,E.o5a,J.c7a,M.j,L.MTa,H.transports,N.Mk,I.Kg,K.KRa,O.W);};},83989:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.dc=void 0;r=a(22674);c=a(71501);l=a(88351);f=a(49594);h=a(83810);d=a(51120);g=a(31594);a=a(99198);b.dc=new r.JY({vH:!0});(0,g.q3a)(b.dc);b.dc.load(l.platform);b.dc.load(h.config);f.DK.load(d.uWa);b.dc.load(a.kRa);b.dc.load(a.profile);b.dc.bind(c.aFa).il(b.dc);},76892:function(r,b,a){var l,f,h,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eNa=void 0;r=a(5163);h=a(22674);a=a(22365);d={sU:!1,reason:"uninitialized"};null === (f=null === (l=null === a.Be || void 0 === a.Be?void 0:a.Be.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === f?void 0:f.call(l,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{sU:!0,version:g}:{sU:!1,reason:"undefined"};}).catch(function(){d={sU:!1,reason:"exception"};});Xa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,h.T)()],l);b.eNa=l;},25066:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.UYa=b.TYa=b.VYa=void 0;c=a(56800);l=a(17612);f=a(75568);h=a(88195);d=a(64232);b.VYa=function(g){return Object.assign(Object.assign({},(0,d.eL)()),{Dq:g.h2a?"T":g.hU?"C":"M",Mn:g.h2a?"NFCDTS-01-":g.gy?"NFCDCH-02-":g.wB?"NFCDCH-MC-":g.hU?"NFCDCH-01-":g.Z5?"NFCDCH-AP-":g.fU?"NFCDCH-AT-":g.JL?"NFCDCH-PH-":"NFCDCH-LX-",IA:g.hU?"chromeos-cadmium":"chrome-cadmium"});};b.TYa=function(g){var m,k,n,p,q;m=(0,d.dL)();k=Object.assign(Object.assign({},m),{FK:!0,$u:!0,PA:!0,bI:!0});n=[f.H.rZ,f.H.pZ,f.H.eQ];p=[f.H.qZ];if(g.gy){q={minimumCores:5};k.uk=[].concat(ca((0,h.rV).apply(null,[m.uk].concat(ca(n)))),ca((0,h.yh)([f.H.iz,f.H.jz].concat(ca(n),[f.H.lI,f.H.mI]),q)));k.Uq=[].concat(ca((0,h.rV).apply(null,[m.Uq].concat(ca(p)))),ca((0,h.yh)([].concat(ca(p)),q)));115 <= g.Dm && (k.uk=[].concat(ca(k.uk),ca((0,h.yh)([].concat(ca(f.Kc.sgb),ca(f.Kc.FY),ca(f.Kc.EY),ca(f.Kc.DY),ca(f.Kc.CY))))));}g.wB && (q={minimumCores:3},k.uk=[].concat(ca((0,h.rV).apply(null,[m.uk].concat(ca(n)))),ca((0,h.yh)([f.H.iz,f.H.jz].concat(ca(n),[f.H.lI,f.H.mI]),q))),k.Uq=[].concat(ca((0,h.rV).apply(null,[m.Uq].concat(ca(p)))),ca((0,h.yh)([].concat(ca(p)),q))));g.hU && (k.uk=(0,h.yh)([].concat(ca(f.Kc.BY),ca(f.Kc.lY),ca(f.Kc.raa),ca(f.Kc.EY),ca(f.Kc.FY),ca(f.Kc.CY),ca(f.Kc.DY))),k.Uq=(0,h.yh)([].concat(ca(f.Kc.kY),ca(f.Kc.cba),ca(f.Kc.bba))));return k;};b.UYa=function(g){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.rI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= g.Dm && (m=Object.assign(Object.assign({},m),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));g.fU && (m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL1:!0}));g.hU && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= g.Dm && (m=Object.assign(Object.assign({},m),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= g.Dm && g.gy && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.$a.CNa,l.$a.gQ]}));if(g.gy || g.wB)m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL3:!0});g.gy && 99 <= g.Dm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));g.wB && 113 <= g.Dm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},30837:function(r,b,a){var l,f,h,d,g,m;function c(){var k,n,p;p=null === (k=nb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(f.$a.sd,g.dd.Lqa);k=p || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.$a.rD,g.dd.Lqa));return {$1a:p,Z1a:k};}Object.defineProperty(b,"__esModule",{value:!0});b.iZa=b.uHb=b.hZa=b.jZa=void 0;l=a(56800);f=a(17612);h=a(75568);d=a(64232);g=a(73796);m=a(88195);b.jZa=function(k){return Object.assign(Object.assign({},(0,d.eL)()),{Dq:k.fy?"D":"H",Mn:k.fy?k.wB?"NFCDIE-04-":k.kNb?"NFCDIE-LX-":k.Z5?"NFCDIE-AP-":k.fU?"NFCDIE-AT-":k.JL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",IA:"edge-cadmium",U1:!1});};b.hZa=function(){var k,n,p;k=Object.assign(Object.assign({},(0,d.dL)()),{xE:(0,m.yh)([h.xd.$C,h.xd.aD,h.xd.UO,h.xd.VO]),uk:(0,m.yh)([].concat(ca(h.Kc.BY),ca(h.Kc.lY),ca(h.Kc.raa),ca(h.Kc.EY),ca(h.Kc.FY),ca(h.Kc.CY),ca(h.Kc.DY),ca(h.Kc.sAa),ca(h.Kc.tAa),ca(h.Kc.uAa))),Uq:(0,m.yh)([].concat(ca(h.Kc.kY),ca(h.Kc.cba),ca(h.Kc.bba))),Tl:void 0,UT:!1});n=c();p=n.$1a;n.Z1a || (k.$u=!0,k.PA=!0,k.bI=!0);k.RE=p?[]:["start"];return k;};b.uHb=c;b.iZa=function(k){var n,p,q,u,t,w,v;n=k.jU;p=k.fy;q=k.gy;u=c();t=u.Z1a;w=u.$1a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.Yt.Gw,videoCapabilityDetectorType:l.vl.Gw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:l.Yt.tw,videoCapabilityDetectorType:l.vl.rI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.$a.gQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.yh)([h.xd.$C,h.xd.aD]),videoProfiles:(0,m.yh)([h.H.YC,h.H.ZC,h.H.lZ,h.H.nZ]),liveVideoProfiles:(0,m.yh)([h.H.mZ,h.H.oZ]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= k.Dm && (u=Object.assign(Object.assign(Object.assign({},u),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= k.Dm && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= k.Dm && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= k.Dm && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),w),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.$a.yda,f.$a.zJa]}),94 === k.Dm && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= k.Dm && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),v));return u;};},54534:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.pZa=b.oZa=b.qZa=void 0;c=a(56800);l=a(75568);f=a(88195);h=a(64232);b.qZa=function(d){return Object.assign(Object.assign({},(0,h.eL)()),{Dq:"F",Mn:d.wB?"NFCDFF-MC-":d.gy?"NFCDFF-02-":d.Z5?"NFCDFF-AP-":d.fU?"NFCDFF-AT-":d.JL?"NFCDFF-PH-":"NFCDFF-LX-",IA:"firefox-cadmium"});};b.oZa=function(d){var g,m;g=(0,h.dL)();m=Object.assign(Object.assign({},g),{FK:!0,$u:!0,PA:!0,bI:!0});d.gy && (m.uk=[].concat(ca(g.uk),ca((0,f.yh)([l.H.iz,l.H.jz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.wB && (m.uk=[].concat(ca(g.uk),ca((0,f.yh)([l.H.iz,l.H.jz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.pZa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.vl.rI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.gy || d.wB) && 95 <= d.Dm && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},64232:function(r,b,a){var l,f,h,d;function c(g,m){var k,n,p,q,u,t;k=g.oy;n=g.lM;g=g.GM;p=m.oy;q=m.lM;m=m.GM;u=void 0 === k || void 0 === p;t=u || void 0 === n || void 0 === q;return u || k > p || k === p && (t || n > q) || k === p && n === q && (t || void 0 === g || void 0 === m || g >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.dL=b.eL=b.MNb=b.gU=b.mU=void 0;l=a(5021);f=a(17612);h=a(75568);d=a(88195);b.mU=function(g,m,k,n){return c({oy:g.ZTb,lM:g.$Tb,GM:g.aUb},{oy:m,lM:k,GM:n});};b.gU=function(g,m){return c({oy:g.Dm},{oy:m});};b.MNb=c;b.eL=function(){return {version:"6.0041.839.911",F7:!0,aL:!0,lka:"browser",yVa:["en-US"],Qpa:"",sS:"cadmium",ceb:!0,U1:!0};};b.dL=function(){return {xE:(0,d.yh)([h.xd.$C,h.xd.aD]),uk:(0,d.yh)([].concat(ca(h.Kc.BY),ca(h.Kc.lY),ca(h.Kc.raa))),Uq:(0,d.yh)([].concat(ca(h.Kc.kY))),Tl:f.$a.gQ,py:(0,l.Lb)(31E3)};};},20447:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ZZa=b.YZa=b.$Za=void 0;c=a(56800);l=a(64232);b.$Za=function(f){return Object.assign(Object.assign({},(0,l.eL)()),{Dq:"O",Mn:f.Z5?"NFCDOP-AP-":f.fU?"NFCDOP-AT-":f.JL?"NFCDOP-PH-":"NFCDOP-01-",IA:"opera-cadmium"});};b.YZa=function(){return Object.assign(Object.assign({},(0,l.dL)()),{FK:!0,$u:!0,PA:!0,bI:!0});};b.ZZa=function(f){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.rI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= f.Dm && (h=Object.assign(Object.assign({},h),{enableVP9:!0}));return h;};},22224:function(r,b,a){var l,f,h,d,g,m;function c(k){var n;n=Object.assign(Object.assign({},(0,m.dL)()),{xE:(0,g.yh)([d.xd.$C,d.xd.aD,d.xd.Sw]),uk:(0,g.yh)([].concat(ca(d.Kc.BY),ca(d.Kc.lY),ca(d.Kc.EY),ca(d.Kc.FY),ca(d.Kc.CY),ca(d.Kc.DY),ca(d.Kc.sAa),ca(d.Kc.tAa),ca(d.Kc.uAa))),Uq:(0,g.yh)([].concat(ca(d.Kc.kY),ca(d.Kc.cba),ca(d.Kc.bba))),Tl:h.$a.jib,py:(0,l.Lb)(7E3),RE:[]});(0,m.gU)(k,14) && (n.RE=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.t_a=b.s_a=b.zZa=b.u_a=void 0;l=a(5021);f=a(56800);h=a(17612);d=a(75568);g=a(88195);m=a(64232);b.u_a=function(k){return Object.assign(Object.assign({},(0,m.eL)()),{Dq:"S",Mn:k.JL?"NFCDSF-PH-":"NFCDSF-01-",IA:"safari-cadmium"});};b.zZa=function(k){return Object.assign(Object.assign({},c(k)),{T$:!0,HK:!1,Mt:[d.tl.r0]});};b.s_a=c;b.t_a=function(k){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.vl.tw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,m.gU)(k,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.mU)(k,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.mU)(k,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.mU)(k,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.mU)(k,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,m.gU)(k,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,m.gU)(k,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},89397:function(r,b,a){var d,g,m,k,n,p,q,u;function c(){}function l(t){this.nd=t;}function f(t){var w;w=g.wda.call(this) || this;t.JL?Object.assign(w,(0,u.zZa)(t)):t.f6?Object.assign(w,(0,q.oZa)(t)):t.Voa?Object.assign(w,(0,p.YZa)()):t.fy || t.jU?Object.assign(w,(0,n.hZa)()):t.oU?Object.assign(w,(0,u.s_a)(t)):Object.assign(w,(0,k.TYa)(t));return w;}function h(t){this.data=t.f6?(0,q.qZa)(t):t.Voa?(0,p.$Za)(t):t.fy || t.jU?(0,n.jZa)(t):t.oU?(0,u.u_a)(t):(0,k.VYa)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=b.hAa=b.gAa=b.fAa=void 0;r=a(5163);d=a(22674);g=a(27081);m=a(22816);k=a(25066);n=a(30837);p=a(20447);q=a(54534);u=a(22224);Xa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},F7:{configurable:!0,enumerable:!0,get:function(){return this.data.F7;}},Dq:{configurable:!0,enumerable:!0,get:function(){return this.data.Dq;}},Mn:{configurable:!0,enumerable:!0,get:function(){return this.data.Mn;}},aL:{configurable:!0,enumerable:!0,get:function(){return this.data.aL;}},IA:{configurable:!0,enumerable:!0,get:function(){return this.data.IA;}},lka:{configurable:!0,enumerable:!0,get:function(){return this.data.lka;}},yVa:{configurable:!0,enumerable:!0,get:function(){return this.data.yVa;}},Qpa:{configurable:!0,enumerable:!0,get:function(){return this.data.Qpa;}},sS:{configurable:!0,enumerable:!0,get:function(){return this.data.sS;}},ceb:{configurable:!0,enumerable:!0,get:function(){return this.data.ceb;}},U1:{configurable:!0,enumerable:!0,get:function(){return this.data.U1;}}});a=h;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.TC))],a);b.fAa=a;ea(f,g.wda);a=f;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.TC))],a);b.gAa=a;l.prototype.apply=function(){this.nd.f6?Object.assign(this,(0,q.pZa)(this.nd)):this.nd.Voa?Object.assign(this,(0,p.ZZa)(this.nd)):this.nd.fy || this.nd.jU?Object.assign(this,(0,n.iZa)(this.nd)):this.nd.oU?Object.assign(this,(0,u.t_a)(this.nd)):Object.assign(this,(0,k.UYa)(this.nd));return this;};a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.TC))],a);b.hAa=a;c=r.__decorate([(0,d.T)()],c);b.iAa=c;},88351:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);l=a(91581);f=a(5614);h=a(52033);d=a(7748);g=a(71834);m=a(89397);k=a(21892);b.platform=new r.ed(function(n){n(l.vn).to(m.fAa).da();n(f.SI).to(m.gAa).da();n(h.sJa).to(m.hAa).da();n(l.H_).to(m.iAa).da();n(k.xda).Wd(function(p){return function(){var q;q=p.hb.get(c.TC);return q.fy || q.jU?{Ry:function(u,t,w){return new g.Gea(u,t,w);},request:d.HNa}:q.oU?{Ry:function(u,t,w){return new (a(99813))(u,t,w);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Caa={Nqb:"adStart",uQa:"adProgress",xbc:"adComplete",Oqb:"adStop"};b.vya={iA:"adBreakComplete"};b.Daa={error:"error",VDb:"exit",edb:"unload"};b.Dya="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iya="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EO="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sya="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nza="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb,Ta,bb,ib,pb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);l=a(78388);f=a(18181);h=a(12826);d=a(31085);g=a(41106);m=a(51038);k=a(24722);n=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);w=a(87386);v=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);D=a(65106);C=a(13889);F=a(15160);G=a(92205);E=a(52200);J=a(45842);M=a(74870);L=a(95162);H=a(33554);N=a(2160);I=a(67650);K=a(25138);O=a(77134);R=a(34231);Y=a(93367);oa=a(82557);ka=a(85405);ha=a(56800);za=a(39551);Ca=a(69334);La=a(70068);Wa=a(89540);db=a(30869);U=a(49917);ja=a(80966);sa=a(72160);Q=a(54952);P=a(97635);Z=a(74834);na=a(25540);qa=a(38508);Ha=a(30873);Ya=a(78312);Va=a(53085);rb=a(63013);mb=a(14177);Fb=a(56386);Kb=a(1200);Ta=a(24711);bb=a(13673);ib=a(31099);pb=a(67590);b.j=new r.ed(function(ob){ob(I.Gda).to(K.NJa).da();ob(ka.jza).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb,Pb){return new (a(92720).Dca)(Lb,Pb,Eb.get(u.rw),Eb.get(F.YY),Eb.get(pb.Oaa));};});ob(c.SMa).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac){return new (a(37517).z)(Eb.get(A.XMa),Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac);};});ob(A.XMa).to(B.WMa).da();ob(l.VMa).to(f.UMa).da();ob(m.IJa).to(k.HJa).da();ob(P.GLa).to(Z.FLa).da();ob(Y.bLa).to(oa.aLa);ob(Y.$Ka).xcb(Y.bLa);ob(g.SBa).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb){return new (a(11372).Qba)(Eb.get(F.RBa),Eb.get(u.rw),Eb.get(q.Jc),Lb);};});ob(h.Nza).Wd(function(){return function(Bb){return new d.Oza(Bb);};});ob(za.Jda).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb){return new Ca.TJa(Lb,Eb.get(w.Za),Eb.get(t.Wf));};});ob(ja.Dya).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb){return new sa.Eya(Lb,Eb.get(w.Za).Wa("AdImpressionLogger"),Eb.get(db.fg),Eb.get(p.ac),Eb.get(q.Jc),Eb.get(U.Baa),Eb.get(U.Aaa));};});ob(na.Sya).to(qa.Rya);ob(Kb.EO).to(rb.Kya);ob(Kb.EO).to(Fb.Pya);ob(Kb.EO).to(Ta.Tya);ob(Kb.EO).to(mb.Uya);ob(La.Iya).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb,Pb){return new Wa.Jya(Lb,Pb,Eb.get(w.Za).Wa("AdManager"),Eb.get(p.ac),Eb.get(P.GLa),Eb.getAll(Kb.EO),Eb.get(ja.Dya),function(Xb){return new Q.Hya(Xb);},Eb.get(na.Sya));};});ob(v.AJa).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb){return new n.BJa(Lb,Eb.get(w.Za),Eb.get(p.ac),Eb.get(t.Wf),Eb.get(u.rw),Eb.get(za.Jda));};});ob(Ha.BFa).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb,Pb){return new Ya.CFa(Eb.get(p.ac),Eb.get(bb.DFa),Eb.get(Va.Di),Eb.get(w.Za),Eb.get(J.Iz),Lb,Pb);};});ob(bb.DFa).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb){return new ib.EFa(Eb.get(p.ac),Eb.get(w.Za),Eb.get(J.Iz),Lb);};});ob(y.Ida).Wd(function(Bb){var Eb;Eb=Bb.hb;return function(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Pc,Yd){return new x.PJa(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Eb.get(v.AJa),Eb.get(I.Gda),Eb.get(Ha.BFa),Pc,Yd);};});ob(D.ALa).Wd(function(Bb){return function(Eb){var Lb,Pb;Lb=Bb.hb.get(p.ac);Pb=Bb.hb.get(w.Za);return new C.BLa(Lb,Eb,Pb);};});ob(G.KJa).Wd(function(Bb){return function(Eb){var Lb,Pb,Xb,Ib,Ob;Lb=Bb.hb.get(H.vw);Pb=Bb.hb.get(J.Iz);Xb=Bb.hb.get(M.mh);Ib=Bb.hb.get(L.XP);Ob=Bb.hb.get(ha.uw);return new E.LJa(Eb,Lb,Pb((0,z.zh)(1)),Xb,Ib,Ob);};});ob(N.Sca).EC(function(Bb){return new (a(51149).jHa)(Bb.hb.get(O.HP),Bb.hb.get(R.qn));}).da();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SBa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Or={WP:"START_SLATE",qca:"LIVE_EVENT",Hba:"END_SLATE"};b.BFa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DFa="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sca="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IJa="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gda="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ida="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jda="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bLa="RepositionTraceSymbol";b.$Ka="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fo=void 0;r=b.Fo || (b.Fo={});r[r.x_=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.gD=2]="LOADED";r[r.rP=3]="LOAD_FAILED";r[r.ZHa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SMa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="TrickPlayParserSymbol";},72160:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t,w,v){this.context=n;this.log=p;this.qa=q;this.config=u;this.Ea=t;this.Lqb=w;this.Eqb=v;this.wva={};}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(30869);d=a(5021);g=a(4203);m=a(49917);k=a(80966);c.prototype.w_b=function(n,p){var q,u,t;q=this;u=n.event;if(Object.values(k.vya).includes(u)){t=p.cy?p.cy.ba(d.na):-1;n={href:p.W.ki.kL("events").href,ma:this.context.ma.toString(),event:u,Ou:n.Ou,qE:n.qE,position:n.vh.offset.G,bm:t,Iv:{},wx:this.qa.qH.ba(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.Eqb.Cf(this.log,n).catch(function(w){q.log.error("Failed to send event",{eventKey:u,xid:p.ma,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.x_b=function(n,p,q){var u,t,w;u=this;t=n.event;if(Object.values(k.Caa).includes(t)){w=n.W.links.events.href;this.wva[n.bm] || (this.wva[n.bm]=this.qa.Arb((0,d.Lb)(n.bm)).ba(d.na));n={href:w,ma:this.context.ma.toString(),event:t,Ou:n.Ou,qE:n.qE,position:n.vh.offset.G,bm:this.wva[n.bm],Iv:n.Iv,wx:this.qa.qH.ba(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,FPb:p,l3b:null !== q && void 0 !== q?q:void 0};this.Lqb.Cf(this.log,n).catch(function(v){u.log.error("Failed to send event",{eventKey:t,xid:u.context.ma,error:v});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(h.fg)),r.__param(3,(0,l.l)(g.ac)),r.__param(4,(0,l.l)(f.Jc)),r.__param(5,(0,l.l)(m.Baa)),r.__param(6,(0,l.l)(m.Aaa))],a);b.Eya=a;},54952:function(r,b){function a(p){this.gf=p;}function c(p){this.padding=p;}function l(p){this.PJ=p;}function f(p){this.vh=p;}function h(p){this.O8=p;}function d(p){this.gta=p;}function g(p){this.fta=p;}function m(p){this.OJ=p;}function k(p){this.Dy=p;}function n(p){this.Sc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.yfb=b.klb=b.xfb=b.pib=b.ulb=b.vlb=b.tlb=b.wfb=b.slb=b.Hya=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.Sc.pL();if(p)return new k(p);};n.prototype.getAds=function(){return this.Sc.dma();};n.prototype.getLogInfo=function(){return this.Sc.lIb();};b.Hya=n;Xa.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Dy.Rc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Dy.jA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Dy.Q6a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new h(this.Dy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Dy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Dy.index;}}});b.slb=k;Xa.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.OJ.PJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.OJ.l$);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.OJ.IS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.OJ.YKb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.OJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.OJ.o8.G};}}});b.wfb=m;Xa.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.fta.gf);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.fta.uQa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fta.index;}}});b.tlb=g;Xa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.gta.msa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.gta.oUb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gta.o8.G};}}});b.vlb=d;Xa.Object.defineProperties(h.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.O8.Hqb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.O8.Fqb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.O8.Jqb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.O8.Iqb.G};}}});b.ulb=h;Xa.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.vh.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.vh.offset.G};}}});b.pib=f;Xa.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.PJ.Ye.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.PJ.duration.G};}}});b.xfb=l;Xa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.klb=c;Xa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.gf.Mq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.gf.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gf.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gf.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.gf.$s;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.gf.XN;}}});b.yfb=a;},89540:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u,t,w,v,y){var x;x=this;this.Xa=k;this.j=n;this.log=p;this.config=q;this.i_b=u;this.fcb=t;this.Bl=new l.Hb(!1);this.Db=new g.Qj();this.cSa=!1;this.sV=function(){x.cSa=!0;m.fe.removeListener(m.Jk,x.sV);};this.qDb=v(this);k=k.Qn();this.Pu=w({ma:n.ma.toString()});w=null === k || void 0 === k?void 0:k.x7a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.uXa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.nM(n);x.Bl.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.Bl.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.ei(z.segmentId);x.i_b.UWb(z,A);});this.Gp=new h.K_();this.j.addEventListener("playbackStart",function(){x.Gp.resolve();});w=null === k || void 0 === k?void 0:k.hoa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.Gp.promise.then(function(){var A,B,D;z.event === f.Caa.Nqb && z.$s && x.fcb.forEach(function(C){return C.start(x.j);});B=null === (A=n.W) || void 0 === A?void 0:A.Fa.ke;A=x.YJb(z);if(z.event === f.Caa.Oqb && A){D=x.cSa?f.Daa.edb:n.th?f.Daa.error:f.Daa.VDb;A=Object.assign(Object.assign({},A),{reason:D});}x.Pu.x_b(z,B,A);});});m.fe.addListener(m.Jk,this.sV);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === f.vya.iA && x.Db.Ec(d.rY.iA);x.Gp.promise.then(function(){x.Pu.w_b(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;l=a(81734);f=a(80966);h=a(94293);d=a(85001);g=a(94886);m=a(37509);c.prototype.addEventListener=function(k,n,p){this.Db.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Db.removeListener(k,n);};c.prototype.pL=function(){var k,n;return null === (n=null === (k=this.Xa) || void 0 === k?void 0:k.Qn()) || void 0 === n?void 0:n.PM.Dy;};c.prototype.lIb=function(){var k,n,p,q;p=this.pL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (k=null === p || void 0 === p?void 0:p.jA) || void 0 === k?void 0:k.gf.endTime.G,adIndex:null === (n=p.jA) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Rc.duration.G};(k=p.Q6a) && (q.padding={type:k.msa,duration:k.o8.G});return q;}};c.prototype.dma=function(){var k,n,p,q,u;q=this.j.aa.O.toString();u=null === (n=null === (k=this.Xa) || void 0 === k?void 0:k.Qn()) || void 0 === n?void 0:n.x7a.dma({ueb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.uXa=function(){};c.prototype.YJb=function(k){var n;if(k.$s){n=this.fcb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.l5(k));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:k.XN});}};b.Jya=c;},63013:function(r,b,a){var l,f,h,d,g;function c(m,k){var n;n=g.vk.call(this) || this;n.Ea=m;n.paused=!1;n.yq=function(){var p,q,u;u=n.Sc.pL();n.Sc.Bl.value && null !== (p=null === u || void 0 === u?void 0:u.jA) && void 0 !== p && p.gf.$s?(p=null === (q=u.jA) || void 0 === q?void 0:q.gf.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.s8=n.Ea.Eb(),n.rR=u.position.offset.G,n.la.debug("Ad " + p + " paused at " + n.rR + " ms into the ad")):void 0 !== n.s8 && void 0 !== n.rR && (u=n.Ea.Eb().wa(n.s8).ba(d.na),n.la.debug("Ad " + p + " resumed. Pause duration: " + u),n.trace.push([n.rR,u]),n.rR=void 0,n.s8=void 0))):n.unsubscribe();};n.la=k.Wa("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(87386);d=a(5021);g=a(87144);ea(c,g.vk);c.prototype.start=function(m){g.vk.prototype.start.call(this,m);this.sv || (this.j.paused.addListener(this.yq),this.sv=!0);};c.prototype.l5=function(){return {pauseTrace:this.trace};};c.prototype.xW=function(){this.rR=void 0;this.paused=this.j.paused.value;this.s8=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.vk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.yq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(h.Za))],a);b.Kya=a;},56386:function(r,b,a){var l,f,h,d,g;function c(m,k){var n;n=g.vk.call(this) || this;n.Rja=k;n.kZb=function(){0 === n.trace.length?n.yq():n.bla.Yi(function(){n.yq();});};n.yq=function(){var p,q,u,t;q=n.Sc.pL();if(n.Sc.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.jA) && void 0 !== p && p.gf.$s){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.G && n.trace.pop();p=n.trace[n.trace.length - 1];u=n.j.kk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && n.trace.push([q.position.offset.G,u,t]);}else n.unsubscribe();};n.la=m.Wa("AdResizeTracker");n.bla=k((0,d.zh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;r=a(5163);l=a(22674);f=a(34043);h=a(87386);d=a(5021);g=a(87144);ea(c,g.vk);c.prototype.start=function(m){g.vk.prototype.start.call(this,m);this.sv || (this.d6a=new ResizeObserver(this.kZb),this.d6a.observe(this.j.kk),this.sv=!0);};c.prototype.l5=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.xW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var m;g.vk.prototype.unsubscribe.call(this);null === (m=this.d6a) || void 0 === m?void 0:m.disconnect();};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(f.XY))],a);b.Pya=a;},87144:function(r,b){function a(){var c;c=this;this.sv=!1;this.trace=[];this.o3=function(){c.bla.Yi(function(){c.yq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.vk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Sc=this.j.Qn();this.sv || (this.Sc.Bl.addListener(this.yq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.xW();};a.prototype.unsubscribe=function(){this.Sc.Bl.removeListener(this.yq);this.sv=!1;this.xW();};b.vk=a;},38508:function(r,b,a){var l,f;function c(h){var d;d=this;this.JE=function(){var g,m,k;m=!document.hidden;k=null === (g=d.j.Qn()) || void 0 === g?void 0:g.Bl.value;g=d.j.paused.value;m || !k || g || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{sM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.JE);d.j.Qn().Bl.removeListener(d.JE);d.j.paused.removeListener(d.JE);};this.la=h.Wa("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.nM=function(h){this.yRb || (this.la.debug("Starting to monitor playback for visibility"),this.j=h,this.yRb=!0,document.addEventListener("visibilitychange",this.JE),this.j.Qn().Bl.addListener(this.JE),this.j.paused.addListener(this.JE),this.j.addEventListener("closing",this.unsubscribe),this.JE());};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Za))],f);b.Rya=f;},24711:function(r,b,a){var l,f,h;function c(d){var g;g=h.vk.call(this) || this;g.wqa=0;g.aVa=[0];g.sG=[0];g.visibility=0;g.yq=function(){var m,k;k=g.Sc.pL();g.Sc.Bl.value && null !== (m=null === k || void 0 === k?void 0:k.jA) && void 0 !== m && m.gf.$s?(m=g.visibility,g.visibility=document.hidden?0:1,m !== g.visibility && (1 === g.visibility?(g.wqa=g.visibility,g.d7=k.position.offset.G):(k=k.position.offset.G - (g.d7 || 0),k > g.sG[0] && (g.sG[0]=k),g.d7=void 0))):g.unsubscribe();};g.la=d.Wa("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Tya=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(87144);ea(c,h.vk);c.prototype.start=function(d){h.vk.prototype.start.call(this,d);this.sv || (document.addEventListener("visibilitychange",this.yq),this.sv=!0);};c.prototype.l5=function(d){var g,m,k;m=this.j.kk.getBoundingClientRect();k=m.height;m=m.width;"adStart" === d.event && (k=0 === k?document.documentElement.clientHeight:k,m=0 === m?document.documentElement.clientWidth:m);d=d.vh.offset.G - (null !== (g=this.d7) && void 0 !== g?g:0);d > this.sG[0] && (this.sG[0]=d);g=document.fullscreenElement?!0:screen.height === nb.outerHeight && screen.width === nb.outerWidth;this.aVa=this.sG;return {cumulativeTimeByVisibilityMs:this.aVa,maxContinuousTimeByVisibilityMs:this.sG,visibility:this.visibility,maxVisibility:this.wqa,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:m,fullScreen:g};};c.prototype.xW=function(){this.d7=void 0;this.sG=[0];this.wqa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){h.vk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.yq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za))],a);b.Tya=a;},14177:function(r,b,a){var l,f,h,d,g;function c(m,k){var n;n=g.vk.call(this) || this;n.Df=m;n.Rja=k;n.yq=function(){var p,q;q=n.Sc.pL();n.Sc.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.jA) && void 0 !== p && p.gf.$s?(p=n.trace[n.trace.length - 1],q=q.position.offset.G,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.Oja || n.trace.push([q,n.j.Oja])):n.unsubscribe();};n.la=m.Wa("AdVolumeTracker");n.bla=k((0,d.zh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Uya=void 0;r=a(5163);l=a(22674);f=a(34043);h=a(87386);d=a(5021);g=a(87144);ea(c,g.vk);c.prototype.start=function(m){g.vk.prototype.start.call(this,m);this.sv || (this.j.volume.addListener(this.o3),this.j.muted.addListener(this.o3),this.sv=!0);};c.prototype.l5=function(){return {volumeChangeTrace:this.trace,volume:this.j.Oja};};c.prototype.xW=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.vk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.o3);this.j.muted.removeListener(this.o3);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(f.XY))],a);b.Uya=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;a.prototype.Ddb=function(){var c;c=this.j.Xa;if(null !== c && void 0 !== c && c.Ww){c=c.Ic.get();if(null === c || void 0 === c?0:c.Zk)this.j.Zk=c.Zk.Da;if(null === c || void 0 === c?0:c.ob)this.j.ob=c.ob.Da;}};a.prototype.Wm=function(){-1 === this.j.ob && this.Ddb();return this.j.ob;};a.prototype.Gub=function(c){-1 !== this.j.Zk && -1 !== this.j.ob || this.Ddb();return -1 === this.j.Zk || -1 === this.j.ob?Number.MAX_VALUE:this.j.Zk + 8 * c / this.j.ob;};b.Oza=a;},43422:function(r,b,a){var f,h,d,g,m,k,n,p;function c(q){this.j=q;this.h3a=!1;this.log=(0,h.Kh)(this.j,"Playback");this.XL=h.za.get(n.sP);(0,d.oa)(f.config);f.config.Fr || (this.cCb=h.za.get(g.$Ba));}function l(q,u){var w;function t(v){return v && 0 < v.length && v[0].oG;}w=h.za.get(n.sP);return q.ma && t(q.he)?w.release({ma:q.ma,he:q.he}).then(function(){}):u.ma && t(u.he)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.Jy=b.kBa=void 0;f=a(29204);h=a(31276);d=a(45146);g=a(58120);m=a(63156);k=a(32687);n=a(98166);p=a(85001);c.prototype.HF=function(q){var u;u=this;return new Promise(function(t,w){var v,y,x;v=m.om.oUa(q.qf);y=q.rj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,h.ox)(z.data)};});x=u.j.ZIb(q.rj[0].sessionId);u.XL.Lu({ke:x.ke,qf:k.is.zm(q.qf)?q.qf:v,L3:[x.Gk],rj:y,ma:x.ma,Om:q.Om,ki:x.W.ki,dg:x.W.Fa.dg}).then(function(z){u.j.he=z.he;t(z);u.dFb(x);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.vUa=function(){var q;q=this.cCb.create();q.he=this.j.he;q.ma=this.j.ma;q.O=this.j.O;return q;};c.prototype.dFb=function(q){this.h3a || (this.h3a=!0,this.j.fireEvent(p.fa.AU,{O:q.O}));};b.kBa=c;b.Jy=l;},11372:function(r,b,a){var l;function c(f,h,d,g){this.mka=f;this.debug=h;this.Ea=d;this.j=g;this.p8=[];this.C7={};this.nka={};this.Ela=!1;this.$bb=1;this.Jza=7.8125;}b.Qba=void 0;l=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(f,h){this.debug.assert(!(0 <= this.p8.indexOf(f)),"panel already registered");this.C7[f]=h;this.p8.push(f);};c.prototype.T5a=function(f){var h;h=this;this.nka[f]=!0;this.Ela || (this.Ela=!0,setTimeout(function(){return h.gFb();},0));};c.prototype.BIb=function(f){return (f=this.C7[f])?f():void 0;};c.prototype.oT=function(){var f;f=this.j.x8;return f?f.oT():[];};c.prototype.addEventListener=function(f,h){this.mka.addListener(f,h);this.C7[f] && this.T5a(f);};c.prototype.removeEventListener=function(f,h){this.mka.removeListener(f,h);};c.prototype.getTime=function(){return this.Ea.Eb().ba(l.na);};c.prototype.gFb=function(){this.Ela=!1;for(var f=this.p8.length,h;f--;){h=this.p8[f];this.nka[h] && (this.nka[h]=!1,this.mka.Ec(h + "changed",{getModel:this.C7[h]}));}};b.Qba=c;},78312:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u,t,w){var v,y,x,z;v=this;this.config=k;this.Ac=p;this.u=t;this.j=w;this.FL=new m.Hb(!1);this.Cha=new m.Hb(!1);this.Ll=this.vj=void 0;this.Uva=!1;this.sF=void 0;this.log=q.Wa("LivePlaybackManager");this.B$=u((0,l.Lb)(this.config().zFb));this.sF=this.config().vFb;y=this.config().U1b;x=this.config().aPb;this.Uva=(0,h.sb)(y) && (0,h.sb)(x);null === w || void 0 === w?void 0:w.addEventListener(d.fa.Tk,function(){var A;if(v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on playbackReady"),v.config().QCb && (v.t7a=n(function(B){(0,f.oa)(v.ha && v.j && v.j.aa === v.u,"Unexpected playback segment on playback rate update");v.u.playbackRate.value !== B && (v.u.playbackRate.set(B),v.j.fireEvent(d.fa.IB));})),v.Uva)){A=v.Rs();z=v.Ac.xN((0,l.Lb)(500),function(){var B,D,C,F;B=v.Rs();C=A + y;B >= C - 500 && (D=v.vja(C));C=A + y + x;if(B >= C - 500){F=v.vja(C);null === z || void 0 === z?void 0:z.cancel();}v.Bva(D,F,!0);});}});null === w || void 0 === w?void 0:w.addEventListener(d.fa.sg,function(){var A;v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on closing"),v.t7a=void 0,null === (A=v.BU) || void 0 === A?void 0:A.cancel(),v.BU=void 0,null === z || void 0 === z?void 0:z.cancel());});null === w || void 0 === w?void 0:w.addEventListener(d.fa.pC,function(A){v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on repositioning"),A.cc !== d.Zc.Nr && v.FL.set(A.cc === d.Zc.qP && !v.a2a()));});null === w || void 0 === w?void 0:w.addEventListener(d.fa.aeb,function(){v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on userInitiatedPause"),v.FL.set(!1));});null === w || void 0 === w?void 0:w.background.addListener(function(){var A;v.ha && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on background update"),!v.j.background.value && v.NT() && void 0 === v.sF && (v.j6()?null === (A=v.j.ie) || void 0 === A?void 0:A.seek(v.vj,d.Zc.Nw):v.I9()));});this.u.mediaTime.addListener(function(A){var B,D,C,F;if(v.ha){(0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on mediaTime update");C=v.j;v.I2();F=v.bB(A.oldValue);A=v.bB(A.newValue);F !== A && (!1,C.fireEvent(d.fa.IB));v.j.wi.value && v.yFb();v.j6()?(null === (B=v.BU) || void 0 === B?void 0:B.cancel(),v.BU=void 0):v.BU || (v.BU=v.Ac.xN((0,l.Lb)(1E3),function(){v.I2();C.fireEvent(d.fa.IB);}));null === (D=v.t7a) || void 0 === D?void 0:D.lO(v.j.wi.value && v.NT(),v.u.mediaTime.value,v.Rs());}});this.FL.addListener(function(){(0,f.oa)(v.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ha);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");v.I2();});this.Cha.addListener(function(){(0,f.oa)(v.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ha);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");!1;v.j.fireEvent(d.fa.IB);});}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;l=a(5021);f=a(45146);h=a(32687);d=a(85001);g=a(30873);m=a(81734);c.prototype.V0b=function(){var k,n,p;(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null !== (p=null === (n=null === (k=this.u.W) || void 0 === k?void 0:k.Fa.zj) || void 0 === n?void 0:n.FBb) && void 0 !== p?p:!1;};c.prototype.LWb=function(){var k;(0,f.oa)(this.ha,"Unexpected call to processManifest(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (k=this.u.W) || void 0 === k?void 0:k.Fa.zj,"Live manifest is unavailable.");k=this.u.W.Fa.zj;this.Bva(k.fla,k.d4);k=this.config().xFb;void 0 !== k && void 0 !== this.vj && (this.sF=this.vj + k);};c.prototype.Bva=function(k,n,p){var q,u,t,w,v;(0,f.oa)(this.ha,"Unexpected call to setLiveEventTimes(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(!this.Uva || p){p=this.j;t=this.vj;w=this.Ll;v=null !== (q=this.nUa(k)) && void 0 !== q?q:t;q=null !== (u=this.nUa(n)) && void 0 !== u?u:w;if(void 0 === v && void 0 === q || void 0 !== v && 0 <= v && void 0 === q || void 0 !== v && 0 <= v && void 0 !== q && q > v){if((this.vj=v,this.Ll=q,t !== this.vj || w !== this.Ll))(!1,p.fireEvent(d.fa.IB));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (k + ", startPts:") + (v + ", endTime:") + (n + ", endPts:") + q);}};c.prototype.BHb=function(){var k;(0,f.oa)(this.ha,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.u.mediaTime.value;if(void 0 !== k)return this.vja(k);};c.prototype.n5=function(){var k;(0,f.oa)(this.ha,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.u.mediaTime.value;if(void 0 !== k)switch(this.bB(k)){case g.Or.WP:return 0;case g.Or.qca:return ((0,f.oa)(void 0 !== this.vj,"eventStartPts should be defined in LIVE_EVENT slate."),k - this.vj);case g.Or.Hba:return ((0,f.oa)(void 0 !== this.vj && void 0 !== this.Ll,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ll - this.vj);}};c.prototype.W9a=function(k){var n,p;(0,f.oa)(this.ha,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 === this.vj?null !== (p=null !== (n=this.Rs()) && void 0 !== n?n:this.u.mediaTime.value) && void 0 !== p?p:k:this.vj + k;};c.prototype.n2a=function(k){var n;(0,f.oa)(this.ha,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");n=this.Rs();return void 0 !== n && k >= n - this.config().ROb;};c.prototype.Kma=function(k,n){var p,q;(0,f.oa)(this.ha,"Unexpected call to getLiveBookmark(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(void 0 !== this.sF)return {El:this.sF,eC:Number.MAX_SAFE_INTEGER,xVa:this.sF};n || void 0 === this.vj || void 0 === this.Ll && 0 === k?(this.FL.set(!0),k=36E7):(k=this.vj + k,void 0 !== this.Ll && k > this.Ll && (k=this.vj));return {El:k,eC:null !== (p=this.Ll) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,xVa:null !== (q=this.vj) && void 0 !== q?q:36E7};};c.prototype.KZa=function(){var k;(0,f.oa)(this.ha,"Unexpected call to getLiveContentDuration(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.vB()?this.u.mediaTime.value:this.Rs();k=void 0 !== this.Ll && void 0 !== k?Math.min(this.Ll,k):k;k=void 0 !== k && void 0 !== this.vj?k - this.vj:0;!1;return k;};c.prototype.sIb=function(){var k;(0,f.oa)(this.ha,"Unexpected call to getMaxSeekPts(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.Rs();k=void 0 !== this.Ll && void 0 !== k?Math.min(this.Ll,k):k;!1;return null !== k && void 0 !== k?k:0;};c.prototype.Rs=function(){var k,n;(0,f.oa)(this.ha,"Unexpected call to getLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null === (n=null === (k=this.j.Xa) || void 0 === k?void 0:k.aB(this.u.I)) || void 0 === n?void 0:n.G;};c.prototype.I9=function(){var k;(0,f.oa)(this.ha,"Unexpected call to seekToLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.FL.set(!this.a2a());if(this.j.ie){k=this.Rs();void 0 !== k?this.j.ie.seek(k,d.Zc.qP,this.u.I):!1;}else this.u.El=this.Kma(0,!0).El;};c.prototype.vB=function(){(0,f.oa)(this.ha,"Unexpected call to isAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.I2();return this.Cha.value;};c.prototype.NT=function(){(0,f.oa)(this.ha,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.FL.value;};c.prototype.bB=function(k){var n,p,q;(0,f.oa)(this.ha,"Unexpected call to getLiveEventState(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=null !== (n=null !== k && void 0 !== k?k:this.u.mediaTime.value) && void 0 !== n?n:0;n=null !== (p=this.vj) && void 0 !== p?p:Infinity;p=null !== (q=this.Ll) && void 0 !== q?q:Infinity;return k < n?g.Or.WP:k > p?g.Or.Hba:g.Or.qca;};c.prototype.j6=function(){var k;(0,f.oa)(this.ha,"Unexpected call to isLiveEventEnded(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.Rs();return void 0 !== this.Ll && void 0 !== k && this.Ll < k;};c.prototype.a2a=function(){var k;(0,f.oa)(this.ha,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (k=this.j.paused.Jh) || void 0 === k?0:k.sM);};c.prototype.yFb=function(){var k;k=this;this.Cab()?this.B$.Yi(function(){k.Cab() && k.I9();}):this.B$.vg();};c.prototype.Cab=function(){return this.bB() === g.Or.WP && !this.vB() && void 0 === this.sF;};c.prototype.I2=function(){var k;(0,f.oa)(this.ha,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.Cha.set(this.NT() && this.n2a(null !== (k=this.u.mediaTime.value) && void 0 !== k?k:0));};c.prototype.vja=function(k){var n,p;(0,f.oa)(this.ha,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Fa.zj,"Live manifest is unavailable.");n=this.u.W.Fa.zj;p=new Date(n.kva[n.tka[this.u.W.Fa.Tt[0].streams[0].Nm]].v2).getTime();return new Date(p - n.c4 + k).toISOString();};c.prototype.nUa=function(k){var n,p,q;(0,f.oa)(this.ha,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ha);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Fa.zj,"Live manifest is unavailable.");if(k){n=this.u.W.Fa.zj;p=n.kva[n.tka[this.u.W.Fa.Tt[0].streams[0].Nm]];q=new Date(k).getTime() + n.c4 - new Date(p.v2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (k + ", eventAvailabilityOffsetMs:") + (n.c4 + ", availabilityStartTime:") + p.v2);else return q;}};Xa.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){var k,n;k=this.u;n=k.W;return n?(k=n.Fa,n=k.zj,"LIVE" === k.dg && !!n):"live" === k.wd;}}});b.CFa=c;},31099:function(r,b,a){var l,f;function c(h,d,g,m){this.config=h;this.W9=m;this.log=d.Wa("LivePlaybackRateController");this.B$=g((0,l.Lb)(this.config().WOb));}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;l=a(5021);f=a(8825);c.prototype.lO=function(h,d,g){var m,k;m=this;if(!h || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().XOb)k=1;else (h=g - d,h=1 + this.config().VOb / 1E3 * h,k=(0,f.Jw)(h,this.config().ZOb,this.config().YOb));this.B$.Yi(function(){!1;m.W9(k);});};b.EFa=c;},11953:function(r,b,a){var d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L;function c(){this.I$=[];this.R3b=50;}function l(H){var N;N=this;this.j=H;this.Beb=Promise.resolve();this.ACa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.iE=[];this.Tj=new k.Qj();this.bOa=0;this.A0=[];this.Ei=(0,q.Kh)(this.j,"MediaElementASE");this.IPa=g.Iw;this.dfa=!1;this.Sb=new c();this.En={};this.vOa={};this.O4=this.B0(function(){var I;if(N.$)return null !== (I=N.$.webkitDecodedFrameCount) && void 0 !== I?I:0;});this.mv=this.B0(function(){var I;if(N.$){I=N.vfa();return I?I.totalVideoFrames:N.$.webkitDecodedFrameCount;}});this.CF=this.B0(function(){var I;if(N.$){I=N.vfa();return I?I.droppedVideoFrames:N.$.webkitDroppedFrameCount;}});this.kT=this.B0(function(){var I;if(N.$){I=N.vfa();return I && I.corruptedVideoFrames;}});this.POa=function(I){!1;N.Tj.Ec(D.ej.g3a,{J:I});};this.Mk=q.za.get(B.xFa).create(m.config.Fr,this,this.j);m.config.GB && (this.Beb=new Promise(function(I){N.IPa=I;N.j.addEventListener(G.fa.sg,I);}));this.Ei.trace("Created Media Element");this.addEventListener=this.Tj.addListener;this.removeEventListener=this.Tj.removeListener;}function f(H){var N,I;N=q.za.get(C.GNa).oJb();H=H.width / H.height * N.height;I=(N.width - H) / 2;return m.config.B0b?(0,p.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + N.height + "px;left:" + I + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function h(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;d=a(90762);g=a(33096);m=a(29204);k=a(94886);n=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);w=a(8825);v=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);D=a(16520);C=a(45613);F=a(5021);G=a(85001);E=a(63156);J=a(82100);M=a(60328);L=!!(z.zz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.fL=function(H){try{this.$ && (this.bOa=this.$.currentTime);}catch(N){this.Ei.error("Exception while getting VIDEO.currentTime",N);H && this.rQ(u.U.alb,N);}return (0,z.sn)(this.bOa * g.Pr);};l.prototype.seek=function(H){var N;(0,t.oa)(!this.So);this.APa();N=this.fL(!0);if(!m.config.Orb && (0,z.o_)(N - H) <= this.t$a)(this.Ei.trace("Seek delta too small",{currentTime:N,seekTime:H,min:this.t$a}),this.Sb.trace("smallseek",H));else {this.Sb.trace("seek",H);try{this.Ei.trace("Setting video elements currentTime",{From:(0,w.kh)(N),To:(0,w.kh)(H)});this.So={};this.$.currentTime=H / g.Pr;this.Tj.Ec(D.ej.Kn);}catch(I){this.Ei.error("Exception while setting VIDEO.currentTime",I);this.rQ(u.U.blb,I);}}};l.prototype.w_a=function(){return !!this.So;};l.prototype.addSourceBuffer=function(H){var N;try{N=new d.Oca(this.j,H,this.ng,this.Ei);this.iE.push(N);H == g.AP && N.Ila && N.Ila.addListener(this.IPa);this.Tj.Ec(D.ej.Tab);return N;}catch(I){N=(0,y.we)(I);this.Ei.error("Unable to add source buffer.",{error:N});this.j.od(u.U.kda,{ya:H === M.v.ea?u.R.Jca:u.R.Kca,Jb:N});}};l.prototype.xR=function(H){var N;N=this;H.forEach(function(I){return N.addSourceBuffer(I);});return !0;};l.prototype.removeSourceBuffer=function(H){this.iE=this.iE.filter(function(N){return !(0,p.NTa)(H,N);});this.ng.removeSourceBuffer(H);};l.prototype.endOfStream=function(){this.Sb.trace("endofstream");!1;m.config.tia && this.ng.endOfStream();};l.prototype.Hs=function(H){!1;this.iE=[];H && H.pfc();return !0;};l.prototype.RZa=function(){if(this.ng)return (0,F.O7a)(this.ng.duration);};l.prototype.yBb=function(){var H;if(!this.dfa && this.$ && this.$.readyState >= E.om.gP.HAVE_CURRENT_DATA){H=this.$.webkitDecodedFrameCount;if(void 0 === H || 0 < H || m.config.F6b)this.dfa=!0;}return this.dfa;};l.prototype.open=function(){var H,N,I;H=this;this.$=f(this.j.KC.value);this.sourceBuffers=this.iE;this.j.addEventListener(G.fa.Eab,function(K){return H.Xob(K);});if(L){this.j.fG && !m.config.Pdb && this.Mk.h8();try{this.ng=new z.zz();}catch(K){this.rQ(u.U.Skb,K);return;}try{this.Xf=URL.createObjectURL(this.ng);}catch(K){this.rQ(u.U.Tkb,K);return;}try{this.Mk.$qb(this.POa);this.ng.addEventListener("sourceopen",function(K){return H.jPa(K);});this.ng.addEventListener(this.ACa + "sourceopen",function(K){return H.jPa(K);});this.$.addEventListener("error",this.En.error=function(K){return H.Yfa(K);});this.$.addEventListener("seeking",this.En.seeking=function(){return H.Wob();});this.$.addEventListener("seeked",this.En.seeked=function(){return H.Vob();});this.$.addEventListener("timeupdate",this.En.timeupdate=function(){return H.Zob();});this.$.addEventListener("loadstart",this.En.loadstart=function(){return H.Tob();});this.$.addEventListener("volumechange",this.En.volumechange=function(K){return H.$ob(K);});this.$.addEventListener(this.Mk.VB,this.En[this.Mk.VB]=function(){H.Ei.trace(H.Mk.VB);H.Uob();});N=this.j.kk;I=N.lastChild;I?N.insertBefore(this.$,I):N.appendChild(this.$);m.config.SVa && this.$.addEventListener("contextmenu",h);this.$.src=this.Xf;n.fe.addListener(n.Kq,this.vOa[n.Kq]=function(){return H.iPa();});this.iPa();}catch(K){this.rQ(u.U.Ukb,K);}}else this.w0(u.U.nIa);};l.prototype.close=function(){var N;function H(){N.Xf && (N.APa(),n.fe.removeListener(n.Kq,N.vOa[n.Kq]),N.$mb());}N=this;this.Sb.trace("close");this.$.removeEventListener(this.Mk.VB,this.En[this.Mk.VB]);this.$.removeEventListener("error",this.En.error);this.$.removeEventListener("seeking",this.En.seeking);this.$.removeEventListener("seeked",this.En.seeked);this.$.removeEventListener("timeupdate",this.En.timeupdate);this.$.removeEventListener("loadstart",this.En.loadstart);this.$.removeEventListener("volumechange",this.En.volumechange);this.Mk.CYb(this.POa);m.config.Fr?this.Mk.Jy().then(function(){return H();}):H();this.Mk.t9a && clearTimeout(this.Mk.t9a);};l.prototype.eB=function(){return this.Sb.eB();};l.prototype.Uob=function(){m.config.Pdb && this.Mk.h8();};l.prototype.vfa=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};l.prototype.Opb=function(){var H;H=this.j.th;return (H=H && H.errorCode) && 0 <= [u.U.C_,u.U.h_].indexOf(H);};l.prototype.$mb=function(){var H;H=!1;m.config.sWb && this.Opb() && (H=!0);m.config.ewb && !H && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Xf);m.config.SVa && this.$.removeEventListener("contextmenu",h);!H && this.$ && this.j.kk.removeChild(this.$);this.$=this.ng=void 0;this.Xf="";};l.prototype.iPa=function(){!0 === z.Pg.hidden?this.A0.forEach(function(H){H.refresh();H.L1b();}):this.A0.forEach(function(H){H.refresh();H.$1b();});};l.prototype.B0=function(H){var N;N=q.za.get(v.VHa)(H);this.A0.push(N);return function(){N.refresh();return N.eHb();};};l.prototype.rQ=function(H,N){var I,K;I={ya:u.R.ml,Jb:(0,y.we)(N)};try{(K=N.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == K.length && (I.De=K);}catch(O){}this.j.od(H,I);};l.prototype.APa=function(){this.A0.forEach(function(H){H.refresh();});};l.prototype.Jnb=function(){return this.$ && this.$.msGraphicsTrustStatus;};l.prototype.w0=function(H,N){this.j.od(H,N,void 0);};l.prototype.Xob=function(H){var N,K,O,R,Y,oa,ka;if(this.$){H=H.baa;N=this.Jnb();N && (H.ConstrictionActive=N.constrictionActive,H.Status=N.status);try{H.readyState="" + this.$.readyState;H.currentTime="" + this.$.currentTime;H.pbRate="" + this.$.playbackRate;}catch(ha){}N=this.iE.length;for(var I;N--;){I=this.iE[N];K="";I.type == g.n_?K="audio":I.type == g.AP && (K="video");(0,y.Td)(H,I.G4(),{prefix:K});}this.ng && (N=this.ng.duration) && !isNaN(N) && (H.duration=N.toFixed(4));if(m.config.rPb)try{O=this.j.de;R=O && O.zb;if(R){Y=R.expiration;isNaN(Y) || (H.exp=Y);oa=R.keyStatuses.entries();if(oa.next){ka=oa.next().value;ka && (H.keyStatus=ka[1]);}}}catch(ha){}}};l.prototype.jPa=function(H){!1;this.Qpb || (this.Qpb=!0,this.Tj.Ec(D.ej.Vab,H));};l.prototype.Wob=function(){this.Sb.trace("seeking");this.Ei.trace("Video element event: seeking");this.So?this.So.HSb=!0:(this.Ei.error("unexpected seeking event"),m.config.tEb && this.w0(u.U.glb,{Jb:{Trace:this.eB()}}));};l.prototype.Vob=function(){this.Sb.trace("seeked");this.Ei.trace("Video element event: seeked");this.So?((0,t.oa)(this.So.HSb),this.So.GSb=!0,this.dQa()):(this.Ei.error("unexpected seeked event"),m.config.sEb && this.w0(u.U.flb,{Jb:{Trace:this.eB()}}));};l.prototype.Zob=function(){var H;this.Sb.trace("timeupdate",null === (H=this.$) || void 0 === H?void 0:H.currentTime);!1;this.So && (this.So.JSb=!0,this.dQa());this.Tj.Ec(D.ej.Kn);};l.prototype.Tob=function(){this.Ei.trace("Video element event: loadstart");};l.prototype.$ob=function(H){this.Ei.trace("Video element event:",H.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(N){this.Ei.error("error updating volume",N);}};l.prototype.Yfa=function(H){var N,I,K,O,R,Y,oa,ka;N=this.w0;I=u.U.mIa;K=u.RCa;O=this.eB();R=H.target;Y=R && R.error;oa=H.errorCode;R=Y && Y.code;(0,A.Uc)(R) || (R=oa && oa.code);oa=Y && Y.message;ka=Y && Y.msExtendedCode;(0,A.Uc)(ka) || (ka=Y && Y.systemCode);(0,A.Uc)(ka) || (ka=H.systemCode);(0,A.Uc)(ka) || (ka=(0,J.Wma)(oa));H=(0,y.Td)({},{code:R,systemCode:ka,trace:JSON.stringify(O)},{l8:!0});K={ya:K(R),Jb:(0,x.cqa)(H)};try{oa && (K.YU=oa);}catch(ha){}ka=(0,y.Ui)(ka);(0,A.sb)(ka) && (K.De=(0,q.Sha)(ka,4));N.call(this,I,K);};l.prototype.dQa=function(){this.So && this.So.GSb && this.So.JSb && (this.Sb.trace("seekcomplete"),this.So=void 0,this.Tj.Ec(D.ej.GW));};Xa.Object.defineProperties(l.prototype,{t$a:{configurable:!0,enumerable:!0,get:function(){return m.config.t1b;}}});b.NGa=l;c.prototype.trace=function(H,N){this.I$.push([H,N]);this.I$.length > this.R3b && this.I$.shift();};c.prototype.eB=function(){return this.I$;};},51149:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q){var u;u=this;this.Wl=p;this.Os=q;this.Gcb=function(t){var w,v,y,x,z,A;w=u.$bb++;v=t.request.JA || "dl";y=u.K_a(v,"start");if(y){x=t.request.OB.I;if(x && !u.hbb.has(x)){z=u.d_a(x);A=t.Nv;u.Wl.mark(y,z,A?v + "-" + A + "-" + w:v);t.O1(function(){var B,D;B=u.K_a(v,"end");D=A?v + "-" + A + "-" + w:v;B && u.Wl.mark(B,z,D);});}}};this.$bb=0;this.hbb=new Set();this.lva=new Map();q.HS && this.J6b();}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(5163);l=a(22674);f=a(63156);h=a(77134);d=a(5021);g=a(61726);m=a(34231);k=a(79542);n={start:{video:f.Oa.SO,audio:f.Oa.OO},end:{video:f.Oa.RO,audio:f.Oa.NO}};c.prototype.e_a=function(p){var u,t,w,v,y,x,z,A;function q(B){return (0,d.timestamp)(u.ZQa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();w=p.Vc;v=p.ma;y=void 0 === p.cbb?null:p.cbb;x=p.I;z=this.Wl.PZa(v);A=x && this.d_a(x);A && z.push.apply(z,ca(this.Wl.PZa(A)));this.Wl.j9a(p.ma);A && this.Wl.j9a(A);x && this.hbb.add(x);x=[];("pr_ats" in w) && x.push({name:f.Oa.Q_,zr:q(w.pr_ats),ma:v,Bf:"request-pre-manifest"});("ats" in w) && x.push({name:f.Oa.O_,zr:q(w.ats),ma:v,Bf:"request-manifest"});("pr_at" in w) && x.push({name:f.Oa.P_,zr:q(w.pr_at),ma:v,Bf:"request-pre-manifest"});("at" in w) && x.push({name:f.Oa.N_,zr:q(w.at),ma:v,Bf:"request-manifest"});("lg" in w) && x.push({name:f.Oa.M_,zr:q(w.lg),ma:v,Bf:"request-license"});("lr" in w) && (x.push({name:f.Oa.L_,zr:q(w.lr),ma:v,Bf:"request-license"}),x.push({name:f.Oa.nY,zr:q(w.lr),ma:v,Bf:"apply-license"}));("ld" in w) && x.push({name:f.Oa.mY,zr:q(w.ld),ma:v,Bf:"apply-license"});("tt_start" in w) && x.push({name:f.Oa.QO,zr:q(w.tt_start),ma:v,Bf:"request-timed-text"});("tt_comp" in w) && x.push({name:f.Oa.PO,zr:q(w.tt_comp),ma:v,Bf:"request-timed-text"});return x.concat(z).map(function(B){return u.E3b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,D){return B.ts - D.ts;}).reduce(function(B,D){var C;C=D.eventName;delete D.eventName;C && (B[C]=D);return B;},{});};c.prototype.zrb=function(p,q,u){return (void 0 === u?0:u)?p.ba(d.na) + q.Ph.ba(d.na):p.ba(d.na) - q.Ph.ba(d.na);};c.prototype.ZQa=function(p,q,u){u=void 0 === u?!1:u;if(q.gm)if(u)p.ba(d.na) + q.gm;else return p.ba(d.na) - q.gm;return this.zrb(p,q,u);};c.prototype.E3b=function(p,q){var u,t;u=p.Bf;t=p.name;return {eventName:this.fSb(t,u),eventId:u || t,ts:this.ZQa(p.zr,q),comp:this.jT(t),cat:this.QGb(t),step:this.KJb(t)};};c.prototype.fSb=function(p,q){switch(p){case f.Oa.QO:case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.SO:case f.Oa.RO:return p + "-" + q;default:return p;}};c.prototype.jT=function(p){switch(p){case f.Oa.Q_:case f.Oa.P_:case f.Oa.O_:case f.Oa.N_:return "manifest";case f.Oa.M_:case f.Oa.L_:case f.Oa.cea:case f.Oa.bea:case f.Oa.kZ:case f.Oa.jZ:case f.Oa.nY:case f.Oa.mY:return "license";case f.Oa.QO:case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.SO:case f.Oa.RO:case f.Oa.taa:case f.Oa.saa:return "buffering";case f.Oa.hda:case f.Oa.gda:return "playback";default:return (0,k.MS)(p);}};c.prototype.QGb=function(p){switch(p){case f.Oa.Q_:case f.Oa.P_:case f.Oa.O_:case f.Oa.N_:return "aws";case f.Oa.M_:case f.Oa.L_:return "mixed";case f.Oa.hda:case f.Oa.gda:case f.Oa.cea:case f.Oa.bea:case f.Oa.kZ:case f.Oa.jZ:case f.Oa.nY:case f.Oa.mY:case f.Oa.taa:case f.Oa.saa:return "device";case f.Oa.QO:case f.Oa.PO:case f.Oa.OO:case f.Oa.NO:case f.Oa.SO:case f.Oa.RO:return "cdn";default:return (0,k.MS)(p);}};c.prototype.KJb=function(p){switch(p){case f.Oa.Q_:case f.Oa.hda:case f.Oa.O_:case f.Oa.M_:case f.Oa.taa:case f.Oa.QO:case f.Oa.OO:case f.Oa.SO:case f.Oa.cea:case f.Oa.kZ:case f.Oa.nY:return "start";case f.Oa.P_:case f.Oa.gda:case f.Oa.N_:case f.Oa.L_:case f.Oa.bea:case f.Oa.jZ:case f.Oa.mY:case f.Oa.saa:case f.Oa.PO:case f.Oa.NO:case f.Oa.RO:return "end";default:return (0,k.MS)(p);}};c.prototype.K_a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.I4b=function(){g.He.removeEventListener(g.F5,this.Gcb);};c.prototype.J6b=function(){this.I4b();g.He.addEventListener(g.F5,this.Gcb);};c.prototype.d_a=function(p){var q;if(this.lva.has(p))return this.lva.get(p);q=Date.now();this.lva.set(p,q);return q;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.HP)),r.__param(1,(0,l.l)(m.qn))],a);b.jHa=a;},27104:function(r,b,a){var f,h,d,g,m,k,n,p,q,u;function c(t,w,v,y,x,z){var A;A=this;this.Zg=t;this.config=v;this.tb=y;this.debug=x;this.BE={};this.ZVa=!1;this.MR={};this.Hoa=0;this.R4=function(B){var D,C,F;D=B.stream;if(D){B=D.Tb;C=D.bitrate;F=D.yb;}else B=B.track.Tb;return {key:B + "$" + C + "$" + F,Tb:B,bitrate:C,yb:F};};this.gZa=function(B){var D,C,F;C=A.R4(B);F=null === (D=B.Bc) || void 0 === D?void 0:D.id;B=B.track.Bf;return Object.assign({},C,{key:C.key + "$" + F + "$" + B,Gm:F,Bf:B});};this.NGb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Tb;D=null === D || void 0 === D?void 0:D.bitrate;return {key:B + "$" + D,Tb:null !== B && void 0 !== B?B:"",kM:D};};this.oKb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Tb;D=null === D || void 0 === D?void 0:D.yb;return {key:B + "$" + D,Tb:null !== B && void 0 !== B?B:"",kM:D};};this.log=w.Wa("PlayTimeTracker");this.C8=z(t);this.zt=z(t);this.Osa=z(t);this.startTime=this.Zg.mediaTime.value;this.T6=this.config().tqb;this.hI();this.BE.abrdel=0;this.T6.forEach(function(B){B="abrdel" + B;A.MR[B]=0;A.BE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;r=a(5163);f=a(22674);h=a(87386);d=a(4203);g=a(71501);a(5021);m=a(42207);k=a(90597);n=a(33096);p=a(3887);q=a(39551);u=a(30873);l.prototype.encode=function(t){return {downloadableId:t.Tb,correlationId:t.Bf,bitrate:t.bitrate,vmaf:t.yb,duration:t.duration,metric:t.kM,cdnId:t.Gm};};l.prototype.decode=function(t){return {Tb:t.downloadableId,Bf:t.correlationId,bitrate:t.bitrate,yb:t.vmaf,duration:t.duration,kM:t.metric,Gm:t.cdnId};};c.prototype.pp=function(t){t=void 0 === t?"content":t;this.xC(this.Zg.mediaTime.value);return Math.floor(this.zt.pp(function(w){return w.track.dC === t;}));};c.prototype.nZa=function(t){this.xC(this.Zg.mediaTime.value);return Math.floor(this.zt.pp(t));};c.prototype.FT=function(t){var w;t=void 0 === t?"content":t;this.xC(this.Zg.mediaTime.value);w=this.zt.FT(function(v){return v.track.dC === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.FGb=function(){this.xC(this.Zg.mediaTime.value);return {audio:this.mT(this.C8,this.gZa),video:this.mT(this.zt,this.gZa)};};c.prototype.XIb=function(){var t,w,v;t=this.pp("content");w=this.pp("ads");v=this.pp("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.FT("content"),totalStartSlateDuration:this.nZa(function(y){return !0 === y.Poa;}),totalLiveEdgeDuration:this.nZa(function(y){return !0 === y.vB;}),audio:this.mT(this.C8,this.R4),video:this.mT(this.zt,this.R4),timedtext:this.mT(this.Osa,this.R4)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.ima=function(){var t,w;this.xC(this.Zg.mediaTime.value);t=this.zt.ema(this.NGb);try{w=this.EYa(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.BE.abrdel=Math.round(w);return this.BE.abrdel;};c.prototype.FYa=function(){var t,w;this.xC(this.Zg.mediaTime.value);t=this.zt.ema(this.oKb);try{w=this.EYa(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.DYa=function(){var t,w;t=this;if(!this.ZVa){w=this.pp();this.T6.forEach(function(v){var y,x,z;if(0 === t.MR["abrdel" + v] && w > v * n.Pr){y=0;x=0;z=0;t.zt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > v * n.Pr;});y && (t.MR["abrdel" + v]=Math.round((y - z * (x - v * n.Pr)) / (v * n.Pr)));}});0 !== this.MR["abrdel" + this.T6[this.T6.length - 1]] && (this.ZVa=!0);(0,p.Zf)(this.MR,function(v,y){t.BE[v]=0 === y?t.BE.abrdel:y;});}return this.BE;};c.prototype.Yqb=function(t){this.Hoa+=t;};c.prototype.D5=function(){return this.zt.D5();};c.prototype.hI=function(){var t;t=this;this.Zg.sf.addListener(function(w){t.sK=t.VSa(t.sK,t.C8,w.newValue);});this.Zg.Ud.addListener(function(w){t.uK=t.VSa(t.uK,t.zt,w.newValue);});this.Zg.playbackRate.addListener(function(w){t.xC(t.Zg.mediaTime.value,w.oldValue);});this.Zg.Yh.addListener(this.WSb.bind(this));};c.prototype.sra=function(t,w){this.xC(t);this.startTime=w;this.uK=this.sK=void 0;this.tK && (this.tK.startTime=this.startTime);!1;};c.prototype.WSb=function(t){this.Osa.hf(this.tK,this.Zg.mediaTime.value);this.tK=(t=t.newValue)?{track:t,startTime:this.Zg.mediaTime.value,endTime:g.Dw}:void 0;};c.prototype.xC=function(t,w){w=void 0 === w?this.Zg.playbackRate.value:w;t && this.sK && this.uK && (t=Math.min(t,this.sK.endTime,this.uK.endTime),this.C8.hf(this.sK,t,w),this.sK.startTime=t,this.zt.hf(this.uK,t,w),this.uK.startTime=t,this.tK && (this.Osa.hf(this.tK,t,w),this.tK.startTime=t),this.startTime=t,!1);};c.prototype.VSa=function(t,w,v){var y;t && w.hf(t,Math.min(t.endTime,this.Zg.mediaTime.value));if(v && v.stream){t=v.hK;w=v.stream;y=this.Zg.fd;return {Bc:v.Bc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Poa:y.ha?y.bB(t.endTime) === u.Or.WP:void 0,vB:y.ha?y.NT():void 0};}};c.prototype.mT=function(t,w){return t.ema(w,"content").map(function(v){return new l().encode(v);});};c.prototype.EYa=function(t){var w,v,y;w=this;v=0;t.forEach(function(x){if(w.tb.ug(x.duration) && w.tb.ug(x.kM))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;y=0;t.forEach(function(x){y+=x.kM * x.duration / v;});return y;};a=c;a=r.__decorate([(0,f.T)(),r.__param(1,(0,f.l)(h.Za)),r.__param(2,(0,f.l)(d.ac)),r.__param(3,(0,f.l)(m.Wf)),r.__param(4,(0,f.l)(k.rw)),r.__param(5,(0,f.l)(q.Jda))],a);b.BJa=a;},24722:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N;function c(I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb){this.Zx=I;this.oA=K;this.Ea=O;this.qa=R;this.vtb=Y;this.Kwa=oa;this.OU=ka;this.gqa=ha;this.aM=za;this.cd=Ca;this.xh=La;this.vi=Wa;this.YJ=db;this.SV=U;this.Oh=ja;this.exa=sa;this.Of=Q;this.Wl=P;this.Yd=Z;this.Msa=na;this.RYb=qa;this.xha=Ha;this.xG=Ya;this.wsa=Va;this.Gga=rb;this.zub=mb;this.VJ=Fb;}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;r=a(5163);l=a(62665);f=a(22674);h=a(45842);d=a(11479);g=a(81918);m=a(30869);k=a(12826);n=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);w=a(52531);v=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);D=a(92205);C=a(77134);F=a(93367);G=a(85405);E=a(2160);J=a(49745);M=a(50889);L=a(70068);H=a(33258);c.prototype.create=function(I,K,O,R,Y,oa,ka,ha){return new (a(18128).JJa)(I,K,oa,ka,R,Y,this.Zx,O,this.Ea,this.oA,this.qa,this.OU,this.vtb,this.Kwa,this.gqa,this.aM,this.cd,this.xh,this.vi,this.YJ,this.SV,this.Oh,this.exa,this.Of,this.Yd,this.Msa,this.Wl,this.RYb(),this.xha,this.xG,this.wsa,this.Gga,this.zub,void 0,ha);};N=c;N=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Bw)),r.__param(1,(0,f.l)(d.Sh)),r.__param(2,(0,f.l)(g.Jc)),r.__param(3,(0,f.l)(m.fg)),r.__param(4,(0,f.l)(k.Nza)),r.__param(5,(0,f.l)(h.Iz)),r.__param(6,(0,f.l)(n.Lca)),r.__param(7,(0,f.l)(p.BGa)),r.__param(8,(0,f.l)(q.xP)),r.__param(9,(0,f.l)(u.AD)),r.__param(10,(0,f.l)(t.RP)),r.__param(11,(0,f.l)(w.sD)),r.__param(12,(0,f.l)(y.Wza)),r.__param(13,(0,f.l)(x.Ida)),r.__param(14,(0,f.l)(J.mD)),r.__param(15,(0,f.l)(z.VMa)),r.__param(16,(0,f.l)(A.nl)),r.__param(17,(0,f.l)(C.HP)),r.__param(18,(0,f.l)(B.mh)),r.__param(19,(0,f.l)(D.KJa)),r.__param(20,(0,f.l)(F.$Ka)),r.__param(21,(0,f.l)(G.jza)),r.__param(22,(0,f.l)(E.Sca)),r.__param(23,(0,f.l)(M.dJa)),r.__param(24,(0,f.l)(L.Iya)),r.__param(25,(0,f.l)(H.hba)),r.__param(26,(0,f.l)(v.GO)),r.__param(26,(0,f.optional)())],N);b.HJa=N;},18128:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db;function c(U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb,Ta,bb,ib,pb,ob,Bb,Eb,Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Pc,Yd,Lf,Zd){var zb,Mf;function gf(vb){vb.newValue && vb.newValue.stream && (zb.Ud.removeListener(gf),zb.W5=vb.newValue.stream.bitrate);}function hf(vb){vb.newValue !== R.bb.Ff && vb.newValue !== R.bb.Uh && (zb.lb.removeListener(hf),zb.cy=zb.qa.qH,zb.Db.Ec(R.fa.vt));}function jf(vb){vb.newValue !== R.bb.Ff && (zb.lb.removeListener(jf),zb.Tk=!0,zb.RV=zb.qa.ee.ba(C.na),zb.Db.Ec(R.fa.Tk));}zb=this;this.ib=P;this.Pj=Z;this.Zx=na;this.Ea=Ha;this.oA=Ya;this.qa=Va;this.OU=rb;this.gqa=Kb;this.aM=Ta;this.cd=bb;this.xh=ib;this.vi=pb;this.YJ=ob;this.SV=Bb;this.Oh=Eb;this.exa=Lb;this.Of=Pb;this.Yd=Xb;this.Msa=Ib;this.Wl=Ob;this.y9a=Qb;this.xha=cc;this.xG=nc;this.wsa=Ac;this.Gga=Pc;this.mia=Yd;this.VJ=Lf;this.F7a=[];this.Hp=new Map();this.G0a=new Map();this.tc=new q.Hb(null);this.Ng=new q.Hb(null);this.Gb=new q.Hb(null);this.Yh=new q.Hb(null);this.Lt=new q.Hb(void 0);this.Ne=new q.Hb(null);this.Sg=new q.Hb(null);this.mediaTime=new q.Hb(void 0);this.playbackRate=new Ca.OJa(1,u.config.tqa);this.background=new q.Hb(!0);this.M4b=function(vb){return zb.tc.set(vb.newValue);};this.s5b=function(vb){return zb.Ng.set(vb.newValue);};this.p5b=function(vb){return zb.Gb.set(vb.newValue);};this.K4b=function(vb){return zb.Yh.set(vb.newValue);};this.o5b=function(vb){return zb.Lt.set(vb.newValue);};this.r5b=function(vb){return zb.Ne.set(vb.newValue);};this.L4b=function(vb){return zb.Sg.set(vb.newValue);};this.g5b=function(vb){return zb.Ud.set(vb.newValue);};this.f5b=function(vb){return zb.sf.set(vb.newValue);};this.d5b=function(vb){return zb.mediaTime.set(vb.newValue);};this.N4b=function(vb){return zb.background.set(vb.newValue);};this.lO=function(vb){return zb.playbackRate.set(vb.newValue);};this.bo={};this.Dua=this.Ywa=0;this.Db=new t.Qj();this.baa={};this.bX=this.v7a=this.Tk=!1;this.KC=new q.Hb(void 0);this.state=new q.Hb(R.Vb.KI);this.wi=new q.Hb(!1);this.paused=new q.Hb(!1);this.muted=new q.Hb(!1);this.volume=new q.Hb(u.config.OAb / 100);this.lb=new q.Hb(R.bb.Ff);this.jf=new q.Hb(R.wf.Pe);this.tq=new q.Hb(R.wf.Pe);this.em=new q.Hb(R.wf.Pe);this.sf=new q.Hb(null);this.Ud=new q.Hb(null);this.hia=new q.Hb(null);this.G5=(0,n.jEa)(this);this.Bc=[new q.Hb(null),new q.Hb(null)];this.Tha={};this.ES=!1;this.ob=this.Zk=-1;this.NF=function(vb,Zb){var Qc;vb=void 0 === vb?null:vb;return (0,L.sb)(vb)?Zb && !zb.ei(Zb).W?vb:(null === (Qc=zb.Xa) || void 0 === Qc?0:Qc.Fh)?zb.Xa.uja(vb):vb:null;};this.sV=function(){zb.hwa();};this.FA=U;this.addEventListener=this.Db.addListener;this.removeEventListener=this.Db.removeListener;this.fireEvent=this.Db.Ec;this.Sga({J:U,I:Q,Ya:sa || ({})},u.config.gr?this.cd.Vs(U):void 0,ja);this.log=(0,D.Kh)(this);this.PVa=qa(this);this.utb=mb(this);this.kk=(0,K.createElement)("DIV",p.Xda,void 0,{id:this.O});this.gMb();this.Cc=this.log.i3("Playback");(0,h.uJa)(this);y.Dz.m5a=this;y.Dz.Lla || (y.Dz.Lla=this);this.Cc.info("Playback created",this.yg);this.F3a?this.Cc.info("Playback selected for trace playback info logging"):this.Cc.trace("Playback not selected for trace playback info logging");u.config.gr && (this.cd.EKb(this.O),this.addEventListener(R.fa.vt,function(){zb.cd.GKb(zb.O);zb.Gb.addListener(function(){zb.cd.X_a();});zb.tc.addListener(function(){zb.cd.X_a();});}),this.addEventListener(R.fa.sg,function(){zb.cd.DKb(zb.O);}));this.state.addListener(function(vb){zb.Cc.info("Playback state changed",{From:vb.oldValue,To:vb.newValue});(0,G.oa)(vb.newValue > vb.oldValue);});v.fe.addListener(v.Jk,this.sV,p.bda);Mf=Fb((0,C.zh)(1));this.mediaTime.addListener(function(){zb.fFb();Mf.Yi(function(){return zb.PXa();});});this.lb.addListener(function(vb){zb.Cc.info("PresentingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.kh)(zb.mediaTime.value)},zb.kt());});this.lb.addListener(function(){zb.wi.set(zb.lb.value === R.bb.me);});this.jf.addListener(function(vb){zb.Cc.info("BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.kh)(zb.mediaTime.value)},zb.kt());});this.tq.addListener(function(vb){zb.Cc.info("AV BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.kh)(zb.mediaTime.value)},zb.kt());});this.em.addListener(function(vb){zb.Cc.info("Text BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.kh)(zb.mediaTime.value)},zb.kt());});this.tc.addListener(function(vb){(0,G.oa)(vb.newValue && vb.newValue.wg);zb.Cc.info("AudioTrack changed",vb.newValue && ({ToBcp47:vb.newValue.se,To:vb.newValue.trackId}),vb.oldValue && ({FromBcp47:vb.oldValue.se,From:vb.oldValue.trackId}),{MediaTime:(0,E.kh)(zb.mediaTime.value)});});this.Gb.addListener(function(vb){(0,G.oa)(!vb.newValue || vb.newValue.wg);zb.Cc.info("TimedTextTrack changed",vb.newValue?{ToBcp47:vb.newValue.se,To:vb.newValue.trackId}:{To:"none"},vb.oldValue?{FromBcp47:vb.oldValue.se,From:vb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.kh)(zb.mediaTime.value)});});this.lb.addListener(jf,p.MI);this.lb.addListener(hf);this.addEventListener(R.fa.vt,function(){zb.bX=!0;zb.cbb=zb.VR();zb.je("start");});this.Ud.addListener(gf);(0,B.FJa)(this);y.wn.push(this);u.config.mW && (this.x8=this.Msa(this),this.A8=new z.QJa(this));y.Dda.forEach(function(vb){vb(zb);});this.frb=function(){zb.addEventListener(R.fa.pC,function(vb){var Zb;vb=vb.cc;vb !== R.Zc.Nr && vb !== R.Zc.XI && (null === (Zb=zb.Xa) || void 0 === Zb?void 0:Zb.stop());});zb.addEventListener(R.fa.Dj,function(vb){var Zb,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;zb.y9a.Dj(vb);kf=vb.cc;Nf=vb.skip;Hc=vb.L7;$d=vb.zra;Of=vb.O;ae=vb.Bs;zb.aa.Sk.sra($d,Hc);if(kf !== R.Zc.XI && kf !== R.Zc.Nr)if(Nf){if(null !== (Zb=zb.Xa) && void 0 !== Zb && Zb.bi(Hc)){zb.Cc.trace("Repositioned. Skipping from " + $d + " to " + Hc);vb=function($b){zb.log.error("streamingSession.skipped threw an exception",$b);$b=Y.Mc.$la(F.U.hfb,$b);zb.jr($b.code,$b);};try{zb.Xa.xH(Hc).then(function($b){var Rc;$b.HL || (null === (Rc=zb.Xa) || void 0 === Rc?void 0:Rc.play());}).catch(vb);}catch($b){vb($b);}}else zb.log.error("can skip returned false");}else {zb.Cc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=zb.ib.d5(zb.aa);Pf=Object.keys(lf.M).find(function($b){var Rc;$b=lf.M[$b];return $b.J === Of && $b.sa <= ae && (null !== (Rc=$b.ta) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=zb.Xa) || void 0 === Qc?void 0:Qc.f_b(ae,Pf);}catch($b){zb.log.error("streamingSession.seekByContentPts threw an exception",$b);Hc=Y.Mc.$la(F.U.ffb,$b);zb.jr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var vb,Zb;if(null === (vb=zb.Xa) || void 0 === vb?0:vb.Fh)null === (Zb=zb.Xa) || void 0 === Zb?void 0:Zb.jVb();});this.addEventListener(R.fa.px,function(vb){var Zb;vb.cc == y.Ada && (zb.jf.set(R.wf.Pe),null === (Zb=zb.Xa) || void 0 === Zb?void 0:Zb.im(zb.ie.kZa()));});Zd && (this.aa.W=Zd,this.Oh.fX(U,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;l=a(5163);f=a(50040);h=a(86258);d=a(20318);g=a(66093);m=a(11953);k=a(73585);n=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);w=a(42654);v=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);D=a(31276);C=a(5021);F=a(36129);G=a(45146);E=a(8825);J=a(3887);M=a(32219);L=a(32687);H=a(73056);N=a(45266);I=a(16520);K=a(52569);O=a(72639);R=a(85001);Y=a(31149);oa=a(43422);ka=a(78719);ha=a(35128);za=a(13494);Ca=a(65361);La=a(50954);Wa=a(24066);db=a(60328);c.prototype.je=function(U,ja){var sa;ja=void 0 === ja?this.FA:ja;null === (sa=this.Hp.get(ja)) || void 0 === sa?void 0:sa.je(U);};c.prototype.$x=function(U){this.aa.$x(U);};c.prototype.w5=function(){var U;return !(null === (U=this.W) || void 0 === U || !U.Fa.Jm);};c.prototype.wL=function(){var U,ja,sa;return !(null === (sa=null === (ja=null === (U=this.W) || void 0 === U?void 0:U.Fa.Am) || void 0 === ja?void 0:ja.ce.length) || void 0 === sa || !sa);};c.prototype.gMb=function(){var U;U=this;this.tc.addListener(function(ja){return U.aa.tc.set(ja.newValue);});this.Ng.addListener(function(ja){return U.aa.Ng.set(ja.newValue);});this.Gb.addListener(function(ja){return U.aa.Gb.set(ja.newValue);});this.Yh.addListener(function(ja){return U.aa.Yh.set(ja.newValue);});this.Lt.addListener(function(ja){return U.aa.Lt.set(ja.newValue);});this.Ne.addListener(function(ja){return U.aa.Ne.set(ja.newValue);});this.Sg.addListener(function(ja){return U.aa.Sg.set(ja.newValue);});this.Ud.addListener(function(ja){return U.aa.Ud.set(ja.newValue);});this.sf.addListener(function(ja){return U.aa.sf.set(ja.newValue);});this.Bc[db.v.ea].addListener(function(ja){return U.aa.Bc[db.v.ea].set(ja.newValue);});this.Bc[db.v.Y].addListener(function(ja){return U.aa.Bc[db.v.Y].set(ja.newValue);});this.mediaTime.addListener(function(ja){return U.aa.mediaTime.set(ja.newValue);});this.background.addListener(function(ja){return U.aa.background.set(ja.newValue);});this.playbackRate.addListener(function(ja){return U.aa.playbackRate.set(ja.newValue);});this.Y9a();};c.prototype.Y9a=function(){var U;U=this;this.aa !== this.mva && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.yo(function(ja){return ja.tc;},this.M4b),this.yo(function(ja){return ja.Ng;},this.s5b),this.yo(function(ja){return ja.Lt;},this.o5b),this.yo(function(ja){return ja.Gb;},this.p5b),this.yo(function(ja){return ja.Yh;},this.K4b),this.yo(function(ja){return ja.Ne;},this.r5b),this.yo(function(ja){return ja.Sg;},this.L4b),this.yo(function(ja){return ja.sf;},this.f5b),this.yo(function(ja){return ja.Ud;},this.g5b),this.yo(function(ja){return ja.Bc[db.v.ea];},function(ja){return U.Bc[db.v.ea].set(ja.newValue);}),this.yo(function(ja){return ja.Bc[db.v.Y];},function(ja){return U.Bc[db.v.Y].set(ja.newValue);}),this.yo(function(ja){return ja.mediaTime;},this.d5b),this.yo(function(ja){return ja.background;},this.N4b),this.yo(function(ja){return ja.playbackRate;},this.lO),this.Gb.set(this.aa.Gb.value),this.tc.set(this.aa.tc.value,{W1:!0}),this.Ng.set(this.aa.Ng.value),this.Yh.set(this.aa.Yh.value),this.Lt.set(this.aa.Lt.value),this.Ne.set(this.aa.Ne.value),this.Sg.set(this.aa.Sg.value),this.mva=this.aa);};c.prototype.yo=function(U,ja){this.mva && U(this.mva).removeListener(ja);U(this.aa).addListener(ja);};c.prototype.dvb=function(){var U;return !(null === (U=this.Sc) || void 0 === U?0:U.Bl.value);};c.prototype.load=function(U){var ja,sa;ja=this;this.load=function(){};this.J7a=U;if(this.state.value == R.Vb.KI){this.Cc.info("Playback loading",this);this.nSb();this.je("asl_load_start");sa=this.oA;U=sa.startTime;sa=sa.endTime;(0,L.Uc)(U)?(0,L.Uc)(sa)?this.je("asl_ended"):this.je("asl_in_progress"):this.je("asl_not_started");this.oA.DU(function(Q){ja.je("asl_load_complete");Q.ia?ja.Wyb():ja.jr(Q.errorCode || F.U.eca,Q);});}};c.prototype.KVb=function(){!1;try{this.state.value === R.Vb.LOADING && (this.Gdb(),this.El=this.YJ.Brb({bz:(0,C.Lb)(this.ab),O:this.O,eC:this.Cx,Ya:this.Ya,ZB:this.Ya.ag?u.config.dsa:u.config.ZB,fd:this.fd}).ba(C.na),this.sha(),this.Wzb());}catch(U){this.jr(F.U.Rib,{ya:F.R.ml,Jb:(0,J.we)(U)});}};c.prototype.Gdb=function(){var U,ja,sa;sa={width:1,height:1};this.fB({Odb:!0}).forEach(function(Q){sa.width * sa.height < Q.width * Q.height && (sa={width:Q.width,height:Q.height});});sa.height === (null === (U=this.KC.value) || void 0 === U?void 0:U.height) && sa.width === (null === (ja=this.KC.value) || void 0 === ja?void 0:ja.width) || this.KC.set(sa);};c.prototype.Ev=function(){var U,ja;!1;ja=this.ib.d5(this);this.FUa(ja);null === (U=this.Xa) || void 0 === U?void 0:U.St(ja);};c.prototype.FG=function(U){var ja,sa;!1;(0,G.oa)(this.Xa,"ASE should be initialized");sa=this.ib.sT(U);sa?U === this.ib.sh?this.Xa.N2(sa,!0) || this.JT(sa,{}):null === (ja=this.Xa) || void 0 === ja?void 0:ja.Lj(U,sa,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.JT=function(U,ja,sa){var Q,P,Z,na,qa;Q=this;sa=void 0 === sa?!0:sa;!1;na=this.ib.Pd(U);if(this.vi.U$ && this.ib.aa.J === na.J)return Promise.resolve(this.ie.seek(na.sa,R.Zc.Nw,void 0));na=this.Pj.vL(na.J);ja=(0,N.p7)(na.nb,ja);if(null === (P=this.Xa) || void 0 === P || !P.Fh)throw (!1,Error("No streaming session"));!1;this.sE("Transition " + this.ib.sh + "->" + U);qa=this.ei(U);qa.gm=this.Ea.Eb().ba(C.na);qa.Ya=ja;return "seamless" !== (null !== (Z=this.ib.Pd(U).Xd) && void 0 !== Z?Z:"seamless") || sa?(this.Xa.tT(U).RR?this.pKb(U,qa.O):this.FW(U,qa.O)).then(function(){Q.DFb(qa.O);}):Promise.resolve();};c.prototype.FW=function(U,ja){var sa;sa=this.ib.jk.M[U].sa;!1;this.sE("NO DATA " + U + ", SEEKING " + sa + ", viewableId: " + ja);return Promise.resolve(this.ie.seek(sa,R.Zc.Nw,U,!0));};c.prototype.pKb=function(U,ja){var sa,Q,P,Z,na;sa=this;!1;Q=this.Xa;if(null === Q || void 0 === Q || !Q.Fh)throw Error("No streaming session");P=new Promise(function(qa){function Ha(){!1;Q.removeEventListener("stop",Ha);qa();}Q.addEventListener("stop",Ha);});Z=!1;na=new Promise(function(qa){function Ha(Va){!1;sa.removeEventListener(R.fa.Dj,Ha);Z=Va.skip;qa();}function Ya(){!1;sa.removeEventListener(R.fa.pC,Ya);Q.stop();}sa.addEventListener(R.fa.pC,Ya);sa.addEventListener(R.fa.Dj,Ha);});P=Promise.all([P,na]).then(function(){var qa;qa=!1;Z && (qa=Q.N2(U,!1));if(!qa)return (sa.sE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),sa.FW(U,ja));});na=Q.wja(U,this.ib.jk.M[U].sa);!1;this.ie.seek(na,R.Zc.XI,U,!0);return P;};c.prototype.Sga=function(U,ja,sa){var Q,P,Z,na,qa,Ha,Ya,Va;ja=void 0 === ja?this.Zx.CA():ja;sa=void 0 === sa?this.Ea.Eb():sa;Z=!!u.config.heb && !(ja % u.config.heb);na=U.J;qa=U.I;Ha=U.Ya;Ya=U.If;if(this.Hp.has(na))ja=this.Hp.get(na);else {ja=this.SV(y.Dz.index++,na,qa,Ha,ja,sa,Z,this.aa,this.NF,Ya,this);this.Hp.set(na,ja);1 < this.Hp.size && (ja.$L=this.aM.create(this,ja,!1,this.NF));ja.jM=new x.bHa(this,ja);Va=null === Ya || void 0 === Ya?void 0:Ya.bc;(U=U.otb) || (U=null === (P=null === (Q=this.aa.W) || void 0 === Q?void 0:Q.cp) || void 0 === P?void 0:P.find(function(rb){return rb.Fa.O === na && (void 0 === Va || rb.Fa.bc === Va);}));U && this.T8(U,ja);1 < this.Hp.size && this.Oh.u5(ja.O) && this.Z8(ja);}};c.prototype.EUa=function(U,ja,sa,Q){var P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb;P=this;!1;rb={KL:!0,ag:!1,HC:Date.now()};(0,G.oa)(ja.Hf,"Auxiliary viewable config request options must have auxiliary options");mb=ja.Hf;ja=mb.bc;mb=mb.vd;if(this.B5(mb)){Fb=null === (Z=this.Ik(mb).W) || void 0 === Z?void 0:Z.Fa;Z={bc:ja,EV:this.ke,vd:mb,JV:Fb};(0,G.oa)(null === (na=this.Xa) || void 0 === na?void 0:na.Ih,"If we have auxiliary viewables combined playgraph must exist");if(null === (Ha=null === (qa=this.Xa) || void 0 === qa?void 0:qa.Ih) || void 0 === Ha?0:Ha.M)(na=Object.keys(null === (Va=null === (Ya=this.Xa) || void 0 === Ya?void 0:Ya.Ih) || void 0 === Va?void 0:Va.M).find(function(Kb){var Ta,bb;return (null === (bb=null === (Ta=P.Xa) || void 0 === Ta?void 0:Ta.Ih) || void 0 === bb?void 0:bb.M[Kb].J) === U;}),(0,G.oa)(!!na,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Sga({otb:Q,If:Z,Ya:rb,I:na,J:U},sa));}};c.prototype.B5=function(U){return !!this.Hp.has(U);};c.prototype.h0a=function(U){try{return (this.ei(U),!0);}catch(ja){return !1;}};c.prototype.Ik=function(U){if(U === La.un)return this.aa;if(!this.Hp.has(U))throw Error("Playback segment not found: " + U);return this.Hp.get(U);};c.prototype.ei=function(U){var sa,Q,P,Z,na,qa,Ha,Ya,Va;function ja(rb){for(var mb=la(sa.PG),Fb=mb.next();!Fb.done;Fb=mb.next()){if((Fb=Fb.value,Fb.I === rb))return Fb;}}sa=this;Va=ja(U);if(Va)return Va;if(null === (P=null === (Q=this.Xa) || void 0 === Q?void 0:Q.Ih) || void 0 === P?0:P.M[U])if((Q=null === (Z=this.Xa) || void 0 === Z?void 0:Z.Ih.M[U].Rb,Q === U && (null === (na=this.Xa) || void 0 === na?0:na.dO) && (null === (qa=this.Xa) || void 0 === qa?0:qa.dO.M[U]) && (Q=null === (Ha=this.Xa) || void 0 === Ha?void 0:Ha.dO.M[U].Rb),Q && this.ib.Xv(Q)))return (Z=this.ib.Pd(Q).J,U=null === (Ya=this.Xa) || void 0 === Ya?void 0:Ya.Ih.M[U].J,Z === U && (Va=ja(Q)),null !== Va && void 0 !== Va?Va:this.Ik(U));return this.aa;};c.prototype.ZIb=function(U){for(var ja,sa,Q=la(this.PG),P=Q.next();!P.done;P=Q.next()){if((P=P.value,(null === (sa=null === (ja=P.de) || void 0 === ja?void 0:ja.zb) || void 0 === sa?void 0:sa.sessionId) === U))return P;}return this.aa;};c.prototype.yZa=function(U){return this.G0a.get(U);};c.prototype.Z8=function(U){var ja,sa;ja=this;!1;sa=U.O;this.Pj.a0b(sa);return this.LW(U).then(function(Q){ja.T8(Q,U);Q=U.fG?ja.Kb.Mk.z9a(U):Promise.resolve();ja.WVb(U);return Q.then(function(){return ja.Pj.R$a(sa);});}).catch(function(Q){ja.log.error("queueManifest failed",Q);ja.Pj.$_b(sa,Q);throw ja.xh(Q.code,Q);});};c.prototype.Uv=function(U,ja){var sa,Q,P,Z,na;sa=this;(0,G.oa)(ja.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested");Q=ja.Hf;P=Q.bc;Z=Q.vd;(0,G.oa)(!!P,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;ja=this.Ik(ja.Hf.vd);Q=O.ol.qm;na={KL:!0,ag:!1,HC:Date.now()};return this.Oh.Tx({ma:ja.ma,Ya:na,J:ja.O,Hq:Q,qf:void 0,hO:void 0,If:{ph:U,bc:P,vd:Z,EV:ja.ke}},!1).then(function(qa){var Ha,Ya;qa.cp.forEach(function(Va){sa.G0a.set(Va.Fa.O,Va);});if(null === (Ha=qa.Fa.Am) || void 0 === Ha || !Ha.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (Z + ", adBreakToken: " + U));return null === (Ya=qa.Fa.Am) || void 0 === Ya?void 0:Ya.ce[0];});};c.prototype.GGb=function(){if((0,L.sb)(this.Vc.ats) && (0,L.sb)(this.Vc.at))return this.Vc.at - this.Vc.ats;};c.prototype.KYa=function(){var U,ja;U=this.UX();ja=this.FR();return Math.min(U,ja);};c.prototype.NN=function(){this.background.value || (this.Cc.info("Starting inactivity monitor for movie " + this.O),new w.SEa(this));};c.prototype.close=function(U){U && (this.state.value == R.Vb.CLOSED?U():this.addEventListener(R.fa.closed,function(){U();}));this.hwa();};c.prototype.od=function(U,ja,sa){U=this.xh(U,ja,sa);this.LE(U,void 0);};c.prototype.LE=function(U,ja){var sa,Q,P,Z;sa=this;!1;(0,F.gZ)(U.errorCode,U.ya,this.Ea.Eb().wa(this.Ph).ba(C.na),null === (Q=this.ie) || void 0 === Q?void 0:Q.mv()) || this.mia.add(this.qa.ee,null === (P=this.de) || void 0 === P?void 0:P.jL(),U.errorCode,U.ya,U.De);U.eab(this.Tk);if(this.state.value == R.Vb.KI)this.th || (this.th=U,this.load());else {ja && (this.state.value == R.Vb.CLOSED?ja():this.addEventListener(R.fa.closed,function(){ja();}));Q=function(){sa.hwa(U);};P=u.config.DVa && U && u.config.DVa[U.errorCode];Z=-1;(0,L.QL)(P) && (Z=(0,J.Ui)(P));this.Cc.error("Fatal playback error",{Error:"" + U,HandleDelay:"" + P});0 <= Z?setTimeout(Q,Z):Q();}};c.prototype.sE=function(U){var ja;ja=void 0 === ja?this.I:ja;U=this.Ea.Eb().ba(C.na) + "-" + ja + "-" + U;!1;this.F7a.push(U);};c.prototype.qFb=function(){this.PXa();};c.prototype.$ma=function(){var U;if(null === (U=this.Xa) || void 0 === U?0:U.Fh)if((U=this.Xa.Un().id,void 0 !== U))return U;return null;};c.prototype.cB=function(){var U,ja;ja=null === (U=this.Xa) || void 0 === U?void 0:U.Fh;return void 0 === this.aa.fS || ja?this.NF(this.mediaTime.value):this.aa.fS;};c.prototype.Zma=function(){var U;U=this.NF(this.ie.kZa());return null === U?null:Math.min(this.Cx.ba(C.na),Math.max(0,U));};c.prototype.gT=function(){var U,ja;return null === (ja=null === (U=this.W) || void 0 === U?void 0:U.Fa.hp) || void 0 === ja?void 0:ja.M;};c.prototype.R$=function(U){!1;this.Ya=(0,N.p7)(this.Ya,U);this.sha();};c.prototype.Cna=function(U){return (null === U || void 0 === U?0:U.J)?U.J:(null === U || void 0 === U?0:U.Odb) && this.ME?this.ME.J === La.un?(U=this.ME.Cb) && this.Xa && this.Xa.Ih?this.Xa.Ih.M[U].J:this.O:this.ME.J:this.O;};c.prototype.CGb=function(){var U;U=this.Ik(this.Cna(void 0)).tc;return U.value?U.value.streams:[];};c.prototype.fB=function(U){return (U=this.Ik(this.Cna(U)).Ng) && U.value?U.value.streams:[];};c.prototype.b0a=function(U){for(var ja=la(this.PG),sa=ja.next();!sa.done;sa=ja.next()){if(sa=(sa=sa.value.rg) && sa.find(function(Q){return Q.id === U;}))return sa;}!1;};c.prototype.WVb=function(U){U=void 0 === U?this.aa:U;!1;U.Gb.value?this.ln.TVb(U.Gb.value):Promise.resolve();};c.prototype.Y_a=function(U){for(var ja=la(this.PG),sa=ja.next();!sa.done;sa=ja.next()){sa=la(sa.value.ai);for(var Q=sa.next();!Q.done;Q=sa.next()){if(Q=Q.value.streams.find(function(P){return P.Tb === U;}))return Q;}}!1;};c.prototype.m0a=function(U){for(var ja=la(this.PG),sa=ja.next();!sa.done;sa=ja.next()){sa=la(sa.value.gw);for(var Q=sa.next();!Q.done;Q=sa.next()){if(Q=(Q=Q.value) && Q.streams.find(function(P){return P.Tb === U;}))return Q;}}!1;};c.prototype.ZKb=function(U){for(var ja=la(this.PG),sa=ja.next();!sa.done;sa=ja.next()){if(sa.value.ke === U)return !0;}return !1;};c.prototype.Cs=function(){var U,ja,sa;return null !== (sa=null === (ja=null === (U=this.A8) || void 0 === U?void 0:U.hS) || void 0 === ja?void 0:ja.call(U)) && void 0 !== sa?sa:this.ezb().zXa;};c.prototype.pab=function(U){var ja,sa;null !== (ja=this.Xa) && void 0 !== ja && ja.Fh && this.Hp.has(U) && ((null === (sa=this.A8) || void 0 === sa?0:sa.hS)?this.A8.kdb():(ja=this.Hja(U),this.Xa.Y9(ja,U)));};c.prototype.GNb=function(){return "trailer" === this.wd;};c.prototype.NMb=function(){return !!this.wd && 0 <= this.wd.indexOf("billboard");};c.prototype.NNb=function(){return !!this.wd && 0 <= this.wd.indexOf("video-merch");};c.prototype.mNb=function(){return !!this.wd && 0 <= this.wd.indexOf("mini-modal");};c.prototype.NL=function(){return this.GNb() || this.NMb() || this.NNb() || this.mNb();};c.prototype.L4=function(){var U,ja,sa;ja={Odb:!0};if((null === (U=this.Ik(this.Cna(ja)).W) || void 0 === U || !U.Fa.Ioa) && this.gw){this.fB(ja).forEach(function(Q){var P,Z;if((0,L.sb)(Q.Ija) && (0,L.sb)(Q.YUa) && (0,L.sb)(Q.XUa) && (0,L.sb)(Q.WUa) && (0 < Q.Ija || 0 < Q.YUa)){P=1;Z=1;(0,L.sb)(Q.n7a) && (0,L.sb)(Q.o7a) && (P=Q.n7a,Z=Q.o7a);P=Q.WUa * Z / (Q.XUa * P);sa=(0,L.sb)(sa)?0 < Q.Ija?Math.max(sa,P):Math.min(sa,P):P;}});return sa;}};c.prototype.uJb=function(){return {tr:this.Ywa,rt:this.Dua};};c.prototype.lL=function(U){return this.bo[U];};c.prototype.oia=function(){return this.gm?this.Ea.Eb().ba(C.na) - this.gm:this.qa.ee.ba(C.na) - this.xF();};c.prototype.VR=function(){var U;if(this.gm)return this.Ea.Eb().ba(C.na) - this.gm;U=this.Ea.jy;return this.RV - (this.Ph.ba(C.na) + U.ba(C.na));};c.prototype.pia=function(){return this.gm?this.Ea.Eb().ba(C.na) - this.gm:this.RV - this.xF();};c.prototype.LGb=function(){var U,ja;U=this.loadTime;ja={};(0,J.Zf)(this.Tha,function(sa,Q){ja[sa]=Q.map(function(P){return P - U;});});return g.Xu?{level:g.Xu.HZa(),charging:g.Xu.nma(),statuses:ja}:null;};c.prototype.q5=function(){this.OXa();return this.baa;};c.prototype.xF=function(){var U;U=this.Ya.HC;U=(0,L.sb)(U)?U:this.Ph.ba(C.na) + this.Ea.jy.ba(C.na);(0,G.oa)((0,L.BB)(U));return U;};c.prototype.q_a=function(){return this.Ea.Eb().ba(C.na) - this.Ph.ba(C.na);};c.prototype.w6b=function(){this.e1b=!0;};c.prototype.S7=function(){this.b9a();};c.prototype.UX=function(){var U;U=this.g2();return U && U.vbuflmsec || 0;};c.prototype.FR=function(){var U;U=this.g2();return U && U.abuflmsec || 0;};c.prototype.Nxa=function(){var U;U=this.g2();return U && U.vbuflbytes || 0;};c.prototype.Dha=function(){var U;U=this.g2();return U && U.abuflbytes || 0;};c.prototype.LW=function(U,ja,sa){var Q,P,Z,na;Q=this;U=void 0 === U?this.aa:U;sa=void 0 === sa?!0:sa;!1;P=!!ja;Z=!P && U !== this.aa;na=u.config.X8.enabled?O.ol.zlb:Z?O.ol.OI:this.NL()?O.ol.Y_:O.ol.qm;P=this.NL() || P || Z?void 0:this.Kb.Mk.W4(Z);return this.Oh.Tx({ma:U.ma,Ya:U.Ya,J:U.O,Hq:na,qf:P,hO:ja,If:U.If},U.If?!1:sa).then(function(qa){qa.Qoa && Q.fireEvent(R.fa.AU,{O:U.O});return qa;});};c.prototype.T8=function(U,ja,sa){var Q,P,Z;ja=void 0 === ja?this.aa:ja;sa=void 0 === sa?!1:sa;!1;if(ja.Ya.ag && !U.Fa.hp)this.od(F.U.Qfb);else {Q=this.OU.create(this);P=!!(ja.If && ja.If.bc && ja.If.JV);if(sa){Z=Q.BLb(ja.W,ja.zc,U);U=Z.W;Z=Z.zc;}else (U=P?Q.TZb(U,null === (Z=ja.If) || void 0 === Z?void 0:Z.JV):U,Z=Q.X6a(U));ja.W=U;ja.zc=Z;sa || (ja.Ng.set(Z.x3),ja.tc.set(Z.oS),ja.Gb.set(Z.pS));ja.fd.ha && ja.fd.LWb();}};c.prototype.DFb=function(U){var ja;ja=void 0 === ja?!1:ja;!1;this.nH({J:U,bG:ja});};c.prototype.c0a=function(U,ja){if(!this.vi.Kxa)return !0;U=this.Ip.ba(C.na) - U;return 0 > U || U > ja;};c.prototype.vZb=function(){!1;this.ie.seek(this.cB() || 0,R.Zc.iZ);};c.prototype.E0a=function(U,ja){var sa,Q;sa=this;!1;Q=this.aa;Q.E3=!0;return this.LW(Q,{EV:Q.ke,eZb:U,hZb:ja},!1).then(function(P){var Z;sa.T8(P,Q,!0);sa.Oh.fX(Q.O,Q.W);return null === (Z=sa.Xa) || void 0 === Z?void 0:Z.mO(sa.E7a);}).then(function(){var P,Z;P=Q.ai.find(function(na){return na.trackId === U;});Z=Q.eh.find(function(na){return na.trackId === ja;});if(!(P && P.wg && Z && Z.wg))throw Error("Track hydration failed: requiredAudioTrackId=" + U + " requiredTextTrackId=" + ja);sa.fireEvent(R.fa.Kcb);return {tc:P,uX:Z};});};c.prototype.Qn=function(){return this.Sc;};c.prototype.nH=function(U){var ja,sa,Q;ja=U.J;sa=U.bG;U=U.ME;!1;U !== this.ME && (this.ME=U,this.Gdb());if(this.TM){if(ja === this.FA){this.TM=ja;return;}U=this.Ik(ja);Q=U.W;Q && (0,L.Uc)(Q.fH) && (0,L.Uc)(Q.nN) && U.$x({pr_ats:Q.fH,pr_at:Q.nN});this.fireEvent(R.fa.fqa,{O:this.FA});this.FA=ja;this.sha();sa || this.Y9a();this.cy=this.qa.qH;this.aa.gm || (this.aa.gm=this.Ea.Eb().ba(C.na));}("boolean" === typeof this.Ya.JK?this.Ya.JK:u.config.JK) && !sa && this.exa.JK(this);sa={O:ja,bG:sa,TM:this.TM};this.TM=ja;this.fireEvent(R.fa.qG,sa);};c.prototype.Wyb=function(){!1;try{this.Kb=new m.NGa(this);this.d3=new oa.kBa(this);this.$L=this.aM.create(this,this.aa,!0,this.NF);u.config.gvb && new ka.VCa(this,this.Of,this.log);u.config.XR && this.XR(this);this.W5b();}catch(U){this.jr(F.U.Qib,{ya:F.R.ml,Jb:(0,J.we)(U)});}};c.prototype.W5b=function(){!1;this.th?this.LE(this.th):(0,L.Yoa)(this.O)?this.Ivb():this.jr(F.U.Nib,{Jb:"" + this.O});};c.prototype.Ivb=function(){var U;!1;U=f.DH.L$a;U?U.ia?this.Zia():this.jr(F.U.LEa,U):((0,G.oa)(!u.config.W3),this.Bga());};c.prototype.Zia=function(){var U;U=this;!this.background.value && u.config.Zia?(0,y.Cda)(function(){U.Bga();},this):this.Bga();};c.prototype.Bga=function(){var U;U=this;!1;this.state.value == R.Vb.LOADING && (u.config.Rka && !this.NL()?f.DH.Lu(y.EJa,function(ja){ja.ia?(U.R6=ja.R6,U.RRa()):U.jr(F.U.KEa);},!0):this.RRa());};c.prototype.RRa=function(){var U,ja,sa;U=this;if(this.state.value == R.Vb.LOADING){this.log.info("Authorizing",this);ja=this.Ea.Eb().ba(C.na);this.je("ats");(0,G.vK)(this.O);(0,G.vK)(this.Nj);sa=this.RWb.bind(this,ja);Promise.all([this.W,u.config.gr && this.Oh.u5(this.O)?this.Oh.H4(this.O).catch(function(){}):void 0]).then(function(Q){var P,Z;P=la(Q);Q=P.next().value;P=P.next().value;Q && P?Z=P.Fa.expiration > Q.Fa.expiration?P:Q:Q?Z=Q:P && (Z=P);Z && 18E5 > Z.Fa.expiration - (0,Wa.Yia)() && (Z=void 0);return Z?(U.GE=Z === Q?"ui":"videopreparer",Z):U.LW();}).then(function(Q){try{U.T8(Q);sa(p.gg);U.v7a || (U.v7a=!0,U.wsa.Mj(U));}catch(P){U.log.error("Exception processing authorization response",P);sa({ia:!1,ya:F.R.jlb});}}).catch(sa);}};c.prototype.RWb=function(U,ja){var sa,Q;sa=this;!1;if(this.state.value == R.Vb.LOADING){this.je("at");Q=this.W;this.$x({pr_ats:Q && (0,L.Uc)(Q.fH)?Q.fH:U,pr_at:Q && (0,L.Uc)(Q.nN)?Q.nN:this.Ea.Eb().ba(C.na)});ja.ia?0 < this.zc.rg.length && this.zc.oS && this.zc.x3 && this.zc.pS?this.J7a?(this.log.info("Processing post-authorize",this),this.J7a(this,function(P){P.ia?sa.ndb():sa.jr(F.U.Uib,P);})):this.ndb():this.jr(F.U.jGa,this.gqa(this.zc)):this.jr(F.U.kD,ja);}};c.prototype.ndb=function(){var U,ja;l.__awaiter(this,void 0,void 0,function Q(){var P;P=this;return Ja(Q,function(Z){!1;if(P.state.value != R.Vb.LOADING)return Z.return();(null === (U=P.aa.W) || void 0 === U?0:U.Fa.hp) && P.ib.reset((0,La.M2)(null === (ja=P.aa.W) || void 0 === ja?void 0:ja.Fa.hp,{config:u.config}));P.Xa=P.xha(P.ib,P);P.Xa.F0b({Zo:d.Zo,config:u.config,Yd:P.Yd,Cc:P.Cc,kt:P.kt.bind(P),Ri:D.Ri,PW:P.PW.bind(P),nH:P.nH.bind(P)});P.KVb();Z.Cv=0;});});};c.prototype.Wzb=function(){var U,ja,sa,Q,P,Z,na;U=this;!1;try{if(this.state.value === R.Vb.LOADING){this.Kb.open();ja=new Promise(function(qa){U.Kb.addEventListener(I.ej.Vab,qa);});this.ie=new H.VGa(this);sa=this.zc.oS.Bh === ha.Eo.NONE;Q={meb:this.zc.oS.Yn || sa};P={ma:this.ma,Ep:this.Bf,OA:this.OA};try{if(this.state.value !== R.Vb.LOADING)return;Z=this.Xa;Z.aU({flags:Q,$Ua:P,I:this.E7a,Hja:this.Hja.bind(this)});na=this.ib.d5(this);this.FUa(na);Z.St(na);this.frb();Z.Gtb({bo:this.bo,loadTime:this.loadTime});this.Sc=this.Gga(Z,this);this.Sc.Bl.addListener(function(qa){qa.newValue?(U.ln.iLb(),u.config.gr && U.cd.W_a()):U.ln.g1b();});this.Sc.addEventListener(R.rY.iA,function(){U.cd.W_a();});}catch(qa){throw (this.log.error("Failed to initialize ASE streaming",{error:qa,startPts:this.ab,flags:Q}),qa);}ja.then(function(){var qa;U.state.value !== R.Vb.CLOSING && U.state.value !== R.Vb.CLOSED && (null === (qa=U.Xa) || void 0 === qa?void 0:qa.open());});this.mediaTime.set(this.ab);this.ln=new k.HMa(this);if("boolean" === typeof this.Ya.l9?this.Ya.l9:u.config.l9)this.yX=new A.IMa(this);this.NN();y.Eda.forEach(function(qa){qa(U);});this.mSb();}}catch(qa){this.jr(F.U.Sib,{ya:F.R.ml,Jb:(0,J.we)(qa)});}};c.prototype.nSb=function(){(0,G.oa)(this.state.value == R.Vb.KI);this.loadTime=this.Ea.Eb().ba(C.na);this.state.set(R.Vb.LOADING);};c.prototype.jr=function(U,ja){this.done || (this.done=!0,ja instanceof Y.Mc?this.od(ja.code,ja):this.od(U,ja));};c.prototype.XR=function(U){var sa,Q;function ja(){var P,Z;P=g.Xu.nma() + "";Z=U.Tha[P];Z || (Z=U.Tha[P]=[]);Z.push(sa.Ea.Eb().ba(C.na));sa.log.trace("charging change event",{level:g.Xu.HZa(),charging:g.Xu.nma()});}sa=this;Q=g.Xu.tgb;g.Xu.addEventListener(Q,ja);U.addEventListener(R.fa.sg,function(){g.Xu.removeEventListener(Q,ja);});};c.prototype.hwa=function(U){var ja,sa;ja=this;if(this.state.value == R.Vb.KI || this.state.value == R.Vb.LOADING || this.state.value == R.Vb.$d){this.Cc.info("Playback closing",this,U?{ErrorCode:U.G3}:void 0);this.sE("Closing");v.fe.removeListener(v.Jk,this.sV);this.th=U;this.aa.fS=this.cB();this.OXa();(null === (sa=this.Xa) || void 0 === sa?0:sa.Fh) && this.Xa.flush();try{this.Db.Ec(R.fa.sg,{movieId:this.FA});}catch(Q){this.Cc.error("Unable to fire playback closing event",Q);}this.state.set(R.Vb.CLOSING);this.efb();this.e1b || (0,M.Mf)(function(){return ja.b9a();});}};c.prototype.fFb=function(){this.Db.Ec(R.fa.hdb);};c.prototype.PXa=function(){var U;U=this.mediaTime.value;this.oOb != U && (!1,this.oOb=U,this.Db.Ec(R.fa.Lwa));};c.prototype.b9a=function(){var U,ja;U=this;(0,G.oa)(this.state.value == R.Vb.CLOSING);ja=this.R6;this.R6=void 0;ja?f.DH.release(ja,function(sa){(0,G.oa)(sa.ia);U.fja();}):this.fja();};c.prototype.efb=function(){var U;null === (U=this.Xa) || void 0 === U?void 0:U.Ze();delete this.Xa;};c.prototype.fja=function(){var U;this.fja=p.Iw;(0,G.oa)(this.state.value == R.Vb.CLOSING);U=y.wn.indexOf(this);(0,G.oa)(0 <= U);y.wn.splice(U,1);this.state.set(R.Vb.CLOSED);this.Db.Ec(R.fa.closed,void 0,!0);this.Db.vg();delete this.de;this.aa.S7();};c.prototype.sha=function(){this.Ya.playbackState && ("number" === typeof this.Ya.playbackState.volume && this.volume.set((0,E.Jw)(this.Ya.playbackState.volume,0,1)),"boolean" === typeof this.Ya.playbackState.muted && this.muted.set(this.Ya.playbackState.muted),"number" === typeof this.Ya.playbackState.playbackRate && this.playbackRate.set(this.Ya.playbackState.playbackRate));};c.prototype.OXa=function(){this.Db.Ec(R.fa.Eab,{baa:this.baa});};c.prototype.PW=function(U,ja,sa){ja=this.b0a(ja);U=this.ei(U);ja && U.Bc[sa].set(ja);};c.prototype.kt=function(){return {AudioBufferLength:this.FR(),VideoBufferLength:this.UX()};};c.prototype.g2=function(){var U;if(null === (U=this.Xa) || void 0 === U?0:U.Fh)return this.Xa.x1a();};c.prototype.mSb=function(){this.state.value == R.Vb.LOADING && this.state.set(R.Vb.$d);};c.prototype.ezb=function(){var U,ja,sa;U=void 0 === U?this.O:U;ja=this.fB({J:U});sa=this.Ik(U);return (0,za.Cs)(ja,function(Q){return sa.jM.Ty(Q);});};c.prototype.Hja=function(U){var ja,sa;U=void 0 === U?this.O:U;ja=this.fB({J:U});sa=this.Ik(U);return (0,za.O_a)(ja,function(Q){return sa.jM.Ty(Q);});};c.prototype.FUa=function(U){var ja;ja=this;Object.keys(U.M).filter(function(sa){return !ja.Hp.has(U.M[sa].J);}).forEach(function(sa){var Q,P,Z;P=U.M[sa];Z=P.J;P=Object.assign(null !== (Q=ja.Pj.vL(Z).nb) && void 0 !== Q?Q:{},{ab:P.sa,mf:P.ta,ag:!1,HC:Date.now(),KL:!0});ja.Sga({J:Z,I:sa,Ya:P});});};Xa.Object.defineProperties(c.prototype,{PG:{configurable:!0,enumerable:!0,get:function(){return this.Hp.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Hp.get(this.FA);}},ab:{configurable:!0,enumerable:!0,get:function(){var U,ja;return void 0 !== this.El?this.El:null !== (ja=null === (U=this.PG.next()) || void 0 === U?void 0:U.value.Ya.ab) && void 0 !== ja?ja:0;}},zc:{configurable:!0,enumerable:!0,get:function(){return this.aa.zc;},set:function(U){this.aa.zc=U;}},w4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ya.w4;}},x4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ya.x4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.aa.I;}},E7a:{configurable:!0,enumerable:!0,get:function(){return this.ib.Lxa?this.ib.sh:this.aa.I;}},de:{configurable:!0,enumerable:!0,get:function(){return this.aa.de;},set:function(U){this.aa.de=U;}},gm:{configurable:!0,enumerable:!0,get:function(){return this.aa.gm;},set:function(U){this.aa.gm=U;}},GE:{configurable:!0,enumerable:!0,get:function(){return this.aa.GE;},set:function(U){this.aa.GE=U;}},FE:{configurable:!0,enumerable:!0,get:function(){return this.aa.FE;},set:function(U){this.aa.FE=U;}},W5:{configurable:!0,enumerable:!0,get:function(){return this.aa.W5;},set:function(U){this.aa.W5=U;}},W:{configurable:!0,enumerable:!0,get:function(){return this.aa.W;},set:function(U){this.aa.W=U;}},El:{configurable:!0,enumerable:!0,get:function(){return this.aa.El;},set:function(U){this.aa.El=U;}},pX:{configurable:!0,enumerable:!0,get:function(){return this.aa.pX;},set:function(U){this.aa.pX=U;}},Ya:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ya;},set:function(U){this.aa.Ya=U;}},$L:{configurable:!0,enumerable:!0,get:function(){return this.aa.$L;},set:function(U){this.aa.$L=U;}},Sk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Sk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.aa.O;}},wd:{configurable:!0,enumerable:!0,get:function(){return this.aa.wd;}},ai:{configurable:!0,enumerable:!0,get:function(){return this.aa.ai;}},gw:{configurable:!0,enumerable:!0,get:function(){return this.aa.gw;}},Zy:{configurable:!0,enumerable:!0,get:function(){return this.aa.Zy;}},eh:{configurable:!0,enumerable:!0,get:function(){return this.aa.eh;}},ke:{configurable:!0,enumerable:!0,get:function(){return this.aa.ke;}},fG:{configurable:!0,enumerable:!0,get:function(){return this.aa.fG;}},Bt:{configurable:!0,enumerable:!0,get:function(){return this.aa.Bt;}},Gk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Gk;}},rg:{configurable:!0,enumerable:!0,get:function(){return this.aa.rg;}},Cx:{configurable:!0,enumerable:!0,get:function(){return this.aa.Cx;},set:function(U){this.aa.Cx=U;}},ma:{configurable:!0,enumerable:!0,get:function(){return this.aa.ma;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Nj;}},Ph:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ph;}},cy:{configurable:!0,enumerable:!0,get:function(){return this.aa.cy;},set:function(U){this.aa.cy=U;}},Bf:{configurable:!0,enumerable:!0,get:function(){return this.aa.Bf;}},sH:{configurable:!0,enumerable:!0,get:function(){return this.aa.sH;}},jS:{configurable:!0,enumerable:!0,get:function(){return this.aa.jS;}},Vc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vc;}},fp:{configurable:!0,enumerable:!0,get:function(){return this.aa.fp;}},zka:{configurable:!0,enumerable:!0,get:function(){return this.aa.zka;}},jM:{configurable:!0,enumerable:!0,get:function(){return this.aa.jM;}},OA:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.J3 && 0 === this.aa.ma % u.config.J3;}},E3:{configurable:!0,enumerable:!0,get:function(){return this.aa.E3;}},fd:{configurable:!0,enumerable:!0,get:function(){return this.aa.fd;}},Oja:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},yg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Nj,Xid:this.ma};}},E8:{configurable:!0,enumerable:!0,get:function(){return this.ib.E8;}}});b.JJa=c;},52200:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C){var F;F=this;this.j=x;this.Fk=z;this.OX=A;this.Ch=B;this.YW=D;this.Mm=C;this.gVa={};this.update=function(){var G;if(F.ro.selectionStart == F.ro.selectionEnd){G="";F.oT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(J){var M;M=la(J);J=M.next().value;M=M.next().value;G+=J + ": " + M + "\n";});});F.ro.style.fontSize=(0,h.Jw)((0,g.II)(F.element.clientHeight / 60),8,18) + "px";F.ro.value=G;}};this.mTb=function(){var G,E;if(F.j.ie){E=F.j.ie.CF();E && (F.Kja=E - (null !== (G=F.Dcb) && void 0 !== G?G:0),F.Dcb=E,F.xM());}};this.xM=function(){F.OX.Yi(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == n.vz.Ngb || G.keyCode == n.vz.Q) && F.toggle();};this.s7a=[x.mediaTime,x.Bc[q.v.ea],x.Bc[q.v.Y],x.sf,x.Ud,x.Sg,x.Ne,x.Yh,x.state,x.tq,x.lb,x.volume,x.muted];this.element=this.Ch.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.ro=this.Ch.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;);this.element.appendChild(this.ro);this.controls=this.Ch.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.Ch.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.pv();},!1);this.controls.appendChild(z);f.fe.addListener(f.gB,this.onkeydown);x.addEventListener(k.fa.sg,function(){f.fe.removeListener(f.gB,F.onkeydown);F.pv();});}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;l=a(13044);f=a(37509);h=a(8825);d=a(77705);g=a(22365);m=a(32687);k=a(85001);n=a(43193);p=a(5021);q=a(60328);u=a(93161);r={};t=(r[k.Vb.KI]="Not Loaded",r[k.Vb.LOADING]="Loading",r[k.Vb.$d]="Normal",r[k.Vb.CLOSING]="Closing",r[k.Vb.CLOSED]="Closed",r);r={};w=(r[k.wf.$d]="Normal",r[k.wf.Pe]="Pre-buffering",r[k.wf.pLa]="Network stalled",r);r={};v=(r[k.bb.Ff]="Waiting for decoder",r[k.bb.me]="Playing",r[k.bb.Uh]="Paused",r[k.bb.bq]="Media ended",r);y=[k.fa.g7];c.prototype.U_b=function(x){this.gVa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.dU=nb.setInterval(this.mTb,1E3),document.body.appendChild(this.element),this.s7a.forEach(function(z){z.addListener(x.xM);}),y.forEach(function(z){x.j.addEventListener(z,x.xM);}),this.visible=!0,this.Mm.jX().then(function(z){x.Qna=z;x.xM();}));this.update();};c.prototype.pv=function(){var x;x=this;this.visible && (clearInterval(this.dU),this.Dcb=this.Kja=void 0,document.body.removeChild(this.element),this.s7a.forEach(function(z){z.removeListener(x.xM);}),y.forEach(function(z){x.j.removeEventListener(z,x.xM);}),this.OX.Yi(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.pv():this.show();};c.prototype.oT=function(){var x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb,Ta,bb,ib,pb,ob,Bb,Eb,Lb,Pb,Xb,Ib,Ob;x=this;Y=[];oa=this.Fk();Y.push({Version:"6.0041.839.911",Esn:oa?oa.bk:"UNKNOWN",PBCID:this.j.Bf,UserAgent:g.pD});try{ka=this.j.mediaTime.value;ha={MovieId:this.j.O,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.gn,Xid:this.j.ma + " (" + l.wn.map(function(Qb){return Qb.ma;}).join(", ") + ")",Position:(0,h.kh)(ka),Duration:(0,h.kh)(this.j.Cx.ba(p.na)),PlayerDuration:(0,h.kh)(this.j.Ip.ba(p.na)),Volume:(0,g.sn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.$ma()};if(this.j.Ya.ag || this.j.Ya.KL)ha["Segment Position"]=(0,h.kh)(this.j.cB());if(this.j.fd.ha){ha["Is Live"]="true";ha["Live Event Slate"]=this.j.fd.bB();ha["Is At Live Edge"]="" + this.j.fd.vB();ha["Adjusted Live Edge Target"]=(0,h.kh)(this.j.fd.Rs());ha["Live Adjusted Duration"]=(0,h.kh)(this.j.fd.KZa());ha["Live Adjusted Playback Position"]=(0,h.kh)(this.j.fd.n5());ha["Live Event Time Playback Position"]=this.j.fd.BHb();za=[q.v.Y,q.v.ea,q.v.Ka].reduce(function(Qb,cc){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.Xa) || void 0 === nc?void 0:nc.uv) || void 0 === Ac?void 0:Ac[cc];Qb[(0,u.vG)(cc)]=Pc?{encoderRegion:Pc.QA,encoderTag:Pc.RA}:void 0;return Qb;},{});ha["Live Logging Info"]=JSON.stringify(za);}Y.push(ha);}catch(Qb){}try{Y.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.tq.value],"Rendering state":v[this.j.lb.value]});}catch(Qb){}try{Ca=this.j.Nxa() + this.j.Dha();La=this.j.sf.value;Wa=null === La || void 0 === La?void 0:La.stream;db=this.j.Ud.value;U=null === db || void 0 === db?void 0:db.stream;ja=null !== (B=null === Wa || void 0 === Wa?void 0:Wa.bitrate) && void 0 !== B?B:"?";sa=U?U.bitrate + " (" + U.width + "x" + U.height + ")":"?";Q=null !== (D=null === Wa || void 0 === Wa?void 0:Wa.Tb) && void 0 !== D?D:"?";P=null !== (C=null === U || void 0 === U?void 0:U.Tb) && void 0 !== C?C:"?";Z=null !== (F=null === U || void 0 === U?void 0:U.yb) && void 0 !== F?F:"?";na=null !== (E=null === (G=this.j.Ne.value) || void 0 === G?void 0:G.yb) && void 0 !== E?E:"?";qa=null !== (M=null === (J=this.j.Sg.value) || void 0 === J?void 0:J.bitrate) && void 0 !== M?M:"?";Ha=null !== (H=null === (L=this.j.Ne.value) || void 0 === L?void 0:L.bitrate) && void 0 !== H?H:"?";Ya=this.j.Bc[q.v.Y].value;Va=this.j.Bc[q.v.ea].value;Y.push({"Playing bitrate (a/v)":ja + " / " + sa,"Playing/Buffering vmaf":Z + "/" + na,"Buffering bitrate (a/v)":qa + " / " + Ha,"Buffer size in Bytes (a/v)":this.j.Dha() + " / " + this.j.Nxa(),"Buffer size in Bytes":"" + Ca,"Buffer size in Seconds (a/v)":(0,h.kh)(this.j.FR()) + " / " + (0,h.kh)(this.j.UX()),"Downloadables (a/v)":Q + " / " + P,"Current CDN (a/v)":(Va?Va.name + ", Id: " + Va.id:"?") + " / " + (Ya?Ya.name + ", Id: " + Ya.id:"?")});}catch(Qb){}try{rb=this.j.sf.value;z={};if(rb && rb.stream){mb=rb.stream;Fb=mb.track;Kb=this.YW.f3(Fb.streams);Ta=mb.Fd;bb=(/xheaac/).test(Ta)?"xhe-aac":(/heaac/).test(Ta)?"he-aac":(/ddplus/).test(Ta)?"ddplus":"unknown";(/atmos/).test(Ta) && (bb+=", atmos");z["Audio Track"]=Fb.se + ", Id: " + Fb.trackId + ", Channels: " + Fb.channels + ", Codec: " + Kb + " (" + bb + ")";z["Audio Tags"]=null === (N=rb.stream) || void 0 === N?void 0:N.Ai.toString();}ib=this.j.Ud.value;if(ib && ib.stream){pb=ib.stream;ob=this.YW.l3(this.j.Ng.value?this.j.Ng.value.streams:[]);Bb=pb.Fd;Eb=(/hevc/).test(Bb)?"hevc":(/vp9/).test(Bb)?"vp9":(/h264hpl/).test(Bb)?"avchigh":(/av1/).test(Bb)?"av1":"avc";(/hdr/).test(Bb) && (Eb+=", hdr");(/dv/).test(Bb) && (Eb+=", dv");(/prk/).test(Bb) && (Eb+=", prk");z["Video Track"]="Codec: " + ob + " (" + Eb + ")";z["Video Tags"]=null === (I=ib.stream) || void 0 === I?void 0:I.Ai.toString();}Lb=this.j.Yh.value;z["Timed Text Track"]=Lb?Lb.se + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId + ", DownloadableId: " + Lb.Tb:"none";Y.push(z);}catch(Qb){}try{Pb=this.j.ie;Xb=this.j.Ne.value?this.j.Ne.value.framerate:0;Ib=a(99732).N3a;Y.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,m.sb)(this.Kja)?this.Kja:"","Total Frames":Pb.mv(),"Total Dropped Frames":Pb.CF(),"Total Corrupted Frames":Pb.kT(),"Main Thread stall/sec":Ib?Ib.QHb().join(" "):"DISABLED",KeySystem:null === (K=this.j.de) || void 0 === K?void 0:K.jL(),KeyStatus:null === (R=null === (O=this.j.de) || void 0 === O?void 0:O.EZa) || void 0 === R?void 0:R.call(O),VideoDiag:(0,d.cqa)(this.j.q5()),"HDR support":this.Qna?this.Qna.result + " (" + this.Qna.reason + ")":"unknown"});}catch(Qb){}try{Y.push({Throughput:this.j.ob + " kbps"});}catch(Qb){}Ob=void 0;try{Object.entries(this.gVa).forEach(function(Qb){var cc;cc=la(Qb);Qb=cc.next().value;cc=cc.next().value;Ob=Ob || ({});Ob[Qb]=JSON.stringify(cc);});Ob && Y.push(Ob);}catch(Qb){}return Y;};b.LJa=c;},25138:function(r,b,a){var f,h,d,g;function c(m,k,n,p){this.ma=m;this.bZb=k;this.la=n;this.Yf=p;this.Vc={};}function l(m,k){this.Df=m;this.Yf=k;this.Sd={};this.la=m.Wa("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qlb=b.NJa=void 0;r=a(5163);f=a(22674);h=a(87386);d=a(81918);g=a(5021);l.prototype.kYb=function(m,k){this.Sd[m] && this.la.warn("registerPlayback: xid " + m + " already registered, overriding");k=(k?k:this.Yf.Eb()).ba(g.na);this.la.trace("registerPlayback: xid " + m + " at " + k);this.Sd[m]=new c(m,k,this.la,this.Yf);return this.Sd[m];};l.prototype.YIb=function(m){this.Sd[m] || this.la.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Sd[m];};l.prototype.FYb=function(m){this.la.trace("removePlayback: xid " + m);delete this.Sd[m];};a=l;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Za)),r.__param(1,(0,f.l)(d.Jc))],a);b.NJa=a;c.prototype.Yo=function(m,k){k=k?k.ba(g.na):this.Yf.Eb().ba(g.na) - this.bZb;this.la.trace("addMilestone: xid " + this.ma + " " + m + " at " + k);this.Vc[m]=k;};b.qlb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hda=void 0;a.prototype.hqa=function(c){c=void 0 === c?{}:c;return {Nj:c.trackingId,t2:c.authParams,am:c.sessionParams,wd:c.uiLabel,W$:c.uxLabels,pka:c.disableTrackStickiness,HC:c.uiPlayStartTime,w4:c.forceAudioTrackId,x4:c.forceTimedTextTrackId,ag:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,JK:c.enableTrickPlay,Sna:c.heartbeatCooldown,KL:c.isPlaygraph,Q6:c.loadImmediately || !1,j7a:c.pin,VV:c.preciseSeeking,ab:c.startPts,mf:c.endPts,Ti:c.logicalEnd,l9:c.renderTimedText,lXa:c.extraManifestParams,Bha:c.assetId,Usb:c.audioLanguages,i3b:c.textLanguages,keb:c.videoLanguage,gn:c.packageId,JVa:c.desiredDownloadables,rua:c.requestReference,trb:c.additionalAudioAssets,wrb:c.additionalTextAssets};};b.Hda=a;},65361:function(r,b,a){var l,f;function c(h,d){h=l.Hb.call(this,h) || this;h.tqa=d;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;l=a(81734);f=a(8825);ea(c,l.Hb);c.prototype.set=function(h){l.Hb.prototype.set.call(this,(0,f.Jw)(h,0,this.tqa));};b.OJa=c;},37025:function(r,b,a){var l,f,h;function c(d,g,m,k,n,p,q,u,t,w,v,y,x,z){this.index=d;this.O=g;this.I=m;this.Ya=k;this.ma=n;this.Ph=p;this.F3a=q;this.Xwb=t;this.S4a=v;this.If=x;this.tc=new l.Hb(null);this.Ng=new l.Hb(null);this.Gb=new l.Hb(null);this.Yh=new l.Hb(null);this.Lt=new l.Hb(void 0);this.Ne=new l.Hb(null);this.Sg=new l.Hb(null);this.sf=new l.Hb(null);this.Ud=new l.Hb(null);this.Bc=[new l.Hb(null),new l.Hb(null)];this.mediaTime=new l.Hb(void 0);this.playbackRate=new l.Hb(1);this.fp=new l.Hb(null);this.background=new l.Hb(!1);this.GE=this.FE="notcached";this.E3=!1;u && (this.Ne.set(u.Ne.value),this.Sg.set(u.Sg.value));this.Sk=w(this);this.Wl=this.S4a.kYb(this.ma,this.Ph);this.fd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;l=a(81734);f=a(5021);h=a(45146);c.prototype.je=function(d){this.Wl.Yo(d);};c.prototype.$x=function(d){var g;g=this;Object.entries(d).forEach(function(m){var k;k=la(m);m=k.next().value;k=k.next().value;g.Wl.Yo(m,(0,f.Lb)(k - g.Ph.ba(f.na)));});};c.prototype.S7=function(){this.S4a.FYb(this.ma);};Xa.Object.defineProperties(c.prototype,{wd:{configurable:!0,enumerable:!0,get:function(){return this.Ya.wd;}},W$:{configurable:!0,enumerable:!0,get:function(){return this.Ya.W$;}},Gk:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.Gk;}},ai:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.ai) && void 0 !== d?d:[];}},gw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.gw) && void 0 !== d?d:[];}},Zy:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.Zy) && void 0 !== d?d:[];}},eh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.eh) && void 0 !== d?d:[];}},ke:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.ke;}},fG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.fG) && void 0 !== d?d:!1;}},Bt:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.Bt) && void 0 !== d?d:[];}},rg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.rg) && void 0 !== d?d:[];}},Cx:{configurable:!0,enumerable:!0,get:function(){var d,g,m,k,n;return this.fd.ha?((0,h.oa)(void 0 === this.nJ || Infinity === this.nJ.ba(f.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.fd.ha + ", contentDuration:" + (null === (d=this.nJ) || void 0 === d?void 0:d.display)),(0,f.Lb)(Math.max(null !== (g=this.fd.Rs()) && void 0 !== g?g:0,null !== (m=this.mediaTime.value) && void 0 !== m?m:0))):this.nJ && 0 < this.nJ.ba(f.na)?this.nJ:(0,f.Lb)(null !== (n=null === (k=this.W) || void 0 === k?void 0:k.Fa.duration) && void 0 !== n?n:0);},set:function(d){this.nJ=d;}},y4a:{configurable:!0,enumerable:!0,get:function(){var d;return this.fd.ha?((0,h.oa)(void 0 === this.d1 || Infinity === this.d1.ba(f.na),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.fd.ha + ", maxSeekPts:" + (null === (d=this.d1) || void 0 === d?void 0:d.display)),(0,f.Lb)(this.fd.sIb())):this.d1;},set:function(d){this.d1=d;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.Ya.Nj || 0;}},jS:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.fS?this.fS:void 0 === this.mediaTime.value?null:this.Xwb(this.mediaTime.value,this.I);}},Bf:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.xA) || void 0 === g?void 0:g.Ep;}},sH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.xA) || void 0 === g?void 0:g.sH;}},Vc:{configurable:!0,enumerable:!0,get:function(){return this.Wl.Vc;}}});b.PJa=c;},69334:function(r,b,a){var l,f,h;function c(d,g,m){this.Zg=d;this.tb=m;this.M=[];this.log=g.Wa("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;l=a(5163);r=a(22674);f=a(42207);h=a(87386);a(5021);c.prototype.some=function(d){return this.M.some(d);};c.prototype.D5=function(){return !!(this.M[0] && this.M[0].stream && this.tb.ug(this.M[0].stream.yb));};c.prototype.pp=function(d){return this.M.filter(d).reduce(function(g,m){return g + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.FT=function(d){return this.M.filter(d).reduce(function(g,m){return g + m.endTime - m.startTime;},0);};c.prototype.ema=function(d,g){var m,k;m=this;k={};return this.M.filter(function(n){return !g || n.track.dC === g;}).reduce(function(n,p){var q,u,t;q=d.bind(m,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=k[u];t?t.duration+=p:(t=q,t.duration=p,n.push(t),k[u]=t);return n;},[]);};c.prototype.hf=function(d,g,m){var k;m=void 0 === m?this.Zg.playbackRate.value:m;k=this.M;d && g && g >= d.startTime && (d={Bc:d.Bc,track:d.track,stream:d.stream,startTime:d.startTime,vB:d.vB,Poa:d.Poa,endTime:g,rate:m},(g=k[k.length - 1]) && g.track === d.track && g.stream === d.stream && g.Bc === d.Bc && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:k.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(h.Za)),l.__param(2,(0,r.l)(f.Wf))],a);b.TJa=a;},82557:function(r,b,a){var l,f,h,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;r=a(5163);l=a(85001);f=a(22674);h=a(81918);d=a(5021);c.prototype.Dj=function(g){g.cc !== l.Zc.Nr && (this.trace.unshift({time:this.Ea.Eb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.D_a=function(){var g,m;g=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.rcb(m.time),lastRepositionCause:this.RYa(m.event.cc),repositionTrace:this.trace.map(function(k){return {timeSince:g.rcb(k.time),cause:g.RYa(k.event.cc),newMediaTime:k.event.L7,oldMediaTime:k.event.zra,contentPts:k.event.Bs,skip:k.event.skip};})};};c.prototype.rcb=function(g){return this.Ea.Eb().wa(g).ba(d.na);};c.prototype.RYa=function(g){switch(g){case l.Zc.Nr:return "initial";case l.Zc.Nw:return "seek";case l.Zc.qP:return "live_edge";case l.Zc.XI:return "segment_changed";case l.Zc.g0:return "track_changed";case l.Zc.iZ:return "force_rebuffer";}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Jc))],a);b.aLa=a;},13889:function(r,b,a){var l,f,h,d;function c(g,m,k){this.config=g;this.j=m;this.Df=k;this.Ay=void 0;this.u8=!1;this.S2a=0;this.log=this.Df.Wa();}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;l=a(85001);f=a(5021);h=a(8825);d=a(32687);c.prototype.EIb=function(g,m,k,n,p){var q,u,t,w;k=void 0 === k?this.j.I:k;n=void 0 === n?!1:n;q=m === l.Zc.XI;u=this.Sub(q?g:this.Vvb(g,k),m,n,k);n=this.j.Xa;q?(g=u,u=n.uja(u)):g=n.wja(k,u);m === l.Zc.Nr && (this.j.kSa=u);p=this.bi(g,m,p);t=(q=q || p)?g:u;if(this.j.Ip){w=this.j.Ya.ag?this.config().dsa:this.config().ZB;this.j.c0a(t,w) || m !== l.Zc.Nw && m !== l.Zc.qP || (t=this.j.Ip.ba(f.na) - w - 1E3,q?(g=t,u=n.uja(t)):(g=n.wja(k,t),u=t));}return {L7:t,Bs:u,sVb:g,bi:p};};c.prototype.Sub=function(g,m,k,n){this.uNb() || k?g=Math.round(g):(k=this.j.Xa.Uub(g,n),g=(0,d.sb)(k)?k:Math.round(g));this.j.Ya.ag && (g=this.CFb(g));this.config().s$a && 0 !== g && m !== l.Zc.Nr && (g+=this.config().s$a);return g;};c.prototype.bi=function(g,m,k){if(this.config().GBb || m === l.Zc.Nr || m === l.Zc.g0 || m === l.Zc.iZ || !k || g < k.start.ba(f.na) || g >= k.end.ba(f.na))return !1;m=this.j.Xa;return (null === m || void 0 === m?void 0:m.Fh) && m.bi(g) || !1;};c.prototype.uNb=function(){return this.j.Ya.ag?!0:"boolean" === typeof this.j.Ya.VV?this.j.Ya.VV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().VV && this.config().PVb:this.config().VV;};c.prototype.Vvb=function(g,m){var k;k=this.j.ei(m);m=k.Cx;k=k.y4a;!1;m=k || m;k=this.j.fd.ha && !this.j.fd.j6()?0:this.config().P6b;m=Math.max(0,m.ba(f.na) - k);return (0,h.Jw)(g,0,m);};c.prototype.CFb=function(g){var m,k,n;m=this.j.gT();if(Object.values(m).find(function(p){var q;q=p.ta;q=g < (null !== q && void 0 !== q?q:Infinity);return p.sa <= g && q;}))return (!1,g);n=g;Object.entries(m).forEach(function(p){var q;p=la(p);p.next();p=p.next().value.sa;q=p - g;0 < q && (void 0 === k || q < k) && (k=q,n=p);});!1;return n;};Xa.Object.defineProperties(c.prototype,{l6:{configurable:!0,enumerable:!0,get:function(){return this.u8 || !!this.Ay;}}});b.BLa=c;},74834:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(5163);a=a(22674);c.prototype.UWb=function(f,h){h.$L.cb.jva({xid:h.ma,auxPlaybackcontextid:h.ke,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};l=c;l=r.__decorate([(0,a.T)()],l);b.FLa=l;},37517:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t,w,v,y,x,z){var A;A=this;this.g4b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.ZUb=w;this.$Ub=v;this.size=y;this.Xs=x;this.urls=z;this.type=l.Rj.fxa;this.retry=!0;this.state=g.Fo.x_;this.yg={};this.n2={};this.SWb=function(B){if(B.ia)try{A.data=A.g4b.parse(B.content);A.state=g.Fo.gD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.yg);A.j.fireEvent(m.fa.GX);}catch(D){A.state=g.Fo.ZHa;A.log.error("TrickPlay parse failed.",D);}else (A.state=g.Fo.x_,A.log.error("TrickPlay download failed.",(0,k.zw)(B),A.yg));};this.log=(0,h.Kh)(p,"TrickPlay");}b.z=void 0;l=a(51344);f=a(29204);h=a(31276);d=a(61726);g=a(94025);m=a(85001);k=a(36129);c.prototype.IHb=function(n){if(this.data && (this.Xs && (n+=this.Xs),n=Math.floor(n / this.data.header.ucb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.ucb,height:this.height,width:this.width,pixelAspectHeight:this.ZUb,pixelAspectWidth:this.$Ub};};c.prototype.rL=function(){switch(this.state){case g.Fo.gD:return "downloaded";case g.Fo.LOADING:return "loading";case g.Fo.rP:return "downloadfailed";case g.Fo.ZHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.gKb();n?(this.state=g.Fo.LOADING,this.WBb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.gKb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.n2[n.urls[u]] || 0) <= f.config.c4b;});if(p){q=this.urls[p];(q in this.n2)?this.n2[q]++:this.n2[q]=1;return {url:q,Gm:p};}};c.prototype.WBb=function(n){var p,q;this.log.trace("Downloading",n.url,this.yg);q=this.I4(n.Gm);n={responseType:d.ST,Bc:q,url:n.url,track:this,qr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",JA:"trickplay"};this.j.G5.download(n,this.SWb);};c.prototype.I4=function(n){return this.j.rg.find(function(p){return p && p.id === n;});};b.z=c;},18181:function(r,b,a){var l,f,h,d,g,m;function c(k,n){this.Yf=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(5163);l=a(85001);f=a(94025);h=a(81918);d=a(22674);g=a(5021);a=a(4203);c.prototype.JK=function(k){var n;k.HX={};if(!k.NL() && k.Zy && 0 < k.Zy.length && (k.Yy=this.xZa(k),k.Yy)){n=this.G0b(k);n() || (k.lb.addListener(n),k.Ne.addListener(n));}};c.prototype.G0b=function(k){var p;function n(){var q,u;if(!k.Ne.value || k.lb.value === l.bb.Ff)return !1;q=k.Yy;u=q.getState();return u === f.Fo.LOADING?!1:u !== f.Fo.gD && q.retry?(q=p.bKb(k))?(k.HX.offset=p.Yf.Eb().ba(g.na),k.Yy=q,q.download(),!0):!1:(k.lb.removeListener(n),k.Ne.removeListener(n),!1);}p=this;return n;};c.prototype.bKb=function(k){var n,p;n=this.config();p=k.Sk.pp() < n.e4b;n=(k.Ne.value?k.Ne.value.bitrate:0) > n.d4b;return this.xJb(k,p && n);};c.prototype.xJb=function(k,n){if(n && (n=this.xZa(k),this.v_a(k,n.size)))return (k.HX.G9a="h",n);n=this.oIb(k);if(this.v_a(k,n.size))return (k.HX.G9a="l",n);};c.prototype.v_a=function(k,n){var p,q;p=this.config();q=Math.min(k.FR(),k.UX());return k.utb.Gub(n) * (1 + .01 * p.vrb[2]) < q * p.h4b;};c.prototype.xZa=function(k){return k.Zy[k.Zy.length - 1];};c.prototype.oIb=function(k){return k.Zy[0];};m=c;m=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(h.Jc)),r.__param(1,(0,d.l)(a.ac))],m);b.UMa=m;},25837:function(r,b,a){var l,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;r=a(5163);f=a(62082);a=a(22674);c.prototype.parse=function(d){var g,m;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);m=new f.XO(g);d=this.vUb(m);g=this.wUb(m,g,d);return {header:d,images:g};};c.prototype.vUb=function(d){var g,m,k,n;if(d.ena() < this.fZb())throw Error("array buffer too short");l.iGa.forEach(function(p){if(p != d.Hy())throw Error("BIF has invalid magic.");});g=d.bN();if(g > l.VERSION)throw Error("BIF version in unsupported");m=d.bN();if(0 == m)throw Error("BIF has no frames.");k=d.bN();n=d.Cj(l.OKa);return {version:g,FSb:m,ucb:k,I9a:n};};c.prototype.wUb=function(d,g,m){var p,q;for(var k=[],n=0;n <= m.FSb;n++){p={timestamp:d.bN(),offset:d.bN()};void 0 != q && k.push(g.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.fZb=function(){return l.iGa.length + 4 + 4 + 4 + l.OKa;};h=l=c;h.iGa=[137,66,73,70,13,10,26,10];h.VERSION=0;h.OKa=44;h=l=r.__decorate([(0,a.T)()],h);b.WMa=h;},72614:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v;function c(y){return function(){return y.hb.get(l.fJa).va();};}Object.defineProperty(b,"__esModule",{value:!0});b.SG=void 0;r=a(22674);l=a(96687);f=a(32979);h=a(23048);d=a(62278);g=a(95480);m=a(91859);k=a(95398);n=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);w=a(50889);v=a(18477);b.SG=new r.ed(function(y){y(k.SJa).to(n.RJa).da();y(f.sda).to(h.bJa).da();y(d.DIa).to(g.CIa).da();y(l.fJa).to(m.eJa).da();y(l.QP).BX(c);y(w.dJa).to(v.cJa).da();y(p.JIa).to(q.IIa).da().bY();y(u.hJa).to(t.gJa).da();y(u.ZIa).to(t.YIa).da();y(u.aJa).to(t.$Ia).da();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DIa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pda={rU:"keepAlive",splice:"splice"};b.JIa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sda="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dJa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fJa="PboPlaydataServicesSymbol";b.QP="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SJa="PlaydataConfigSymbol";},95480:function(r,b,a){var h,d,g,m,k,n,p,q,u,t;function c(){}function l(){}function f(w,v,y,x,z){var A;A=this;this.is=w;this.al=v;this.config=y;this.aF=x;this.LUb=z;this.Ot=function(){return new c().encode({version:A.version,data:A.SG});};this.v5b=function(B){B=A.upgrade(B);A.LUb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.zm(B))return A.w5b(B);D=B.version;if(void 0 != D && A.is.Yj(D) && 1 == D)return A.x5b(B);D=B.version;if(void 0 != D && A.is.Yj(D) && 2 == D)return new c().decode(B);if(B.version && A.is.Yj(B.version))throw new k.Mc(g.U.uz,g.R.nAa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.Mc(g.U.uz,g.R.oz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.mk=new n.hca(2,this.config().w7a,"" !== this.config().w7a && 0 < this.config().mVb,this.al,this.Ot);}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;r=a(5163);h=a(22674);d=a(4203);g=a(36129);m=a(42207);k=a(31149);n=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);f.prototype.yXb=function(){return this.mk.load(this.v5b).catch(function(w){throw new k.Mc(g.U.uz,w.ya || w.ic,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};f.prototype.hrb=function(w){return this.mk.add(w);};f.prototype.l9a=function(w){return this.mk.remove(w,function(v,y){return v.ma === y.ma;});};f.prototype.yxa=function(w){return this.mk.update(w,function(v,y){return v.ma === y.ma;});};f.prototype.toString=function(){return JSON.stringify(this.Ot(),null,"  ");};f.prototype.Kdb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.aF().bk:"";};f.prototype.Fxa=function(w){return w.map(function(v){return {Tb:v.downloadableId,duration:v.duration};});};f.prototype.Ldb=function(w){var v;return w?{total:w.playTimes.total,SH:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,eO:w.playTimes.total,FC:0,GC:0,TH:0,UH:0,audio:this.Fxa(w.playTimes.audio || []),video:this.Fxa(w.playTimes.video || []),text:this.Fxa(w.playTimes.timedtext || [])}:{total:0,SH:0,eO:0,FC:0,GC:0,TH:0,UH:0,audio:[],video:[],text:[]};};f.prototype.w5b=function(w){var v,y,x;v=this;w=JSON.parse(w);y={dg:"VOD",href:this.Kdb(w.playbackContextId),ma:w.xid?w.xid.toString():"",O:w.movieId,position:w.position,wx:w.timestamp,bm:w.playback?1E3 * w.playback.startEpoch:-1,fM:w.mediaId,Iv:this.Ldb(w.playback),trackId:"",am:{},XM:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.al.create().then(function(z){z.save(v.config().zS,x,!1);});if("" === y.href || "" === y.ma)throw new k.Mc(g.U.uz,g.R.oz);return {version:2,data:[y]};};f.prototype.x5b=function(w){var v;v=this;if(!w.playdata || !this.is.nA(w.playdata))throw new k.Mc(g.U.uz,g.R.oz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {dg:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:v.Kdb(x.playbackContextId),ma:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,wx:x.timestamp,bm:x.playback?1E3 * x.playback.startEpoch:-1,fM:x.mediaId,Iv:v.Ldb(x.playback),trackId:"",am:{},XM:x.profileId};});})(w.playdata)};};Xa.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.mk.version;}},SG:{configurable:!0,enumerable:!0,get:function(){return this.mk.Fl;}}});t=f;t=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.Wf)),r.__param(1,(0,h.l)(p.nw)),r.__param(2,(0,h.l)(d.ac)),r.__param(3,(0,h.l)(q.vw)),r.__param(4,(0,h.l)(a.aJa))],t);b.CIa=t;l.prototype.encode=function(w){var v;v=new u.F_();return w.map(v.encode);};l.prototype.decode=function(w){var v;v=new u.F_();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},44698:function(r,b,a){var l,f,h;function c(d,g){this.bS=g;this.log=d.Wa("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;r=a(5163);l=a(87607);f=a(87386);a=a(22674);c.prototype.rva=function(d,g){var m;m=this.bS(l.Ao.start);return this.gXa(m,d,g);};c.prototype.D$a=function(d){var g;g=this;return this.bS(l.Ao.stop).Cf(this.log,d).then(function(){}).catch(function(m){g.log.error("PBO stop event failed",m);throw m;});};c.prototype.KW=function(d,g,m){d=this.bS(d);return this.gXa(d,g,m);};c.prototype.gXa=function(d,g,m){var k;k=this;return d.On(this.log,g.W.ki,m).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};h=c;h=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.Za)),r.__param(1,(0,a.l)(l.Mba))],h);b.IIa=h;},23048:function(r,b,a){var d,g,m,k,n,p;function c(q,u,t,w){this.qa=q;this.HT=u;this.Ea=t;this.profile=w;}function l(){}function f(){}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=b.F_=void 0;r=a(5163);d=a(22674);g=a(30869);m=a(5021);k=a(4203);n=a(81918);a=a(71501);h.prototype.encode=function(q){return {downloadableId:q.Tb,duration:q.duration};};h.prototype.decode=function(q){return {Tb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.SH,totalAdDuration:q.FC,totalCombinedDuration:q.eO,totalOtherDuration:q.GC,totalStartSlateDuration:q.UH,totalLiveEdgeDuration:q.TH,audio:q.audio.map(new h().encode),video:q.video.map(new h().encode),text:q.text.map(new h().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,SH:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,FC:q.totalAdDuration,eO:q.totalCombinedDuration,GC:q.totalOtherDuration,UH:q.totalStartSlateDuration,TH:q.totalLiveEdgeDuration,audio:q.audio.map(new h().decode),video:q.video.map(new h().decode),text:q.text.map(new h().decode)};};l.prototype.encode=function(q){return {streamingType:q.dg,href:q.href,xid:q.ma,movieId:q.O,position:q.position,clientTime:q.wx,sessionStartTime:q.bm,videoTrackId:q.tO,audioTrackId:q.ap,timedTextTrackId:q.bO,mediaId:q.fM,playTimes:new f().encode(q.Iv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.am,profileId:q.XM};};l.prototype.decode=function(q){return {dg:q.streamingType,href:q.href,ma:q.xid,O:q.movieId,position:q.position,wx:q.clientTime,bm:q.sessionStartTime,tO:q.videoTrackId,ap:q.audioTrackId,bO:q.timedTextTrackId,fM:q.mediaId,Iv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,am:q.sessionParams,XM:q.profileId};};b.F_=l;c.prototype.create=function(q){var u,t,w,v,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.Ya.am) && void 0 !== u?u:{}),{uiVersion:this.HT().kp.cw});u=null !== (t=q.fd.ha?q.fd.n5():q.jS) && void 0 !== t?t:0;return {href:q.W && q.W.ki?q.W.ki.kL("events").href:"",dg:null !== (v=null === (w=q.W) || void 0 === w?void 0:w.Fa.dg) && void 0 !== v?v:"VOD",ma:q.ma.toString(),O:q.O,position:Math.floor(u),wx:this.qa.qH.ba(m.na),bm:q.cy?q.cy.ba(m.na):-1,tO:null === (y=q.Ng.value) || void 0 === y?void 0:y.trackId,ap:null === (x=q.tc.value) || void 0 === x?void 0:x.trackId,bO:null === (z=q.Gb.value) || void 0 === z?void 0:z.trackId,fM:void 0,Iv:this.Xma(q),trackId:void 0 !== q.Nj?q.Nj.toString():"",sessionId:this.HT().sessionId || this.Ea.id,appId:this.HT().appId || this.Ea.id,am:A,XM:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.ana=function(q){return q.map(function(u){return {Tb:u.downloadableId,duration:u.duration};});};c.prototype.Xma=function(q){return (q=q.Sk)?(q=q.XIb(),{total:q.total,SH:q.totalContentTime,FC:q.totalAdDuration,GC:q.totalOtherDuration,eO:q.totalCombinedDuration,TH:q.totalLiveEdgeDuration,UH:q.totalStartSlateDuration,audio:this.ana(q.audio),video:this.ana(q.video),text:this.ana(q.timedtext)}):{total:0,SH:0,FC:0,eO:0,GC:0,TH:0,UH:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.fg)),r.__param(1,(0,d.l)(k.ac)),r.__param(2,(0,d.l)(n.Jc)),r.__param(3,(0,d.l)(a.VI))],p);b.bJa=p;},18477:function(r,b,a){var l,f,h,d;function c(g,m){this.d7a=m;this.log=g.Wa("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(85001);a=a(96687);c.prototype.Mj=function(g){var m;m=this;this.d7a().then(function(k){g.addEventListener(h.fa.qG,function(n){var p;if(void 0 !== n.TM){p=g.Ik(n.TM);k.eX(p);n.bG || new Promise(function(q){var u;if(g.wi.value)q();else {u=function(t){t.newValue && (q(),g.wi.removeListener(u));};g.wi.addListener(u);}}).then(function(){return k.Mj(g,m.Dab(g),function(q){return g.LE(q);});});}});g.addEventListener(h.fa.vt,function(){k.Mj(g.aa,m.Dab(g),function(n){return g.LE(n);});});g.background.value || g.addEventListener(h.fa.AU,function(n){var p;n=g.Ik(n.O);if(n.If){p=g.Ik(n.If.vd);m.log.trace("Auxiliary viewable segment (viewableId: " + n.O + "). Starting playdata monitor for parent viewable " + p.O);n=p;}k.lwa(n);});g.addEventListener(h.fa.sg,function(){k.kbb();});g.addEventListener(h.fa.beb,function(){k.B$a(g.aa).catch(function(n){(n=n.NM) && g.LE(n);});});g.Gb.addListener(function(){g.Ya.pka?m.log.trace("stickiness is disabled for timedtext"):k.P9(g.aa);});g.tc.addListener(function(){g.Ya.pka?m.log.trace("stickiness is disabled for audio"):k.P9(g.aa).catch(function(n){(n=n.NM) && g.LE(n);});});});};c.prototype.Dab=function(g){return g.state.value == h.Vb.$d;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(a.QP))],d);b.cJa=d;},91859:function(r,b,a){var h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G){this.config=x;this.Ac=A;this.dw=B;this.yt=D;this.B8=C;this.xh=F;this.iG=Promise.resolve();this.closed=!1;this.log=z.Wa("PlaydataServices");this.QG=[];this.active=new Set();this.zZb=new l(x,G);}function l(x,z){this.config=x;this.qa=z;}function f(x,z,A,B,D,C){this.log=x;this.Ac=z;this.Zg=A;this.yt=B;this.dw=D;this.fVb=C;this.rXa=this.Md=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=b.llb=void 0;r=a(5163);h=a(22674);d=a(5021);g=a(87386);m=a(53085);k=a(32979);n=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);w=a(45266);v=a(30869);a=a(79274);f.prototype.nM=function(x,z){var B;function A(){var D;D=B.yt.create(B.Zg);B.dw.yxa(D).catch(function(C){var F;F=B.rXa?g.dj.Eea:g.dj.ll;B.rXa=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.dw.hrb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.pr=B.Ac.xN(x,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new u.F_().encode(z)});B.pr=B.Ac.xN(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Md)return Promise.resolve();this.pr && this.pr.cancel();A=this.yt.create(this.Zg);return this.dw.yxa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Zg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.fVb.D$a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.dw.l9a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Md=!0;this.pr && this.pr.cancel();this.dw.yxa(this.yt.create(this.Zg));};Xa.Object.defineProperties(l.prototype,{avb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.qa.ee;return !this.iG || 0 <= x.wa(this.iG).Ek(this.config.C2a)?(this.iG=x,!0):!1;}}});b.llb=l;c.prototype.va=function(){var x;x=this;this.pB || (this.log.trace("Starting playdata services"),this.pB=this.dw.yXb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.pB;};c.prototype.close=function(){this.closed=!0;this.QG.forEach(function(x){x.nM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.NG && z.pva?this.y_b(x):Promise.resolve();};c.prototype.Mj=function(x,z,A){var B;B=this;this.closed || (this.lwa(x),this.rva(x).catch(function(D){B.log.error("Start command failed",{playdata:D.SG,error:D.LS});}),z && this.iwa(this.$Hb(x),x,A));};c.prototype.eX=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.yt.create(x);this.active.delete(A.ma);x=la((0,w.$B)(function(D){return D.key === A.ma;},this.QG));B=x.next().value;this.QG=x.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.nM.stop(z.config.pva);})).then(function(){});};c.prototype.lwa=function(x){var z,A;x.je("pdb");if(this.config.Dsa.c2a()){z=this.yt.create(x);A=z.ma;this.QG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.QG.push({key:A,nM:this.CIb(x,z),Zv:!1,stopped:!1}));}};c.prototype.y_b=function(x){var z,A,B,D;z=this;A=this.dw.SG.filter(function(C){return !z.active.has(C.ma);});B=void 0;D=void 0;x && Infinity === x?B=A:(A=la((0,w.$B)(function(C){return C.O === x;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Ac.lk(this.config.A$a,function(){z.C$a(D).catch(function(){});});return B && 0 !== B.length?this.C$a(B):Promise.resolve();};c.prototype.C$a=function(x){var A;function z(B){return A.B8.D$a(B).then(function(){return A.EYb(B);});}A=this;return x.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.EYb=function(x){var z;z=this;return this.dw.l9a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.CIb=function(x,z){x=new f(this.log,this.Ac,x,this.yt,this.dw,this.B8);x.nM(this.config.Dsa,z);return x;};c.prototype.rva=function(x){var z,A;z=this;A=this.yt.create(x);return this.B8.rva(x,A).then(function(){!1;z.c4a(x);}).catch(function(B){z.c4a(x);throw {SG:A,LS:B};});};c.prototype.c4a=function(x){this.QG.filter(function(z){return z.key === x.ma.toString();}).forEach(function(z){z.Zv=!0;});};c.prototype.B$a=function(x){return this.zZb.avb?this.KW(t.pda.rU,x,q.U.mca):Promise.resolve();};c.prototype.P9=function(x){return this.KW(t.pda.splice,x,q.U.oLa);};c.prototype.KW=function(x,z,A){var D;function B(C){var F;F=D.QG.filter(function(G){return G.key === C.ma.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Zv;},!1);}D=this;return B(z)?this.iG:this.iG=this.iG.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.yt.create(z);return D.B8.KW(x,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;D.log.error("Failed to send event",{eventKey:x,xid:z.ma,error:C});C.uj?F=D.xh(A,C):C.uy === q.r_.Aea && (F=D.xh(A,C));throw {LS:C,NM:F};});};c.prototype.iwa=function(x,z,A){var B;B=this;!1;this.Tia();this.kpa=this.Ac.lk(x,function(){B.Tia();B.KW(t.pda.rU,z,q.U.mca).then(function(){B.iwa(x,z,A);}).catch(function(D){var C;C=D.LS;(D=D.NM) && A(D);C.uy !== q.r_.Aea && B.iwa(x,z,A);});});};c.prototype.kbb=function(){this.Tia();};c.prototype.Tia=function(){this.kpa && (this.kpa.cancel(),this.kpa=void 0);};c.prototype.$Hb=function(x){return x.Ya.Sna?(0,d.Lb)(x.Ya.Sna):this.config.B2a;};y=c;y=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(p.SJa)),r.__param(1,(0,h.l)(g.Za)),r.__param(2,(0,h.l)(m.Di)),r.__param(3,(0,h.l)(n.DIa)),r.__param(4,(0,h.l)(k.sda)),r.__param(5,(0,h.l)(t.JIa)),r.__param(6,(0,h.l)(a.RP)),r.__param(7,(0,h.l)(v.fg))],y);b.eJa=y;},78339:function(r,b,a){var h,d,g,m;function c(){}function l(k){this.KUb=k;}function f(k){this.MUb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=b.$Ia=b.YIa=void 0;r=a(5163);h=a(22674);d=a(36258);g=a(31149);m=a(36129);f.prototype.validate=function(k){k.map(this.MUb.validate);};a=f;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.hJa))],a);b.YIa=a;l.prototype.validate=function(k){this.KUb.validate(k.data);};a=l;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.ZIa))],a);b.$Ia=a;c.prototype.validate=function(k){var n;k.ma && "string" === typeof k.ma?k.href && "string" === typeof k.href?k.XM && "string" === typeof k.XM || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.Mc(m.U.uz,m.R.oz,void 0,void 0,void 0,n,void 0,k.ma);};d=c;d=r.__decorate([(0,h.T)()],d);b.gJa=d;},77334:function(r,b,a){var l,f,h,d,g,m;function c(k,n){k=f.Re.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(12501);g=a(5021);a=a(34231);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{NG:{configurable:!0,enumerable:!0,get:function(){return this.config.Nx?"unsentplaydatatest":"unsentplaydata";}},pva:{configurable:!0,enumerable:!0,get:function(){return !0;}},A$a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(1E4);}},Dsa:{configurable:!0,enumerable:!0,get:function(){return (0,g.Lb)(4E3);}},B2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.B7)(1);}},C2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.zh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"NG",null);r.__decorate([d.config(d.bd,"sendPersistedPlaydata")],m.prototype,"pva",null);r.__decorate([d.config(d.hk,"playdataSendDelayMilliseconds")],m.prototype,"A$a",null);r.__decorate([d.config(d.hk,"playdataPersistIntervalMilliseconds")],m.prototype,"Dsa",null);r.__decorate([d.config(d.hk,"heartbeatCooldown")],m.prototype,"B2a",null);r.__decorate([d.config(d.hk,"keepAliveWindow")],m.prototype,"C2a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul)),r.__param(1,(0,l.l)(a.qn))],m);b.RJa=m;},58343:function(r,b,a){var l,f;function c(h,d){var g;g=this;this.Ph=h;this.Kg=d;this.addEventListener=function(m,k,n){return g.Kg.addListener(m,g.rVa(m,k),n);};this.removeEventListener=function(m,k){return g.Kg.removeListener(m,g.rVa(m,k));};this.getReady=function(){return g.Kg.rv();};this.getXid=function(){return g.rb().Vs();};this.getMovieId=function(){return g.rb().VZa();};this.getPlaygraphId=function(){return g.Kg.$Ib();};this.getElement=function(){return g.Kg.Um();};this.isPlaying=function(){return g.rb().yB();};this.isPaused=function(){return g.rb().ht();};this.isMuted=function(){return g.rb().Soa();};this.isReady=function(){return g.rb().rv();};this.isBackground=function(){return g.rb().F1a();};this.setBackground=function(m){return g.rb().xva(m);};this.startInactivityMonitor=function(){return g.rb().NN();};this.setTransitionTime=function(m){return g.rb().Nva(m);};this.getDiagnostics=function(){return g.rb().eZa();};this.getTextTrackList=function(m){return g.rb().vna(m);};this.getMaxRecommendedTextIndex=function(m){return g.rb().Mma(m);};this.getTextTrack=function(){return g.rb().una();};this.setTextTrack=function(m){return g.rb().Jva(m);};this.getVolume=function(){return g.rb().R_a();};this.isEnded=function(){return g.rb().Noa();};this.getBusy=function(){return g.rb().uh();};this.getError=function(){return g.rb().getError();};this.getCurrentTime=function(){return g.rb().fL();};this.getAdManager=function(){return g.rb().Qn();};this.getLivePlaybackManager=function(){var m;m=g.rb().Ol();(0,f.oa)(m,"Unexpected call to getLivePlaybackManager()");if(m.ha && !m.V0b())return {seekToLiveEdge:function(){return m.I9();},isAtLiveEdge:function(){return m.vB();},getLiveEventState:function(){return m.bB();},isLiveEventEnded:function(){return m.j6();}};};this.getBufferedTime=function(){return g.rb().LYa();};this.getSegmentTime=function(){return g.rb().K4();};this.getDuration=function(){return g.rb().pma();};this.getVideoSize=function(){return g.rb().P_a();};this.getAudioTrackList=function(){return g.rb().BYa();};this.getMaxRecommendedAudioIndex=function(){return g.rb().QZa();};this.getAudioTrack=function(){return g.rb().AYa();};this.getTimedTextTrackList=function(m){return g.rb().vna(m);};this.getMaxRecommendedTimedTextIndex=function(m){return g.rb().Mma(m);};this.getTimedTextTrack=function(){return g.rb().una();};this.getAdditionalLogInfo=function(){return g.rb().yYa();};this.getTrickPlayFrame=function(m){return g.rb().L_a(m);};this.getSessionSummary=function(){return g.rb().lna();};this.getTimedTextSettings=function(){return g.rb().ET();};this.setMuted=function(m){return g.rb().cab(m);};this.setVolume=function(m){return g.rb().qab(m);};this.getPlaybackRate=function(){return g.rb().oL();};this.setPlaybackRate=function(m){return g.rb().W9(m);};this.setAudioTrack=function(m){return g.rb().N$a(m);};this.setTimedTextTrack=function(m){return g.rb().Jva(m);};this.setTimedTextSettings=function(m){return g.rb().GN(m);};this.prepare=function(){return g.rb().VG();};this.load=function(){return g.rb().load();};this.close=function(m){return g.tRa(g.Kg.close(),m);};this.play=function(){return g.rb().play();};this.pause=function(){return g.rb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(m,k){return g.tRa(g.rb().LK(m),k);};this.induceError=function(m){return g.rb().a1a(m);};this.loadCustomTimedTextTrack=function(m,k,n,p){return g.rb().r3a(m,k,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.rb().L4();};this.generateScreenshots=function(m){return g.rb().rYa(m);};this.getCurrentSegmentId=function(){return g.Kg.$Ya();};this.getPlaygraphMap=function(){return g.Kg.LF();};this.updatePlaygraphMap=function(m){return g.Kg.St(m);};this.cla=new Map();this.log=(0,l.Ri)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.q0=void 0;l=a(31276);a(24550);f=a(45146);c.prototype.rb=function(){return this.Kg.rb();};c.prototype.rVa=function(h,d){var g;this.cla.has(h) || this.cla.set(h,new Map());g=this.cla.get(h);g.has(d) || g.set(d,this.EAb(h,d));return g.get(d);};c.prototype.EAb=function(h,d){var g;g=this;return function(m){return d(Object.assign({},m,{type:h,target:g}));};};c.prototype.tRa=function(h,d){return d?h.then(d,d):h;};b.q0=c;},64059:function(r,b,a){var l;function c(f,h,d){var g;g=l.q0.call(this,f,h) || this;g.seek=function(m){return g.rb().seek(m);};g.addEpisode=function(m){return g.zpa.Tqb(m);};g.playNextEpisode=function(m){m=void 0 === m?{}:m;return g.zpa.gVb(m);};g.watchCredits=function(m){return g.zpa.C6b(m);};g.playSegment=function(m){return g.rb().r7a(m);};g.queueSegment=function(m){return g.rb().w8a(m);};g.updateNextSegmentWeights=function(m,k){return g.rb().bj(m,k);};g.setNextSegment=function(m){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {I:p.segmentId,qM:p.nextSegmentId};});g.Kg.Lj.apply(g.Kg,ca(k));};g.clearNextSegment=function(m){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return g.Kg.Zvb.apply(g.Kg,ca(k));};g.goToNextSegment=function(m,k){return g.Kg.Dna(m,k);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.rb().ET().visibility;};g.setTimedTextVisibility=function(m){return g.setTimedTextVisible(m);};g.setTimedTextSize=function(m){return g.rb().GN({size:m});};g.setTimedTextBounds=function(m){return g.rb().GN({bounds:m});};g.setTimedTextMargins=function(m){return g.rb().GN({margins:m});};g.setTimedTextVisible=function(m){return g.rb().GN({visibility:m});};g.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};g.zpa=d(f,h,g.log);return g;}b.Taa=void 0;l=a(58343);ea(c,l.q0);b.Taa=c;},59219:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x;function c(z){var A,B;A=this;this.z8=new x.Hda();this.createPlaygraphPlayer=function(D,C,F){var G;D=t.Lda.encode(D);G=d.za.get(w.HI);F=F?G.create(F):void 0;G=d.za.get(p.Nda).create(D);return G.Ezb(D.xe,A.z8.hqa(A.QRa(C,G.qma())),F);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,h.Cda)(D);};this.init=function(D){A.oA.DU(function(C){C.ia?A.B_b().then(function(){(0,l.vJa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.WJ);D(Object.assign({success:!0},c.WJ));}):D({success:!1,error:(0,d.WJa)(C.errorCode || m.U.eca,C)});});};this.applyConfig=function(D){A.sdb(D);(0,f.lja)(D);};this.prepare=function(D,C){var F;D=A.R7a.qBb(D) || [];F=new Set();D=D.filter(function(G){var E;E=F.has(G.O);F.add(G.O);return !E;});if(f.config.gr && A.cd)try{A.cd.VG(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){nb._cad_global.playerPredictionModel?(D=A.R7a.sBb(D)) && nb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.gL)().jX().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.gL)().kX().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.gL)().hX().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.gL)().z$().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.dDb;};this.sdb(z);d.za.get(y.Zya);this.R7a=d.za.get(g.xJa);this.oA=d.za.get(u.Sh);B=d.za.get(v.sJa).apply();(0,f.ZTa)([z],B);this.cd=d.za.get(q.AD);(0,d.gL)().kX();}Object.defineProperty(b,"__esModule",{value:!0});b.BD=void 0;l=a(86258);f=a(29204);h=a(13044);d=a(31276);g=a(68976);m=a(36129);k=a(83767);n=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(50954);w=a(17398);v=a(52033);y=a(13847);x=a(81889);c.prototype.QRa=function(z,A){var B,D,C,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.sa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.ta) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.sdb=function(z){d.za.get(k.nP).QQb(z);};c.prototype.B_b=function(){d.za.get(n.QP)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.BD=c;c.WJ={};},17925:function(r,b,a){var l,f,h,d,g,m;function c(k){var n;n=h.BD.call(this,k) || this;n.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Nj:q}:q;u=l.za.get(f.TI);t=l.za.get(g.HI).create(q.manifest);w=l.za.get(d.Pda);p=u.Bzb(p);u=l.za.get(m.Nda).create(p);p=u.qma();w=w.NUa(u);w.addEpisode({movieId:p.J,playbackParams:n.QRa(q,p),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;l=a(31276);f=a(75864);h=a(59219);d=a(32050);g=a(17398);m=a(58252);ea(c,h.BD);b.vNa=c;},41325:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);l=a(13044);b=a(87386);f=a(31276);h=a(45118);d=a(36410);g=a(45146);m=a(32687);nb.netflix=nb.netflix || ({});(0,g.oa)(!nb.netflix.player);nb.netflix.player={VideoSession:r.vNa,diag:{togglePanel:function(k,n){var p;p=[];if(!c.config || c.config.mW){switch(k){case "info":p=l.wn.map(function(q){return q.x8;});break;case "streams":p=l.wn.map(function(q){return q.A8;});break;case "log":p=[];}p.forEach(function(q){(0,m.Uc)(n)?n?q.show():q.pv():q.toggle();});}},addLogMessageSink:function(k){f.za.get(h.nl).addListener({mgc:function(){},RQb:function(n){k({data:n.data});}});}},log:(0,f.Ri)("Ext"),LogLevel:b.dj,addLogSink:function(k,n){f.za.get(d.GI).h9(k,n);},getVersion:function(){return "6.0041.839.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=l.Dz.m5a) || void 0 === k?void 0:k.PVa.oT();}};},61524:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);l=a(59219);f=a(33096);h=a(29204);r=a(36129);d=a(31276);g=a(45146);m=a(3887);k=a(32687);n=a(45118);p=a(31850);a=a(11479);d.za.get(a.Sh).register(r.U.FEa,function(q){var u,t;u=(0,d.Ri)("NccpApi");t=(0,m.BRa)(["info","warn","trace","error"]);l.BD.WJ.nccp={getEsn:function(){return c.Fk.bk;},getPreferredLanguages:function(){return h.config.kp.bta;},setPreferredLanguages:function(w){(0,g.oa)((0,k.isArray)(w) && (0,k.QL)(w[0]));h.config.kp.bta=w;},queueLogblob:function(w,v,y){var x;if(w && v)if((v=v.toLowerCase(),t[v])){x=d.za.get(n.nl);w=d.za.get(p.Cw).Ds(w,v,y);x.vc(w);}else u.warn("Invalid severity",{severity:v});},flushLogblobs:function(){d.za.get(n.nl).flush(!0);}};q(f.gg);});},42433:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);l=a(1481);f=a(33096);h=a(52569);r=a(36129);d=a(31276);g=a(62082);m=a(45146);k=a(32687);n=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.za.get(b.Sh).register(r.U.GEa,function(w){var B;function v(){return l.Fk.bk;}function y(D){var C;C=d.za.get(q.VI);d.za.get(u.IP)().then(function(F){var G,E;G=F.fV.getStateForMdx(C);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.oa)(E),F=["1",(0,d.ox)(JSON.stringify(F.toJSON())),(0,d.ox)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,M){J=(0,k.xg)(J)?(0,d.qO)(J):J;E.encrypt(J,{result:function(L){L=(0,d.ox)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(J,M){J=(0,d.uq)(J);E.decrypt(J,{result:function(L){M({success:!0,text:(0,d.QX)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(J,M){J=(0,k.xg)(J)?(0,d.qO)(J):J;E.sign(J,{result:function(L){M({success:!0,hmacBase64:(0,d.ox)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,m.oa)(!1,"Must login first"),D({success:!1}));});}function x(D,C){var F;F=(0,d.uq)(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,h.HG)(n.jp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,h.HG)(n.jp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function F(G){G=new g.XO((0,d.uq)(G));G.Hy();return {iv:G.C8a(),rDb:G.C8a()};}return {encrypt:function(G,E){var J;G=(0,k.xg)(G)?(0,d.qO)(G):G;J=n.Az.getRandomValues(new Uint8Array(16));(0,h.HG)(n.jp.encrypt({name:"AES-CBC",iv:J},D,G)).then(function(M){var L,H;M=new Uint8Array(M);L=[];H=new g.XO(L);H.maa(2);H.Neb(J);H.Neb(M);M=(0,d.ox)(L);E({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,m.oa)(!1,"Encrypt error: " + M);E({success:!1});});},decrypt:function(G,E){var J;J=F(G);G=J.iv;J=J.rDb;(0,h.HG)(n.jp.decrypt({name:"AES-CBC",iv:G},D,J)).then(function(M){M=new Uint8Array(M);E({success:!0,text:(0,d.QX)(M)});},function(M){(0,m.oa)(!1,"Decrypt error: " + M);E({success:!1});});},hmac:function(G,E){G=(0,k.xg)(G)?(0,d.qO)(G):G;(0,h.HG)(n.jp.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(J){J=new Uint8Array(J);E({success:!0,hmacBase64:(0,d.ox)(J)});},function(J){(0,m.oa)(!1,"Hmac error: " + J);E({success:!1});});}};}function A(){return (0,p.Yia)();}B=d.za.get(t.TC);if(B.K1a || B.fy)c.BD.WJ.mdx={getEsn:v,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(f.gg);});},13777:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);l=a(91581);f=a(15348);h=a(33096);d=a(29204);g=a(31276);m=a(13044);k=a(59219);n=a(62898);p=a(66476);q=a(45118);g.za.get(r.Sh).register(b.U.HEa,function(u){var v,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):g.za.get(n.zIa).Cf(this.log,{},{email:A,password:B}).then(function(){});}function w(A){var B;B=g.za.get(p.AD);return B.yXa.fetch(A,B);}if(d.config.bEb){v=g.za.get(f.tda);y=g.za.get(l.vn);x=g.za.get(c.Za).Wa("Test");z=g.za.get(q.nl);k.BD.WJ.test={setPboRequestsListener:function(A){return v.g0b(A);},playbacks:m.wn,getPlayback:function(A){return m.wn.find(function(B){return B.ma === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,D;return void 0 !== (null === (D=null === (B=m.wn.find(function(C){return C.ma === A;})) || void 0 === B?void 0:B.Xa) || void 0 === D?void 0:{$ha:0});},isNextSegmentBuffering:function(A,B){var D,C;return null === (C=null === (D=m.wn.find(function(F){return F.ma === A;})) || void 0 === D?void 0:D.Xa) || void 0 === C?void 0:C.tT(B).RR;}},device:{esn:nb._cad_global.device.bk,esnPrefix:y.Mn,errorPrefix:y.Dq},log:{info:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.info(A,D);},error:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.error(A,D);},warn:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.warn(A,D);},trace:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.trace(A,D);},log:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.log(A,D);},debug:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.debug(A,D);},flush:function(){return z.flush();}},login:t,getManifest:w};}u(h.gg);});},66093:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Xu=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(31276);h=a(22365);d=a(11479);g=a(32687);m=a(59818);k=a(5021);a=f.za.get(d.Sh);n=f.za.get(m.Ez);a.register(r.U.wEa,function(p){var w,v;function q(){p(c.gg);q=c.Iw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.wp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=h.Be.getBattery();if(!(0,g.wp)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,f.Ri)("BatteryManager");b.Xu={tgb:"chargingchange",HZa:function(){return v?v.level:null;},nma:function(){return v?v.charging:null;},addEventListener:function(y,x){v && v.addEventListener(y,x);},removeEventListener:function(y,x){v && v.removeEventListener(y,x);}};l.config.XR && (0,g.wp)(h.Be.getBattery)?n.Op((0,k.Lb)(l.config.KGb),t()).then(function(y){u(y);v=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var l,f;function c(){var h,d;h=this;this.ds={};this.on=function(g,m,k){h.addListener(g,m,k);};this.addListener=function(g,m,k){h.ds && (h.ds[g]=h.ds[g] || new f.Rda(!0)).add(m,k);};this.removeListener=function(g,m){h.ds && h.ds[g] && h.ds[g].removeAll(m);};this.xma=function(g){return h.ds && h.ds[g]?h.ds[g].flatten():[];};d=this;this.Ec=function(g,m,k){var n;if(d.ds){n=d.xma(g);for(g={jI:0};g.jI < n.length;(g={jI:g.jI},g.jI++)){k?(function(p){return function(){var q;q=n[p.jI];(0,l.Mf)(function(){q(m);});};})(g)():n[g.jI].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Qj=void 0;l=a(32219);f=a(20483);c.prototype.vg=function(){this.ds=void 0;};b.Qj=c;},31298:function(r,b,a){var l,f,h;function c(d,g,m,k,n,p,q){this.debug=d;this.config=g;this.platform=m;this.i7=k;this.debug.assert(n && n != f.U.Go,"There should always be a specific error code");this.errorCode=n || f.U.Go;p && "object" === typeof p?(this.ya=p.ya || p.ic,this.De=p.De || p.Tc,this.Uka=p.Uka || p.Pm,this.Jb=p.Jb || p.details,this.vS=p.uj,this.Y3=p.Y3 || p.ffc || p.uy,this.VA=p.VA || p.data,p.YU && (this.YU=p.YU),this.Kl=p.Kl,this.method=p.method,this.H7=p.H7,this.alert=p.alert,this.eha=p.eha,this.UF=p.UF,!this.Jb && this.UF && (this.Jb=JSON.stringify(this.UF)),this.ke=p.ke,this.debug.assert(!this.Kl || this.Kl == this.De)):(this.ya=p,this.De=q);this.stack=[this.errorCode];this.ya?this.stack.push(this.ya):this.De && this.stack.push(f.R.Go);this.De && this.stack.push(this.De);this.G3=this.platform.Dq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;l=a(33096);f=a(36129);h=a(32687);a(3887);c.prototype.eab=function(d){this.rVb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.G3 + "]";this.Jb && (d+=" " + this.Jb);this.vS && (d+=" (CustomMessage: " + this.vS + ")");return d;};c.prototype.CX=function(){var d,g,m,k;this.vS && (m=["streaming_error"]);m || this.i7.Qs() !== l.dZ || ("80080017" == this.De && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.De && (m=["pause_timeout"]));m || this.i7.Qs() !== l.Dba || this.errorCode !== f.U.oCa && this.errorCode !== f.U.ZO || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== f.U.Gba || this.ya !== f.R.Eba || (m=["pause_timeout"]);this.Y3 === f.r_.Aea && (this.Fia("2018") || this.Fia("2020")?m=["received_soad"]:this.Fia("5000") && (m=["should_reset_device"]));k=this.SGb();k && (m=[k],this.vS=void 0);if(!m)switch(this.errorCode){case f.U.C_:case f.U.h_:case f.U.qfb:case f.U.ida:this.rVb && (m=["pause_timeout"]);break;case f.U.KEa:case f.U.LEa:m=this.ya?["platform_error"]:["multiple_tabs"];break;case f.U.fca:case f.U.nIa:case f.U.kda:case f.U.hIa:m=["platform_error","plugin_error"];break;case f.U.NP:m=["no_cdm","platform_error","plugin_error"];break;case f.U.vCa:case f.U.hq:case f.U.D_:switch(this.De){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case f.U.jIa:case f.U.jda:m=["unsupported_output"];}!m && (0,f.QCa)(this.ya) && (m=this.ya == f.R.jP?["geo"]:["internet_connection_problem"]);m || this.errorCode !== f.U.ZO || this.ya !== f.R.ml || "S" !== this.platform.Dq || (m=["private_mode"]);if(!m)switch(this.Ebb(this.ya)){case f.R.Fea:m=["should_upgrade"];break;case f.R.cIa:m=["should_reset_device"];break;case f.R.bIa:m=["should_reload_device"];break;case f.R.aIa:m=["should_exit_device"];break;case f.R.Ujb:case f.R.pGa:m=["should_signout_and_signin"];break;case f.R.Vjb:m=["internet_connection_problem"];break;case f.R.tBa:m=["platform_error","plugin_error"];break;case f.R.Xgb:case f.R.tEa:case f.R.uEa:m=["private_mode"];break;case f.R.Fca:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Dq + this.errorCode);if(this.ya)switch(this.Ebb(this.ya)){case f.R.dIa:m.push("incorrect_pin");break;default:m.push("" + this.ya);}m={display:{code:this.G3,text:this.vS},messageIdList:m,alert:this.alert,alertTag:this.eha,preferredAudioLocale:null === (d=this.UF) || void 0 === d?void 0:d.H0a,preferredTextLocale:null === (g=this.UF) || void 0 === g?void 0:g.I0a};this.config().aEb && (m.debugData=this.VA);return m;};c.prototype.Ebb=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.Fia=function(d){return ((0,h.sb)(this.De)?this.De.toString():(0,h.xg)(this.De)?this.De:"").endsWith(d);};c.prototype.SGb=function(){if(this.errorCode === f.U.EI && (this.ya === f.R.fda || this.ya === f.R.$Ha))return this.TGb(this.ya === f.R.fda);};c.prototype.TGb=function(d){var g,m,k,n;k=this.config().browserInfo || ({});n=null === (g=k.os) || void 0 === g?void 0:g.name;g=((null === (m=k.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.XJa=c;},981:function(r,b){function a(c,l){this.Twa=c;this.ov=l;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;a.prototype.y0b=function(){this.A1 || (this.A1=setInterval(this.ov,this.Twa));};a.prototype.wTa=function(){this.A1 && (clearInterval(this.A1),this.A1=void 0);};b.UKa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j0=void 0;b.Eo={QI:"PRIMARY",uaa:"ASSISTIVE",xAa:"COMMENTARY",NONE:"NONE"};b.j0={assistive:b.Eo.uaa,closedcaptions:b.Eo.uaa,directorscommentary:b.Eo.xAa,commentary:b.Eo.xAa,subtitles:b.Eo.QI,primary:b.Eo.QI,none:b.Eo.NONE};},24066:function(r,b,a){var l,f,h,d,g;function c(){return l.dc.get(h.Jc).jy.ba(g.na);}Object.defineProperty(b,"__esModule",{value:!0});b.jwb=b.Yia=b.ATa=b.hwb=b.iwb=b.Xia=b.Hn=void 0;l=a(83989);f=a(30869);h=a(81918);d=a(62665);g=a(5021);b.Hn=function(){return l.dc.get(h.Jc).Eb().ba(g.na);};b.Xia=function(){return l.dc.get(f.fg).ee.ba(g.sm);};b.iwb=function(){return l.dc.get(h.Jc).jy.ba(g.sm);};b.hwb=function(){return l.dc.get(d.Bw).CA();};b.ATa=c;b.Yia=function(){return l.dc.get(f.fg).ee.ba(g.na);};b.jwb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AP=b.n_=b.hgb=b.cgb=b.egb=b.fgb=b.Yza=b.bgb=b.dgb=b.Xza=b.ggb=b.ngb=b.lgb=b.mgb=b.kgb=b.Lhb=b.Khb=b.Jhb=b.xjb=b.zjb=b.yjb=b.mGa=b.oGa=b.nGa=b.fCa=b.Mhb=b.Dba=b.dZ=b.hkb=b.Ulb=b.lGa=b.Wfb=b.qBa=b.bda=b.MI=b.A_=b.kGa=b.Dw=b.Vfb=b.Jza=b.ljb=b.xmb=b.wjb=b.vjb=b.Nlb=b.Mlb=b.Pr=b.gg=b.PKa=b.Iw=void 0;b.Hza=b.Xda=void 0;b.Iw=function(){};b.PKa=function(){return !0;};b.gg={ia:!0};b.Pr=1E3;b.Mlb=86400;b.Nlb=604800;b.vjb=1E4;b.wjb=1E7;b.xmb=1.5;b.ljb=.128;b.Jza=7.8125;b.Vfb=128;b.Dw=145152E5;b.kGa=1E5;b.A_="$netflix$player$order";b.MI=-1;b.bda=1;b.qBa=["en-US"];b.Wfb=8;b.lGa=65535;b.Ulb=65536;b.hkb=Number.MAX_VALUE;b.dZ="playready";b.Dba="widevine";b.Mhb="fps";b.fCa="clearkey";b.nGa='audio/mp4; codecs="mp4a.40.5"';b.oGa='audio/mp4; codecs="mp4a.40.42"';b.mGa='audio/mp4; codecs="mp4a.a6"';b.yjb='video/mp4; codecs="avc1.640028"';b.zjb='video/mp4; codecs="hev1.2.6.L153.B0"';b.xjb='video/mp4; codecs="dvhe.01000000"';b.Jhb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Khb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Lhb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.kgb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.mgb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.lgb="4E657466-6C69-7846-7261-6D6552617465";b.ngb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.ggb="mp4a";b.Xza="enca";b.dgb="ec-3";b.bgb="avc1";b.Yza="encv";b.fgb="hvcC";b.egb="hev1";b.cgb="dvhe";b.hgb="vp09";b.n_=0;b.AP=1;b.Xda="position:relative;width:100%;height:100%;overflow:hidden";b.Hza="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},77705:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.ZUa=b.cqa=void 0;c=a(45146);l=a(3887);f=a(32687);(function(){var d,g,m;function h(k){(0,c.oa)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;m=/[", ]/;b.ZUa=function(k){return (0,f.Uc)(k)?(0,f.sb)(k)?k:(0,f.xg)(k)?k.replace(g,h):(0,f.G1a)(k)?k:isNaN(k)?"NaN":"":"";};b.cqa=function(k){var n,p;n=b.ZUa;p="";(0,l.Zf)(k,function(q,u){q=n(q) + "=" + n(u);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var f,h,d;function c(){d || (d=f.za.get(h.rw));return d;}function l(g,m){return c().assert(g,m);}Object.defineProperty(b,"__esModule",{value:!0});b.pAb=b.Sja=b.iAb=b.mAb=b.vK=b.mS=b.lAb=b.nAb=b.nS=b.kVa=b.kAb=b.jAb=b.oa=b.oAb=b.Gfb=void 0;f=a(31276);h=a(90597);b.Gfb=function(){l(!1);};b.oAb=!0;d=void 0;b.oa=l;b.jAb=function(g,m){return c().ysb(g,m);};b.kAb=function(g,m){return c().zsb(g,m);};b.kVa=function(g,m){return c().k2(g,m);};b.nS=function(g,m){return c().Fsb(g,m);};b.nAb=function(g,m){return c().Dsb(g,m);};b.lAb=function(g,m){return c().j2(g,m);};b.mS=function(g,m){return c().Bsb(g,m);};b.vK=function(g,m){return c().Esb(g,m);};b.mAb=function(g,m){return c().Csb(g,m);};b.iAb=function(g,m){return c().xsb(g,m);};b.Sja=function(g,m){return c().Asb(g,m);};b.pAb=function(){return c().FMb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mf=void 0;b.Mf=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;b.kDa=function(a){var f,h,d,g;function c(){if(d)for(var m;m=f.pop();){m(g);}}function l(m){d=!0;g=m;c();}f=[];return function(m){f.push(m);h || (h=!0,a(l));c();};};},37509:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.r5=b.Kq=b.s5=b.gB=b.Jk=b.fe=void 0;r=a(94886);c=a(32219);l=a(22365);b.fe=new r.Qj();b.Jk=1;b.gB=2;b.s5=3;b.Kq=4;b.r5=5;(0,c.Mf)(function(){var h,d,g;function f(m,k){if(d)d.on(m,k);else nb.addEventListener(m,k);}h=nb.jQuery;d=h && h(nb);h=(h=nb.netflix) && h.cadmium && h.cadmium.addBeforeUnloadHandler;g=l.Pg.hidden;h?h(function(m){b.fe.Ec(b.Jk,m);}):f("beforeunload",function(m){b.fe.Ec(b.Jk,m);});f("keydown",function(m){b.fe.Ec(b.gB,m);});f("resize",function(){b.fe.Ec(b.s5);});l.Pg.addEventListener("visibilitychange",function(){g !== l.Pg.hidden && (g=l.Pg.hidden,b.fe.Ec(b.Kq));});});(function(){nb.addEventListener("error",function(f){b.fe.Ec(b.r5,f);return !0;});})();},52828:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);l=a(31701);a=a(11479);c.za.get(a.Sh).register(r.U.yEa,function(f){c.za.get(l.jCa)().then(function(){f({ia:!0});}).catch(function(h){c.log.error("error in initializing indexedDb debug tool",h);f({ia:!0});});});},15208:function(r,b,a){var m,k,n,p,q;function c(u){var t,v;(0,k.nS)(u);if((0,p.xg)(u) && b.MEa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,q.Ui)(t[w]);if(0 > v || !(0,p.BB)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Ui)(u[0]) << 24,t+=(0,q.Ui)(u[1]) << 16,t+=(0,q.Ui)(u[2]) << 8,t + (0,q.Ui)(u[3]));}function f(u){var t,w;(0,k.nS)(u);if((0,p.xg)(u) && u.match(b.NEa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=h(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.BB)(w,0,m.lGa))return;}return t.join(":");}}}function h(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.cjb=b.hjb=b.ejb=b.djb=b.gjb=b.bjb=b.fjb=b.dD=b.NEa=b.MEa=void 0;m=a(33096);k=a(45146);n=a(22365);p=a(32687);q=a(3887);b.MEa=/^[0-9.]*$/;b.NEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.dD="0000000000000000";b.fjb=c;b.bjb=l;b.gjb=f;b.djb=h;b.ejb=d;b.hjb=function(u,t,w){var v,y,x,z;v=c(u);y=f(u);x=c(t);z=f(t);if(!v && !y || !x && !z || v && !x || y && !z)return !1;if(u === v)return (w=g(w),(l(u) & w) !== (l(t) & w)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(v=(0,n.II)(w / b.dD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.dD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.dD.substring(0,b.dD.length - u.length) + u,t=b.dD.substring(0,b.dD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.cjb=g;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.wp=b.G1a=b.QL=b.xg=b.gpa=b.cNb=b.PMb=b.Yoa=b.BB=b.S1a=b.sb=b.fpa=b.isArray=b.l2a=b.ft=b.Uc=b.is=void 0;r=a(76564);b.is=r.eD;b.Uc=function(c){return b.is.ug(c);};b.ft=function(c){return b.is.zR(c);};b.l2a=function(c){return b.is.zga(c);};b.isArray=function(c){return b.is.nA(c);};b.fpa=function(c){return b.is.fRa(c);};b.sb=function(c,l,f){return b.is.Yj(c,l,f);};b.S1a=function(c,l,f){return b.is.iha(c,l,f);};b.BB=function(c,l,f){return b.is.AR(c,l,f);};b.Yoa=function(c){return b.is.jR(c);};b.PMb=function(c){return b.is.pqb(c);};b.cNb=function(c){return b.is.qqb(c);};b.gpa=function(c){return b.is.gRa(c);};b.xg=function(c){return b.is.Xo(c);};b.QL=function(c){return b.is.zm(c);};b.G1a=function(c){return b.is.F1(c);};b.wp=function(c){return b.is.H1(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.za.get(b.GI).h9(a.zca.Egb,function(c){var l,f;l=c.level;if(!nb._cad_global.config || l <= nb._cad_global.config.vPb){c=c.G$();f=nb.console;1 >= l?f.error(c):2 >= l?f.warn(c):f.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.za.get(a.Sh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kh=b.ikb=b.Jw=void 0;c=a(32687);b.Jw=b.Jw || (function(l,f,h){return l >= f?l <= h?l:h:f;});b.ikb=function(l,f,h,d,g){return (l - f) * (g - d) / (h - f) + d;};b.kh=function(l){if((0,c.sb)(l))return (l / 1E3).toFixed(3);};},87051:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.O5b=b.omb=b.mmb=b.lmb=b.nmb=void 0;c=a(32687);l=a(22365);b.nmb=function(f,h,d){for(d=(d - f.length) / h.length;0 < d--;){f+=h;}return f;};b.lmb=function(f,h,d){d=(0,c.xg)(d)?d:"...";return f.length <= h?f:f.substr(0,f.length - (f.length + d.length - h)) + d;};b.mmb=function(f,h){var g;for(var d=1;d < arguments.length;++d){;}g=l.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,k){return "undefined" != typeof g[k]?g[k]:m;});};b.omb=function(f){for(var h=f.length,d=new Uint16Array(h),g=0;g < h;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.O5b=function(f){var h;h=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){h[g]=d.charCodeAt(0);});return h;};},52569:function(r,b,a){var m,k,n,p,q,u;function c(){var t,w;if(t=b.f5.wPa)return t;t=p.v_.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.f5.wPa=t;}function l(t){for(var w=/[+]/g,v=(t || "").split("&"),y={},x,z=0;z < v.length;z++){t=(0,n.trim)(v[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function h(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(w,v){return w - v;});}function g(t){for(var w=0,v=t.length;v--;){w+=t[v];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.JVb=b.KF=b.lZa=b.hpa=b.FVb=b.d2a=b.igb=b.jgb=b.oFb=b.dK=b.Hwb=b.t4=b.yEb=b.HG=b.Afb=b.FO=b.Bfb=b.tY=b.zfb=b.CMb=b.createElement=b.gS=b.lWb=b.xra=b.oma=b.getFunctionName=b.KV=b.f5=b.iJb=b.E8a=b.QQa=b.gUa=b.tXb=b.zA=b.NTa=void 0;m=a(33096);k=a(31276);n=a(3887);p=a(22365);q=a(32687);u=a(82100);b.NTa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var v in t){if(t.hasOwnProperty(v) && (!w.hasOwnProperty(v) || t[v] !== w[v]))return !1;}return !0;};b.zA=b.zA || (function(t,w){if(t.length == w.length){for(var v=t.length;v--;){if(t[v] != w[v])return !1;}return !0;}return !1;});b.tXb=function(t){var w;if(t){w=t.length;if(w)return (w=(0,n.z8a)(0,w - 1),t[w]);}};b.gUa=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var v=t.length;v--;){if(t[v] !== w[v])return !1;}return !0;};b.QQa=function(t,w,v){function y(){t.removeEventListener(w,y);v.apply(this,arguments);}t.addEventListener(w,y);};b.E8a=function(){var t,w,v,y,x,z;t=p.Pg.cookie.split("; ");w=t.length;x={};for(v=0;v < w;v++){if(y=(0,n.trim)(t[v])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.iJb=c;b.f5=Object.assign(c,{wPa:void 0});b.KV=l;b.getFunctionName=f;b.oma=h;b.xra=function(t){var w;w="";(0,q.isArray)(t) || (0,q.fpa)(t)?w=p.reduce.call(t,function(v,y){return v + (32 <= y && 128 > y?(0,p.nMa)(y):".");},""):(0,q.xg)(t)?w=t:(0,n.Zf)(t,function(v,y){w+=(w?", ":"") + "{" + v + ": " + ((0,q.wp)(y)?f(y) || "function":y) + "}";});return "[" + h(t) + " " + w + "]";};b.lWb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.gS=b.gS || (function(t){var w;w="";(0,n.Zf)(t,function(v,y){w+=(w?";":"") + v + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,v,y){var x;x=p.Pg.createElement(t);w && (x.style.cssText=w);v && (x.innerHTML=v);y && (0,n.Zf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.CMb=function(t,w){var v;v=t[0];if(w <= v[0])return v.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - v[0]) / (x[0] - v[0]);w=[];for(y=1;y < v.length;y++){w.push((v[y] || 0) + t * ((x[y] || 0) - (v[y] || 0)));}return w;}v=x;}return v.slice(1);};b.zfb=function(t,w){var x;for(var v={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;v[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!v[x]))return !1;}return !0;};b.tY=d;b.Bfb=g;b.FO=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && z > x && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && z > x && (x=z);}}return x;};b.Afb=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && x > z && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && x > z && (x=z);}}return x;};b.HG=function(t){return (0,q.wp)(t.then)?t:new Promise(function(w,v){t.oncomplete=function(){w(t.result);};t.onerror=function(){v(t.error);};});};b.yEb=function(t,w){var y,x,z,A,B,D;function v(C){0 > y.indexOf(C) && (0,q.sb)(C) && y.push(C);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,n.Ui)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){D=t[z];if(D < B){v(D);break;}}break;case "+":for(z=0;z < t.length;z++){if((D=t[z],D > B)){v(D);break;}}break;default:0 <= t.indexOf(B) && v(B);}}}catch(C){}y.length || y.push(t[0]);d(y);return y;};b.t4=b.t4 || (function(t,w,v){var y;if(t / w > v){y=(0,p.sn)(w * v);t=w;}else (y=t,t=(0,p.sn)(t / v));return {width:y,height:t};});b.Hwb=function(t,w,v){for(var y=[],x=0;x < w;x++){y.push((0,p.DGa)(t[x] - v,2));}return (0,p.EGa)(g(y) / y.length);};b.dK=function(t,w){var v;v=t.length;w=(v - 1) * w + 1;if(1 === w)return t[0];if(w == v)return t[v - 1];v=(0,p.II)(w);return t[v - 1] + (w - v) * (t[v] - t[v - 1]);};b.oFb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var v=t.length,y=0;y < v;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.jgb=function(t){return t.kHb("trak/mdia/minf/stbl/stsd/" + m.Xza + "|" + m.Yza).children.filter(function(w){return "sinf" == w.type && w.kdc.schm.agc == u.Zt;})[0].kHb("schi/tenc").Zn;};b.igb=function(t){var v;function w(y,x){var z;z=v[y];v[y]=v[x];v[x]=z;}v=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return v;};b.d2a=function(){return (0,q.wp)(p.Be.requestMediaKeySystemAccess);};b.FVb=function(t){return function(w){return w && w[t];};};(0,q.wp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var v,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);v=new ArrayBuffer(w - t);y=new Uint8Array(v);t=new Uint8Array(this,t,w - t);y.set(t);return v;});b.hpa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.lZa=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.KF=function(){var t,w,v;try{t=/playercore.*js/;w=p.ju.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){v=(0,p.sn)(w[0].duration);return JSON.stringify(v);}}catch(y){}};b.JVb=function(t,w,v){if(t && t.length){if(v && v.Pvb)try{t.forEach(function(y,x){var z;z=(x=v.Pvb[x]) && x.media;z && (0,q.xg)(z)?(!1,z=(0,k.uq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Bc:x.cdn}):k.log.warn("chunk not in cache",y.yg);});}catch(y){k.log.error("error reading cached chunks",y);}else k.log.warn("chunks not available in cached stream",v.type);}else k.log.warn("chunks not available in mediabuffer",v.type);};},3887:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.bxb=b.Ml=b.$f=b.owb=b.we=b.vv=b.trim=b.Zna=b.Dbb=b.z8a=b.sUb=b.Ui=b.BRa=b.ISa=b.Td=b.Zf=void 0;c=a(45146);l=a(22365);f=a(32687);b.Zf=function(h,d){for(var g in h){h.hasOwnProperty(g) && d(g,h[g]);}};b.Td=b.Td || (function(h,d,g){var m,k,n;if(d)if(g){m=g.KU;k=g.prefix;n=g.l8;(0,b.Zf)(d,function(p,q){if(!n || (0,f.Uc)(q))h[(k || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.Zf)(d,function(p,q){h[p]=q;});return h;});b.ISa=function(h,d,g,m){var k;if(h){k=h[d];(0,f.wp)(k) && (g=k.apply(h,l.slice.call(arguments,3)));}return g;};b.BRa=function(h){for(var d={},g=h.length;g--;){d[h[g]]=!0;}return d;};b.Ui=b.Ui || (function(h){return parseInt(h,10);});b.sUb=function(h){return (/^true$/i).test(h);};b.z8a=function(h,d){return (0,l.sn)(h + (0,l.p_)() * (d - h));};b.Dbb=function(h){return JSON.stringify(h,null,"  ");};b.Zna=(function(){var d,g;function h(m){(0,c.oa)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(m){return m.replace(g,h);};})();b.trim=(function(){var h;h=/^\s+|\s+$/gm;return function(d){return d.replace(h,"");};})();b.vv=function(h){return Array.isArray(h)?h:[h];};b.we=b.we || (function(h){var d,g,m;if(h){d=h.stack;g=h.number;m=h.message;m || (m="" + h);d?(h="" + d,0 != h.indexOf(m) && (h=m + "\n" + h)):h=m;g && (h+="\nnumber:" + g);return h;}});b.owb=function(h){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){m=arguments[d++];if((0,f.Uc)(m))return m;}};b.$f=function(h){return (0,f.sb)(h)?h.toFixed(0):void 0;};b.Ml=function(h){return (0,f.sb)(h)?(h / 1E3).toFixed(0):void 0;};b.bxb=function(h){for(var d=[],g=0;g < h.length;g++){d[g]=h[g];}return d;};},29204:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C){return (C=b.config.y4b[l(C)])?C:{};}function l(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.Jwb=b.Kwb=b.YTa=b.Y2=b.ZTa=b.lja=b.config=void 0;f=a(33096);h=a(52569);d=a(31276);g=a(34231);m=a(45146);k=a(56800);n=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);w=a(45118);v=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);D=a(88195);b.ZTa=function(C,F){var La,Wa,db,U,ja,sa,Q,P,Z;function G(na,qa){(0,p.Zf)(na,function(Ha,Ya){(0,u.wp)(Ya)?qa[Ha]=Ya.call(void 0,qa[Ha]):(0,u.ft)(Ya) && (qa[Ha]=qa[Ha] || ({}),G(Ya,qa[Ha]));});}function E(na,qa,Ha,Ya){for(var Va=[],rb=3;rb < arguments.length;++rb){Va[rb - 3]=arguments[rb];}return function(mb){(0,u.Uc)(mb) && (Ha=mb);(0,m.oa)((0,u.wp)(na));return na.apply(void 0,[qa,Ha].concat(ca(Va)));};}function J(na){na=na.toLowerCase();U.hasOwnProperty(na) && (db[na]=U[na],ja[na]=U[na]);return na;}function M(na,qa,Ha){var Ya;na=na.toLowerCase();if(db.hasOwnProperty(na)){Ya=db[na];try{Ya=Ha?Ha(Ya):Ya;}catch(Va){Ya=void 0;}if(void 0 !== Ya)return Ya;(0,m.oa)(!1);d.log.error("Invalid configuration value. Name: " + na);}return qa;}function L(na,qa,Ha,Ya){return M(na,qa,function(Va){(0,u.xg)(Va) && (Va=(0,p.Ui)(Va));if((0,u.S1a)(Va,Ha,Ya))return Va;});}function H(na,qa,Ha,Ya){return M(na,qa,function(Va){(0,u.xg)(Va) && (Va=(0,p.Ui)(Va));if((0,u.BB)(Va,Ha,Ya))return Va;});}function N(na,qa,Ha,Ya){return M(na,qa,function(Va){(0,u.xg)(Va) && (Va=parseFloat(Va));if((0,u.sb)(Va,Ha,Ya))return Va;});}function I(na,qa,Ha){return M(na,qa,function(Ya){if(Ha?Ha.test(Ya):(0,u.xg)(Ya))return Ya;});}function K(na,qa){return M(na,qa,function(Ha){if("true" == Ha || !0 === Ha)return !0;if("false" == Ha || !1 === Ha)return !1;});}function O(na,qa){return M(na,qa,function(Ha){if((0,u.xg)(Ha))return JSON.parse((0,q.w_)(Ha));if((0,u.ft)(Ha))return Ha;});}function R(na,qa,Ha,Ya,Va,rb){var mb;na=na.toLowerCase();db.hasOwnProperty(na) && (mb=db[na]);if(!(0,u.Uc)(mb))return qa;if((0,u.xg)(mb))if(mb[0] !== Ha)mb=Ya(mb);else try{mb=JSON.parse((0,q.w_)(mb));}catch(Fb){mb=void 0;}if(void 0 === mb)return qa;for(na=0;na < Va.length;na++){if(!Va[na](mb))return qa;}return rb?rb(mb):mb;}function Y(na,qa,Ha,Ya,Va){return R(na,qa,"[",function(rb){rb=rb.split("|");for(var mb=rb.length;mb--;){rb[mb]=(0,p.Ui)(rb[mb]);}return rb;},[function(rb){return (0,u.isArray)(rb) && 0 < rb.length;},function(rb){for(var mb=rb.length;mb--;){if(!(0,u.BB)(rb[mb],Ha,Ya))return !1;}return !0;},function(rb){return void 0 === Va || rb.length >= Va;}]);}function oa(na,qa){return R(na,qa,"[",function(Ha){Ha=(0,u.isArray)(Ha)?Ha:Ha.split("|");for(var Ya=Ha.length;Ya--;){try{Ha[Ya]=JSON.parse((0,q.w_)(Ha[Ya]));}catch(Va){Ha=void 0;break;}}return Ha;},[function(Ha){return (0,u.isArray)(Ha) && 0 < Ha.length;},function(Ha){for(var Ya=Ha.length;Ya--;){if(!(0,u.Uc)(Ha[Ya]) || !(0,u.ft)(Ha[Ya]))return !1;}return !0;}]);}function ka(na,qa){var Ha;Ha=ha(na,[]);return Ha && 0 < Ha.length?(0,D.yh)(Ha):oa(na,qa);}function ha(na,qa,Ha,Ya){return R(na,qa,"[",function(Va){return (0,u.isArray)(Va)?Va:Va.split("|");},[function(Va){return (0,u.isArray)(Va) && 0 < Va.length;},function(Va){for(var rb=Va.length;rb--;){if(Ha?!Ha.test(Va[rb]):!(0,u.QL)(Va[rb]))return !1;}return !0;},function(Va){return void 0 === Ya || Va.length >= Ya;}]);}function za(na,qa,Ha){return R(na,qa,"{",function(Ya){var Va,mb,Fb;Va={};Ya=Ya.split(";");for(var rb=Ya.length;rb--;){mb=Ya[rb];Fb=mb.indexOf(":");if(0 >= Fb)return;Va[mb.substring(0,Fb)]=mb.substring(Fb + 1);}return Va;},[function(Ya){return (0,u.ft)(Ya) && 0 < Object.keys(Ya).length;},function(Ya){if(Ha)for(var Va in Ya){if(!Ha.test(Ya[Va]))return !1;}return !0;}],function(Ya){var Va;Va={};(0,p.Td)(Va,qa);(0,p.Td)(Va,Ya);return Va;});}function Ca(na){var qa;qa=[];(0,p.Zf)(na,function(Ha,Ya){var Va;try{Va="videoapp" === Ha.toLowerCase()?"[object object]":JSON.stringify(Ya);}catch(rb){Va="cantparse";}qa.push(Ha + "=" + Va);});return qa.join("\n");}La=/^[0-9]+[%]?$/;Wa=/^[0-9]*$/;ja={};sa=d.za.get(g.qn);Q=d.za.get(y.SI);(function(na){function qa(Ha){Ha.split(",").forEach(function(Ya){var Va;Va=Ya.indexOf("=");0 < Va && (db[Ya.substring(0,Va).toLowerCase()]=Ya.substring(Va + 1));});}db={};(0,p.Td)(db,na);C && C.length && q.forEach.call(C,function(Ha){(0,u.xg)(Ha)?qa(Ha):(0,u.ft)(Ha) && (0,p.Td)(db,Ha,{KU:!0});});U=(0,p.Td)({},(0,h.f5)(),{KU:!0});if(na=(0,h.E8a)().cadmiumconfig)(d.log.info("Config cookie loaded",na),qa(na));if(d.za.get(A.vn).U1 || db.istestaccount)((0,p.Td)(db,U),ja=U);})(F);b.config={};P={lDb:E(K,J("enableXHEAAC"),!1),CWa:E(K,J("enableDDPlus20"),!0),BWa:E(K,J("enableDDPlus"),!0),GK:E(K,J("enableDDPlusAtmos"),!1),PCb:E(K,J("enableLSSDH"),!0),MCb:E(K,J("enableHEVC"),!1),K6a:E(K,J("overrideEnableHEVC"),!1),Jka:E(K,J("enableHDR"),!1),J6a:E(K,J("overrideEnableHDR"),!1),I6a:E(K,J("overrideEnableDV"),!1),FK:E(K,J("enableAVCHigh"),Q.FK),G6a:E(K,J("overrideEnableAVCHigh"),!1),Hka:E(K,J("enableAVCHighLive"),Q.Hka),H6a:E(K,J("overrideEnableAVCHighLive"),!0),hDb:E(K,J("enableVP9"),!1),L6a:E(K,J("overrideEnableVP9"),!1),zCb:E(K,J("enableAV1"),!1),F6a:E(K,J("overrideEnableAV1"),!1),hUb:E(K,J("overrideEnableXHEAAC"),!1),fUb:E(K,"overrideEnableAllAudioProfiles",!1),gUb:E(K,"overrideEnableAllVideoProfiles",!1),YCb:E(K,J("enablePRK"),!1),JCb:E(K,J("enableDV"),!1),FWa:E(K,J("enableHWDRM"),!1),OCb:E(K,J("enableImageSubs"),!0),xE:E(ka,J("audioProfiles"),Q.xE),LCb:E(K,J("enableFullHdForWidevineL3"),!1),EWa:E(K,J("enableFullHdForWidevineL1"),!1),gDb:E(K,J("enableUHD"),!0),aaa:E(H,"videoCapabilityDetectorType",k.vl.tw),Gha:E(H,"audioCapabilityDetectorType",k.Yt.tw),uk:E(ka,J("videoProfiles"),Q.uk),Uq:E(ka,J("liveVideoProfiles"),Q.Uq),XQa:E(ka,J("additionalVideoProfiles"),[]),Upb:E(ha,J("timedTextProfiles"),Q.Mt),Mt:function(){return P.Upb().filter(function(na){return na === n.tl.lba?P.PCb():na === n.tl.JI?P.OCb():!0;});},endpoint:E(K,J("endpoint"),!1),version:E(I,"version","unknown"),NCb:E(K,J("enableHdcp"),!1),gr:E(K,J("prepareCadmium"),!1),uqb:E(K,J("acceptManifestOnPrepareItemParams"),!0),NVb:E(O,"ppmconfig",{maxNumberTitlesScheduled:1}),GS:E(K,J("enableLdlPrefetch"),!1),MWa:E(K,J("enableMediaPrefetch"),!1),TCb:E(K,J("enableManifestCache"),!0),eBb:E(K,J("deleteCachedManifestOnPlayback"),!1),dBb:E(K,J("deleteCachedManifestOnCreate"),!1),gBb:E(K,J("deleteOtherManifestCacheOnCreate"),!1),fBb:E(K,J("deleteOtherLdlCacheOnCreate"),!1),zfc:E(H,J("periodicPrepareLogsIntervalMilliseconds"),36E5),hWb:E(H,J("prepareManifestCacheMaxCount"),50),fWb:E(H,J("prepareLdlCacheMaxCount"),30),T7a:E(H,J("prepareManifestExpiryMilliseconds"),12E5),gWb:E(H,J("prepareLdlExpiryMilliseconds"),78E4),$Vb:E(H,J("prefetcherMaxWishlistSize"),10),ZVb:E(H,J("prefetcherBudgetInBytes"),Infinity),aWb:E(K,J("prefetcherOverrideItemPriority"),!0),eWb:E(I,J("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),lhc:E(O,"videoApp"),zC:E(O,"storageRules"),eGb:E(K,"ftlEnabled",!0),foa:E(H,J("imageSubsResolution"),0),MLb:E(H,J("imageSubsMaxBuffer"),Q.jQb.ba(x.Jr),0),XR:E(K,J("captureBatteryStatus"),!1),KGb:E(H,J("getBatteryApiTimeoutMilliseconds"),5E3),Tl:E(I,J("keySystemId"),Q.Tl),G2a:E(ha,J("keySystemList"),void 0,void 0),Mxa:E(K,J("validateKeySystemAccess"),!1),XQb:E(H,J("hdcpGlobalTimeout1"),1E4),YQb:E(H,J("hdcpGlobalTimeout2"),1E4),Qec:E(H,J("hdcpQueryTimeout1"),1E3),Rec:E(H,J("hdcpQueryTimeout2"),1E3),N4a:E(H,J("hdcpQueryTimeout2"),100),O4a:E(K,J("microsoftHwdrmRequiresHevc"),!1),ZQb:E(K,J("microsoftHwdrmRequiresQHD"),!1),M4a:E(K,J("microsoftClearLeadRequiresSwdrm"),!1),UQb:E(K,J("microsoftEnableDeviceInfo"),!1),VQb:E(K,J("microsoftEnableHardwareInfo"),!1),WQb:E(K,J("microsoftEnableHardwareReset"),!1),C5b:E(K,J("useHevcCodecForDolbyVision"),!1),UCb:E(K,J("enableMediaCapabilities"),!1),MVb:E(K,J("powerEfficientForVideo"),!1),VCb:E(K,J("enableMediaCapabilitiesSourceBufferCheck"),!1),rPb:E(K,"logMediaPipelineStatus",!1),mW:E(K,J("renderDomDiagnostics"),!0),E3a:function(){return -1;},ZL:E(L,J("logDisplayMaxEntryCount"),Q.ZL,-1),vPb:E(L,J("logToConsoleLevel"),-1),Rbc:E(L,J("bladerunnerCmdHistorySize"),10),Nx:function(){return sa.Nx;},Mpa:E(K,"logErrorIfEsnNotProvided",!0),Rka:E(K,"enforceSinglePlayback",Q.Rka),W3:E(K,"enforceSingleSession",Q.W3),Zia:E(K,"closeOtherPlaybacks",!0),Isb:E(H,"asyncLoadTimeout",15E3,1),GPb:E(H,"mainThreadMonitorPollRate",0),RF:function(){return sa.RF;},eK:function(){return sa.eK;},JX:function(){return sa.JX;},heb:E(H,J("verbosePlaybackInfoDenominator"),0),l9:E(K,"renderTimedText",!0),OVb:E(K,"preBufferTimedText",!0),rEb:E(K,"fatalOnTimedTextLoadError",!0),Rwa:E(za,"timedTextStyleDefaults",{}),F$:E(za,"timedTextStyleOverrides",{}),E$:E(za,"",Q.E$ || ({"default":,Q.O5),I6:E(ha,J("lessBoldLanguageList"),Q.I6),Pja:E(I,J("customDfxpUrl")),fDb:E(K,J("enableSubtitleTrackerLogging"),!1),E_b:E(K,J("sendSubtitleQoeLogblobOnMidplay"),!1),Aia:E(Y,"cdnIdWhiteList",[]),zia:E(Y,"cdnIdBlackList",[]),Rla:E(I,J("forceAudioTrack")),Vla:E(I,J("forceTimedTextTrack")),sQb:E(H,J("maxRetriesTimedTextDownload"),0),B3b:E(H,J("timedTextRetryInterval"),8E3),b2b:E(I,"storageType","idb",/^(none|fs|idb|ls)$/),A3a:E(H,"lockExpiration",1E4),pPb:E(H,"lockRefresh",3E3),gvb:E(K,"captureUnhandledExceptions",!0),LLb:E(K,"ignoreUnhandledExceptionDuringPlayback",!0),B4b:E(K,"unhandledExceptionsArePlaybackErrors",!1),cdb:E(I,"unhandledExceptionSource",""),sWb:E(K,"preserveLastFrame",!1),fRb:E(H,"minBufferingTimeInMilliseconds",4E3),aXb:E(H,"progressBackwardsGraceTimeMilliseconds",4E3),bXb:E(H,"progressBackwardsMinPercent",10),Jtb:E(I,J("bookmarkIgnoreBeginning"),"0",La),Ktb:E(I,J("bookmarkIgnoreEnd"),"5%",La),Ltb:E(I,J("bookmarkIgnoreEndForBranching"),"60000",La),sqa:E(H,"maxParallelConnections",3),kua:E(K,"reportThroughputInLogblobs",!0),Av:E(H,"minAudioMediaRequestDuration",16E3),dRb:E(H,"minAudioMediaRequestDurationBranching",0),ty:E(H,"minVideoMediaRequestDuration",4E3),mRb:E(H,"minVideoMediaRequestDurationVariableGOP",0),lRb:E(H,"minVideoMediaRequestDurationBranching",0),Nqa:E(H,"minAudioMediaRequestSizeBytes",0),Rqa:E(H,"minVideoMediaRequestSizeBytes",0),gCb:E(K,"droppedFrameRateFilterEnabled",!1),hCb:E(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),jCb:E(function(na,qa,Ha,Ya,Va,rb){return R(na,qa,"[",function(mb){mb=mb.split(";");for(var Fb=mb.length;Fb--;){mb[Fb]=mb[Fb].split("|");for(var Kb=mb[Fb].length;Kb--;){mb[Fb][Kb]=(0,p.Ui)(mb[Fb][Kb]);}}return mb;},[function(mb){return (0,u.isArray)(mb) && 0 < mb.length;},function(mb){for(var Fb=mb.length;Fb-- && void 0 !== mb;){if(!(0,u.isArray)(mb[Fb]))return !1;for(var Kb=mb[Fb].length;Kb--;){if(!(0,u.BB)(mb[Fb][Kb],Ha,Ya))return !1;}}return !0;},function(mb){if(void 0 !== Va)for(var Fb=mb.length;Fb--;){if(Va !== mb[Fb].length)return !1;}return !0;},function(mb){return void 0 === rb || mb.length >= rb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),iCb:E(H,"droppedFrameRateFilterMinHeight",384),kCb:E(Y,"droppedFramesPercentilesList",[]),$Qb:E(K,"microsoftScreenSizeFilterEnabled",!1),ZNb:E(K,"keyStatusFilterEnabled",!1),x4b:E(K,"uiLabelFilterEnabled",!0),w4b:E(O,"uiLabelFilter",{}),OAb:E(H,J("defaultVolume"),100,0,100),tqa:E(H,J("maxPlaybackRate"),2,0,16),uXa:E(K,"fastForwardAds",!1),SVa:E(K,"disableVideoRightClickMenu",!1),u7:E(H,"minDecoderBufferMilliseconds",1E3,0,f.Dw),ZB:E(H,"optimalDecoderBufferMilliseconds",5E3,0,f.Dw),dsa:E(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Dw),A7:E(H,"minimumTimeBeforeBranchDecision",3E3,0,f.Dw),e5a:E(H,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Dw),py:E(H,"maxDecoderBufferMilliseconds",Q.py.ba(z.na),0,f.Dw),pVa:E(H,"decoderTimeoutMilliseconds",1E4,1),G5a:E(H,"noRenderTimeoutMilliseconds",0),jeb:E(H,"videoGapsTimeoutMilliseconds",500),IUb:E(H,"pauseTimeoutLimitMilliseconds",18E5),joa:E(H,"inactivityMonitorInterval",3E4,0),tqb:E(Y,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),JK:E(K,"enableTrickPlay",!1),vrb:E(Y,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),d4b:E(H,"trickPlayHighResolutionBitrateThreshold",1E3),e4b:E(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),h4b:E(N,"trickplayBufferFactor",.5),c4b:E(H,"trickPlayDownloadRetryCount",1),jqa:E(I,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),XDb:E(ha,"experimentalFilter",["throughput-wssl"]),Oia:E(I,"ciPredictorSource","throughput-ci"),awa:E(I,"simulationDurationStrategy","default"),bra:E(I,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),eEa:E(O,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),n4a:E(L,"maxIQRSamples",Infinity),W4a:E(L,"minIQRSamples",5),Wdb:E(K,"useResourceTimingAPI",!1),JLb:E(K,"ignoreFirstByte",!0),lEb:E(Y,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),Z2:E(H,"connectTimeoutMilliseconds",8E3,500),kra:E(H,"noProgressTimeoutMilliseconds",8E3,500),scb:E(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),hfc:E(H,"netflixRequestExpiryTimeout",0),F6b:E(K,"webkitDecodedFrameCountIncorrectlyReported",!1),x$:E(ha,J("supportedAudioTrackTypes"),[],void 0,1),U5:E(H,"initialLogFlushTimeout",5E3),w7a:E(I,"playdataPersistKey",sa.Nx?"unsentplaydatatest":"unsentplaydata"),kgc:E(K,"sendPersistedPlaydata",!0),mVb:E(H,"playdataPersistIntervalMilliseconds",4E3),Bfc:E(H,"playdataSendDelayMilliseconds",1E4),lgc:E(K,"sendPlaydataBackupOnInit",!0),tPb:E(ha,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),P4a:E(K,"midplayEnabled",!0),q7:E(H,"midplayIntervalMilliseconds",3E5),Q4a:E(Y,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),J3:E(H,"downloadReportDenominator",0),YBb:E(H,"downloadReportInterval",3E5),D3a:E(H,"logConfigApplyDenominator",0),iSa:E(za,J("bookmarkByMovieId"),{}),YS:E(K,J("forceLimitedDurationLicense"),!1),GB:E(H,J("licenseRenewalRequestDelay"),0),Esa:E(H,J("persistedReleaseDelay"),1E4),sec:E(K,J("limitedDurationFlagOverride"),void 0),e$a:E(H,"safariPlayPauseWorkaroundDelay",100),P6b:E(H,"workaroundValueForSeekIssue",1200),tia:E(K,J("callEndOfStream"),Q.tia),RUb:E(K,"performRewindCheck",!0),tEb:E(K,"fatalOnUnexpectedSeeking",!0),sEb:E(K,"fatalOnUnexpectedSeeked",!0),qEb:E(K,"fatalOnManifestMistmatch",!0),B0b:E(K,J("setVideoElementSize")),ewb:E(K,J("clearVideoSrc"),!0),EVa:E(H,J("delayPlayPause"),0),Fr:E(K,J("useTypescriptEme"),!1),Pdb:E(K,J("useEncryptedEvent"),!0),zS:E(I,J("drmPersistKey"),"unsentDrmData"),l8a:E(K,J("promiseBasedEme"),!1),ySb:E(K,J("nudgeSourceBuffer"),!1),s$a:E(L,J("seekDelta"),1),VV:E(K,J("preciseSeeking"),!1),PVb:E(K,J("preciseSeekingOnTwoCoreDevice"),!1),DVa:E(za,J("delayErrorHandling")),bk:E(I,"esn",""),wXa:E(I,"fesn",""),aDb:E(K,J("enablePerformanceLogging"),!1),DWa:E(K,J("enableEmeVerboseLogging"),!1),appId:E(I,"appId","",Wa),sessionId:E(I,"sessionId","",Wa),RSa:E(I,"cdnProxyUrl"),J5b:E(K,"usePlayReadyHeaderObject",!1),cYa:E(H,"forceXhrErrorResponseCode",void 0),kp:{efc:E(I,"mslApiPath","/msl/"),Jfc:E(I,"proxyPath",""),cw:E(I,"uiVersion"),O$:E(I,"uiPlatform"),ecc:function(){return "0";},bta:E(ha,"preferredLanguages",f.qBa,/^[a-zA-Z-]{2,5}$/,1),wFb:E(I,J("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),I2b:E(K,"supportPreviewContentPin",!0),J2b:E(K,"supportWatermarking",!0),f1b:E(K,"showAllSubDubTracks",!1),idc:E(K,J("failOnGuidMismatch"),!1)},X8:{enabled:E(K,"qcEnabled",!1),gn:E(I,"qcPackageId","")},Er:E(K,"useRangeHeader",!1),HS:E(K,"enableMilestoneEventList",!0),ltb:E(za,"authenticationKeyNames",(0,p.Td)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),W2b:E(I,"systemKeyWrapFormat"),$0b:E(K,"shouldSendUserAuthData",!0),sva:E(K,"sendUserAuthIfRequired",Q.sva),T0b:E(K,"shouldClearUserData",!1),pO:E(K,"usesMsl",!0),GRb:E(K,"mslDeleteStore",!1),IRb:E(K,"mslPersistStore",!0),gxb:E(K,"correctNetworkForShortTitles",!0),LVb:E(K,"postplayHighInitBitrate",!1),R2b:E(K,"supportsUnequalizedDownloadables",!0),lVa:E(H,J("debugAseDenominator"),100),e2:E(H,"aseAudioBufferSizeBytes",Q.e2.ba(x.Jr)),i2:E(H,"aseVideoBufferSizeBytes",Q.i2.ba(x.Jr)),h2:E(H,"aseTextBufferSizeBytes",Q.h2.ba(x.Jr)),nt:E(H,"minInitVideoBitrate",560),hRb:E(H,"minHCInitVideoBitrate",560),qy:E(H,"maxInitVideoBitrate",Infinity),cV:E(H,"minInitAudioBitrate",0),v7:E(H,"minHCInitAudioBitrate",0),RU:E(H,"maxInitAudioBitrate",65535),r7:E(H,"minAcceptableVideoBitrate",235),QB:E(H,"minRequiredBuffer",3E4),Zq:E(H,"minPrebufSize",7800),Oqa:E(H,"minCheckBufferingCompleteInterval",999999),Pta:E(N,"rebufferingFactor",1),Xq:E(H,"maxBufferingTime",2600),Jxa:E(K,"useMaxPrebufSize",!0),NB:E(H,"maxPrebufSize",45E3),uqa:E(H,"maxRebufSize",Infinity),S5:E(oa,"initialBitrateSelectionCurve",null),e1a:E(H,"initSelectionLowerBound",560),f1a:E(H,"initSelectionUpperBound",1050),vX:E(H,"throughputPercentForAudio",15),Pha:E(H,"bandwidthMargin",10),Qha:E(K,"bandwidthMarginContinuous",!1),Rha:E(oa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),nja:E(H,"conservBandwidthMargin",20),Gwa:E(K,"switchConfigBasedOnInSessionTput",!1),pja:E(H,"conservBandwidthMarginTputThreshold",0),oja:E(oa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Ubb:E(K,"switchAlgoBasedOnHistIQR",!1),Hwa:E(I,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),t4a:E(L,"maxPlayerStateToSwitchConfig",-1),I3a:E(I,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),OEa:E(N,"IQRThreshold",.5),z0a:E(I,"histIQRCalcToUse","simple"),UU:E(H,"maxTotalBufferLevelPerSession",0),FS:E(K,"enableCombinedPlaygraphs",!0),kF:E(K,"enableAdPlaygraphs",!0),u9:E(K,"retainSbrOnFade",!1),ila:E(ha,"excludedContentPlaygraphIds",[]),S3:E(K,"enableDiscontiguousBuffering",!1),Tla:E(Y,"forceImmediateTransitionTypeForTitles",[]),Sla:E(H,"forceImmediateTransitionExitZone",0),S$:E(K,"useBufferSizeLimiter",!1),D5b:E(K,"useLegacyFragmentRounding",!1),u0a:E(H,"highWatermarkLevel",3E4),Acb:E(H,"toStableThreshold",3E4),H$:E(H,"toUnstableThreshold",Q.H$.ba(z.na)),cwa:E(K,"skipBitrateInUpswitch",!1),$xa:E(H,"watermarkLevelForSkipStart",8E3),Una:E(H,"highStreamRetentionWindow",9E4),Wpa:E(H,"lowStreamTransitionWindow",51E4),Wna:E(H,"highStreamRetentionWindowUp",3E5),Ypa:E(H,"lowStreamTransitionWindowUp",3E5),Vna:E(H,"highStreamRetentionWindowDown",6E5),Xpa:E(H,"lowStreamTransitionWindowDown",0),Tna:E(N,"highStreamInfeasibleBitrateFactor",.5),ly:E(H,"lowestBufForUpswitch",15E3),GU:E(H,"lockPeriodAfterDownswitch",15E3),aqa:E(H,"lowWatermarkLevel",25E3),my:E(H,"lowestWaterMarkLevel",2E4),bqa:E(K,"lowestWaterMarkLevelBufferRelaxed",!1),k7:E(N,"mediaRate",1),c7:E(H,"maxTrailingBufferLen",1E4),Eha:E(H,"audioBufferTargetAvailableSize",262144),Oxa:E(H,"videoBufferTargetAvailableSize",1048576),B4a:E(H,"maxVideoTrailingBufferSize",8388608),f4a:E(H,"maxAudioTrailingBufferSize",393216),j4:E(N,"fastUpswitchFactor",3),sla:E(N,"fastDownswitchFactor",1),tG:E(H,"maxMediaBufferAllowed",24E4),Kab:E(K,"simulatePartialBlocks",!0),Jab:E(K,"simulateBufferFull",!0),qja:E(K,"considerConnectTime",!1),mja:E(N,"connectTimeMultiplier",1),BPb:E(H,"lowGradeModeEnterThreshold",12E4),CPb:E(H,"lowGradeModeExitThreshold",9E4),i4a:E(H,"maxDomainFailureWaitDuration",3E4),nqa:E(H,"maxAttemptsOnFailure",40),Kka:E(K,"enableMaxAttemptsOnFailure",!0),hXa:E(K,"exhaustAllLocationsForFailure",!0),p4a:E(H,"maxNetworkErrorsDuringBuffering",20),X6:E(H,"maxBufferingTimeAllowedWithNetworkError",12E4),tXa:E(H,"fastDomainSelectionBwThreshold",2E3),icb:E(H,"throughputProbingEnterThreshold",4E4),jcb:E(H,"throughputProbingExitThreshold",34E3),y3a:E(H,"locationProbingTimeout",1E4),AXa:E(H,"finalLocationSelectionBwThreshold",1E4),gcb:E(N,"throughputHighConfidenceLevel",.75),hcb:E(N,"throughputLowConfidenceLevel",.4),OWa:E(K,"enablePerfBasedLocationSwitch",!1),ZG:E(K,"probeServerWhenError",!0),ota:E(H,"probeRequestTimeoutMilliseconds",8E3),yR:E(K,"allowSwitchback",!0),a8a:E(H,"probeDetailDenominator",100),Y6:E(H,"maxDelayToReportFailure",300),Jpa:E(H,"locationStatisticsUpdateInterval",6E4),ixb:E(K,"countGapInBuffer",!1),Jrb:E(K,"allowCallToStreamSelector",!0),Ztb:E(H,"bufferThresholdForAbort",1E4),rQb:E(H,"maxResponsesInitialTput",6),HWa:E(K,"enableInitialTputLogging",!1),XUb:E(H,"pipelineScheduleTimeoutMs",2),dM:E(H,"maxPartialBuffersAtBufferingStart",2),wQb:E(H,"maxStreamingSkew",4E3),pQb:E(H,"maxPendingBufferPercentage",10),E5:E(H,"headerRequestSize",4096),Zka:E(K,"estimateHeaderSize",!1),t7:E(H,"minBufferLenForHeaderDownloading",1E4),yua:E(H,"reserveForSkipbackBufferMs",1E4),ASb:E(H,"numExtraFragmentsAllowed",2),mo:E(K,"pipelineEnabled",!1),Rab:E(H,"socketReceiveBufferSize",0),p2:E(H,"audioSocketReceiveBufferSize",32768),daa:E(H,"videoSocketReceiveBufferSize",65536),Rna:E(H,"headersSocketReceiveBufferSize",32768),h5b:E(H,"updatePtsIntervalMs",1E3),bub:E(H,"bufferTraceDenominator",100),oSa:E(H,"bufferLevelNotifyIntervalMs",2E3),ER:E(H,"aseReportDenominator",0),zha:E(H,"aseReportIntervalMs",3E5),ACb:E(K,"enableAbortTesting",!1),rqb:E(H,"abortRequestFrequency",8),l2b:E(H,"streamingStatusIntervalMs",2E3),UV:E(H,"prebufferTimeLimit",24E4),T4a:E(H,"minBufferLevelForTrackSwitch",2E3),ysa:E(H,"penaltyFactorForLongConnectTime",2),Upa:E(H,"longConnectTimeThreshold",200),aha:E(H,"additionalBufferingLongConnectTime",2E3),bha:E(H,"additionalBufferingPerFailure",8E3),gW:E(H,"rebufferCheckDuration",6E4),SCb:E(K,"enableLookaheadHints",!1),zPb:E(H,"lookaheadFragments",2),IK:E(K,"enableOCSideChannel",!0),y_:E(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),odb:E(K,"updateDrmRequestOnNetworkFailure",!1),ZAb:E(K,"deferAseScheduling",!1),fQb:E(H,"maxDiffAudioVideoEndPtsMs",16E3),cka:E(H,"defaultHeaderCacheSize",4),bka:E(H,"defaultHeaderCacheDataPrefetchMs",8E3),cra:E(K,"neverWipeHeaderCache",!0),ara:E(H,"networkFailureResetWaitMs",2E3),$qa:E(H,"networkFailureAbandonMs",6E4),b7:E(H,"maxThrottledNetworkFailures",3),C$:E(H,"throttledNetworkFailureThresholdMs",200),$pa:E(L,"lowThroughputThreshold",400),hla:E(K,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),DRb:E(K,"mp4ParsingInNative",!1),D1b:E(K,"sourceBufferInOrderAppend",!0),oN:E(K,"requireAudioStreamToEncompassVideo",!0),Irb:E(K,"allowAudioToStreamPastVideo",!0),LWa:E(K,"enableManagerDebugTraces",!1),R3a:E(H,"managerDebugMessageInterval",1E3),Q3a:E(H,"managerDebugMessageCount",20),mfc:E(K,"notifyManifestCacheEom",!1),aub:E(H,"bufferThresholdToSwitchToSingleConnMs",18E4),$tb:E(H,"bufferThresholdToSwitchToParallelConnMs",12E4),v8:E(H,"periodicHistoryPersistMs",3E5),F9:E(H,"saveVideoBitrateMs",18E4),oRa:E(K,"appendMediaRequestOnComplete",!0),Vxa:E(K,"waitForDrmToAppendMedia",!1),Qla:E(K,J("forceAppendHeadersAfterDrm"),!1),tFb:E(K,J("forceAppendEncryptedStreamHeaderFirst"),!0),CXb:E(K,J("reappendRequestsOnSkip"),!1),NRb:E(H,"netIntrStoreWindow",36E3),jRb:E(H,"minNetIntrDuration",8E3),nEb:E(H,"fastHistoricBandwidthExpirationTime",10368E3),stb:E(H,"bandwidthExpirationTime",5184E3),mEb:E(H,"failureExpirationTime",86400),kLb:E(H,"historyTimeOfDayGranularity",4),WDb:E(K,"expandDownloadTime",!1),sRb:E(H,"minimumMeasurementTime",500),rRb:E(H,"minimumMeasurementBytes",131072),r3b:E(H,"throughputMeasurementTimeout",2E3),kMb:E(H,"initThroughputMeasureDataSize",262144),s3b:E(I,"throughputPredictor","ewma"),q3b:E(H,"throughputMeasureWindow",5E3),w3b:E(H,"throughputWarmupTime",5E3),p3b:E(H,"throughputIQRMeasureWindow",5E3),ijb:E(H,"IQRBucketizerWindow",15E3),Mwb:E(H,"connectTimeHalflife",10),sZb:E(H,"responseTimeHalflife",10),jLb:E(H,"historicBandwidthUpdateInterval",2E3),qRb:E(H,"minimumBufferToStopProbing",1E4),fva:E(I,"secondThroughputEstimator","none"),p$a:E(L,"secondThroughputMeasureWindowInMs",Infinity),KCb:E(ha,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),DEb:E(O,"filterDefinitionOverrides",{}),IAb:E(I,"defaultFilter","throughput-ewma"),e_b:E(I,"secondaryFilter","none"),JAb:E(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Zqa:E(K,"needMinimumNetworkConfidence",!0),Uha:E(K,"biasTowardHistoricalThroughput",!0),Mga:E(K,"addHeaderDataToNetworkMonitor",!1),jwa:E(K,"startMonitorOnLoadStart",!1),jua:E(K,"reportFailedRequestsToNetworkMonitor",!1),pqa:E(L,"maxFastPlayBufferInMs",Infinity),k4a:E(L,"maxFastPlayBitThreshold",Infinity),mha:E(K,"appendFirstHeaderOnComplete",!0),tsb:E(I,"ase_stream_selector","optimized"),voa:E(I,"initBitrateSelectorAlgorithm","default"),cia:E(I,"bufferingSelectorAlgorithm","default"),qAb:E(I,"ase_ls_failure_simulation",""),Tja:E(K,"ase_dump_fragments",!1),Uja:E(H,"ase_location_history",0),mVa:E(H,"ase_throughput",0),rAb:E(K,"ase_simulate_verbose",!1),GVb:E(H,"pollingPeriod",150),kPb:E(H,"loadTimeMs",18E4),YPb:E(H,"marginTimeMs",1E4),sma:E(K,"getDeviceIdFromBindDevice",!1),Lga:E(K,"addFailedLogBlobsToQueue",!0),y4b:{"content-sampling":{Xq:E(H,"contentSamplingMaxBufferingTime",3E3),AN:E(I,"contentSamplingSelectStartingVMAFMethod","fallback"),oR:E(K,"contentSamplingActivateSelectStartingVMAF",!0),ot:E(H,"contentSamplingMinStartingVideoVMAF",80),aV:E(H,"contentSamplingMinAcceptableVMAF",70),yG:E(H,"contentSamplingMinAllowedVmaf",60)},billboard:{nt:E(H,"billboardMinInitVideoBitrate",1050),qy:E(H,"billboardMaxInitVideoBitrate",null),Zq:E(H,"billboardMinPrebufSize",null),NB:E(H,"billboardMaxPrebufSize",null),Xq:E(H,"billboardMaxBufferingTime",null),dM:E(H,"billboardMaxPartialBuffersAtBufferingStart",null),my:E(H,"billboardLowestWaterMarkLevel",6E3),ly:E(H,"billboardLowestBufForUpswitch",25E3),Hwa:E(I,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{nt:E(H,"preplayMinInitVideoBitrate",1050),qy:E(H,"preplayMaxInitVideoBitrate",null),Zq:E(H,"preplayMinPrebufSize",null),NB:E(H,"preplayMaxPrebufSize",null),Xq:E(H,"preplayMaxBufferingTime",null),dM:E(H,"preplayMaxPartialBuffersAtBufferingStart",null),my:E(H,"preplayLowestWaterMarkLevel",6E3),ly:E(H,"preplayLowestBufForUpswitch",25E3)},embedded:{nt:E(H,"embeddedMinInitVideoBitrate",1050),qy:E(H,"embeddedMaxInitVideoBitrate",null),Zq:E(H,"embeddedMinPrebufSize",null),NB:E(H,"embeddedMaxPrebufSize",null),Xq:E(H,"embeddedMaxBufferingTime",null),dM:E(H,"embeddedMaxPartialBuffersAtBufferingStart",null),my:E(H,"embeddedLowestWaterMarkLevel",6E3),ly:E(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{nt:E(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),qy:E(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Zq:E(H,"videoMerchBobHorizontalMinPrebufSize",null),NB:E(H,"videoMerchBobHorizontalMaxPrebufSize",null),Xq:E(H,"videoMerchBobHorizontalMaxBufferingTime",null),dM:E(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),my:E(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ly:E(H,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{nt:E(H,"miniModalHorizontalMinInitVideoBitrate",null),qy:E(H,"miniModalHorizontalMaxInitVideoBitrate",null),Zq:E(H,"miniModalHorizontalMinPrebufSize",null),NB:E(H,"miniModalHorizontalMaxPrebufSize",null),Xq:E(H,"miniModalHorizontalMaxBufferingTime",500),dM:E(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),my:E(H,"miniModalHorizontalLowestWaterMarkLevel",null),ly:E(H,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},iDb:E(K,"enableVerbosePlaydelayLogging",!1),dDb:E(K,"enableSeamless",!1),x0a:E(H,"hindsightDenominator",0),w0a:E(H,"hindsightDebugDenominator",0),y0a:E(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),PWa:E(K,"enableSessionHistoryReport",!1),nWa:E(H,"earlyStageEstimatePeriod",1E4),a3a:E(H,"lateStageEstimatePeriod",3E4),q4a:E(H,"maxNumSessionHistoryStored",30),$4a:E(H,"minSessionHistoryDuration",3E4),QU:E(H,"maxActiveRequestsPerSession",3),d4a:E(H,"maxActiveRequestsSABCell100",2),Cpa:E(K,"limitAudioDiscountByMaxAudioBitrate",!0),nd:E(O,"browserInfo",{}),mub:E(H,J("busyGracePeriod"),199),F_b:E(K,J("sendTransitionLogblob"),!0),rCb:E(K,J("editVideoFragments"),!0),mWa:E(K,J("earlyAppendSingleChildBranch"),!0),ULb:E(K,J("includeSegmentInfoOnLogblobs"),!0),bEb:E(K,"exposeTestData",!1),aEb:E(K,J("exposeErrorData"),!1),oVa:E(K,"declareBufferingCompleteAtSegmentEnd",!0),DR:E(K,J("applyProfileTimestampOffset"),!1),U8:E(O,J("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Bm:E(K,J("applyProfileStreamingOffset"),!1),m7:E(K,J("mediaSourceSupportsNegativePts"),!1),Orb:E(K,J("allowSmallSeekDelta"),!1),t1b:E(H,J("smallSeekDeltaThresholdMilliseconds"),t.W_),FCb:E(K,"enableCDMAttestedDescriptors",!1),tua:E(K,"requireDownloadDataAtBuffering",!1),uua:E(K,"requireSetupConnectionDuringBuffering",!1),X8a:E(K,"recordFirstFragmentOnSubBranchCreate",!1),Sdb:E(K,"useMobileVMAF",!1),KVa:E(I,"desiredVMAFTypeMobile","phone_plus_lts"),LVa:E(I,"desiredVMAFTypeNonMobile","plus_lts"),oR:E(K,"activateSelectStartingVMAF",!1),ot:E(H,"minStartingVideoVMAF",1),aV:E(H,"minAcceptableVMAF",1),yG:E(H,"minAllowedVmaf",1),Rrb:E(K,"alwaysNotifyEOSForPlaygraph",!0),WCb:E(K,"enableNewAse",!0),E5b:E(K,"useNewApi",!0),W6:E(H,"maxAllowedOutstandingRequests",4),TJ:E(K,"alwaysRunUnderflowTimer",!0),Pqa:E(H,"minStreamableConcurrencyWindow",3E3),vwa:E(N,"streamableConcurrencyFactor",.3),SR:E(H,"bufferingConcurrencyWindow",7800),n1b:E(K,"singleStreamablePerBranch",!0),V3:E(K,"enableResolutionVMAFStreamFilter",!1),t9:E(O,"resolutionVMAFCappingRuleList",{}),Bsa:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),GBb:E(K,"disableSkipping",!1),T$:E(K,"useHLSPlayer",Q.T$),Ixa:E(K,J("useExitZones"),!0),aZb:E(K,"requestSegmentVmaf",!1),JM:E(O,"perFragmentVMAFConfig",{enabled:!1}),ksa:E(H,"paddingDurationMs",1E3),lsa:E(I,"paddingMediaType","padding"),Sbb:E(K,"supportsPtsChanged",!1),SVb:E(K,J("preferUnletterboxed"),!1),IWa:E(K,"enableKeySystemRestrictor",!1),LDb:E(H,"errorEventToRestrict",2),KDb:E(Y,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),JDb:E(Y,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),AWa:E(K,"enableCachedErrors",!1),yub:E(H,"cachedErrorCountLimit",20),Aub:E(H,"cachedErrorExpirationSeconds",604800),Bub:E(H,"cachedErrorsStorageTimeoutSeconds",2E3),YL:E(H,"liveTargetBufferDuration",1E4),K6:E(H,"liveEdgeCushion",2E3),P6:E(K,"liveSwitchStreamsOnErrorInPipeline",!0),ROb:E(L,"liveEdgeThreshold",1E4),zFb:E(L,"forceLiveEdgeInStartSlateIntervalMs",6E4),QCb:E(K,"enableLivePlaybackRateDriftCorrection",!1),ZOb:E(N,"livePlaybackRateMin",.98),YOb:E(N,"livePlaybackRateMax",1.02),XOb:E(L,"livePlaybackRateAdjustmentThresholdMs",20),WOb:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),VOb:E(N,"livePlaybackRateAdjustmentFactor",.1),vFb:E(L,"forceAstRelativeLiveBookmark",void 0),xFb:E(L,"forceEstRelativeLiveBookmark",void 0),U1b:E(L,"startSlateMs",void 0),aPb:E(L,"liveSlateMs",void 0)};Z=!0;b.lja=function(na){var qa,Ha,Ya;qa=d.za.get(B.Jc).id;if(0 < b.config.D3a && 0 === qa % b.config.D3a)try{Ha=d.za.get(w.nl);Ya=d.za.get(v.Cw).Ds("config","info",{params:na});Ha.vc(Ya);}catch(Va){d.log.error("Failed to log config$apply",Va);}nb._cad_global.config=b.config;(0,m.oa)(na);na && (db=(0,p.Td)({},na,{KU:!0}),(0,p.Td)(db,ja,{KU:!0}),G(P,b.config),db.istestaccount && d.log.trace("Config applied for",Ca(Z?db:na)),Z=!1);};(0,b.lja)(db);};b.Y2=function(C){C=c(C);return (0,p.Td)({},a(87141)(C),{l8:!0});};b.YTa=function(C,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Av:C?b.config.dRb:b.config.Av,ty:C?b.config.lRb:G?b.config.mRb:b.config.ty,mWa:!F};return (0,p.Td)({},a(87141)(C),{l8:!0});};b.Kwb=c;b.Jwb=l;},70:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);l=a(33096);f=a(36129);h=a(22365);r=a(31276);a=a(11479);d=r.za.get(a.Sh);d.register(f.U.IEa,function(g){h.jp && h.jp.generateKey && h.jp.importKey && h.jp.unwrapKey?(d.je("wcs"),(0,c.HG)(h.jp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.je("wcdone");g(l.gg);},function(m){var k;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))k=f.R.Fea;else 0 <= m.indexOf("timeout waiting for iframe to load") && (k=f.R.Amb);g({ya:k,Jb:m});})):g({ya:f.R.Fea});});},1481:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(45146);h=a(31276);d=a(68703);g=a(22365);m=a(11479);k=a(91581);n=h.za.get(m.Sh);n.register(r.U.fca,function(p){var q,u,t;q=h.za.get(k.vn);(0,f.oa)(l.config);(0,f.oa)(g.Az && g.Az.getDeviceId || g.tHa || q.aL);u=h.za.get(d.QBa);t=(0,h.Ri)("Device");n.je("devs");u.create({deviceId:l.config.deviceId,aL:q.aL,NVa:"deviceid",bk:l.config.bk,Mn:q.Mn,sS:q.sS,userAgent:g.pD,Mpa:l.config.Mpa,sma:l.config.sma,gfc:l.config.Nx?"mslstoretest":"mslstore",pO:l.config.pO}).then(function(w){b.Fk=w;nb._cad_global.device=b.Fk;t.info("Esn source: " + b.Fk.Z3);n.je("devdone");p(c.gg);}).catch(function(w){w.ia=void 0;p(w);});});},15531:function(r,b,a){var n,p,q,u,t,w,v;function c(y,x,z,A,B){var D;D={};"right" == y.horizontalAlignment?D.right=100 * (z - x.left - x.width - B) / z + "%":D.left=100 * (x.left - B) / z + "%";"bottom" == y.verticalAlignment?D.bottom=100 * (A - x.top - x.height - B) / A + "%":D.top=100 * (x.top - B) / A + "%";return D;}function l(y,x){var z;if(y && x){40 === x.x && 19 === x.y?z=4 / 3 / (40 / 19):52 === x.x && 19 === x.y && (z=16 / 9 / (52 / 19));if(z)return y.width / y.fontSize / z;}}function f(y,x,z,A,B,D,C){for(var F=y.style,G=(0,p.Zna)(y.text),E=y.lineBreaks;E--;){G="<br />" + G;}return h(G,F,x,z,A,B,D,y.lang,C);}function h(y,x,z,A,B,D,C,F,G){var E;E=x.characterStyle;B=B[E];E=0 <= E.indexOf("MONOSPACE")?l(B,x.cellResolution) || B.lineHeight:B.lineHeight;A=x.characterSize * A.height / (E || 1);F && "ja" === F.slice(0,2) && x.ruby && "text" === x.ruby && (A/=2);A=0 < D?(0,q.II)(A * D):(0,q.sn)(A);D={"font-size":A + "px","line-height":"normal","font-weight":"normal"};x.characterItalic && (D["font-style"]="italic");x.characterUnderline && (D["text-decoration"]="underline");x.characterColor && (D.color=x.characterColor);x.backgroundColor && 0 !== x.backgroundOpacity && (D["background-color"]=d(x.backgroundColor,x.backgroundOpacity));if(F && "ja" === F.slice(0,2)){if(x.textEmphasis){A=x.textEmphasis;switch(A.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === C || "vertical-rl" === C?"filled sesame":"filled circle";break;default:D["text-emphasis"]=A.textEmphasisFill + " " + A.textEmphasisShape;}G=m(A.textEmphasisPosition,G);switch(C){case "vertical-rl":D["text-emphasis-position"]=w[G];break;case "vertical-lr":D["text-emphasis-position"]=v[G];break;default:D["text-emphasis-position"]=t[G];}}x.textCombine && (D["text-combine-upright"]=x.textCombine);}C=x.characterEdgeColor || "#000000";switch(x.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=C + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + C + ",0px 1px " + C + ",1px 0px " + C + ",0px -1px " + C;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}C=(0,n.gS)(D);(z=z[x.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (C+=";" + z);z=x.characterOpacity;0 < z && 1 > z && (y='<span style="opacity:' + z + '">' + y + "</span>");F && "ja" === F.slice(0,2)?(y='<span lang="ja" style="' + C + '">' + y + "</span>",x.ruby && "text" === x.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + C + '">' + y + "</span>";return y;}function d(y,x){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== x?x:1) + ")";}function g(y,x,z){var A;A="";y && "text" === y && (A='<ruby style="ruby-position: ' + ("before" === x || "over" === x || "outside" === x && 0 === z?"over":"under") + '">');return A;}function m(y,x){return y === u[0] || "outside" === y && 0 === x?u[0]:u[1];}function k(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}Object.defineProperty(b,"__esModule",{value:!0});b.ARb=b.$wb=b.kub=b.YWa=b.BDb=b.zDb=b.CDb=b.ADb=b.ZWa=b.$Wa=b.Tka=void 0;n=a(52569);p=a(3887);q=a(22365);b.Tka=function(y,x,z,A,B){var D,C,F,G,E,J;D="";C="";F=0;G="";E=!1;J="";y.textNodes.forEach(function(M){var L,H,N,I;F+=M.lineBreaks;N=f(M,z,x,A,B,y.region.writingMode,F);if(M.lang && "ja" === M.lang.slice(0,2)){if(M.style && M.style.ruby && "" != M.style.ruby && ("container" !== M.style.ruby && (J+=N),N="","text" === M.style.ruby)){I=g(M.style.ruby,null !== (L=M.style.rubyPosition) && void 0 !== L?L:"outside",F);E="" !== I;J=I + J;}!G || "" === G || M.style.ruby && "" !== M.style.ruby || (J=k(J + (E?"</ruby>":"")),N=J + N,E=!1,J="");}D+=N;G=null !== (H=M.style.ruby) && void 0 !== H?H:"";"" === C && M.style && M.style.shear && (C="font-style: oblique " + -90 * parseFloat(M.style.shear) + "deg;");});"" !== J && (D+=J + (E?"</ruby>":""));y.region && y.region.multiRowAlignment && (D='<span style="display:inline-block;' + C + "text-align:" + y.region.multiRowAlignment + '">' + D + "</span>");return D;};b.$Wa=function(y,x,z,A,B){var D,C,G,E,J;D="";C=B.width;B=B.height;for(var F=x.length;F--;){G=x[F];E=y[F];E=E && E.region;J="position:absolute;background:" + A + ";width:" + (0,q.sn)(G.width + 2 * z) + "px;height:" + (0,q.sn)(G.height + 2 * z) + "px;";G=c(E,G,C,B,z);(0,p.Zf)(G,function(M,L){J+=M + ":" + L + ";";});D+='<div style="' + J + '"></div>';}return D;};b.ZWa=c;b.ADb=l;b.CDb=f;b.zDb=h;b.BDb=d;b.YWa=function(y){var x;y=y.region;x={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":x["text-align"]="left";break;case "right":x["text-align"]="right";break;default:x["text-align"]="center";}!y.writingMode || "vertical-lr" !== y.writingMode && "vertical-rl" !== y.writingMode || (x["writing-mode"]=y.writingMode);return (0,n.gS)(x);};b.kub=g;b.$wb=m;b.ARb=k;u=["before","after"];t={before:"over right",after:"under right"};w={before:"over right",after:"over left"};v={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.adb=void 0;c=a(22365);b.adb=function(l,f){function h(m,k,n){var t,v,y,x,z;if(m && 1 < m.length){for(var p=[],q=[],u=0;u < m.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < m.length;u++){for(var w=u + 1;w < m.length;w++){v=m[u];y=m[w];if(0 > v.width || 0 > y.width || y.left > v.left + v.width || y.left + y.width < v.left || y.top > v.top + v.height?0:y.top + y.height >= v.top){x=(0,c.Qr)(v.left,y.left);z=(0,c.Qr)(v.top,y.top);x={width:(0,c.Qr)((0,c.Ew)(v.left + v.width,y.left + y.width) - x,0),height:(0,c.Qr)((0,c.Ew)(v.top + v.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,v=d(m[u]),y=d(m[w]),z && k || !z && !k))(x=(0,c.Qr)(x.width / 2,.25),v.x <= y.x?(q[u]-=x,q[w]+=x):(q[w]-=x,q[u]+=x));else if(z && !k || !z && k)(v=(0,c.Qr)(x.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < m.length;u++){if(-.25 > q[u] && 0 <= m[u].left + q[u] || .25 < q[u] && m[u].left + m[u].width + q[u] <= n.width)(m[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= m[u].top + p[u] || .25 < p[u] && m[u].top + m[u].height + p[u] <= n.height)(m[u].top+=p[u],t=!0);}return t;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}l=l.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,k){m.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=(0,c.Ew)(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=(0,c.Ew)(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=(0,c.Ew)(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=(0,c.Ew)(n.top + n.height - k.height,n.top));});})(l,f);for(var g=0;50 > g && h(l,!0,f);g++){;}for(g=0;50 > g && h(l,!1,f);g++){;}return l;};},99732:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.N3a=void 0;c=a(29204);l=a(33096);f=a(24066);r=a(36129);h=a(22365);d=a(32687);g=a(31276);a=a(11479);g.za.get(a.Sh).register(r.U.AEa,function(m){var p,q,u,t,w;function k(){return (0,h.II)((0,f.Hn)() / u);}function n(){var v;v=k();if(v != w){for(var y=(0,h.Ew)(v - w,30);y--;){t.push(0);}(y=(0,h.Qr)(t.length - 31,0)) && t.splice(0,y);w=v;}t[t.length - 1]++;}p=c.config.GPb;q=-6 / (p - 2 - 2);u=l.Pr;t=[];w=k();(0,d.Yoa)(p) && (setInterval(n,1E3 / p),b.N3a={QHb:function(){var x;for(var v=[],y=t.length - 1;y--;){x=t[y];v.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,h.sn)((x - 2) * q + 7));}return v;}});m(l.gg);});},24674:function(r,b,a){var d,g,m,k,n,p;function c(q){var u;q=new m.XO(q);if(1481462272 != q.Mp())throw Error("Invalid header");u={XMR:{Version:q.Mp(),RightsID:q.Pv(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var w,v,y,x,z;for(;q.position < t;){w=q.ah();v=q.Mp();v-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(w)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + v);break;case 5:x.Reserved1=q.ah();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.ah();x.MinimumAnalogVideoOutputProtectionLevel=q.ah();x.Reserved2=q.ah();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.ah();break;case 10:x.Reserved=q.Pv(16);x.SymmetricCipherType=q.ah();x.AsymmetricCipherType=q.ah();v=q.ah();x.EncryptedKeyLength=v;w=q.Pv(v);x.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.Pv(2);v=q.ah();w=q.Pv(v);x.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.ah();break;case 18:x.BeginDate=q.Mp();x.EndDate=q.Mp();break;case 42:x.CurveType=q.Pv(2);v=q.ah();w=q.Pv(v);x.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.Mp();break;case 50:x.Sequence=q.Mp();break;case 51:x.LicenseProcessingIndicator=q.ah();break;case 52:x.MinimumSecurityLevel=q.ah();break;case 57:x.PlayEnablerType=h(q.Pv(16));break;case 85:break;default:x.OtherData=q.Pv(v);}}}function f(q){return "0x" + q.toString(16);}function h(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.wAb=b.xAb=b.vAb=b.uAb=b.tAb=void 0;d=a(33096);g=a(31276);m=a(62082);k=a(62604);n=a(84281);p=a(32687);b.tAb=function(q,u,t){switch(u){case d.dZ:q && (q=(0,g.aSa)(q),(0,n.Seb)(q,function(w){w.ia && (w=w.object) && (w=(0,k.dZa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.Y6a)(w)) && (w=(0,g.uq)(w)) && (w=c(w)) && t(w);}));}};b.uAb=c;b.vAb=l;b.xAb=f;b.wAb=h;},59032:function(r,b){var c;function a(l,f){var h;h=this;this.pfa=[];c.forEach(function(d){(d=d(l,f)) && h.pfa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.DP=b.bHa=void 0;c=[];a.prototype.Ty=function(l){var d;for(var f=[],h=this.pfa.length;h--;){d=this.pfa[h];d.Ty(l) && f.push(d.m4);}if(f.length)return f;};b.bHa=a;b.DP=function(l){c.push(l);};},3390:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);l=a(4203);f=a(95136);h=a(81918);(0,r.DP)(function(d,g){var m,k;m=c.za.get(l.ac);if(m().gCb){k=c.za.get(h.Jc);return new f.gCa(d,g,c.Df,k,m);}});},95136:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u){var t;t=this;this.j=k;this.Ca=n;this.la=p;this.Ea=q;this.Y7={};this.BK={};this.LN=[];this.z1a=1E3;this.r$=l.kGa;this.Vra=function(){var w;w=t.j.lb.value === d.bb.me && t.j.state.value === d.Vb.$d && t.j.O === t.Ca.O;t.dU?w || (clearInterval(t.dU),t.dU=void 0,t.vU=void 0):w && (t.dU=nb.setInterval(t.x3b,t.z1a));};this.x3b=function(){var w,v,y,x;v=t.j.Ud.value;v=v && v.stream;v=null !== (w=v && v.height) && void 0 !== w?w:null;if(null !== v && 0 < v){w=t.Ea.Eb().ba(m.na);y=t.j.ie.CF();if(y){if(t.vU && w - t.vU.time < 2 * t.z1a && v === t.vU.height){x=y - t.vU.fCb;t.Tga(v,x);t.crb(v,x);}t.vU={time:w,fCb:y,height:v};t.j.x8 && t.j.x8.U_b(t.Y7);}}};this.jma=function(){var w;w={};t.BK && t.LN.forEach(function(v){var y,x,z;y=t.BK[v];if(y){x=0;z=0;(0,g.Zf)(y,function(A,B){z+=(0,g.Ui)(A);x+=B;});w[v]=z / x;}});return w;};this.xT=function(w){var v;v={};w.forEach(function(y){v[y]={};});t.BK && ((0,f.tY)(w),t.LN.forEach(function(y){var x,z,A,B;x=t.BK[y];if(x){z=0;A=0;(0,g.Zf)(x,function(E,J){z+=J;});B=Object.keys(x).map(Number);(0,f.tY)(B);for(var D=B.length - 1,C=B[D],F=w.length - 1;0 <= F;F--){for(var G=w[F];C >= G && 0 <= D;){(C=x[C]) && (A+=C);C=B[--D];}v[G][y]=(0,h.sn)(A / z * 100);}}}));return v;};this.log=this.la.Wa("DFF",k);this.H8=u().jCb;this.oQb=u().hCb;this.b5a=u().iCb;this.Ca.zka={jma:this.jma,xT:this.xT};k.state.addListener(this.Vra);k.lb.addListener(this.Vra);k.addEventListener(d.fa.qG,this.Vra);}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;l=a(33096);f=a(52569);h=a(22365);d=a(85001);g=a(3887);m=a(5021);c.prototype.Ty=function(k){return k.lower && k.height > this.b5a?k.height >= this.LJb():!1;};c.prototype.Tga=function(k,n){var p;p=this.Y7[k];p || (this.Y7[k]=p=[],k > this.b5a && (this.LN.push(k),(0,f.tY)(this.LN)));0 < n && !(this.bV && this.bV < k) && (this.bV=k);p.push(n);p.length > this.oQb && p.shift();};c.prototype.crb=function(k,n){var p;p=this.BK[k];p || (this.BK[k]=p={});k=p[n];p[n]=k?k + 1:1;};c.prototype.LJb=function(){var p,q;if(this.bV){for(var k=this.LN.length,n=0;n < k;n++){p=this.LN[n];if(p >= this.bV && p < this.r$){q=this.Y7[p];if(q && this.Evb(this.H8,q) && this.r$ != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ca.fp.set({reason:"droppedFrames",height:p}),this.r$=p);}}this.bV=void 0;}return this.r$;};c.prototype.Evb=function(k,n){var t,w;for(var p=k.length,q=n.length,u=0;u < p;u++){t=k[u];w=t[0];t=t[1];for(var v=0;v < q;v++){if(n[v] >= t && 0 >= --w)return !0;}}return !1;};Xa.Object.defineProperties(c.prototype,{m4:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.gCa=c;},25357:function(r,b,a){var l,f,h;function c(d,g,m,k){var n;n=this;this.j=d;this.Ca=g;this.la=m;this.qa=k;this.Prb=function(p){!0 === p.oldValue && !1 === p.newValue && (n.log.error("RestartStreaming: UHD key is no longer usable"),n.j.vZb());};this.v4b=function(p){var q,u,t;n.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (n.P_b(u,(null === (q=null === p || void 0 === p?void 0:p.Jh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=n.qa.ee.wa(n.aOb),n.log.error("UHD KeyStatus unexpectedly changed: " + p.ba(h.na))));};this.k2a=!1;this.log=this.la.Wa("KeyStatusStreamFilter",this.j);this.dRa=new f.Hb(!1,this.Prb);this.u4b=new f.Hb(void 0,this.v4b);}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;l=a(28048);f=a(81734);h=a(5021);c.prototype.Ty=function(d){return d.gi && (this.t2b(),this.dRa.set(this.k2a),d.lower && 1080 < d.height && !this.dRa.value)?!0:!1;};c.prototype.y5a=function(d){var g;g=this;Object.entries(d).forEach(function(m){var k,n,p;k=la(m);m=k.next().value;k=k.next().value;m=null !== (p=null === (n=g.$Nb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (g.k2a="usable" === k,g.u4b.set(k,{height:m}));});};c.prototype.t2b=function(){var d,g,m;d=this;m=this.Ca.de;!this.ENb && (0,l.Moa)(m) && (this.ENb=!0,this.$Nb=null === (g=null === m || void 0 === m?void 0:m.context) || void 0 === g?void 0:g.u6,this.y5a(m.keyStatuses.value),m.keyStatuses.addListener(function(k){return d.y5a(k.newValue);}),this.aOb=this.qa.ee);};c.prototype.P_b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Ca.fp.set({reason:"keyStatus",height:g});};Xa.Object.defineProperties(c.prototype,{m4:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.mFa=c;},2898:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);f=a(25357);(0,r.DP)(function(h,d){if(c.config.ZNb)return new f.mFa(h,d,l.Df,l.qa);});},45706:function(r,b,a){var l,f;function c(h,d){var g,m;g=(0,f.Kh)(h,"MSS");if(l.config.$Qb)return {m4:"mss",Ty:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=nb.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");m=!0;}m || (g.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.fp.set({reason:"microsoftScreenSize",height:k.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Rjb=void 0;r=a(59032);l=a(29204);f=a(31276);(0,r.DP)(c);b.Rjb=c;},76563:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);(0,r.DP)(function(f,h){var d,g,m,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.w4b);g=d[h.wd];if(c.config.x4b && g){m={};k=(0,l.Kh)(f,"MediaStreamFilter");return {m4:"uiLabel",Ty:function(n){if(n.lower && n.height > g)return (m[n.height] || (m[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),h.fp.set({reason:"uiLabel",height:n.height})),!0);}};}});},24427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;c=a(85001);l=a(61726);b.jEa=function(f){function h(d){f.fireEvent(c.fa.cF,{response:d,O:f.aa.O});}return {download:function(d,g){d.j=f;d=l.He.download(d,g);d.O1(h);return d;}};};},61726:function(r,b,a){var g,m,k,n,p,q,u,t,w,v,y,x,z,A;function c(){this.Ei=(0,q.Ri)("Http");this.Tj=new g.Qj();this.JD=0;this.Tf={ssl:0,"non-ssl":0,invalid:0};this.R_={Ka:1,Cmb:2,Iza:3};this.addEventListener=this.Tj.addListener;this.removeEventListener=this.Tj.removeListener;}function l(B){var D,C,F,G;D=B.url.split("?");C="sc=" + B.c_b;F=B.tub?"random=" + (1E17 * (0,w.p_)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Bc && !(0,k.hpa)(G) && (B=m.config && m.config.RSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,D){var C,F,G;C=B.url.split("?");F=h(B);G=C[0];F && (D.Nv=F,(void 0 === B.Er?m.config.Er:B.Er) || B.qr !== x.KP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(D.Nv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.tub?"random=" + (1E17 * (0,w.p_)()).toFixed(0):"";m.config.IK && B.VW && (F="sc=" + B.VW + (F?"&" + F:""));G=C[1]?G + ("?" + C[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Bc && !(0,k.hpa)(G) && (B=m.config && m.config.RSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function h(B){var D;D=B.offset;if(void 0 !== D)return ((0,u.mS)(D),void 0 !== B.length?(B=D + B.length - 1,(0,u.mS)(B),D + "-" + B):D + "-");}function d(B,D,C,F){var G,E;G=F.K7a;E=F.headers;B.open(G?"POST":"GET",D,C);switch(F.responseType){case b.ST:B.responseType="arraybuffer";break;case b.aoa:(0,t.ISa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.xg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Td)(D,E):D);E && (0,t.Zf)(E,function(J,M){B.setRequestHeader(J,M);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.ST=b.aoa=b.$na=b.sLb=b.boa=b.rLb=b.C0a=b.F5=b.He=b.pLb=b.qLb=void 0;g=a(94886);m=a(29204);r=a(33096);k=a(52569);n=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);w=a(22365);v=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.h1b=function(B){var D;D=new XMLHttpRequest();B=l(B);D.open("HEAD",B,!0);D.onreadystatechange=function(){2 === D.readyState && 200 <= D.status && 299 >= D.status && !1;};D.send();return function(){return D.abort();};};c.prototype.download=function(B,D){var N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db;function C(){var U;if(!oa){oa=!0;db && (nb.clearTimeout(db),db=null);N.Tj.removeListener(b.boa,J);N.ega(Ca,La);La && (La.onloadstart=null,La.onreadystatechange=null,La.onprogress=null,La.onerror=null,La.onload=null,La=La.onabort=null);Ca.ia || (Ca.ya != p.R.bD?K.warn("Download failed",Y,(0,p.zw)(Ca)):K.trace("Download aborted",Y));U=ka;ka=null;null === U || void 0 === U?void 0:U.reduceRight(function(ja,sa){(0,v.Mf)(function(){return sa(Ca);});},null);N.Tj.Ec(b.C0a,Ca,!0);}}function F(){db && (nb.clearTimeout(db),db=null);db=nb.setTimeout(M,Wa?R:O);}function G(U,ja,sa,Q){var P,Z;Ca.ia=!1;Ca.ya=U;P=(0,n.Hn)();Z=Ca.Vl;Z.Wi=Z.Wi || P;Z.Pp=Z.Pp || P;ja && 0 < ja && (Ca.Kl=ja,Ca.De=ja.toString());sa && (Ca.Jb=sa);Q && (Ca.qC=Q);U !== p.R.hP && U !== p.R.cD && U !== p.R.kP || !La || (La.onabort=null,L());C();}function E(U){var ja,sa;try{sa=U.getResponseHeader("X-Netflix.Retry.Server.Policy");sa && (ja=JSON.parse(sa));}catch(Q){!1;}return ja;}function J(){A() || G(p.R.hP);}function M(){G(Wa?p.R.cD:p.R.kP);}function L(){try{null === La || void 0 === La?void 0:La.abort();}catch(U){}}function H(){G(p.R.bD);}N=this;(0,u.oa)(D);K=(null === (I=null === B || void 0 === B?void 0:B.j) || void 0 === I?0:I.log)?(0,q.Kh)(B.j,"Http"):this.Ei;O=B.Z2 || m.config.Z2;R=B.kra || m.config.kra;Y={Num:this.JD++};oa=!1;ka=[D];ha={};this.eqb(B);Ca=new z.mEa(B,L,M,ha,function(U){oa || ((0,u.oa)(ka,"Callback should be added before download starts."),ka && ka.unshift(U));});Wa=!1;(0,v.Mf)(function(){var U;if((0,y.gpa)(B.url))try{if((f(B,Ca),za=Ca.url,(0,u.nS)(za),Y.Url=za,A())){!1;La=new XMLHttpRequest();La.onreadystatechange=function(){2 === (null === La || void 0 === La?void 0:La.readyState) && (Wa=!0,ha.Wi=(0,n.Hn)(),La.onreadystatechange=null,F(),!1,N.ega(Ca,La),Ca.GG({timestamp:ha.Wi,connect:!0,mediaRequest:B,start:ha.My,rt:[ha.Wi - ha.My],responseHeaders:Ca.headers}));};La.onprogress=function(ja){Wa=!0;ha.b3=ja.loaded;F();N.ega(Ca,La);ja={mediaRequest:B,bytes:ja.loaded,timestamp:(0,n.Hn)(),bytesLoaded:ja.loaded,responseHeaders:Ca.headers};Ca.GG(ja);};La.onload=function(ja){if(!oa && La){(0,u.oa)(void 0 === ha.Pp);ha.Pp=(0,n.Hn)();ha.Wi=ha.Wi || ha.Pp;ha.b3=ja.loaded;if(200 <= La.status && 299 >= La.status){a:switch((ja=La,Ca.type)){case b.ST:ja=ja.response || new ArrayBuffer(0);break a;case b.aoa:ja=ja.responseXML;break a;default:ja=ja.responseText;}Ca.parsed=!1;Ca.content=ja;Ca.ia=!0;}else 420 === La.status?G(p.R.jP,La.status):G(p.R.iP,La.status,La.response,E(La));C();}};La.onabort=H;La.onerror=function(){var ja,sa;if(La){ja=La.status;"undefined" !== typeof m.config.cYa && (ja=m.config.cYa);if(0 < ja){if(420 === ja)G(p.R.jP,ja);else {try{sa=La.responseText;}catch(Q){}G(p.R.iP,ja,sa,E(La));}}else G(p.R.lP);}};U=(0,n.Hn)();d(La,za,!0,B);N.Tj.Ec(b.F5,Ca,!0);ha.My=U;Ca.wM({mediaRequest:B,timestamp:U});F();N.Tj.addListener(b.boa,J);}else (0,v.Mf)(G.bind(void 0,p.R.hP));}catch(ja){K.error("Exception starting download",ja,Y);G(p.R.cca,void 0,(0,t.we)(ja));}else G(p.R.QDa);});return Ca;};c.prototype.GWb=function(B){var D,C;D=new XMLHttpRequest();C=B.DWb;D.open("HEAD",B.url,!0);D.timeout=m.config.ota;D.onreadystatechange=function(){2 === D.readyState && (!1,C && C.tM(D.status));};D.ontimeout=D.onerror=function(){!1;C && C.rra(D.status);};D.send();};c.prototype.eqb=function(B){var D;try{D=B.url;(0,y.gpa)(D)?0 === D.indexOf("https")?this.Tf.ssl++:0 === D.indexOf("http")?this.Tf["non-ssl"]++:this.Tf.invalid++:this.Tf.invalid++;}catch(C){}};c.prototype.ega=function(B,D){var C;if(!B.headers && D){C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=la(F.split(": "));F=G.next().value;G=aa(G).join(": ");F && (C[F.toLowerCase()]=G);});B.headers=C;}};b.qLb=f;b.pLb=h;A=r.PKa;b.He=new c();b.F5=1;b.C0a=2;b.rLb=3;b.boa=4;b.sLb=5;b.$na=b.He.R_.Ka;b.aoa=b.He.R_.Cmb;b.ST=b.He.R_.Iza;nb._cad_global.http=b.He;},57504:function(r,b,a){var l;function c(f,h,d,g,m){this.O1=this.GG=this.wM=l.Iw;this.request=f;this.type=f.responseType;this.Vl=g;this.abort=h;this.timeout=d;this.O1=m;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;l=a(33096);c.prototype.h0b=function(f){this.wM=f;};c.prototype.m0b=function(f){this.GG=f;};b.mEa=c;},31276:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.za=b.WJa=b.dT=b.Kh=b.Ri=b.log=b.Df=b.gL=b.aSa=b.uq=b.ox=b.mc=b.ztb=b.Sha=b.xtb=b.ytb=b.Li=b.qO=b.QX=b.hh=b.Ac=b.qa=void 0;c=a(83989);r=a(87386);l=a(56800);f=a(84408);h=a(6405);d=a(2248);g=a(32687);m=a(79274);k=a(30869);a=a(53085);b.qa=c.dc.get(k.fg);b.Ac=c.dc.get(a.Di);b.hh=c.dc.get(f.kq);b.QX=b.hh.encode.bind(b.hh);b.qO=b.hh.decode.bind(b.hh);b.Li=c.dc.get(h.pw);b.ytb=b.Li.encode.bind(b.Li);b.xtb=b.Li.decode.bind(b.Li);b.Sha=b.Li.vF.bind(b.Li);b.ztb=b.Li.Bcb.bind(b.Li);b.mc=c.dc.get(d.ih);b.ox=function(n){n=(0,g.xg)(n)?(0,b.qO)(n):n;return b.mc.encode(n);};b.uq=b.mc.decode.bind(b.mc);b.aSa=function(n){return (0,b.QX)((0,b.uq)(n));};b.gL=function(){return c.dc.get(l.uw);};b.Df=c.dc.get(r.Za);b.log=b.Df.Wa("General");b.Ri=function(n,p){return b.Df.Wa(n,void 0,p);};b.Kh=function(n,p,q){return b.Df.Wa(p,n,q);};b.dT=function(n,p,q,u){return b.Df.Wa(n,void 0,u,p,q);};b.WJa=function(n,p,q){return c.dc.get(m.RP)(n,p,q).CX();};b.za=c.dc;},93114:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);l=a(33096);f=a(29204);h=a(13044);d=a(24066);r=a(36129);g=a(31276);m=a(77134);k=a(22365);n=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);v=g.za.get(a.Sh);v.register(r.U.zEa,function(y){var z;function x(){var A,B,D;A=v.startTime;B={browserua:k.pD,browserhref:k.v_.href,initstart:A,initdelay:v.endTime - A};(A=k.Pg.documentMode) && (B.browserdm="" + A);(0,p.QL)(f.config.wXa) && (B.fesn=f.config.wXa);Object.assign(B,(0,c.hna)());D=k.ju && k.ju.timing;D && f.config.tPb.map(function(C){var F;F=D[C];F && (B["pt_" + C]=F - (0,d.ATa)());});A=z.qIb();Object.entries(A).forEach(function(C){var F;F=la(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=w.Ds("startup","info",B,h.Dz.Lla);t.vc(A);}w=g.za.get(u.Cw);t=g.za.get(q.nl);z=g.za.get(m.aJ);v.DU(function(){t.va();(0,n.Mf)(x);});y(l.gg);});},86258:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t,w;function c(v,y){var z;function x(){function A(B,D){return D.he && 0 !== D.he.length && D.he[0].oG?(0,f.Jy)(v,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.lW(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({Ry:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.lW(D):Promise.resolve());}l(z).then(function(B){var D;D=B.M3.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");y(h.gg);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);y(h.gg);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(h.gg);});}z=(0,k.Ri)("PlayDataManager");y=y || h.Iw;d.config.Fr?y(h.gg):x();}function l(v){var y;if(!b.vka){y=k.za.get(n.fba);b.vka=new Promise(function(x,z){y.G8a().then(function(){x(y);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.vka;}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=b.uJa=b.vka=void 0;f=a(43422);h=a(33096);d=a(29204);g=a(37509);m=a(91581);k=a(31276);r=a(36129);n=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);w=a(21892);b.uJa=function(v){var z,A,B,D,C,F;function y(){A || (v.je("pdsb"),A=k.za.get(p.QP)().then(function(G){D=G;v.je("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.je("pdse");throw G;}));return A;}function x(){B=!0;D && D.close();g.fe.removeListener(g.Jk,x);}z=(0,k.Kh)(v,"PlayDataManager");B=!1;C=k.za.get(m.H_);if(!C.xI || !C.vI){F=k.za.get(w.xda)();C.xI=F.Ry;C.vI=F.request;}v.je("pdctor");v.addEventListener(q.fa.sg,function(){g.fe.removeListener(g.Jk,x);});v.addEventListener(q.fa.AU,function(){var G;if(!d.config.Fr && v.de){G=v.d3.vUa();l(z).then(function(E){return E.BQa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.fa.sg,function(){var G;if(!B){v.w6b();G=[(function(){return d.config.Fr || !v.de?Promise.resolve():new Promise(function(E){var J;z.info("Sending the expedited playdata");J=v.d3.vUa();v.de.iXa(J).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.lW(J):Promise.resolve();}).then(function(){E(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);E();});});})(),(function(){return y().then(function(E){return E.eX(v.aa);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){k.za.get(u.nl).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){v.S7();}).catch(function(){v.S7();});}});g.fe.addListener(g.Jk,x);return {};};b.vJa=function(){return new Promise(function(v){c({},function(y){v(y);});});};k.za.get(t.Sh).register(r.U.uz,function(v){v(h.gg);});},46493:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(50040);f=a(1481);h=a(29204);d=a(33096);g=a(36129);m=a(45146);k=a(31276);n=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);w=a(32687);v=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);D=a(71501);C={};F=k.za.get(r.Sh);F.register(g.U.BEa,function(G){var L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La;function E(Wa){Wa && Wa.userList && h.config.T0b && (Wa.userList=[]);I({esn:f.Fk.bk,esnPrefix:f.Fk.Mn,authenticationKeyNames:h.config.ltb,systemKeyWrapFormat:h.config.W2b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Ca,storeState:Wa,notifyMilestone:F.je.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.R.Mjb,MSL_READ_TIMEOUT:g.R.Ljb}},{result:function(db){J(db);},timeout:function(){G({ya:g.R.qGa});},error:function(db){G(M(g.R.qGa,void 0,db));}});}function J(Wa){var U,ja,sa,Q;function db(){za && k.za.get(q.nw).create().then(function(P){return P.save(ka,sa,!1);}).catch(function(P){R.error("Error persisting msl store",(0,g.zw)(P));});}U=this;ja=k.za.get(y.Iz)((0,x.Lb)(100));Q=K.extend({init:function(P){this.aPa=P;},getResponse:function(P,Z,na){var qa,Ha;Z=this.aPa;qa=Z.Xqa.He || qa;P=(0,w.fpa)(P.body)?(0,k.QX)(P.body):P.body;(0,m.nS)(P,"Msl should not be sending empty request");P={url:Z.url,K7a:P,withCredentials:!0,JA:"nq-" + Z.method,headers:Z.headers};Z=this.aPa.timeout;P.Z2=Z;P.kra=Z;Ha=qa.download(P,function(Ya){try{if(Ya.ia)na.result({body:Ya.content});else if(400 === Ya.Kl && Ya.Jb)na.result({body:Ya.Jb});else throw (0,u.Td)(new O("HTTP error, SubCode: " + Ya.ya + (Ya.Kl?", HttpCode: " + Ya.Kl:"")),{cadmiumResponse:Ya});}catch(Va){na.error(Va);}});return {abort:function(){Ha.abort();}};}});oa && Wa.addEventHandler("shouldpersist",function(P){sa=P.storeState;ja.Yi(db);});(0,u.Td)(C,{aec:function(){ha=!0;},send:function(P){function Z(){var na,qa;na=P.Xqa;qa={method:P.method,nonReplayable:P.J5a,encrypted:P.lF,userId:P.$db,body:P.body,timeout:2 * P.timeout,url:new Q(P),allowTokenRefresh:za,sendUserAuthIfRequired:La,shouldSendUserAuthData:h.config.$0b};na.email?(qa.email=na.email,qa.password=na.password || ""):ha && (qa.useNetflixUserAuthData=!0);return qa;}return new Promise(function(na,qa){var Ha;Ha=Z();Wa.send(Ha).then(function(Ya){ha && (ha=!1);na({ia:!0,body:Ya.body});}).catch(function(Ya){var Va,rb;if(Ya.error){Va=Ya.error.cadmiumResponse && Ya.error.cadmiumResponse.ya?Ya.error.cadmiumResponse.ya:Wa.isErrorReauth(Ya.error)?g.R.pGa:Wa.isErrorHeader(Ya.error)?g.R.Fjb:g.R.Ejb;rb=Wa.getErrorCode(Ya.error);qa(M(Va,rb,Ya.error));}else (R.error("Unknown MSL error",Ya),Ya.ic=Ya.subCode,qa({ya:Ya.ic?Ya.ic:g.R.Njb}));});});},fV:Wa});A.BD.WJ.mslFetch=function(P,Z){return c.__awaiter(U,void 0,void 0,function qa(){var Ha,Ya,Va;return Ja(qa,function(rb){if(1 == rb.Cv)return (Ha=k.za.get(D.VI),Ma(rb,C.send({Xqa:{He:k.za.get(B.eu),profile:Ha},timeout:3E3,url:P.toString(),body:null === Z || void 0 === Z?void 0:Z.body,headers:{"Content-Type":"application/x-msl+json"},$db:Ha,MYb:!1,J5a:!0,lF:!0}),2));Ya=rb.jY;Va={get body() {this.bodyUsed=!0;return Ya.body;}};return rb.return((Va.bodyUsed=!1,Va.ok=Ya.ia,Va.status=Ya.ia?200:400,Va.statusText=Ya.ia?"OK":"Bad Request",Va.type="basic",Va.url=P.toString(),Va.headers=new Headers({"Content-Type":"application/json"}),Va.text=function(){return Promise.resolve(this.body);},Va.json=function(){return Promise.resolve(JSON.parse(this.body));},Va.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Va.clone=function(){return Object.assign({},this);},Va.blob=function(){return this.arrayBuffer().then(function(mb){return new Blob([mb]);});},Va.formData=function(){throw Error("Not implemented");},Va.redirected=!1,Va));});});};G(d.gg);k.za.get(z.Vca).KRb(C);}function M(Wa,db,U){var ja,sa,Q,P;Q={ya:Wa,Y3:db};if(U){P=function(Z){var na;Z=Z || "" + U;if(U.stack){na="" + U.stack;Z=0 <= na.indexOf(Z)?na:Z + na;}return Z;};if(sa=U.cadmiumResponse){if(ja=sa.De && sa.De.toString())sa.De=ja;sa.ya=Wa;sa.Y3=db;sa.Jb=P(U.message);sa.error={ic:Wa,Tc:ja,uy:db,data:U.cause,message:U.message};return sa;}P=P(U.errorMessage);ja=(0,u.Ui)(U.internalCode) || (0,u.Ui)(U.error && U.error.internalCode);sa=void 0 !== U.ODb?(0,v.xra)(U.ODb):void 0;}P && (Q.Jb=P);ja && (Q.De=ja);Q.error={ic:Wa,Tc:ja.toString(),uy:db,data:sa,message:P};return Q;}(0,m.oa)(h.config);L=k.za.get(n.aJ);H=p.om.hj;if(t.Az && t.jp && t.jp.unwrapKey){try{N=nb.netflix.msl;I=N.createMslClient;K=N.IHttpLocation;O=N.MslIoException;}catch(Wa){G({ya:g.R.Gjb});return;}R=(0,k.Ri)("Msl");Y=h.config.GRb;oa=h.config.IRb;ka=h.config.Nx?"mslstoretest":"mslstore";N=l.DH.L$a;ha=!0;za=!N || N.ia;Ca=(0,k.uq)(h.config.Nx?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");La=!!h.config.sva;k.za.get(q.nw).create().then(function(Wa){Y?Wa.remove(ka).then(function(){E();}).catch(function(db){R.error("Unable to delete MSL store",(0,g.zw)(db));E();}):oa?Wa.load(ka).then(function(db){L.mark(H.Ijb);E(db.value);}).catch(function(db){db.ya == g.R.Ow?(L.mark(H.Kjb),E()):(R.error("Error loading msl store",(0,g.zw)(db)),L.mark(H.Jjb),Wa.remove(ka).then(function(){E();}).catch(function(U){G(U);}));}):E();}).catch(function(Wa){R.error("Error creating app storage while loading msl store",(0,g.zw)(Wa));G(Wa);});}else G({ya:g.R.Hjb});});},78719:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;c=a(29204);l=a(37509);f=a(3887);h=a(36129);d=a(85001);b.VCa=function(g,m,k){function n(q){var u,t;u=q.error || q;t=(0,f.we)(u);k.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.cdb && c.config.B4b?0 <= u.indexOf(c.config.cdb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.od(h.U.aNa));}function p(){l.fe.removeListener(l.r5,n);g.removeEventListener(d.fa.sg,p);g.removeEventListener(d.fa.vt,p);}try{l.fe.addListener(l.r5,n);g.addEventListener(d.fa.sg,p);c.config.LLb && g.addEventListener(d.fa.vt,p);}catch(q){k.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;c=a(29204);l=a(24066);f=a(36129);h=a(981);d=a(22365);g=a(32687);m=a(85001);k=a(31276);n=a(4246);b.SEa=function(p){var u,t,w,v;function q(){p.state.value !== m.Vb.$d || p.lb.value !== m.bb.Uh && p.lb.value !== m.bb.bq?t.Up():t.SA();}u=c.config.IUb;if(!p.NL() && u){t=k.za.get(n.$P)(u,function(){p.fireEvent(m.fa.AL,f.U.C_);});p.lb.addListener(q);p.state.addListener(q);if(c.config.joa){w=(0,l.Hn)();v=new h.UKa(c.config.joa,function(){var y,x;y=(0,l.Hn)();x=y - w;x > u && (p.fireEvent(m.fa.AL,f.U.h_),v.wTa());x > 2 * c.config.joa && (p.koa=(0,d.Qr)(x,p.koa || 0));w=y;});v.y0b();}p.addEventListener(m.fa.sg,function(){t.Up();(0,g.Uc)(v) && v.wTa();});}};},33059:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v;function c(y,x){this.j=y;this.$i=x;this.S2b=!1;this.log=(0,h.Kh)(this.j,"MediaAppendManager");this.Kb=this.j.Kb;this.$=this.Kb.$;this.ZX=this.JR=!1;this.audio={type:f.Rj.audio,cv:[],Rk:[],IM:!1};this.video={type:f.Rj.video,cv:[],Rk:[],IM:!1};y={};this.VH=(y[v.v.Y]=this.video,y[v.v.ea]=this.audio,y);this.closed=!1;this.py=l.config.py;this.u7=l.config.u7;this.ZB=this.j.Ya.ag?l.config.dsa:l.config.ZB;this.YRa=!0;this.mc=h.za.get("Base64EncoderSymbol");this.Jla=!1;this.zsa=[];(0,g.oa)(this.py > this.u7,"bad config");(0,g.oa)(this.py > this.ZB,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;l=a(29204);f=a(51344);h=a(31276);d=a(36129);g=a(45146);m=a(3887);k=a(33096);n=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);w=a(69931);v=a(60328);c.prototype.F4=function(){var z,A;function y(B,D){return x(B,D.l7);}function x(B,D){var C,F,G,E;G=!!D.response;E=D.response;if(D.Le)return B + (E.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.G2) && void 0 !== C?C:0) - (null !== (F=null === D || void 0 === D?void 0:D.H2) && void 0 !== F?F:0);return (G?E.byteLength:D) + B;}z=this.VH[v.v.Y];A=this.VH[v.v.ea];return {videoToAppend:z.Rk.reduce(x,0),videoInBuffer:z.cv.reduce(y,0),audioToAppend:A.Rk.reduce(x,0),audioInBuffer:A.cv.reduce(y,0)};};c.prototype.xSb=function(){this.audio.zi && !this.audio.zi.uh() && (!1,this.audio.zi.nRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.o0b=function(){this.audio.Sva=!0;this.video.Sva=!0;};c.prototype.v0b=function(y){y === v.v.ea?this.JR=!0:y === v.v.Y && (this.ZX=!0);};c.prototype.uh=function(){var y,x;return !(null === (y=this.audio.zi) || void 0 === y || !y.uh()) || !(null === (x=this.video.zi) || void 0 === x || !x.uh());};c.prototype.T9=function(y){var x,z;null === (x=this.audio.zi) || void 0 === x?void 0:x.T9(y);null === (z=this.video.zi) || void 0 === z?void 0:z.T9(y);};c.prototype.csb=function(y){var x;y.mediaType === v.v.ea?this.JR=!1:y.mediaType === v.v.Y && (this.ZX=!1);x=this.VH[y.mediaType];x?x.Rk.push(y):(0,g.oa)(!1);};c.prototype.bsb=function(y,x,z){var A;A=this;x=this.uSa(y.mediaType,x,z);if(!this.Jla)if(y.mediaType === v.v.Y)(this.kWb(y),this.Jla=!0,this.zsa.forEach(function(B){return A.oha(B);}),this.zsa=[]);else {this.zsa.push(x);return;}this.oha(x);};c.prototype.oha=function(y){var x;x=this.VH[y.mediaType];x?x.Rk.push(y):(0,g.oa)(!1);};c.prototype.uSa=function(y,x,z){return {mediaType:y,et:!1,response:x,xj:function(){return "header";},get Le() {return !this.et;},profile:z.profile};};c.prototype.kWb=function(y){(0,g.oa)(!!y.bbb,"startOfSegment properties need to be set before first header is appended");this.Jla || !l.config.tFb || !this.j.w5() && !this.j.wL() || y.bbb.M1a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.mc.decode(k.Hza),this.oha(this.uSa(v.v.Y,y,{profile:t.H.YC})));};c.prototype.s0b=function(y){var x;x=this.VH[y.type];if(x)try{x.zi=y;}catch(z){this.od(d.U.kda,{ya:(0,p.T4)(y.type),Jb:(0,m.we)(z)});}};c.prototype.close=function(){this.$=this.Kb=void 0;this.closed=!0;};c.prototype.od=function(y,x,z){this.closed || this.j.od(y,x,z);};c.prototype.Yja=function(y){return this.XVa(this.audio,y,this.q3()) && this.XVa(this.video,y,this.q3());};c.prototype.q3=function(){return this.j.lb.value === n.bb.Ff?this.ZB:this.u7;};c.prototype.G3b=function(){var y,x;y=this.video.Rk.filter(function(z){return !z.Le;}).reduce(function(z,A){return z + A.iF;},0);x=this.audio.Rk.filter(function(z){return !z.Le;}).reduce(function(z,A){return z + A.iF;},0);return Math.min(y,x);};c.prototype.XVa=function(y,x,z){var A;A=y.Zja;A=A && A.l7;return !y.zi || 0 === y.Rk.length && (y.type === f.Rj.audio && this.JR || y.type === f.Rj.video && this.ZX)?!0:A && A.kC - x >= z || !1;};c.prototype.Tcb=function(y){this.S2b || (this.Scb(this.audio,y),this.Scb(this.video,y));this.closed || this.$Sa();};c.prototype.$Sa=function(){var y,x,z,A,B,D;A=!this.audio.zi || 0 !== this.audio.cv.length;B=0 === this.video.Rk.length && this.ZX;D=!this.video.zi || 0 !== this.video.cv.length;!(0 === this.audio.Rk.length && this.JR && D || B && A) || (null === (y=this.audio.zi) || void 0 === y?0:y.uh()) || (null === (x=this.video.zi) || void 0 === x?0:x.uh()) || this.Nka || !(this.$.readyState > u.om.gP.HAVE_NOTHING) || this.$i.l6 || (this.Nka=!0,null === (z=this.Kb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Scb=function(y,x){var z,A,B,D;if(!this.closed && y.zi){A=y.zi;B=y.cv;!A.uh() && 0 < B.length && (y.Zja=B[B.length - 1]);if(y.Sva){if(A.uh())return;y.Sva=!1;D=null === (z=this.Kb) || void 0 === z?void 0:z.RZa().N7a(q.sm);D && 0 < D && A.remove(0,D);}for(z=y.Rk[0];z && z.response && (z.Le || z.ZM - x <= this.py);){if((this.Nka=!1,this.r4b(z)))(y.Rk.shift(),z=y.Rk[0]);else break;}!A.uh() && 0 < B.length && (y.Zja=B[B.length - 1]);}};c.prototype.r4b=function(y){var x,z,A;!1;(0,g.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.VH[z];if(!this.closed && A.zi && !A.zi.uh()){try{y.Le && y.profile && A.zi.rvb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.zi.nRa(x,y);y.Le || A.cv.push(this.Yyb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.s3=this.j.s3?this.j.s3 + 1:1,this.YRa=!1,A.IM=!0):(this.log.error("Exception while appending media",y,B),this.od("CodecSwitchingError" === B.name?d.U.oIa:d.U.clb,(0,p.T4)(z)));return;}return !0;}};c.prototype.Qyb=function(y){var x;if(w.mea[y.Ub])return w.mea[y.Ub];x=this.j.b0a(y.Pc);x || (this.log.warn("Could not find CDN",{cdnId:y.Pc}),x={id:y.Pc,x3a:y.location});return x;};c.prototype.PUa=function(y){var x,z;x=y.Ub;if(w.nea[x])return w.nea[x];y.mediaType === v.v.ea?z=this.j.Y_a(x):y.mediaType === v.v.Y && (z=this.j.m0a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.Yyb=function(y){var x;x=this.PUa(y);return {l7:y,stream:x,hK:{startTime:Math.floor(y.ZM),endTime:Math.floor(y.kC)},Bc:this.Qyb(y)};};c.prototype.Gia=function(y){this.fTa(y,v.v.ea);this.fTa(y,v.v.Y);};c.prototype.fTa=function(y,x){var z,A,B,D,C,F,G,E,J;z=this;A=y;this.YRa && (A-=l.config.yua);B=this.VH[x];D=B.cv;G=!1;D.some(function(M,L){var H;H=M.l7;if(y < H.ZM)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);A >= H.kC && (C=L);if(y < H.kC)return (F=L,L=x === v.v.ea?z.j.sf:z.j.Ud,M !== L.value && (L.set(M),G=!0),!0);});if((B.IM || G) && void 0 !== C && !this.Nka){if(C + 1 === F){if(0 === C)return;C--;}E=D[C].l7.kC - 1;if(0 < E){J=B.zi;J && !J.uh()?(J.remove(0,E / k.Pr),B.IM=!1,D.splice(0,C + 1)):(B.IM=!0,!1);}}};c.prototype.K9a=function(){!1;[this.audio,this.video].forEach(function(y){y.cv=[];y.Zja=void 0;y.Rk=[];});this.ZX=this.JR=!1;this.j.fireEvent(n.fa.g7);};c.prototype.Ana=function(){return [this.audio,this.video].filter(function(y){return y.zi;});};c.prototype.PGb=function(){var y,x;if(this.uh())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.Ana().map(function(z){var A,B,D,C,F;C=z.Rk.filter(function(G){return G.et;});F=z.zi.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.ZM;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.kC) && void 0 !== D?D:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ca(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ca(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Lb)(x),end:(0,q.Lb)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.uh(),"should not be busy while skipping");this.Ana().forEach(function(x){x.IM=!0;});this.Gia(y);this.Ana().forEach(function(x){0 < x.cv.length || (x.Rk=x.Rk.filter(function(z){return z.Le || z.kC > y?!0:!1;}));});};b.FGa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nca="MediaElementHelpersSymbol";},50093:function(r,b,a){var l,f,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(5163);l=a(4203);f=a(33096);a=a(22674);c.prototype.Qs=function(){return this.SMb()?f.fCa:(/widevine/i).test(this.config().Tl)?f.Dba:(/fps/i).test(this.config().Tl)?"fairplay":f.dZ;};c.prototype.SMb=function(){return (/clearkey/i).test(this.config().Tl);};h=c;h=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.ac))],h);b.MGa=h;},90762:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function l(v,y,x,z){var A,B;A=this;this.j=v;this.type=y;this.log=z;this.V0=new d.Hb(!1);this.KD={data:[],state:"",operation:""};this.error=void 0;this.mimeType=this.nXa((this.type === w.v.Y?this.j.Ng.value:this.j.tc.value).streams);this.Tj=new g.Qj();this.Rfa={Type:this.type};if(h.config.GB){B=!0;this.Ila=new d.Hb(!1);}this.log.trace("Adding source buffer",this.Rfa,{TypeId:this.mimeType});this.Qc=x.addSourceBuffer(this.mimeType);this.Qc.addEventListener("updatestart",function(){!1;A.KD.state="updatestart";});this.Qc.addEventListener("update",function(){!1;A.KD.state="update";});this.Qc.addEventListener("updateend",function(){var D;!1;A.V0.set(!1);A.WNa && A.WNa();A.KD.state="updateend";D=0;try{D=A.Qc.buffered.length;}catch(C){}B && D && (B=!1,A.Ila.set(!0),!1);});this.Qc.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(F){}v.od(k.U.dlb,(0,f.T4)(A.type));});this.Qc.addEventListener("abort",function(){!1;});v.addEventListener(q.fa.closed,function(){A.Qc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Lgb=b.Oca=void 0;f=a(93294);h=a(29204);d=a(81734);g=a(94886);m=a(31276);a(24550);k=a(36129);a(5021);n=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);w=a(60328);l.prototype.uh=function(){return this.V0.value;};l.prototype.updating=function(){return this.Qc?this.Qc.updating:!1;};l.prototype.T9=function(v){this.WNa=v;};l.prototype.qma=function(){return this.KD;};l.prototype.buffered=function(){return this.Qc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.mma=function(){var v,z,A;try{v=this.Qc.buffered;if(v){for(var y=[],x=0;x < v.length;x++){z=1E3 * v.start(x);A=1E3 * v.end(x);(0,n.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.G4=function(){var v,y;v=this.mma();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=v.reduce(function(x,z){return x + z.end - z.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:v.join("|")};}};l.prototype.nRa=function(v,y){!1;try{(0,n.oa)(this.Qc.buffered && 1 >= this.Qc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.G4()));}catch(x){}(0,n.oa)(!this.uh());this.vab("append",v);y=y && y.W8 / 1E3;(0,p.sb)(y) && this.Qc.timestampOffset !== y && (!1,this.Qc.timestampOffset=y);this.Qc.appendBuffer(v);!1;this.V0.set(!0);};l.prototype.remove=function(v,y){(0,n.oa)(!this.uh());try{this.vab("remove");!1;this.Qc.remove(v,y);this.V0.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Rfa);}};l.prototype.vab=function(v,y){this.KD.data=y || [];this.KD.state="init";this.KD.operation=v;};l.prototype.oab=function(v,y){this.pOb=v / y * 1E3;};l.prototype.rvb=function(v){var y;if(this.Qc){if((v=this.nXa([{type:this.Wwb,Fd:v}]),v !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Qc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Qc.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Rfa,{From:y,To:v}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(v,y){!y || y.Le?this.nha(v,y):this.pha(v,y);return !0;};l.prototype.nha=function(v,y){this.j.ie.nha(this,v,y || ({}));};l.prototype.pha=function(v,y){v=this.Qwb(v,y);!1;this.j.ie.pha(v);};l.prototype.Qwb=function(v,y){var x;x=this.pOb || 0;return {xj:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.pc.jc.DONE,ZM:y.ab,kC:y.ab + y.duration,iF:y.duration,W8:x,Bs:y.Bs,I:y.I,Ub:y.Ub,Pc:+y.Pc,location:y.location,H2:y.offset,G2:y.offset + y.xa - 1,bitrate:y.bitrate,response:v,UKb:v && 0 < v.byteLength,et:!0,get Le() {return !this.et;},u$a:this.jj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Le,ptsStart:this.ZM,ptsOffset:this.W8,responseType:this.rbc,duration:this.iF,readystate:this.og};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var v;this.j.sE("EndOfStream");null === (v=this.j.ie) || void 0 === v?void 0:v.T7(this.mediaType);return !0;};l.prototype.abb=function(v){this.Rpb=v;};l.prototype.addEventListener=function(v,y,x){this.Tj.addListener(v,y,x);};l.prototype.removeEventListener=function(v,y){this.Tj.removeListener(v,y);};l.prototype.nXa=function(v){var y;y=m.za.get(u.XP);return this.type === w.v.Y?y.l3(v):y.f3(v);};Xa.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},bbb:{configurable:!0,enumerable:!0,get:function(){return this.Rpb;}},Wwb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Oca=l;ea(c,Error);b.Lgb=c;},73056:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N;function c(I){var K;K=this;this.j=I;this.Kb=this.j.Kb;this.log=(0,k.Kh)(this.j,"MediaPresenterASE");this.J7=this.r3=0;this.$=this.Kb.$;this.zy=new H.nNa(this.$,this.j);this.q7a=this.g7a=this.m6=this.Nsa=!1;this.J6=new Set();this.V2b=k.za.get(B.Iz)((0,A.Lb)(x.W_));this.VJ=void 0;this.$i=k.za.get(C.ALa)(this.j);this.fw={};this.E4a={};this.IT={};this.zg=new G.FGa(this.j,this.$i);this.T2b=function(){var O,R,Y;K.j.pX=(0,m.Hn)();if(!K.Sl() && K.qB){O=K.Kb.w_a();O || (K.QUb(),K.zg.Tcb(K.mediaTime));K.j.paused.value || !K.zg.Yja(K.mediaTime) || !K.eia() || O || K.$i.l6?K.Kua():K.Nsa || K.Lua();K.PUb();if(!K.Kb.w_a() && !K.m6){O=K.Kb.fL(!0);R=K.j.lb.value;Y=K.Gwb();R !== Y && !1;Y === v.bb.bq?(K.mediaTime=K.j.Ip.ba(A.na),K.Kua()):Y !== v.bb.Ff && K.e5b(O);K.zdb();K.zg.Gia(K.mediaTime);K.j.lb.set(Y);Y !== v.bb.Ff || R !== v.bb.me && R !== v.bb.Uh || K.Rra();}}};this.fl=(0,F.n8a)(this.T2b);this.mediaTime=I.ab;this.j.Hh=!1;this.Kb.addEventListener(z.ej.Tab,function(){if(K.Uab){K.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{K.va();}catch(O){K.log.error("Exception while initializing",O);K.od(n.U.Rkb);}}});this.Kb.addEventListener(z.ej.g3a,function(O){O=O.J;K.Uab?K.j6a(O):K.J6.add(O);});}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;l=a(33096);f=a(29204);h=a(13044);d=a(37509);g=a(52569);m=a(24066);k=a(31276);a(24550);n=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);w=a(32219);v=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);D=a(4246);C=a(65106);F=a(97368);G=a(33059);E=a(36418);J=a(28048);M=a(22365);L=a(60328);H=a(49587);N=a(63156);c.prototype.gXb=function(I){var K,O,R;K=this;if(this.zy.paused){O=Math.ceil(I.nMb);R=function(Y){K.$i.Ay?K.$i.Ay.time=Y:K.H4a=Y;};O > (this.$i.Ay?this.$i.Ay.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",O),R(O));I.Wla && (this.log.trace("ptsChanged forcedTimestamp",I.Wla),R(I.Wla));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.kZa=function(){return this.Kb.fL(!1);};c.prototype.O4=function(){return this.Kb.O4();};c.prototype.mv=function(){return this.Kb.mv();};c.prototype.CF=function(){return this.Kb.CF();};c.prototype.kT=function(){return this.Kb.kT();};c.prototype.va=function(){var I,K;I=this;this.log.trace("Video element initializing");this.Kb.sourceBuffers.forEach(function(O){return I.zg.s0b(O);});this.j.fG?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (K=this.j.Xa) || void 0 === K?void 0:K.N3(this.j.O));0 < this.J6.size && setTimeout(function(){I.log.trace("Notifying about licenses that were added before source buffers created");Array.from(I.J6).forEach(function(O){I.J6.delete(O);I.j6a(O);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.QQa)(this.$,"loadedmetadata",function(){I.log.trace("Video element event: loadedmetadata");I.j.je("md");});d.fe.addListener(d.Jk,this.IT[d.Jk]=function(){return I.close();},l.MI);this.j.addEventListener(v.fa.sg,function(){return I.close();},l.MI);this.j.addEventListener(v.fa.f$a,function(){return I.Lua();});this.j.addEventListener(v.fa.qG,function(){return I.oTb();});this.j.paused.addListener(function(){return I.fl();});this.j.muted.addListener(function(){return I.Cxa();});this.j.volume.addListener(function(){return I.Cxa();});this.j.playbackRate.addListener(function(){return I.lO();});this.j.tq.addListener(function(){return I.fl();});this.j.em.addListener(function(){return I.fl();});this.Cxa();this.lO();this.zg.T9(function(){return I.h7();});this.h7();this.k4b();};c.prototype.j6a=function(I){var K;this.j.je("ld",I);null === (K=this.j.Xa) || void 0 === K?void 0:K.N3(I);this.j.fireEvent(v.fa.d3a);};c.prototype.pha=function(I){var K;K=this;!1;this.zg.csb(I);this.qvb(I).then(function(){K.h7();K.j.fireEvent(v.fa.g7);}).catch(function(O){K.od(n.U.Vkb,{Jb:(0,t.we)(O)});});};c.prototype.nha=function(I,K,O){O=void 0 === O?{}:O;K=this.oCb(I,K);this.zg.bsb(I,K,O);this.h7();this.g7a || I.type !== L.v.Y || (this.$i.l6 || this.seek(this.j.ab,v.Zc.Nr),this.g7a=!0);};c.prototype.k4b=function(){var I;I=this;this.Kb.addEventListener(z.ej.GW,this.fw[z.ej.GW]=function(){return I.ETb();});this.Kb.addEventListener(z.ej.Kn,this.fw[z.ej.Kn]=function(){return I.c8();});this.$.addEventListener("ended",this.fw.ended=function(){return I.iTb();});this.$.addEventListener("play",this.fw.play=function(){return I.Nra();});this.$.addEventListener("pause",this.fw.pause=function(){return I.Mra();});this.$.addEventListener("playing",this.fw.playing=function(){return I.Pra();});this.qB=!0;this.zg.Tcb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.je("vi");f.config.EVa?setTimeout(function(){I.yra=!0;I.fl();},f.config.EVa):this.yra=!0;this.N1b();this.j.fd.ha && this.O1b();(0,w.Mf)(function(){return I.fl();});};c.prototype.N1b=function(){var O;function I(){var R;O.j.lb.value !== v.bb.me || 0 !== (null === (R=O.j.ie) || void 0 === R?void 0:R.O4()) || M.Pg.hidden?(O.H5a.Up(),R="stopTimer"):(O.H5a.SA(),R="ensureTimer");O.log.trace("No render timer update: " + R,{presentingState:v.bb[O.j.lb.value],hidden:M.Pg.hidden});}function K(R){var Y,oa;R=void 0 === R?!0:R;Y=O.j.Xa;oa=(null === Y || void 0 === Y?void 0:Y.Fh) && Y.e0a();O.j.lb.value == v.bb.Ff && O.j.state.value == v.Vb.$d && O.j.tq.value == v.wf.$d && O.j.em.value == v.wf.$d && !O.j.Hh && oa?(R && O.t3.Up(),O.t3.SA(),Y="ensureTimer"):(O.t3.Up(),Y="stopTimer");O.log.trace("Timer update: " + Y,{presentingState:v.bb[O.j.lb.value],playbackState:v.Vb[O.j.state.value],avBufferingState:v.wf[O.j.tq.value],textBufferingState:v.wf[O.j.em.value],autoplayWasBlocked:O.j.Hh,hasLicense:oa,restartTimer:R});}O=this;f.config.pVa && ((0,q.oa)(!this.t3),this.t3=k.za.get(D.$P)(f.config.pVa,function(){var R;R=k.za.get(p.xba).OVa(O.j);O.od(R.code,R);}),this.j.lb.addListener(function(){return K();}),this.j.tq.addListener(function(){return K();}),this.j.em.addListener(function(){return K();}),this.j.state.addListener(function(){return K();}),this.j.addEventListener(v.fa.d3a,function(){return K();}),this.j.addEventListener(v.fa.Hh,function(){return K();}),this.j.addEventListener(v.fa.Jha,function(){return K();}),this.j.addEventListener(v.fa.pC,function(){return K(!0);}),K());f.config.G5a && (this.H5a=k.za.get(D.$P)(f.config.G5a,function(){var R;0 === (null === (R=O.j.ie) || void 0 === R?void 0:R.mv()) && (R=k.za.get(p.xba).OVa(O.j),O.od(R.code,R));O.j.lb.removeListener(I);d.fe.removeListener(d.Kq,O.IT[d.Kq]);}),this.j.lb.addListener(I),d.fe.addListener(d.Kq,this.IT[d.Kq]=I),I());};c.prototype.O1b=function(){var O;function I(){var R,Y,oa,ka;O.Qxa.Up();oa=O.Kb.sourceBuffers.find(function(ha){return ha.mediaType === L.v.Y;});oa=null !== (R=null === oa || void 0 === oa?void 0:oa.mma()) && void 0 !== R?R:[];if(1 < oa.length){ka=O.j.lb.value == v.bb.me;R=(null === (Y=O.$) || void 0 === Y?void 0:Y.readyState) === N.om.gP.HAVE_CURRENT_DATA;Y=K(oa,O.mediaTime);ka && R && Y?(O.Qxa.SA(),ka="ensureTimer"):ka="stopTimer";O.log.trace("Video Gaps Monitor Timer update: " + ka,{presentingState:v.bb[O.j.lb.value],mediaTime:O.mediaTime,bufferedRanges:JSON.stringify(oa),nextRange:JSON.stringify(Y),readyStateIsStalled:R});}}function K(R,Y){return R.find(function(oa,ka){if(Math.abs(Y - oa.end) < Math.abs(Y - oa.start))return !1;oa=oa.end - oa.start;return ka !== R.length - 1 && oa < f.config.YL?!1:!0;});}O=this;f.config.jeb && ((0,q.oa)(!this.Qxa),this.Qxa=k.za.get(D.$P)(f.config.jeb,function(){var R,Y;Y=O.Kb.sourceBuffers.find(function(oa){return oa.mediaType === L.v.Y;});Y=null !== (R=null === Y || void 0 === Y?void 0:Y.mma()) && void 0 !== R?R:[];if(R=K(Y,O.mediaTime))(O.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(Y)}),O.seek(R.start,v.Zc.Nw));}),this.j.lb.addListener(function(){return I();}),this.j.mediaTime.addListener(function(){return I();}),I());};c.prototype.oCb=function(I,K){var O;O=this.j.de;(O=(0,J.Moa)(O)?O.hL():void 0) && I.type === L.v.Y && ((I=new E.oP(this.log,{mediaType:L.v.Y,url:"http://some-url"},K).Ha(O))?K=I:!1);return K;};c.prototype.h7=function(){this.qB && this.fl();this.zg.$Sa();};c.prototype.V1b=function(){!1;this.j.lb.set(v.bb.Ff);this.m6=!0;this.fl();};c.prototype.Dwb=function(){var I;I=this;this.m6 && (!1,this.m6=!1,(0,w.Mf)(function(){return I.seek(I.j.cB() || 0,v.Zc.g0);}));};c.prototype.F4=function(){return this.zg.F4();};c.prototype.T7=function(I){var K;K=this;this.zg.v0b(I);(0,w.Mf)(function(){return K.fl();});};c.prototype.WHb=function(){return {r3:this.r3,J7:this.J7};};c.prototype.qvb=function(I){var K;K=this.Kb && this.Kb.RZa();(0,q.oa)(this.j.Ip,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Ip && K && (I=Infinity !== I.u$a?I.u$a + I.W8:I.kC,I > this.j.Ip.N7a(A.na) && (this.j.Ip=(0,A.Lb)(I)));return Promise.resolve();};c.prototype.PUb=function(){var I,K;I=this;this.$i.u8 && (!1,this.eia() && this.zg.Yja(this.mediaTime) && (this.Kb.seek(null !== (K=this.H4a) && void 0 !== K?K:this.mediaTime),this.H4a=void 0,this.$i.u8=!1,(0,w.Mf)(function(){return I.fl();})));};c.prototype.e5b=function(I){var K;if(I < this.mediaTime){K=this.mediaTime - I;f.config.RUb && I && K > x.W_ && (I={ElementTime:(0,u.kh)(I),MediaTime:(0,u.kh)(this.mediaTime)},K > x.QKa?this.od(n.U.elb,{Jb:Object.assign({Trace:this.Kb.eB()},I)}):this.log.warn("VIDEO.currentTime became smaller",I));}else this.mediaTime=(0,u.Jw)(I,0,this.j.Ip.ba(A.na));};c.prototype.eia=function(){return this.j.tq.value === v.wf.$d && this.j.em.value === v.wf.$d;};c.prototype.Gwb=function(){var I,K,O;I=this;K=this.j.lb.value;O=K;this.$i.l6?O=v.bb.Ff:this.$ && this.$.ended?K === v.bb.me && (O=v.bb.bq):this.eia() && this.zg.Yja(this.mediaTime)?this.Kb.yBb()?O=this.zy.paused?v.bb.Uh:v.bb.me:this.V2b.Yi(function(){return I.U2b();}):O=this.j.Ip?this.j.c0a(this.mediaTime,this.zg.q3())?v.bb.Ff:v.bb.bq:v.bb.Ff;return O;};c.prototype.Rra=function(){var I;if(this.j.lb.value === v.bb.Ff){I=this.zg.G3b() > this.zg.q3();this.j.em.value !== v.wf.$d?this.j.Yh.value?(this.j.fireEvent(v.fa.px,{cc:h.CJa}),this.log.warn("rebuffer due to timed text",this.j.Yh.value.yg)):this.j.fireEvent(v.fa.$N):I?(this.r3++,this.j.fireEvent(v.fa.px,{cc:h.zda})):(this.J7++,this.j.fireEvent(v.fa.px,{cc:h.Ada}));}};c.prototype.U2b=function(){this.Sl() || (f.config.ySb && this.zg.xSb(),this.fl());};c.prototype.ETb=function(){this.fl();};c.prototype.c8=function(){this.fl();this.j.fireEvent(v.fa.Kn);};c.prototype.iTb=function(){this.log.trace("Video element event: ended");this.fl();};c.prototype.Nra=function(){this.log.trace("Video element event: play");this.fl();};c.prototype.Mra=function(){this.log.trace("Video element event: pause");this.zy.Mra();this.fl();};c.prototype.Pra=function(){this.log.trace("Video element event: playing");this.zy.Nra();this.fl();};c.prototype.Cxa=function(){this.Sl() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.lO=function(){!this.Sl() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.Lua=function(){var I;I=this;!this.Sl() && (0,y.Uc)(this.$) && !this.$.ended && this.yra && this.zy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.zy.play()).then(function(){I.closed || (I.Nsa=!1,I.$.style.display=null,I.j.Hh=!1,I.j.fireEvent(v.fa.Jha));}).catch(function(K){"NotAllowedError" === K.name?(I.log.warn("Playback is blocked by the browser settings",K),I.j.Hh=!0,I.closed || (I.Nsa=!0,I.$.style.display="none",I.j.fireEvent(v.fa.Hh,{player:{play:function(){return I.Lua();}}}))):I.closed || I.q7a || (I.q7a=!0,I.log.error("Play promise rejected",K));}));};c.prototype.oTb=function(){this.$i.S2a=this.j.cB() || 0;};c.prototype.Kua=function(){this.Sl() || !(0,y.Uc)(this.$) || this.$.ended || !this.yra || this.zy.paused || (this.log.trace("Calling pause on element"),this.zy.pause());};c.prototype.zdb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.qFb();};c.prototype.seek=function(I,K,O,R){var Y,oa;O=void 0 === O?this.j.I:O;R=void 0 === R?!1:R;oa=null === (Y=this.j.Xa) || void 0 === Y?void 0:Y.Fh;!this.Sl() && oa && (this.j.fireEvent(v.fa.pC,{cc:K}),this.$i.Ay={time:I,cc:K,I:O,BFb:R},this.j.lb.set(v.bb.Ff),this.fl());};c.prototype.QUb=function(){var I,K,O,R,Y,oa,ka,ha;if(this.$i.Ay){I=this.$i.Ay;K=I.time;O=I.cc;R=I.I;Y=I.BFb;if(!this.zg.uh() || O === v.Zc.Nr){I=this.j.ei(R).O;oa=this.zg.uh()?void 0:this.zg.PGb();oa=this.$i.EIb(K,O,R,Y,oa);R=oa.L7;Y=oa.Bs;ka=oa.sVb;oa=oa.bi;this.zg.Gia(this.mediaTime);ha=this.mediaTime;K=(0,u.kh)(K);this.j.sE("SEEKING: Requested: (" + I + ":" + O + ":" + K + ") - Actual: (contentPts: " + Y + ",playerPts: " + (ka + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:K,Actual:(0,u.kh)(R),Cause:O,Skip:oa});O === v.Zc.Nr || oa || (this.zg.K9a(),this.zg.o0b());this.mediaTime=R;this.$i.S2a=Y;K=this.j.sf.value;ka=this.j.Ud.value;this.j.sf.set(null);this.j.Ud.set(null);this.zdb(!0);this.$i.Ay=void 0;this.$i.u8=!0;this.j.fireEvent(v.fa.Dj,{zra:ha,L7:R,Bs:Y,cc:O,skip:oa,sf:K,Ud:ka,O:I});oa && this.zg.skip(R);}}};c.prototype.od=function(I,K,O){this.closed || this.j.od(I,K,O);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.zg.close();this.Kb.removeEventListener(z.ej.GW,this.E4a[z.ej.GW]);this.Kb.removeEventListener(z.ej.Kn,this.E4a[z.ej.Kn]);this.$.removeEventListener("ended",this.fw.ended);this.$.removeEventListener("play",this.fw.play);this.$.removeEventListener("pause",this.fw.pause);this.$.removeEventListener("playing",this.fw.playing);this.zy.close();d.fe.removeListener(d.Jk,this.IT[d.Jk]);d.fe.removeListener(d.Kq,this.IT[d.Kq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.Kua();this.Kb.close();}catch(I){}this.$=void 0;this.zg.K9a();}};c.prototype.Sl=function(){return this.closed?!0:(0,y.Uc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Xa.Object.defineProperties(c.prototype,{Uab:{configurable:!0,enumerable:!0,get:function(){var I,K;I=this;return !(null === (K=this.j.Xa) || void 0 === K || !K.Ef) && [].concat(ca(this.j.Xa.Ef)).every(function(O){return I.Kb.sourceBuffers.find(function(R){return R.mediaType === O;});});}}});b.VGa=c;},93294:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.QKa=b.W_=b.T4=void 0;c=a(60328);l=a(36129);b.T4=function(f){return f === c.v.ea?l.R.Jca:l.R.Kca;};b.W_=50;b.QKa=1E3;},53754:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p){var u,t;function q(){u.eR=new k.JMa();return u.eR;}(0,l.Ri)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.xIb();u.XOa=t;u.readyState=n.jc.CLOSED;u.addSourceBuffer=function(w){return w === m.v.Ka?q():t.addSourceBuffer(w);};u.xR=function(w){w.includes(m.v.Ka) && q();return t.xR(w);};u.removeSourceBuffer=function(w){if(w.mediaType === m.v.Ka)u.eR=void 0;else return ((0,g.oa)(w.mediaType === m.v.Ka,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(w));};u.Hs=function(w){u.eR=void 0;t.Hs(w);};u.duration=void 0;this.readyState=n.jc.OPEN;this.Kf=f.za.get(h.mh).RB(n.Kf,{});p=new d.EventEmitter();p.on("subtitleData",function(w){(0,g.oa)(t.j.Gb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Gb.value.Dta(w);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;l=a(31276);f=a(31276);h=a(74870);d=a(57055);g=a(45146);m=a(93161);k=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.eR?this.XOa.sourceBuffers.concat(this.eR):this.XOa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.jj;},set:function(p){var q;this.jj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.jj=q;});}});n={jc:{CLOSED:0,OPEN:1,bq:2,name:["CLOSED","OPEN","ENDED"]},Kf:{mwb:!0,LRb:!0}};b.$Ga=Object.assign(c,n);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.nea=b.mea=void 0;r=a(50954);a={};b.mea=(a[r.un]={id:-1,name:"hardcoded",ec:1,type:"hardcoded",x3a:"-1",lNb:!1,location:{id:"-1",ec:1,level:100,weight:1}},a);a={};b.nea=(a[r.un]={track:{type:"padding",trackId:"padding",Bh:"padding",Bf:"padding",dC:"other",se:"padding",nC:"padding",$F:"padding",yg:{}},type:"padding",Tb:"-1",bitrate:1,yb:100,Fd:"unknown",size:1,ska:{},yg:{},Gk:"",framerate:0,gi:!1,Ai:[],height:1,width:1},a);},6305:function(r,b,a){var l,f,h;function c(d,g,m,k,n,p,q,u,t,w,v){this.track=d;this.type=g;this.Tb=m;this.bitrate=k;this.yb=n;this.size=p;this.ska=q;this.Fd=u;this.framerate=t;this.gi=w;this.Ai=v;this.yg={Type:g,Bitrate:k,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Kgb=b.MediaStream=void 0;l=a(33096);f=a(32687);h=a(51344);c.prototype.toJSON=function(){return this.yg;};c.prototype.C0b=function(d,g,m,k){(0,f.Uc)(d) && (0,f.Uc)(g) && (this.width=d,this.height=g,(0,f.sb)(m) && (0,f.sb)(k) && (this.width=Math.round(m / k * d)),this.yg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.S_b=function(d,g,m,k,n,p){(0,f.Uc)(d) && (0,f.Uc)(g) && (0,f.Uc)(m) && (0,f.Uc)(k) && (this.Ija=d,this.YUa=g,this.XUa=m,this.WUa=k);(0,f.Uc)(n) && (0,f.Uc)(p) && (this.n7a=n,this.o7a=p);};b.MediaStream=c;b.Kgb=function(d,g,m,k,n){if(d == l.n_ || d === h.Rj.audio)return g;if(d == l.AP || d === h.Rj.video)return m;if(d == h.Rj.Swa)return k;if(d == h.Rj.fxa)return n;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rj={audio:"audio",video:"video",Swa:"timedtext",fxa:"trickplay"};},62439:function(r,b,a){var l,f,h,d,g,m,k;function c(n){var p,q,u,t;p=this;this.j=n;this.hS=void 0;this.jfa=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;;z-index:9999",void 0,{"class":"player-streams"});this.Yea=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Rea=(0,f.createElement)("DIV","width:100%;text-align:center");this.Nmb=this.afa("Audio Bitrate");this.vga=this.afa("Video Bitrate / VMAF");this.Vea=this.afa("CDN");this.OQ={};this.HT=h.za.get(d.qn);this.jfa.appendChild(this.Yea);this.Yea.appendChild(this.Rea);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Mmb.bind(this),!1);this.Rea.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.jga.bind(this),!1);this.Rea.appendChild(q);u=this.apb.bind(this);l.fe.addListener(l.gB,u);n.addEventListener(m.fa.qG,function(){p.OQ={};});n.addEventListener(m.fa.sg,function(){l.fe.removeListener(l.gB,u);});t=this.zpb.bind(this);n.Bc.forEach(function(w){w.addListener(t);});n.tc.addListener(t);n.Ng.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;l=a(37509);f=a(52569);h=a(31276);d=a(34231);g=a(43193);m=a(85001);k=a(60328);c.prototype.show=function(){this.iR || (this.DPa(),document.body.appendChild(this.jfa),this.iR=!0);};c.prototype.pv=function(){this.iR && (document.body.removeChild(this.jfa),this.iR=!1);};c.prototype.toggle=function(){this.iR?this.pv():this.show();};c.prototype.kdb=function(){var q,u,t,w;function n(v,y,x){var z,A,B;A=[];y.filter(function(D){return D.Fd === v;}).forEach(function(D){0 <= x.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,y,x){var z;z=[];y.filter(function(A){return A.Fd === v;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Cs();t=this.j.fB().sort(function(v,y){return v.bitrate - y.bitrate;});w=t.reduce(function(v,y){0 > v.indexOf(y.Fd) && v.push(y.Fd);return v;},[]).map(function(v){return {profile:v,ranges:n(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.Xa) || void 0 === q?void 0:q.Y9(w,this.j.O);};c.prototype.Mmb=function(){var q,u;this.OQ={};for(var n=this.vga.options,p=n.length;p--;){q=n[p];q.selected && (this.OQ[q.value]=1);}this.hS=this.bnb.bind(this);this.kdb();if(n=this.j.rg){u=this.Vea.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.Bc[k.v.Y].value;n && n != p && (n.SSa={testreason:"streammanager",selreason:"userselection"},this.j.Bc[k.v.Y].set(n));}this.pv();};c.prototype.jga=function(){this.hS=void 0;this.j.pab(this.j.O);this.pv();};c.prototype.bnb=function(){var n;n=this;return this.j.fB().filter(function(p){return n.OQ[p.bitrate];});};c.prototype.DPa=function(){var n,p,q,u;n=this;p=this.j.tc.value;q=this.j.Ng.value;u=this.j.rg;p && (u=u.slice(),u.sort(function(t,w){return t.ec - w.ec;}),this.mga(this.Nmb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.Sg.value};})));q && (this.mga(this.vga,q.streams.map(function(t){var w,v,y;w=n.j.jM.Ty(t);v=t.bitrate;t=t.yb;y="" + v;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:v,caption:y,selected:n.hS?n.OQ[v]:!w};})),this.vga.removeAttribute("disabled"));u && (this.mga(this.Vea,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Bc[k.v.Y].value};})),this.Vea.removeAttribute("disabled"));};c.prototype.zpb=function(){this.iR && this.DPa();};c.prototype.afa=function(n){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,f.createElement)("DIV",void 0,n);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Yea.appendChild(p);return q;};c.prototype.mga=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.apb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == g.vz.Jlb && this.HT.epa && this.toggle();};b.QJa=c;},79173:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;c=a(31276);l=a(61726);b.IKa=(function(){(0,c.Ri)("ProbeDownloader");return {bT:function(f){f={url:f.url,DWb:f};!1;l.He.GWb(f);}};})();},27758:function(r,b,a){var l,f,h,d,g,m,k;function c(){var n;n=new f.Qj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Ec.bind(this);this.l1=m++;this.Ei=(0,h.Ri)("ProbeRequest");this.qPa=l.IKa;(0,d.oa)(void 0 !== this.qPa);this.og=b.gj.jc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.gj=void 0;l=a(79173);f=a(94886);h=a(31276);d=a(45146);g=a(3887);m=0;(function(){function n(){return JSON.stringify({url:this.Xf,id:this.l1,affected:this.t0,readystate:this.og});}(0,g.Td)(c.prototype,{tM:function(p){this.og !== b.gj.jc.du && this.og !== b.gj.jc.DONE && (this.r1=p,p={url:this.Xf,affected:this.t0,probed:{requestId:this.l1,url:this.Xf,Pc:this.cR,groupId:this.R0}},200 <= this.r1 && 299 >= this.r1?(this.og=b.gj.jc.DONE,this.emit(b.gj.xk.LP,p)):(this.og=b.gj.jc.du,this.emit(b.gj.xk.Cz,p)));},rra:function(p){this.og !== b.gj.jc.du && this.og !== b.gj.jc.DONE && (this.r1=p,p={url:this.Xf,affected:this.t0,probed:{requestId:this.l1,url:this.Xf,Pc:this.cR,groupId:this.R0}},this.og=b.gj.jc.du,this.emit(b.gj.xk.Cz,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Xf=p;this.t0=q;this.cR=u;this.og=b.gj.jc.OPENED;this.qPa.bT(this);this.og=b.gj.jc.pu;return !0;},Ze:function(){!1;return !0;},xj:function(){return this.l1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.og;}},status:{get:function(){return this.r1;}},url:{get:function(){return this.Xf;}},Abc:{get:function(){return this.t0;}}});})();(function(n){n.xk={LP:"pr0",Cz:"pr1"};n.jc={UNSENT:0,OPENED:1,pu:2,DONE:3,du:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.gj=Object.assign(c,k);},59405:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);h=a(69484);a=a(11479);f.za.get(a.Sh).register(r.U.xEa,function(d){c.config.eGb && f.za.get(h.jDa).start();d(l.gg);});},91515:function(r,b,a){var l;function c(){this.mediaType=l.v.Ka;}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;l=a(93161);c.prototype.appendBuffer=function(){return !0;};c.prototype.oab=function(){};b.JMa=c;},49587:function(r,b){function a(c,l){this.j=l;this.MG=!0;this.L$=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.nNa=void 0;a.prototype.Nra=function(){this.MG && (this.MG=!1,this.j.paused.set(!1));};a.prototype.Mra=function(){this.MG || (this.MG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.MG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.L$?(this.L$=!0,Promise.resolve(null === (l=this.$) || void 0 === l?void 0:l.play()).then(function(){c.L$=!1;}).catch(function(f){var h;c.L$=!1;c.MG=!(null === (h=c.$) || void 0 === h || !h.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Xa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.MG;}}});b.nNa=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zo=b.Efb=void 0;b.Efb=a;b.Zo=new a();},70632:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(93161);f=a(51790);h=a(27758);d=a(90762);g=a(29204);m=a(33096);k=a(67263);n=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);w=a(59416);b=a(11479);v=a(13044);y=a(20318);x=a(2248);z=a(84408);q.za.get(b.Sh).register(r.U.vEa,function(A){var B,D,C,F,G,E,J,M,L;B=q.za.get(u.CHa).xzb();D=q.za.get(k.Bba).tI;C=q.za.get(f.XGa).fq;F=q.za.get(x.ih);G=q.za.get(z.kq);E={y8:(0,q.dT)("ASE"),psb:(0,q.dT)("JS-ASE",void 0,"Platform"),Ri:q.dT,storage:w.storage,KIb:t.zBa,getTime:p.Hn,p3:function(H){return F.decode(H).buffer;},Xja:function(H){return G.encode(H);},WL:{},fq:C,gj:h.gj,tI:D,MediaSource:n.$Ga,SourceBuffer:d.Oca,rT:function(){return [g.config.e2,g.config.i2,g.config.h2];},Cs:function(H){v.wn.forEach(function(N){N.pab(H);});}};D=new Promise(function(H){w.storage.load("nh",function(N){E.WL.nh=N.ia?N.data:void 0;H();});});C=new Promise(function(H){w.storage.load("lh",function(N){E.WL.lh=N.ia?N.data:void 0;H();});});J=new Promise(function(H){w.storage.load("gh",function(N){E.WL.gh=N.ia?N.data:void 0;H();});});M=new Promise(function(H){w.storage.load("sth",function(N){E.WL.sth=N.ia?N.data:void 0;H();});});L=new Promise(function(H){w.storage.load("vb",function(N){E.WL.vb=N.ia?N.data:void 0;H();});});Promise.all([D,C,L,M,J]).then(function(){return c.__awaiter(this,void 0,void 0,function N(){var I,K;return Ja(N,function(O){if(1 == O.Cv)return (I=a(92623)(E),y.Zo.$h=a(21457),y.Zo.$h.declare(l.Lf),y.Zo.$h.set(a(87141)(g.config),!0,(0,q.dT)("ASE")),Ma(O,l.nL(I),2));K=O.jY;K.open(y.Zo.$h,B);K.Q_b({audio:g.config.e2,video:g.config.i2,text:g.config.h2},{G:g.config.yua,xa:void 0});y.Zo.Rh=K;A(m.gg);O.Cv=0;});});}).catch(function(H){E.y8.error("Exception loading location history from local storage",H);});});},39480:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;c=a(33096);l=a(29204);f=a(24066);h=a(8825);d=a(22365);g=a(32219);m=a(32687);k=a(85001);b.FJa=function(n){var t,w,v,y,x,z;function p(){return n.state.value === k.Vb.LOADING || n.state.value === k.Vb.$d && n.lb.value === k.bb.Ff;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Mf)(u));}function u(){var A,B,D,C,F,G,E,J;A=(0,f.Hn)();B=t.value;D=B?B.progress:0;C=n.state.value == k.Vb.LOADING || p() && A - w > l.config.mub;if(C && n.state.value == k.Vb.$d){if(n.jf.value === k.wf.pLa)(F=D,G=!0);else {E=A;v=v || A;y=y || v + l.config.fRb + 1;(0,m.sb)(E) && (E=(0,d.Qr)(E,y),F=(0,d.sn)(1E3 * (0,h.Jw)((A - v) / (E - v),0,.99)) / 1E3);}if(F < D)if(D - F < l.config.bXb / 100)(F=D,x=void 0);else if(x){if(A - x > l.config.aXb){J=!0;x=void 0;}else F=D;}else (x=A,F=D);}else x=y=v=void 0;A=C?{vr:G,progress:F,cXb:J}:null;(!A || !t || !B || (0,m.sb)(A.progress) && !(0,m.sb)(B.progress) || (0,m.sb)(A.progress) && (0,m.sb)(B.progress) && .01 < (0,d.o_)(A.progress - B.progress) || A.vr !== B.vr) && t.set(A);}t=n.hia;w=0;n.state.addListener(function(){q();u();},c.bda);n.lb.addListener(function(A){if(A.oldValue !== k.bb.Ff || A.newValue !== k.bb.Ff)w=(0,f.Hn)();q();});n.jf.addListener(function(){q();});n.tq.addListener(function(){q();});n.em.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var l,f;function c(h,d){var g;g=b.wn[0];g == d && (g=b.wn[1]);g?g.close(function(){c(h,d);}):h && h(l.gg);}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=b.CJa=b.zda=b.Ada=b.Dz=b.Bda=b.DJa=b.Eda=b.Dda=b.wn=b.GJa=b.Cda=void 0;l=a(33096);f=a(45146);b.Cda=c;b.GJa=function(h,d){switch(h){case b.DJa:b.Dda.push(d);return;case b.Bda:b.Eda.push(d);return;}(0,f.oa)(!1);};b.wn=[];b.Dda=[];b.Eda=[];b.DJa=1;b.Bda=3;b.Dz={index:0,m5a:void 0,Lla:void 0};b.Ada="network";b.zda="media";b.CJa="timedtext";b.EJa="playback";},30689:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);b=a(11479);h=a(66476);f.za.get(b.Sh).register(r.U.CEa,function(g){var m,k,n;if(c.config.gr){m=(0,f.Ri)("PlayerPredictionModel");k=f.za.get(h.AD);n=a(99886);m.log=m.trace.bind(m);d=new n({},m,{pW:function(){},NYb:function(){}},k,{VG:function(){}});nb._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}g(l.gg);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ipa=b.localStorage=b.$Lb=b.indexedDB=b.tHa=b.jp=b.Az=b.zz=b.URL=b.w_=b.Yjb=b.EGa=b.DGa=b.o_=b.p_=b.Ew=b.Qr=b.sn=b.Pjb=b.II=b.nMa=b.zBa=b.lkb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.jx=b.Xjb=b.Pg=b.ju=b.uHa=b.ku=b.v_=b.pD=void 0;r=nb;b.Be=r.navigator;b.pD=null === b.Be || void 0 === b.Be?void 0:b.Be.userAgent;b.v_=r.location;b.ku=r.screen;b.uHa=r.devicePixelRatio;b.ju=r.performance;b.Pg=r.document;b.Xjb=b.Pg.documentElement;b.jx=Array.prototype;b.sort=b.jx.sort;b.map=b.jx.map;b.slice=b.jx.slice;b.every=b.jx.every;b.reduce=b.jx.reduce;b.filter=b.jx.filter;b.forEach=b.jx.forEach;b.pop=b.jx.pop;b.lkb=Object.create;b.zBa=Date.now;b.nMa=String.fromCharCode;b.II=Math.floor;b.Pjb=Math.ceil;b.sn=Math.round;b.Qr=Math.max;b.Ew=Math.min;b.p_=Math.random;b.o_=Math.abs;b.DGa=Math.pow;b.EGa=Math.sqrt;b.Yjb=r.escape;b.w_=r.unescape;b.URL=r.URL || r.webkitURL;b.zz=r.MediaSource || r.WebKitMediaSource;b.Az=r.webkitCrypto || r.msCrypto || r.crypto;b.jp=b.Az && (b.Az.webkitSubtle || b.Az.subtle);b.tHa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.$Lb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Ipa=a || "noex";}},59416:function(r,b,a){var c,l,f,h,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);l=a(33096);f=a(50350);r=a(36129);h=a(75876);d=a(19630);g=a(31276);a=a(11479);b.storage=b.storage || void 0;g.za.get(a.Sh).register(r.U.DEa,function(m){var k;switch(c.config.b2b){case "idb":k=h.lbb;break;case "none":k=f.nbb;break;case "ls":k=d.mbb;}k(function(n){n.ia?(b.storage=n.storage,m(l.gg)):m(n);});});},75876:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.lbb=void 0;c=a(31276);l=a(17892);f=a(74870);h=a(6675);b.lbb=function(d){c.za.get(l.nw).create().then(function(g){d({ia:!0,storage:new h.tca(g,c.za.get(f.mh))});}).catch(function(g){d(g);});};},19630:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.mbb=void 0;c=a(6675);l=a(31276);f=a(56278);h=a(74870);b.mbb=function(d){d({ia:!0,storage:new c.tca(l.za.get(f.NFa),l.za.get(h.mh))});};},50350:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.nbb=void 0;c=a(33096);l=a(31276);f=a(36129);a(3887);b.nbb=function(h){var d;(0,l.Ri)("Storage");d={};h({ia:!0,storage:{load:function(g,m){var k;if(d.hasOwnProperty(g)){k=d[g];!1;m({ia:!0,data:k,p$:g});}else (!1,m({ya:f.R.Ow}));},save:function(g,m,k,n){k && d.hasOwnProperty(g)?n({ia:!1}):(d[g]=m,!1,n && n({ia:!0,p$:g}));},remove:function(g,m){delete d[g];!1;m && m(c.gg);}}});};},50040:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.DH=void 0;c=a(33096);l=a(29204);f=a(37509);h=a(24066);d=a(36129);g=a(45146);m=a(31276);k=a(3887);n=a(22365);p=a(59416);q=a(32687);r=a(11479);m.za.get(r.Sh).register(d.U.EEa,function(u){var v,y,x;function t(){var z;t=c.Iw;z=setInterval(w,l.config.pPb);f.fe.addListener(f.Jk,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,k.Zf)(y,function(B,D){localStorage.removeItem(D.Vq);}),clearInterval(z));},c.MI);}function w(){var z;z=(0,h.Xia)();(0,k.Zf)(y,function(A,B){!1;A=localStorage.getItem(B.Vq);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.Vq,JSON.stringify(A));});}(0,g.oa)(p.storage);v=(0,m.Ri)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.DH={Lu:function(z,A,B){var C,F,G,E,J,M,L,H,N,I;function D(K){localStorage.setItem(G,JSON.stringify(K));K={Vq:G};y[G]=K;v.trace("Lock acquired",{Name:K.Vq});t();A({ia:!0,R6:K});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,h.Xia)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){J=localStorage.getItem(G);M=0;L=JSON.parse(J);(0,q.BB)(L.updated) && (M=L.updated);H=(0,n.o_)(F - M) * c.Pr;N=x === L.sessionId;if(H < l.config.A3a){if(N)(L.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=F,D(L));else if(B){I=l.config.A3a - H + c.Pr;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:F,LockEpoch:M,waitTimeoutMs:I});nb.setTimeout(function(){return C.Lu(z,A,!1);},I);}else A({ia:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:M}),D(E));}else D(E);}catch(K){v.error("Error acquiring Lock",{errorSubCode:d.R.ml,errorDetails:(0,k.we)(K)});A({ia:!0});}}else (n.Ipa?v.error("Local storage access exception",{errorSubCode:d.R.bmb,errorDetails:(0,k.we)(n.Ipa)}):v.error("No localstorage",{errorSubCode:d.R.cmb}),A({ia:!0}));},release:function(z,A){var B,D;(0,g.oa)(y[z.Vq] == z);if(localStorage){try{B=localStorage.getItem(z.Vq);D=JSON.parse(B);D && 1 < D.count?(--D.count,localStorage.setItem(z.Vq,JSON.stringify(D)),v.trace("Lock count decremented",{Name:z.Vq,count:D.count})):(localStorage.removeItem(z.Vq),delete y[z.Vq],v.trace("Lock released",{Name:z.Vq}));}catch(C){v.error("Unable to release Lock",{Name:z.Vq},C);}A && A(c.gg);}}};l.config.W3?b.DH.Lu("session",function(z){b.DH.L$a=z;u(c.gg);}):u(c.gg);});},991:function(r,b,a){var h,d,g,m;function c(k,n,p,q){var u,t,w;(0,h.oa)((0,m.ft)(k) && !(0,m.isArray)(k));q=q || "";u="";t=k.hasOwnProperty(g.hY) && k[g.hY];t && (0,d.Zf)(t,function(v,y){u && (u+=" ");u+=v + '="' + f(y) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=k.hasOwnProperty(g.kw) && k[g.kw].trim && "" !== k[g.kw].trim() && k[g.kw];if(w)return t + ">" + f(w) + "</" + p + ">";k=l(k,n,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function l(k,n,p){var q;(0,h.oa)((0,m.ft)(k) && !(0,m.isArray)(k));p=p || "";q="";(0,d.Zf)(k,function(u,t){var y;if("$" != u[0])for(var w=(0,d.vv)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,m.ft)(t)))q+=c(t,n,u,p);else {y=(n?n + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(k){if((0,m.xg)(k))return (0,d.Zna)(k);if((0,m.sb)(k))return ((0,h.mS)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,h.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.O3b=b.WNb=b.VNb=void 0;h=a(45146);d=a(3887);g=a(62604);m=a(32687);b.VNb=c;b.WNb=l;b.O3b=f;},62604:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.OPb=b.Y6a=b.xUb=b.dZa=b.GUb=b.Reb=b.Qeb=b.kw=b.fya=b.Peb=b.hY=void 0;c=a(3887);l=a(45146);b.hY="$attributes";b.Peb="$children";b.fya="$name";b.kw="$text";b.Qeb="$parent";b.Reb="$sibling";b.GUb=/^\s*<\?xml.*\?>/i;b.dZa=function(f,h,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(h=arguments[g++]) && (f=f[h]);){;}return f;};b.xUb=function(f,h){var d;f?d=(0,c.Ui)(f[b.kw]):void 0 !== h && (d=h);(0,l.mS)(d);return d;};b.Y6a=function(f,h){var d;f?d=f[b.kw]:void 0 !== h && (d=h);(0,l.kVa)(d);return d;};b.OPb=function(f,h){var d;d={};d[b.hY]=f;d[b.kw]=h;return d;};},84281:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Seb=void 0;c=a(31276);l=a(36129);f=a(78857);h=a(74413);d=a(32219);b.Seb=function(g,m){var k,n;try{n=(0,f.Teb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Mf)(function(){if(n && n.documentElement)try{k=(0,h.Ueb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Mf)(function(){k?m({ia:!0,object:k}):m({ia:!1,ya:l.R.iib});});});};},78857:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Teb=void 0;c=a(31276);l=a(32687);b.Teb=function(f){var h,d;if((0,l.QL)(f)){h=new DOMParser().parseFromString(f,"text/xml");d=h.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return h;}throw Error("bad xml text");};},74413:function(r,b,a){var l;function c(f){var h,d,g,m,k,n,p;d={};d[l.fya]=f.localName;g={};d[l.hY]=g;m=[];d[l.Peb]=m;k=f.attributes;n=k.length;for(h=0;h < n;h++){p=k[h];g[p.localName]=p.value;}f=f.childNodes;n=f.length;g={};for(h=0;h < n;h++){switch((k=f[h],k.nodeType)){case b.Xeb:k=c(k);p=k[l.fya];k[l.Qeb]=d;m.push(k);d[p]?g[p][l.Reb]=k:d[p]=k;g[p]=k;break;case b.Yeb:case b.Veb:(k=k.text || k.nodeValue,m.push(k),d[l.kw] || (d[l.kw]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Web=b.Veb=b.Yeb=b.U6b=b.Xeb=b.V6b=b.Ueb=void 0;l=a(62604);b.Ueb=function(f){return c(f.nodeType == b.Web?f.documentElement:f);};b.V6b=c;b.Xeb=1;b.U6b=2;b.Yeb=3;b.Veb=4;b.Web=9;},87886:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.Kg=void 0;r=a(22674);c=a(58252);l=a(60443);f=a(32050);h=a(62468);d=a(75864);g=a(45716);m=a(99282);k=a(52531);n=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);w=a(7342);v=a(82585);b.Kg=new r.ed(function(y){y(c.Nda).to(l.iKa).da();y(f.Pda).to(h.uKa).da();y(d.TI).to(g.gKa).da();y(k.sD).to(m.eKa).da();y(n.oKa).to(p.nKa).da();y(q.sKa).Wd(function(x){var z;z=x.hb;return function(A){return new u.tKa(A,z.get(t.Bw),z.get(k.sD));};});y(w.uFa).Wd(function(x){var z;z=x.hb;return function(A,B,D){return new v.vFa(A,B,D,z.get(k.sD),z.get(d.TI));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uFa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sD="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TI=b.uD=void 0;r=b.uD || (b.uD={});r.B9b="ident";r.Eca="main";r.EAa="credits";b.TI="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nda="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oKa="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sKa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pda="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rw=void 0;r=b.Rw || (b.Rw={});r[r.IHa=0]="None";r[r.cDa=1]="Fetching";r[r.Ihb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var l,f;function c(h,d,g,m,k){this.Ph=h;this.Kg=d;this.log=g;this.vi=m;this.Xl=k;this.z8=new l.Hda();}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;l=a(81889);f=a(75864);c.prototype.Tqb=function(h){var d,g,m,k,n,p,q;this.log.info("Next episode added",h);p=this.z8.hqa(h.playbackParams);q=Math.max(0,null !== (m=null !== (g=null !== (d=h.startPts) && void 0 !== d?d:h.nextStartPts) && void 0 !== g?g:p.ab) && void 0 !== m?m:0);d=null !== (n=null !== (k=h.endPts) && void 0 !== k?k:h.currentEndPts) && void 0 !== n?n:p.Ti;return this.Kg.srb({O:h.movieId,ab:q,Ti:d,nb:p,W:h.manifest,Ph:this.Ph});};c.prototype.gVb=function(h){var d,g,m,k,n,p;h=this.z8.hqa(h);this.log.info("Playing the next episode",h);m=this.Kg.$Ya();k=this.Kg.LF();n=k.M[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.J !== k.M[q].J;});d=!this.vi.I8 || !(null === (g=h.am) || void 0 === g?0:g.isUIAutoPlay);return p?this.Kg.Dna(m,p,h,d):Promise.reject(Error("Next episode not found"));};c.prototype.C6b=function(h){var d,g;d=this.Xl.Iq(h,f.uD.Eca);h=this.Xl.Iq(h,f.uD.EAa);g=this.Kg.ib;this.vi.I8 && g.sh !== h && g.Xv(h) && g.sT(d) !== h && this.Kg.Lj({I:d,qM:h});};b.vFa=c;},65473:function(r,b,a){var l;function c(f,h,d,g,m){var k;k=this;this.ib=f;this.Pj=h;this.Ft=d;this.Db=g;this.Xl=m;this.K8=new Map();this.H0b();this.Db.addListener(l.Ja.loaded,function(){return k.U7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;l=a(85001);c.prototype.TQa=function(f){var h,d;h=this;d=Object.keys(this.ib.jk.M).find(function(g){return h.ib.jk.M[g].J === f.O;});f.id || (f.id=null !== d && void 0 !== d?d:this.Xl.Iq(f.O));d || (this.ib.jk=this.Xl.esb(this.ib.jk,f));d=this.WG(f.id);f.Ti && this.ib.k5b(f.id,f.Ti);return d;};c.prototype.Wcb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Ena=function(f,h){var d;d=this;h=void 0 === h?{}:h;return this.Ft.transition(f,h).then(function(){d.ib.sh=f;});};c.prototype.close=function(f){return this.Ft.close(f);};c.prototype.rv=function(){return this.Ft.lJb();};c.prototype.Um=function(){return this.Ft.Um();};c.prototype.JF=function(){return this.Ft.JF();};c.prototype.WG=function(f){this.K8.has(f) || this.K8.set(f,this.Ft.hf(this.lub(f)));return this.K8.get(f);};c.prototype.H0b=function(){var f;f=this;this.Ft.addListener(l.tD.JW,function(){return f.Db.Ec(l.tD.JW);});Object.values(l.Ja).forEach(function(h){f.Ft.addListener(h,function(d){return f.Db.Ec(h,d);});});};c.prototype.Ev=function(){this.U7a();};c.prototype.Ura=function(f){this.Ft.j5b({id:f,O:this.ib.Pd(f).J,Ti:this.ib.DJb(f)});};c.prototype.FG=function(){};c.prototype.U7a=function(){var f,h;if(this.rv()){f=this.ib.sh;h=this.ib.sT(f);h && !this.K8.has(h) && (this.Ura(f),this.WG(h));}};c.prototype.lub=function(f){var h,d,g,m;d=this.ib.Pd(f);g=this.Pj.vL(d.J);m=null === g || void 0 === g?void 0:g.nb;g=null === g || void 0 === g?void 0:g.W;return {id:f,O:d.J,ab:d.sa,Ti:null !== (h=null === m || void 0 === m?void 0:m.Ti) && void 0 !== h?h:d.ta,nb:m,W:g};};b.oD=c;},99282:function(r,b,a){var l,f,h,d,g;function c(m){return f.Re.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eKa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);d=a(12501);g=a(5021);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{jWb:{configurable:!0,enumerable:!0,get:function(){return 2;}},iWb:{configurable:!0,enumerable:!0,get:function(){return (0,g.B7)(3);}},Kxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},U$:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},bYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},I8:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.$y,"prepareSegmentsUpfront")],a.prototype,"jWb",null);r.__decorate([d.config(d.hk,"prepareSegmentsDuration")],a.prototype,"iWb",null);r.__decorate([d.config(d.bd,"usePlaygraphForPostPlay")],a.prototype,"Kxa",null);r.__decorate([d.config(d.bd,"usePlaygraphForSkipSegment")],a.prototype,"U$",null);r.__decorate([d.config(d.bd,"useSinglePlayerPlayback")],a.prototype,"Xdb",null);r.__decorate([d.config(d.bd,"forcePlaygraphTrace")],a.prototype,"bYa",null);r.__decorate([d.config(d.bd,"postPlayDefaultNextEpisode")],a.prototype,"I8",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul))],a);b.eKa=a;},45716:function(r,b,a){var l,f,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;r=a(5163);l=a(75864);f=a(22674);h=a(50954);c.prototype.Bzb=function(d){var k,n,p;for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}k=this;if(0 === g.length)throw Error("Empty playgraph");n=new h.Ur().uC(this.Iq(g[0]));g.reverse().forEach(function(q){var u;u=k.Iq(q);n.hf(u,Object.assign({J:q,sa:0,ta:Infinity},p?{Cb:p}:{}));p=u;});return n.rh();};c.prototype.Iq=function(d,g){g=void 0 === g?l.uD.Eca:g;return d + ":" + g;};c.prototype.esb=function(d,g){var m,k,n,p;if(void 0 === n)n=null !== (m=g.id) && void 0 !== m?m:this.Iq(g.O);m=this.FZa(d);p=new h.Ur(d);p.hf(n,{J:g.O,sa:null !== (k=g.ab) && void 0 !== k?k:0,ta:Infinity});d=d.M[m];g={};p.hf(m,Object.assign({},d,{Cb:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return p.rh();};c.prototype.FZa=function(d){for(var g=d.xe,m=g;m=d.M[m].Cb;){g=m;}return g;};a=c;a=r.__decorate([(0,f.T)()],a);b.gKa=a;},60443:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t,w,v,y,x){this.Df=q;this.ela=u;this.vi=t;this.bxa=w;this.AVb=v;this.CVb=y;this.BVb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(5163);l=a(22674);f=a(9862);h=a(87386);d=a(52531);g=a(44720);m=a(88063);k=a(25830);n=a(56190);a=a(32050);c.prototype.create=function(q){return new f.jKa(q,this.Df,this.ela,this.vi,this.bxa,this.AVb,this.CVb,this.BVb);};p=c;p=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(g.aP)),r.__param(2,(0,l.l)(d.sD)),r.__param(3,(0,l.l)(k.PMa)),r.__param(4,(0,l.l)(m.oKa)),r.__param(5,(0,l.l)(n.sKa)),r.__param(6,(0,l.l)(a.Pda))],p);b.iKa=p;},9862:function(r,b,a){var l,f,h;function c(d,g,m,k,n,p,q,u){this.bxa=n;this.Rxa=u;this.WS=!1;k.U$ && (d=new h.kKa().Y3b(d));this.ib=q(d);this.Pj=new f.vKa(this.ib);this.Pj.R$a(this.ib.aa.J);this.log=g.Wa("PlaygraphManager");this.Db=m.create();this.xt=p.create(this.ib,this.Pj,this.log,this.Db);this.I0b();}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;l=a(85001);f=a(98899);h=a(15645);c.prototype.$Ib=function(){return this.ib.E8;};c.prototype.qma=function(){return this.ib.aa;};c.prototype.$Ya=function(){return this.ib.sh;};c.prototype.LF=function(){return this.ib.jk;};c.prototype.Lj=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.Lj.apply(this.ib,ca(g));};c.prototype.Zvb=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.HRa(g);};c.prototype.St=function(d){this.ib.jk=d;};c.prototype.bj=function(d,g){this.ib.bj(d,g);};c.prototype.Dna=function(d,g,m,k){var n,p;m=void 0 === m?{}:m;k=void 0 === k?!0:k;if(d !== this.ib.sh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.LF().M[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.wab();null === (p=m.am) || void 0 === p?void 0:p.isUIAutoPlay;return this.xt.Ena(g,m,k);};c.prototype.rv=function(){return this.xt.rv();};c.prototype.addListener=function(d,g,m){this.Db.addListener(d,g,m);};c.prototype.removeListener=function(d,g){this.Db.removeListener(d,g);};c.prototype.Um=function(){return this.xt.Um();};c.prototype.rb=function(){return this.xt.JF();};c.prototype.Ezb=function(d,g,m){var k;d=void 0 === d?this.LF().xe:d;g=void 0 === g?{}:g;k=this.Rxa.NUa(this);this.dWb(null !== d && void 0 !== d?d:this.LF().xe,g,m);return k;};c.prototype.srb=function(d){var g;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.ab + ", logicalEnd: " + d.Ti);g=Object.assign({},d.nb,d.ab?{ab:d.ab}:{},d.Ti?{Ti:d.Ti}:{});this.qbb(d.O,g,d.W);d=this.xt.TQa(d);this.wab();return d;};c.prototype.transition=function(d){var g;g=this.ib.sT(this.ib.sh);return g?this.Dna(this.ib.sh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.xt.close(d);};c.prototype.dWb=function(d,g,m){var k;void 0 === d && (d=null === (k=this.LF()) || void 0 === k?void 0:k.xe);(g || m) && this.qbb(this.LF().M[d].J,null !== g && void 0 !== g?g:{},m);this.xt.WG(d);};c.prototype.qbb=function(d,g,m){m && this.Pj.P1(d,m);this.Pj.grb(d,g);};c.prototype.I0b=function(){var d;d=this;this.ib.w2b(function(){d.Pj.Ev();d.xt.Ev();});this.ib.x2b(function(g){d.xt.Ura(g);});this.ib.v2b(function(g){d.xt.FG(g);});this.addListener(l.tD.JW,function(){return d.FTb();});this.addListener(l.Ja.w1a,function(g){return d.vTb(g);});};c.prototype.wab=function(){var d;d=this;this.WS || (this.rb().Uga(l.fa.mH,function(g){return d.Fv(g);}),this.WS=!0);};c.prototype.vTb=function(d){var g;g=this;this.xt.Wcb(d).catch(function(){return g.Db.Ec(l.Ja.error,d.CX());});};c.prototype.FTb=function(){var d;d=this.rb().getError();d?this.Db.Ec(l.Ja.aK,d):(this.Db.Ec(l.Ja.r2),this.Db.Ec(l.Ja.Dl),this.Db.Ec(l.Ja.Nt),this.Db.Ec(l.Ja.gl),this.Db.Ec(l.Ja.GX),this.Db.Ec(l.Ja.aK));};c.prototype.Fv=function(d){var g,m,k;!1;g=d.metrics;if(g){m=this.rb();k=m.ei(d.position.segmentId);g=m.ei(g.srcsegment);this.bxa.XWb(d,k,g,!!m.f_a().ag);}};b.jKa=c;},15645:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;l=a(50954);c.prototype.Y3b=function(f){var h;if(!this.BNb(f.M))return f;h=new l.Ur().uC(f.xe);Object.entries(f.M).forEach(function(d){var g;g=la(d);d=g.next().value;g=g.next().value;d === f.xe?h.hf(d,Object.assign(Object.assign({},g),{next:void 0,ta:void 0,Cb:void 0})):h.hf(d,g);});return h.rh();};c.prototype.BNb=function(f){f=Object.values(f).map(function(h){return h.J;});return 1 === new Set(f).size;};b.kKa=c;},79054:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v,y,x,z){this.Ea=u;this.k_b=w;this.vi=y;this.Xl=z;this.h_b=t.AF(!1,"6.0041.839.911",u.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(52531);d=a(88574);g=a(93488);m=a(2911);k=a(4203);n=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,w,v){var y,x;y=this.k_b.qzb(u,this.h_b,t);x=u.Lxa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.TLa(this.vi,u,t,w,y,v,this.Xl):new n.oD(u,t,y,v,this.Xl);};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(g.DLa)),r.__param(2,(0,l.l)(m.iea)),r.__param(3,(0,l.l)(k.ac)),r.__param(4,(0,l.l)(h.sD)),r.__param(5,(0,l.l)(p.G_)),r.__param(6,(0,l.l)(a.TI))],q);b.nKa=q;},69751:function(r,b,a){var l,f;function c(h,d,g){this.Zx=d;this.vi=g;this.f1={};this.qdb=[];this.Pab=[];this.A5a=[];this.yha=new WeakMap();this.reset(h);}Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;l=a(50954);f=a(50954);c.prototype.reset=function(h){var d;d=1 < Object.keys(h.M).length && 1 === new Set(Object.values(h.M).map(function(g){return g.J;})).size;this.gqb=this.vi.Xdb || d;this.fab(h);this.sh=h.xe;this.hpb=this.Zx.CA();this.dwa=new Map();};c.prototype.d5=function(h){if(this.Lxa)return this.jk;this.yha.has(h) || this.yha.set(h,(0,l.g$)(h.O,h.I));return this.yha.get(h);};c.prototype.fab=function(h){this.ipb=h;this.f1={};h=Object.keys(h.M);this.HRa(h);this.wSb();};c.prototype.Lj=function(h){var m;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}m=this;d.filter(function(k){return m.Xv(k.I);}).filter(function(k){k=k.qM;return !k || m.Xv(k);}).forEach(function(k){var n;n=k.I;m.f1[n]=m.U5a(k.qM);m.qSb(n);});};c.prototype.HRa=function(h){var d;d=this;h.filter(function(g){return d.Xv(g);}).forEach(function(g){d.f1[g]=d.U5a(d.Pd(g).Cb);});};c.prototype.bj=function(h,d){var g,m,k;g=this.Pd(h);if(g && g.next){m=new f.Ur(this.jk);k=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});k=Object.assign({},g,{next:k});m.hf(h,k);this.jk=m.rh();}};c.prototype.Xv=function(h,d){d=void 0 === d?this.jk.M:d;return (h in d);};c.prototype.sT=function(h){return this.f1[h];};c.prototype.Pd=function(h){return this.jk.M[h];};c.prototype.DJb=function(h){if(this.dwa.has(h))return this.dwa.get(h);h=this.Pd(h);return isFinite(h.ta)?h.ta:void 0;};c.prototype.k5b=function(h,d){this.dwa.set(h,d);this.tSb(h);};c.prototype.w2b=function(h){this.qdb.push(h);};c.prototype.x2b=function(h){this.Pab.push(h);};c.prototype.v2b=function(h){this.A5a.push(h);};c.prototype.wSb=function(){var h;h=this;this.qdb.forEach(function(d){return d(h.jk);});};c.prototype.qSb=function(h){this.A5a.forEach(function(d){return d(h);});};c.prototype.tSb=function(h){this.Pab.forEach(function(d){return d(h);});};c.prototype.U5a=function(h){return null === h?void 0:h;};Xa.Object.defineProperties(c.prototype,{E8:{configurable:!0,enumerable:!0,get:function(){return this.hpb;}},Lxa:{configurable:!0,enumerable:!0,get:function(){return this.gqb;}},jk:{configurable:!0,enumerable:!0,get:function(){return this.ipb;},set:function(h){if(this.sh && !this.Xv(this.sh,h.M))throw Error("Provided playgraphMap does not contain the current segmentId " + this.sh);this.fab(h);}},sh:{configurable:!0,enumerable:!0,get:function(){return this.knb;},set:function(h){if(!this.Xv(h))throw Error("Provided currentSegmentId " + h + " does not exist in the current playgraph");this.knb=h;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Pd(this.sh);}}});b.tKa=c;},62468:function(r,b,a){var l,f,h,d;function c(g,m){this.Ea=g;this.tOb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(7342);c.prototype.create=function(g){return new (a(58343).q0)(this.Ea.Eb(),g);};c.prototype.NUa=function(g){return new (a(64059).Taa)(this.Ea.Eb(),g,this.tOb);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(h.uFa))],d);b.uKa=d;},98899:function(r,b,a){var l;function c(f){this.ga=f;this.uO={};this.Ev();}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;l=a(56819);c.prototype.Ev=function(){var f;f=this;Object.values(this.ga.jk.M).forEach(function(h){h=h.J;f.uO[h] || f.o1a(h);});this.Q$();};c.prototype.vL=function(f){return this.uO[f];};c.prototype.a0b=function(f){this.vT(f).state=l.Rw.cDa;this.Q$();};c.prototype.$_b=function(f,h){f=this.vT(f);f.state=l.Rw.Error;f.error=h;f.Q9a(!1);this.Q$();};c.prototype.R$a=function(f){f=this.vT(f);f.state=l.Rw.Ihb;f.Q9a(!0);this.Q$();};c.prototype.grb=function(f,h){this.vT(f).nb=h;};c.prototype.P1=function(f,h){this.vT(f).W=h;};c.prototype.vT=function(f){var h;return null !== (h=this.vL(f)) && void 0 !== h?h:this.o1a(f);};c.prototype.o1a=function(f){var h,d;h=void 0;d=new Promise(function(g,m){h=function(k){(k?g:m)();};});return this.uO[f]={state:l.Rw.IHa,AXb:d,Q9a:h};};c.prototype.Q$=function(){var h;for(var f=this.ga.sh;f=this.ga.sT(f);){h=this.Xm(f);if(this.uO[h].state === l.Rw.Error)break;if(this.uO[h].state === l.Rw.cDa)break;if(this.uO[h].state === l.Rw.IHa)break;}};c.prototype.Xm=function(f){return this.ga.jk.M[f].J;};b.vKa=c;},88574:function(r,b,a){var l,f,h,d,g;function c(m,k,n,p,q,u,t){var w;w=d.oD.call(this,k,n,q,u,t) || this;w.vi=m;w.la=p;w.WS=!1;w.Xka=new Map();w.yTb=function(){w.JF().Uga(f.fa.mH,function(v){w.Db.Ec(f.tD.JW);w.ib.sh=v.position.segmentId;});};w.cMb();u.addListener(f.Ja.loaded,w.yTb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;l=a(50954);f=a(85001);h=a(36129);d=a(65473);g=a(75864);ea(c,d.oD);c.prototype.TQa=function(m){var k,n,p,q,u,t,w,v,y,x,z;k=this;p=this.ib.jk;q=this.Xl.Iq(m.O,"ident");u=this.Xl.Iq(m.O,"main");t=this.Xl.Iq(m.O,"credits");w=isFinite(m.Ti);v=isFinite(m.ab) && m.O !== p.M[p.xe].J;y={};x=new l.Ur(p).hf(u,Object.assign({J:m.O,sa:v && m.ab || 0,ta:null !== (n=m.Ti) && void 0 !== n?n:Infinity},w?{next:(y[t]={},y),Cb:t}:{}));v && (n={},x.hf(q,{J:m.O,sa:0,ta:m.ab,next:(n[u]={},n),Cb:u}));w && x.hf(t,{J:m.O,sa:m.Ti,ta:Infinity});if(!this.ib.Xv(u)){m=p.M[this.Xl.FZa(p)].J;z=this.Xl.Iq(m,g.uD.EAa);[this.Xl.Iq(m,g.uD.Eca),z].filter(function(A){return k.ib.Xv(A);}).forEach(function(A){var B,D,C;B=k.ib.Pd(A);D=A === z || k.vi.I8;C={};x.hf(A,Object.assign({},B,{next:Object.assign({},B.next,(C[u]={},C))},D?{Cb:u}:{}));});}this.ib.jk=x.rh();return this.WG(u);};c.prototype.Ev=function(){this.rv() && this.JF().Ev();};c.prototype.Ura=function(){};c.prototype.FG=function(m){this.JF().FG(m);};c.prototype.Ena=function(m,k,n){k=void 0 === k?{}:k;this.la.debug("goToSegment " + m);return this.JF().JT(m,k,n);};c.prototype.WG=function(m){if(m === this.g_b)return null;this.g_b=m;return this.WS?this.Pj.vL(this.ib.Pd(m).J).AXb:(this.WS=!0,d.oD.prototype.WG.call(this,m));};c.prototype.Wcb=function(m){return m.errorCode && this.Xka.has(m.errorCode)?this.Xka.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.cMb=function(){var m;m=this;this.Xka.set(h.U.oIa,function(){var k,n;return null !== (n=null === (k=d.oD.prototype.WG.call(m,m.ib.sh)) || void 0 === k?void 0:k.then(function(){var p,q;d.oD.prototype.Ena.call(m,m.ib.sh,null !== (q=null === (p=m.Pj.vL(m.ib.aa.J)) || void 0 === p?void 0:p.nb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.TLa=c;},32754:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.p8a=void 0;r=a(22674);c=a(69493);l=a(28978);f=a(98166);h=a(660);b.p8a=new r.ed(function(d){d(c.bCa).to(l.aCa).da();d(f.sP).to(h.AFa).da();});},82100:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.WTa=b.Koa=b.Wma=b.Y4=b.oEa=b.Ilb=b.Mr=b.XDa=b.$_=b.Z_=b.ANa=b.BNa=b.gIa=b.hZ=b.TEMPORARY=b.Zt=void 0;c=a(32687);l=a(22210);b.Zt="cenc";b.TEMPORARY="temporary";b.hZ="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.gIa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.BNa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.ANa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Z_="SW_SECURE_CRYPTO";b.$_="SW_SECURE_DECODE";b.XDa="HW_SECURE_DECODE";b.Mr="HW_SECURE_ALL";b.Ilb={Z_:"SW_SECURE_CRYPTO",$_:"SW_SECURE_DECODE",XDa:"HW_SECURE_DECODE",Mr:"HW_SECURE_ALL"};b.oEa=[b.Mr];b.Y4=function(f){var h;h=f.getConfiguration();return [b.Mr,b.$_,b.Z_].find(function(d){var g;return null === (g=h.videoCapabilities) || void 0 === g?void 0:g.some(function(m){return m.robustness === d;});});};b.Wma=function(f){var h,m;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){m=Number(g[1]);(0,c.sb)(m) && (h=m);}}catch(k){}return h;};b.Koa=function(f){return l.yd.Bi.test(f);};b.WTa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Jma=void 0;c=a(31276);b.Jma=function(l){var f;f={};try{l.forEach(function(h){var d,g;if(h.gF){for(var m=(0,c.ox),k=h.gF,n=0,p=new Uint8Array(16),q=0;q < k.length;q+=2){p[n++]=parseInt(k.slice(q,q + 2),16);}m=m(p);h=null !== (d=h.height) && void 0 !== d?d:h.xua;f[m]=Math.max(h,null !== (g=f[m]) && void 0 !== g?g:0);}});}catch(h){}return f;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bCa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sP="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bpa=b.Dh=void 0;(function(a){a[a.qm=0]="STANDARD";a[a.rn=1]="LIMITED";})(b.Dh || (b.Dh={}));b.Bpa=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p,q,u,t){this.Ch=p;this.rA=q;this.P5b=u;this.XL=t;}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;r=a(5163);l=a(22674);f=a(74870);h=a(2248);d=a(84408);g=a(53921);m=a(24735);k=a(82100);a=a(98166);c.prototype.Xg=function(p){var q;q=this;return this.Ch.zA(p.rj[0].data[0],[8,4])?Promise.resolve({he:[{id:"ddd",oG:"cert",zU:void 0}],Nk:[{sessionId:"ddd",data:new Uint8Array(this.rA.decode(k.ANa))}]}):this.Ch.zA(p.rj[0].data[0],this.P5b.decode("certificate"))?Promise.resolve({he:[{id:"ddd",oG:"cert",zU:void 0}],Nk:[{sessionId:"ddd",data:new Uint8Array(this.rA.decode(k.hZ))}]}):this.XL.Lu(this.WFb(p)).then(function(u){return q.XFb(u);});};c.prototype.release=function(p){return this.XL.release(this.aGb(p)).then(function(){});};c.prototype.WFb=function(p){var q,u;q=this;u=p.rj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.rA.encode(w)};});});return {ma:p.ma,ke:p.ke,L3:p.L3,qf:(0,m.Bpa)(p.qf),Om:g.wk[p.Om],rj:u.reduce(function(t,w){return t.concat(w);},[]),ki:p.ki,dg:p.dg};};c.prototype.aGb=function(p){return {ma:p.ma,he:p.he};};c.prototype.XFb=function(p){return {he:p.he,Nk:p.Nk};};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.mh)),r.__param(1,(0,l.l)(h.ih)),r.__param(2,(0,l.l)(d.kq)),r.__param(3,(0,l.l)(a.sP))],n);b.aCa=n;},660:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u){this.xqb=k;this.sYb=n;this.E9a=q;this.tZb=u;this.la=p.Wa("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(81378);a(24674);d=a(75014);g=a(16257);a=a(829);c.prototype.Lu=function(k){var n,p;n=this;!1;p=this.E9a.W3b(k);return this.xqb.On(this.la,k.ki,p).then(function(q){q.map(function(u){return u.uOb;});return n.tZb.Lcb(q);}).catch(function(q){n.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.E9a.Z3b(k);return this.sYb.Cf(this.la,k).then(function(){return {ia:!0};}).catch(function(p){n.la.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.xIa)),r.__param(1,(0,l.l)(d.kJa)),r.__param(2,(0,l.l)(f.Za)),r.__param(3,(0,l.l)(g.NIa)),r.__param(4,(0,l.l)(a.qda))],m);b.AFa=m;},45266:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.RVa=b.V_a=b.ddb=b.$B=b.p7=b.I4a=void 0;r=a(29664);c=a(31435);l=a(60024);f=a(56663);a=a(5154);b.I4a=r;b.p7=function(h,d){return (0,b.I4a)(function(g,m){return void 0 !== m?m:g;},h,d);};b.$B=c;b.ddb=l;b.V_a=f;b.RVa=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jmb="StorageValidatorSymbol";b.nw="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hMa="Storage";},62945:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);l=a(48159);f=a(56278);h=a(42304);d=a(42236);g=a(84970);m=a(57925);k=a(67894);n=a(17892);p=a(86607);q=a(26305);b.storage=new r.ed(function(u){u(l.wHa).Wd(function(){return function(){return nb.localStorage;};});u(l.rEa).Wd(function(){return function(){return nb.indexedDB;};});u(p.fHa).to(q.eHa).da();u(n.nw).to(k.$ya).da();u(f.NFa).to(h.MFa).da();u(c.j_).to(m.UEa).da();u(d.WEa).to(g.VEa).da();u(d.qEa).to(g.pEa).da();u(d.YEa).to(g.XEa).da();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fHa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bkb="NativeLocalStorageSymbol";b.wHa="NativeLocalStorageFactorySymbol";b.rEa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vgb="__default_rule_key__";},67894:function(r,b,a){var f,h,d,g,m,k,n;function c(p,q,u,t){this.la=p;this.config=q;this.ELb=u;this.Eqa=t;this.OE={mem:{storage:this.Eqa,key:"mem"}};this.zC=this.config.zC;}function l(p,q,u,t){this.Df=p;this.al=q;this.Eqa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Faa=b.$ya=void 0;r=a(5163);f=a(22674);h=a(36129);d=a(42236);g=a(87386);m=a(86607);k=a(31679);a=a(34231);l.prototype.create=function(){this.iS || (this.iS=this.pK());return this.iS;};l.prototype.pK=function(){this.Wrb=new c(this.Df.Wa("AppStorage"),this.config,this.al,this.Eqa);return this.Wrb.create();};n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.Za)),r.__param(1,(0,f.l)(d.YEa)),r.__param(2,(0,f.l)(m.fHa)),r.__param(3,(0,f.l)(a.qn))],n);b.$ya=n;c.prototype.create=function(){var p;p=this;return this.jzb().then(function(q){if(!p.cvb(q,p.config.UT))throw p.eSb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.jT(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.jT(p).storage.save(p,q,u).then(function(y){w(y);}).catch(function(y){v(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.jT(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.d9a("mem").then(function(){return p.d9a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.p3a("mem").then(function(u){q=q.concat(u);return p.p3a("idb");}).catch(function(u){p.CNb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.jzb=function(){var p;p=this;return this.ELb.create().then(function(q){p.OE.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({ya:h.R.Go});});};c.prototype.cvb=function(p,q){return !p || p && q?!0:!1;};c.prototype.eSb=function(p){var q;q="";p && (q+=p.ya);return {ya:q};};c.prototype.d9a=function(p){return (p=this.OE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.p3a=function(p){return (p=this.OE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.TEb=function(p){for(var q in this.zC){if(p.startsWith(q))return this.zC[q];}return this.zC[k.Vgb];};c.prototype.jT=function(p){var q,u;q=this;this.TEb(p).every(function(t){return q.OE[t]?(u=q.OE[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{a2b:p,Mbc:Object.keys(this.OE),rules:this.zC});u=this.OE.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.CNb=function(p){return (p && (p.ya || p.errorSubCode)) === h.R.Ow;};b.Faa=c;},6675:function(r,b){function a(c,l){this.Tu=c;this.Yd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tca=void 0;a.prototype.load=function(c,l){var f;f=this;this.Tu.load(c).then(function(h){l && l(a.Jbb(h));}).catch(function(h){l && l(f.Yka(c,h));});};a.prototype.save=function(c,l,f,h){var d;d=this;this.Tu.save(c,l,f).then(function(){h && h(a.Jbb({key:c,value:l}));}).catch(function(g){h && h(d.Yka(c,g));});};a.prototype.remove=function(c,l){var f;f=this;this.Tu.remove(c).then(function(){l && l({ia:!0,p$:c});}).catch(function(h){l && l(f.Yka(c,h));});};a.Jbb=function(c){return {ia:!0,data:c.value,p$:c.key};};a.prototype.Yka=function(c,l){return {ia:!1,p$:c,ya:l.ya,Jb:l.cc?this.Yd.we(l.cc):void 0};};b.tca=a;},42304:function(r,b,a){var l,f,h;function c(d){this.cC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(48159);c.prototype.load=function(d){var g;g=this;return new Promise(function(m,k){var n,p;try{n=g.cC.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else k({ya:f.R.Ow});}catch(q){k({ya:f.R.rLa,cc:q});}});};c.prototype.save=function(d,g,m){var k;k=this;return new Promise(function(n,p){if(m && k.cC.getItem(d))n(!1);else try{"string" === typeof g?k.cC.setItem(d,g):k.cC.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({ya:f.R.sLa,cc:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(m,k){try{g.cC.removeItem(d);m();}catch(n){k({ya:f.R.fea,cc:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.bkb))],h);b.MFa=h;},26305:function(r,b,a){var l,f,h;function c(d){this.Df=d;this.CG={};this.la=this.Df.Wa("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(87386);c.prototype.load=function(d){var g;if(this.CG.hasOwnProperty(d)){g=this.CG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({ya:f.R.Ow});};c.prototype.save=function(d,g,m){if(m && this.CG.hasOwnProperty(d))return Promise.resolve(!1);this.CG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.CG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.CG).map(function(g){var m;m=la(g);g=m.next().value;m=m.next().value;return {key:g,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.CG={};return Promise.resolve();};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Za))],h);b.eHa=h;},92093:function(r,b,a){var f,h,d;function c(g,m,k){this.config=g;this.oo=m;this.cC=k;}function l(g,m){this.reason=g;this.cc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=b.TKa=void 0;f=a(36129);h=a(59818);(function(g){g[g.Zca=0]="NoData";g[g.Error=1]="Error";g[g.$I=2]="Timeout";})(d=b.TKa || (b.TKa={}));c.prototype.load=function(g){var m;m=this;return new Promise(function(k,n){m.g4("get",!1,g).then(function(p){k({key:g,value:p});}).catch(function(p){var q;q=f.R.rLa;switch(p.reason){case d.Zca:q=f.R.Ow;break;case d.$I:q=f.R.amb;}n({ya:q,cc:p.cc});});});};c.prototype.save=function(g,m,k){var n;n=this;return new Promise(function(p,q){n.g4(k?"add":"put",!0,{name:g,data:m}).then(function(){p(!k);}).catch(function(u){var t;t=f.R.sLa;switch(u.reason){case d.$I:t=f.R.dmb;}q({ya:t,cc:u.cc});});});};c.prototype.remove=function(g){var m;m=this;return new Promise(function(k,n){m.g4("delete",!0,g).then(function(){k();}).catch(function(p){var q;q=f.R.fea;switch(p.reason){case d.$I:q=f.R.qLa;}n({ya:q,cc:p.cc});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(m,k){g.g4("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=f.R.fea;switch(n.reason){case d.$I:p=f.R.qLa;}k({ya:p,cc:n.cc});});});};c.prototype.loadAll=function(){var g;g=this;return this.oo.Op(this.config.timeout,new Promise(function(m,k){var n,p,q;if(g.config.Zva)k(new l(g.config.Zva));else {n=[];p=g.cC.transaction(g.config.qV,"readonly");q=p.objectStore(g.config.qV).openCursor();p.onerror=function(){k(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){k(new l(d.Error,t));}else m(n);};q.onerror=function(){k(new l(d.Error,q.error));};}})).catch(function(m){return m instanceof h.iq?Promise.reject(new l(d.$I,m)):m instanceof l?Promise.reject(m):Promise.reject(new l(d.Error,m));});};c.prototype.g4=function(g,m,k){var n;n=this;return this.oo.Op(this.config.timeout,new Promise(function(p,q){var u,t;u=n.cC.transaction(n.config.qV,m?"readwrite":"readonly");t=u.objectStore(n.config.qV)[g](k);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new l(d.Zca));}catch(y){q(new l(d.Zca,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof h.iq?Promise.reject(new l(d.$I,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.TEa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j_="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qEa="IDBDatabaseFactorySymbol";b.WEa="IndexedDBFactorySymbol";b.YEa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var l,f,h,d,g;function c(m,k){m=h.Re.call(this,m,"IndexedDBConfigImpl") || this;m.config=k;m.version=1;m.qV="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(5163);l=a(22674);f=a(12501);h=a(64174);d=a(34231);a=a(83767);ea(c,h.Re);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Nx?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.obb;}},c2:{configurable:!0,enumerable:!0,get:function(){return this.config.c2;}},$va:{configurable:!0,enumerable:!0,get:function(){return 0;}},Zva:{configurable:!0,enumerable:!0,get:function(){return 0;}},YXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.$y,"simulateIdbOpenError")],g.prototype,"$va",null);r.__decorate([f.config(f.$y,"simulateIdbLoadAllError")],g.prototype,"Zva",null);r.__decorate([f.config(f.bd,"fixInvalidDatabase")],g.prototype,"YXa",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ul)),r.__param(1,(0,l.l)(d.qn))],g);b.UEa=g;},84970:function(r,b,a){var h,d,g,m,k,n,p,q,u,t,w,v;function c(y,x,z,A,B,D){this.config=x;this.lS=z;this.al=A;this.$5b=B;this.sk=D;this.la=y.Wa(n.hMa);}function l(y,x){this.config=y;this.cO=x;}function f(y,x,z,A,B){this.config=x;this.cO=z;this.sk=B;this.la=y.Wa(n.hMa);this.lS=new Promise(function(D,C){var F;try{F=A();F?D(F):C({ya:k.R.tEa});}catch(G){C({ya:k.R.i_,cc:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=b.VEa=b.pEa=void 0;r=a(5163);h=a(22674);d=a(87386);g=a(92093);m=a(48159);k=a(36129);n=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);w=a(42236);v=a(63156);f.prototype.create=function(){this.Qja || (this.Qja=this.pK());return this.Qja;};f.prototype.Hs=function(y){var x;x=this;this.Qja=null;return this.cO.Op(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.iq?Promise.reject({ya:k.R.i_}):z.ya?Promise.reject(z):Promise.reject({ya:k.R.i_,cc:z});});};f.prototype.delete=function(y){var x;x=this;return this.cO.Op(this.config.timeout,new Promise(function(z,A){x.lS.then(function(B){var D;D=B.deleteDatabase(y);D.onsuccess=function(){z();};D.onerror=function(){A({ya:k.R.i_,cc:D.error});};}).catch(function(B){A(B);});}));};f.prototype.pK=function(){var y,x;y=this;return this.cO.Op(this.config.timeout,new Promise(function(z,A){if(y.config.$va)return A({ya:y.config.$va});y.lS.then(function(B){y.sk.mark(v.hj.Fib);x=B.open(y.config.name,y.config.version);if(!x)return A({ya:k.R.uEa});x.onblocked=function(){y.sk.mark(v.hj.Cib);A({ya:k.R.yib});};x.onupgradeneeded=function(){var D;y.sk.mark(v.hj.Mib);D=x.result;try{D.createObjectStore(y.config.qV,{keyPath:"name"});}catch(C){y.la.error("Exception while creating object store",C);}};x.onsuccess=function(D){var C,F;y.sk.mark(v.hj.Lib);try{C=D.target.result;F=C.objectStoreNames.length;y.la.trace("objectstorenames length ",F);if(0 === F){y.la.error("invalid indexedDb state, deleting");y.sk.mark(v.hj.Eib);try{C.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({ya:k.R.xib});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.sk.mark(v.hj.Dib);y.la.error("IndexedDB open error",x.error);A({ya:k.R.zib,cc:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.iq){try{x && x.readyState && y.sk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.c2 && x && "done" === x.readyState){if(y.U5b(x))return (y.sk.mark(v.hj.Jib),Promise.resolve(x.result));y.sk.mark(v.hj.Iib);}y.sk.mark(v.hj.Hib);return Promise.reject({ya:k.R.Bib});}if(z.ya)return Promise.reject(z);y.sk.mark(v.hj.Gib);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({ya:k.R.Aib,cc:z});});};f.prototype.U5b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.sk.mark(v.hj.Kib);this.la.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.Za)),r.__param(1,(0,h.l)(p.j_)),r.__param(2,(0,h.l)(q.Ez)),r.__param(3,(0,h.l)(m.rEa)),r.__param(4,(0,h.l)(t.aJ))],a);b.pEa=a;l.prototype.create=function(y){return Promise.resolve(new g.TEa(this.config,this.cO,y));};a=l;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(p.j_)),r.__param(1,(0,h.l)(q.Ez))],a);b.VEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.iS || (this.iS=this.pK(this.$5b));return this.iS;};c.prototype.pK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.sk.mark(v.hj.$lb);x.lS.create().then(function(B){x.al.create(B).then(function(D){Promise.all(y.map(function(C){return C.validate(D);})).then(function(){x.storage=D;z(x.storage);}).catch(function(C){x.la.debug("DB validation failed, cause: " + C);x.config.YXa?(x.la.debug("Fixing corrupt DB"),x.lS.Hs(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.pK().then(function(F){x.la.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.la.error("Couldn't delete invalid database.");A(F);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=D,z(x.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(d.Za)),r.__param(1,(0,h.l)(p.j_)),r.__param(2,(0,h.l)(w.qEa)),r.__param(3,(0,h.l)(w.WEa)),r.__param(4,(0,h.optional)()),r.__param(4,(0,h.BG)(u.jmb)),r.__param(5,(0,h.l)(t.aJ))],a);b.XEa=a;},69899:function(r,b,a){var f;function c(h,d,g){this.start=h;this.track=d;this.BC=Array.isArray(g)?g:[];}function l(h,d){this.log=h;this.ez=d;this.Ita=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.pMa=void 0;f=a(45146);l.prototype.Aqb=function(h,d){this.x5a(h,d,"activating");};l.prototype.hAb=function(h){this.Pka(h,"de-activating");};l.prototype.x5a=function(h,d,g){var m;this.$j && this.Pka(h,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ca(this.orphans)),this.orphans=[]);this.$j=new c(h,d,m);this.ez && this.log.trace("new range: " + g,this.$j);};l.prototype.Pka=function(h,d){this.$j && (this.$j.end=h,this.Ita.push(this.$j),this.ez && this.log.trace("end range: " + d,this.$j || ({})),this.$j=void 0);};l.prototype.Idb=function(h){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.$j?this.$j.BC.push.apply(this.$j.BC,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};l.prototype.sna=function(h){var d,g;d=this.Ita.slice(0);if(this.$j && "undefined" !== typeof h){g=new c(this.$j.start,this.$j.track,this.$j.BC);g.end=h;d.push(g);}h=d.reduce(function(m,k){var n,p,q,u;if(!k.track)return m;p=k.track.Tb;q=k.track.Pl(k.start,k.end);if(void 0 === q || null === q)return m;u=new Set(k.BC);m[p]?(k=m[p],k.expected+=q,k.missed+=q - u.size):m[p]={dlid:p,bcp47:k.track.se,profile:k.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=k.track.HJb()) && void 0 !== n?n:0};return m;},{});h=Object.values(h);this.ez && this.log.trace("subtitleqoe:",JSON.stringify(h,null,"\t"));return h;};l.prototype.yJb=function(h){var d,g,m,k;d=this.Ita.slice(0);g=0;m=0;if(this.$j && "undefined" != typeof h){k=new c(this.$j.start,this.$j.track,this.$j.BC);k.end=h;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,f.oa)(!1,"negative range");n.rC=0;return;}p=new Set(n.BC);q=n.track.Pl(n.start,n.end);n.h4=q;n.rC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.rC=100;p=n.end - n.start;g+=p;m+=n.rC * p;});k=g?Math.round(m / g):100;this.log.trace("qoe score " + k + ", at pts: " + h);this.ez && (h=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.rC),lang:n.track?n.track.se:"none","actual  ":n.BC.join(" "),expected:n.h4};}),this.log.trace("score for each range: ",JSON.stringify(h,function(n,p){return p;}," ")));return k;};b.pMa=l;},40076:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.MH=void 0;r=a(22674);c=a(53205);l=a(29773);f=a(22692);h=a(87549);b.MH=new r.ed(function(d){d(h.EMa).to(c.DMa);d(f.BMa).il(new l.AMa());d(h.CMa).Wd(function(g){return function(){return g.hb.get(h.EMa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EMa="ThroughputTrackerSymbol";b.CMa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BMa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;c=a(72574);b.UBa=function(l,f){this.ZBb=l;this.size=f.Uoa()?c.Ia:f;};},29773:function(r,b,a){function c(l){this.$Bb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.T)()],c);b.AMa=c;},53205:function(r,b,a){var l,f,h,d;function c(g){this.config=g;this.bwa=f.Ia;this.KN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;r=a(5163);l=a(22674);f=a(72574);h=a(5021);a=a(22692);c.prototype.Wm=function(){var m;for(var g;0 < this.KN.length;){g=this.KN.shift();this.AQa(g);}g=void 0 === this.xS || void 0 === this.dF?h.Ia:this.dF.wa(this.xS);m=g.o2a()?0:this.bwa.ba(f.RC) / g.ba(h.na);return {Nwa:Math.floor(m),Qcc:g.ba(h.na)};};c.prototype.Sqb=function(g){this.bwa=this.bwa.add(g.size);this.KN.push(g.ZBb);for(this.KN.sort(function(m,k){return m.start.Ek(k.start);});this.KN.length > this.config.$Bb;){g=this.KN.shift();this.AQa(g);}};c.prototype.AQa=function(g){void 0 === this.xS && (this.xS=g.start);void 0 !== this.dF && 0 > this.dF.Ek(g.start) && (this.xS=this.xS.add(g.start.wa(this.dF)));if(void 0 === this.dF || 0 > this.dF.Ek(g.end))this.dF=g.end;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.BMa))],d);b.DMa=d;},35781:function(r,b,a){var l,f,h,d,g,m,k,n,p;function c(q,u,t,w,v,y){var x,z;q=g.xD.call(this,u,q,q,v,!0,{Bf:"",dC:"content"},"1",[{Gg:0,url:t,type:"unknown"}],"xx",w || q,m.Eo.QI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Er=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(13044);l=a(29204);f=a(37509);h=a(31276);d=a(52569);g=a(26159);m=a(35128);k=a(61726);n=a(43193);p=a(85001);(0,r.GJa)(r.Bda,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.vz.qmb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var y,x,z;y=v.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.ln.Jga("nourl",x,{content:z.result});});}});v.click();}}t=(0,h.Kh)(q,"TimedTextCustomTrack");l.config.Pja && (t.info("Loading url",{Url:l.config.Pja}),q.ln.Jga(l.config.Pja,"custom"));f.fe.addListener(f.gB,u);q.addEventListener(p.fa.sg,function(){f.fe.removeListener(f.gB,u);});});ea(c,g.xD);c.Xyb=function(q,u,t,w){var v;v="custom" + c.zMb++;return new c(v,q,u,t,-1,w);};c.prototype.fWa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:k.$na,url:q.url,track:q,Bc:void 0,JA:"tt-" + q.se,qr:"unknown"};q.j.G5.download(v,function(y){y.ia?u(y.content):(y.reason="downloadfailed",y.url=v.url,y.track=q,t(y));});}});};b.FMa=c;c.zMb=0;},97154:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){this.u4=k;this.jF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.U$a(n);this.Nla=this.sZa(this.u4);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;l=a(52569);f=a(33579);h=a(15531);d=a(29204);g=a(22365);m=a(3887);c.prototype.Um=function(){return this.element;};c.prototype.O_b=function(k){this.lx=k;};c.prototype.Y_b=function(k){this.entry=k;this.bH();};c.prototype.d0b=function(k){this.U$a(k);this.bH();};c.prototype.e0b=function(k){this.lang=k;this.bH();};c.prototype.bH=function(){var k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;k=this;p=this.Um();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;w=0;v=0;y=0;q={width:u,height:t};z=null !== (n=d.config.F$.characterSize) && void 0 !== n?n:d.config.Rwa.characterSize;this.lang && d.config.N5 && d.config.N5.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.O5 && d.config.O5.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.lx && (q=(0,l.t4)(u,t,this.lx),w=Math.round((u - q.width) / 2),v=Math.round((t - q.height) / 2));A=this.Tub(q);B=(0,l.t4)(A.width,A.height,this.lx);(x=this.A1b(this.entry.blocks)) && (x=this.CZb(x));A=x && x.map(function(G){var E;E=(0,h.Tka)(G,B,k.u4,k.Nla,y);G=(0,h.YWa)(G) + ";position:absolute";return (0,l.createElement)("div",G,E,c.kba);});}Object.assign(this.jF,{left:w + "px",right:w + "px",top:v + "px",bottom:v + "px"});p.style.display="none";p.style.direction=this.jF.direction;p.innerHTML="";if(A && A.length){n=q.width;u=q.height;w=q;this.PR && (w=this.vqb(q,this.PR,t,v));this.jF.margin=this.Wq?this.J2(q,"top") + "px " + this.J2(q,"right") + "px " + this.J2(q,"bottom") + "px " + this.J2(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.gS)(this.jF);p.style.cssText=t + ";visibility:hidden;z-index:-1";v=[];for(z=A.length - 1;0 <= z;z--){D=A[z];C=x[z];F=this.I5a(D,C,n,u);y=0 < y?n / F.width * y:n / F.width;F.width > n && (D.innerHTML=(0,h.Tka)(C,q,this.u4,this.Nla,y),F=this.I5a(D,C,n,u));v[z]=F;}v=(0,f.adb)(v,w);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(w=z.windowColor,z=z.windowOpacity,w && 0 < z && (D=Math.round(u / 50),q=(0,h.$Wa)(x,v,D,w,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.kba),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=v.length - 1;0 <= q;q--){z=v[q];w=A[q].style;D=x[q].region;z=(0,h.ZWa)(D,z,n,u,0);Object.assign(w,z);}p.style.cssText=t;}};c.prototype.Kva=function(k){this.PR=k;this.bH();};c.prototype.wna=function(){return this.PR;};c.prototype.Lva=function(k){this.Wq=k;this.bH();};c.prototype.xna=function(){return this.Wq;};c.prototype.yna=function(){return "block" === this.jF.display;};c.prototype.Mva=function(k){var n;n=k?"block":"none";this.element.style.display=n;this.jF.display=n;k && this.bH();};c.prototype.V4b=function(k){this.u4=k;this.Nla=this.sZa(k);};c.prototype.sZa=function(k){var n,p;n=this;p={};(0,m.Zf)(k,function(q,u){p[q]=n.JQb(u);});return p;};c.prototype.U$a=function(k){this.jF.direction="boolean" === typeof k?k?"ltr":"rtl":"inherit";};c.prototype.J2=function(k,n){if(this.Wq){if("left" === n || "right" === n)return k.width * (this.Wq[n] || 0);if("top" === n || "bottom" === n)return k.height * (this.Wq[n] || 0);}return 0;};c.prototype.Tub=function(k){return this.Wq?{height:k.height * (1 - (this.Wq.top || 0) - (this.Wq.bottom || 0)),width:k.width * (1 - (this.Wq.left || 0) - (this.Wq.right || 0))}:k;};c.prototype.JQb=function(k){var n;k="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + k + ";";k=(0,l.createElement)("DIV",k,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.kba);g.Pg.body.appendChild(k);n={fontSize:1E3,height:k.clientHeight,width:k.clientWidth / 52,lineHeight:k.clientHeight / 1E3};g.Pg.body.removeChild(k);return n;};c.prototype.I5a=function(k,n,p,q){var u,t,w,v,y;u=n.region;t=(u.marginTop || 0) * q;w=(u.marginBottom || 0) * q;v=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;n=k.clientWidth || 1;k=k.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - w - k) / 2;break;default:q=q - w - k;}switch(u.horizontalAlignment){case "left":p=v;break;case "right":p=p - y - n;break;default:p=(v + p - y - n) / 2;}return {top:q,left:p,width:n,height:k};};c.prototype.vqb=function(k,n,p,q){return {height:p - Math.max(q,n.bottom || 0) - Math.max(q,n.top || 0),width:k.width};};c.prototype.CZb=function(k){var n,u,t,w;n=k && k.map(function(v,y){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(v){return -1 !== v;});if(n && 0 !== n.length)for(var p=0,q=n.length - 1;p < q;(p++,q--)){u=n[p];t=n[q];w=la([k[t],k[u]]);k[u]=w.next().value;k[t]=w.next().value;}return k;};c.prototype.A1b=function(k){var n,p;if(!k || 0 === k.length)return k;p=k.filter(function(t){var w;return "horizontal-tb" === (null === (w=t.region) || void 0 === w?void 0:w.writingMode);}).sort(function(t,w){return t.region.marginTop - w.region.marginTop;});if(!p || 0 === p.length)return k;for(var q=0,u=0;q < p.length && u < k.length;u++){"horizontal-tb" === (null === (n=k[u].region) || void 0 === n?void 0:n.writingMode) && (k[u]=p[q++]);}return k;};b.GMa=c;c.kba={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,l){var f;f=this;this.SZa=c;this.f6a=l;this.Vwa=!1;this.zM=function(){f.fm=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;a.prototype.update=function(c){var l,f,h,d,g;h=this.SZa();if(this.Jdb !== h){d=null === (f=null === (l=this.LU) || void 0 === l?void 0:l.ZA(h)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= h && h <= d.endTime){g=d;this.tdb(d.endTime - h);}else this.tdb(d.startTime - h);this.Jdb=h;this.Ega !== g && (this.Ega=g,!c && this.f6a && this.f6a());}};a.prototype.start=function(){this.Vwa=!0;this.update();};a.prototype.aab=function(c){this.LU=c;this.Ega=this.Jdb=void 0;c || this.stop();};a.prototype.stop=function(){this.Vwa=!1;this.Up();};a.prototype.rGb=function(){this.update(!0);return this.Ega;};a.prototype.tdb=function(c){this.Up();this.Vwa && 0 < c && (this.fm=nb.setTimeout(this.zM,c + a.Wjb));};a.prototype.Up=function(){this.fm && (nb.clearTimeout(this.fm),this.fm=void 0);};b.KMa=a;a.Wjb=10;},26159:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa){this.j=x;this.trackId=z;this.$F=A;this.ec=B;this.wg=D;this.Fcb=C;this.Tb=F;this.urls=G;this.se=E;this.displayName=J;this.Bh=M;this.GH=L;this.variant=H;this.nC=N;this.profile=I;this.mt=K;this.P7=O;this.EFb=R;this.i6=Y;this.Xs=oa;this.type=d.Rj.Swa;this.Er=void 0;this.ek=!(!I || I != m.tl.JI);this.yg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.ek};this.log=(0,g.Kh)(x,"TimedTextTrack");this.state=y.x_;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.xD=void 0;l=a(5163);f=a(61726);h=a(29204);d=a(51344);g=a(31276);m=a(75568);k=a(45146);n=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(56485);w=a(32934);v=a(93161);(function(x){x[x.x_=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.gD=2]="LOADED";x[x.rP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.R5=function(){var x;x=this;if(this.j.state.value === q.Vb.CLOSED || this.j.state.value === q.Vb.CLOSING)return Promise.reject({ia:!1});if(this.ek)return this.qMb();if(this.j.fd.ha)return (this.state=y.LOADING,this.m1a());this.dWa || (this.dWa=this.fWa());return this.dWa.then(function(z){return x.m1a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.Yn=function(){return this.P7;};c.prototype.Zm=function(){return this.EFb;};c.prototype.rna=function(){var x;return (null === (x=this.gX) || void 0 === x?0:x.ready)?this.gX.LU:void 0;};c.prototype.Pl=function(x,z){var A;try{return null === (A=this.rna()) || void 0 === A?void 0:A.Pl(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.ek});}};c.prototype.HJb=function(){var x,z,A;if(!(0,n.Uc)(this.ab))try{A=null === (z=null === (x=this.rna()) || void 0 === x?void 0:x.ZA(0)) || void 0 === z?void 0:z[0];this.ab=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.ab;};c.prototype.Dta=function(x){var z,A;(0,k.oa)((0,v.B1a)(x));(0,k.oa)(null === (z=this.j.W) || void 0 === z?void 0:z.Fa.zj,"Live manifest is unavailable.");(0,k.oa)(null === (A=this.gX) || void 0 === A?void 0:A.LU,"Subtitle manager is unavailable");z=x.t4b;this.gX.LU.Dta({I:x.I,xml:z,ab:x.ab,mf:x.mf,size:z.length,hr:x.hr,endOfStream:x.endOfStream});};c.prototype.a$=function(x){return this.j.state.value === q.Vb.CLOSING || this.j.state.value === q.Vb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Gb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.RUa=function(x){var z,A;z=this;A=(0,g.Kh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.SUa)(this.j,A,this.request,this);x=new t.default(A,x);this.gX={LU:x,ready:!1};x.on("ready",function(){z.gX.ready=!0;});return x;};c.prototype.qMb=function(){var x,z,A,B,D,C,F;x=this;if(!this.j1a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",URa:!1,Kqa:this.mt.offset,R4a:this.mt.length,ye:this.j.mediaTime.value || 0,bufferSize:h.config.MLb,L9:{M:this.j.gT()}};A=(this.urls || []).map(function(G){return G.Gg;});B=0;D={};C=!0;F=function(G,E){var J;(0,n.Uc)(G)?C || x.a$(x.Ss(x.Es,"","image"))?(C=!1,x.mt.url=null === (J=x.I4(x.Es)) || void 0 === J?void 0:J.url,z.url=x.mt.url,D[G]=(D[G] || 0) + 1,J=x.RUa(z),J.on("ready",function(){E({ia:!0,track:x});}),J.on("error",function(M){var L;M=Object.assign({ia:!1},M);L=x.Ss(x.Es,x.mt.url,"image");L.details={midxoffset:x.mt.offset,midxsize:x.mt.length};L.errorstring=M.errorString;D[G] <= h.config.scb?(x.p4(L,!0,"retry with current cdn"),x.Oha(D[G]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ss(x.Es,"","image"));F(x.Es,E);})):(x.Es=A[B++],x.Es?(x.p4(L,!0,"retry with next cdn"),x.Oha(D[G]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ss(x.Es,"","image"));F(x.Es,E);})):(x.p4(L,!1,"all cdns tried"),E({ia:!1,FRb:"all cdns failed for image subs",track:x})));}),J.start()):E({ia:!1,aborted:!0}):(E({ia:!1,FRb:"cdnId is not defined for image subs downloadUrl"}),x.p4(x.Ss(0,"","image"),!1,"cdnId is undefined"));};this.Es=A[B++];this.j1a=new Promise(function(G,E){F(x.Es,function(J){J.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.gD,G(J)):(x.log.error("Unable to load image subtitles manager",J),x.state=y.rP,E(J));});});}return this.j1a;};c.prototype.m1a=function(x){var z,A;z=this;A=this.j.KC.value;(0,k.oa)(A);(0,k.oa)(void 0 !== x || this.j.fd.ha);return new Promise(function(B,D){var C;C=z.RUa({profile:z.profile,xml:x,Lf:h.config.Rwa,preferences:h.config.F$,ye:z.j.mediaTime.value || 0,URa:!1,videoSize:A,ha:z.j.fd.ha});C.on("ready",function(){B(C);}).on("error",function(F){D({ia:!1,error:F});}).start();}).then(function(){z.state=y.gD;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.zw)(B),z.yg,{url:B.url});z.state=y.rP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.p4=function(x,z,A){x=Object.assign({},x,{rhc:z,status:A});this.j.fireEvent(q.fa.VN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,D;A=this;this.log.trace("Downloading",x);D=this.I4(this.Es);x={url:x.url,offset:x.offset,length:x.size,Er:this.Er,responseType:f.ST,headers:{},Bc:D?{id:D.Gg}:void 0,JA:"tt-" + this.se,qr:null !== (B=null === D || void 0 === D?void 0:D.type) && void 0 !== B?B:w.KP};this.j.G5.download(x,function(C){A.log.trace("imgsub: request status " + C.ia);C.ia?z(null,new Uint8Array(C.content)):z({ya:C.ya,De:C.De});});};c.prototype.Ss=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Tb,subtitletype:A,bcp47:this.se,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ek};};c.prototype.I4=function(x){return (this.urls || []).find(function(z){return z.Gg === x;});};c.prototype.fWa=function(){var B,D;function x(C){return l.__awaiter(B,void 0,void 0,function G(){var E,J,M;J=this;return Ja(G,function(L){E=A();M=J.Ss(C.Bc.Gg,C.url,"text");M.errorstring=C.reason;return E && J.a$(M)?L.return(J.Oha(D[E.Gg]).then(z)):L.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function F(){var G,E,J;J=this;return Ja(F,function(M){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(D[G.Gg]=(D[G.Gg] || 0) + 1,M.return(J.VBb(E,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(C){return !!((D[C.Gg] || 0) < h.config.scb);});}B=this;this.state=y.LOADING;D={};return z();};c.prototype.Oha=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.VBb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Bc:z.Gg}),this.Ss(z.Gg,x,"text"));return new Promise(function(B,D){var C,F;F={responseType:f.$na,url:x,track:A,Bc:{id:z.Gg},JA:"tt-" + A.se,qr:null !== (C=z.type) && void 0 !== C?C:w.KP};A.j.G5.download(F,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Bc:z}),D(G));});});};Xa.Object.defineProperties(c.prototype,{Bf:{configurable:!0,enumerable:!0,get:function(){return this.Fcb.Bf;}},dC:{configurable:!0,enumerable:!0,get:function(){return this.Fcb.dC;}}});b.xD=c;c.Gz=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SUa=void 0;b.SUa=function(a,c,l,f){return {hJb:function(){var h;h=a.Zma();f.Xs && (h+=f.Xs);return h;},la:c,request:l,nf:!1};};},73585:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u;function c(t){var w;w=this;this.j=t;this.Cwa=this.r5a=0;this.sg=this.Tk=!1;this.Rp=0;this.K5=new Set();this.SW=!0;this.gl=function(){var v,y;w.s9();w.TE && (w.log.info("Deactivating",w.TE),w.Vy.hAb(w.Ps()));w.j.Yh.set(null);w.OH.aab(void 0);w.uTa();v=w.j.Gb.value;v && v.Yn() && !v.Zm() && (v=null);if(v && w.j.lb.value !== q.bb.Ff){y=w.Ps();w.Vy.Aqb(y,v);}v?(w.log.info("Activating",v),w.j.em.set(v.getState() === l.xD.Gz.gD?q.wf.$d:q.wf.Pe),w.Tk || w.j.je("tt_start"),v.R5().then(w.MJ).catch(w.MJ)):w.j.em.set(q.wf.$d);w.TE=v;w.cz();};this.sync=function(){w.Tk && (w.OH.start(),w.j.lb.value !== q.bb.me && w.OH.stop());};this.cz=function(){var v;w.SW && w.j.state.value === q.Vb.$d && w.j.lb.value !== q.bb.Ff && (w.bh?v=w.OH.rGb():w.j.Gb.value && (v=c.W1b[w.j.Gb.value.getState()]));v && (0,p.Uc)(v.startTime) && w.j.Lt.value !== v && (w.r5a++,w.Cwa+=w.OH.SZa() - v.startTime,w.XRa=Math.ceil(w.Cwa / (w.r5a + 0)));w.j.Lt.set(v);};this.Ps=function(){var v;v=w.j.Zma();w.TE && w.TE.Xs && (v+=w.TE.Xs);return v;};this.Tra=function(v){w.K5.add(v);w.SW && (w.fireEvent(c.Gab,v),v && v.id && (w.Vy.Idb(v.id),!1));w.log.trace("showsubtitle",w.h5(v));};this.wV=function(v){w.K5.delete(v) && w.SW && (w.fireEvent(c.r9a,v),w.log.trace("removesubtitle",w.h5(v)));};this.hLb=function(){w.K5.forEach(function(v){w.fireEvent(c.r9a,v);w.log.trace("hide subtitle",w.h5(v));});};this.yZb=function(){w.K5.forEach(function(v){w.fireEvent(c.Gab,v);w.log.trace("resume subtitle",w.h5(v));});};this.wh=function(){w.log.warn("imagesubs buffer underflow",w.j.Gb.value.yg);w.j.em.set(q.wf.Pe);};this.Dra=function(){w.log.info("imagesubs buffering complete",w.j.Gb.value.yg);w.j.em.set(q.wf.$d);};this.c8=function(){w.Tk && w.bh && w.bh.dz(w.Ps());};this.o6a=function(v){w.Tk && w.bh && (w.bh.pause(),w.bh.vC(v.Bs));};this.Fv=function(){w.Tk && w.bh && w.bh.r8a();};this.l6a=function(v){w.bh && w.bh.Lj(v.sh,v.qM);};this.t6a=function(v){w.bh && w.bh.bj(v.I,v.u5b);};this.xTb=function(){w.Tk=!0;(0,n.Mf)(function(){var v,y;(null === (v=w.TE) || void 0 === v?0:v.ek)?null === (y=w.bh) || void 0 === y?void 0:y.dz(w.Ps()):w.sync();w.cz();});};this.uTb=function(){w.uTa();w.OH.stop();w.cz();w.sg=!0;w.s9();};this.Xra=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.Vy.Idb.apply(w.Vy,ca(v.blocks.map(function(y){return y.id;}))),!1);};this.ATb=function(v){w.n5b(v.newValue,v.oldValue);w.sync();w.cz();};this.MJ=function(v){var y;if(!w.sg){y=v.track;if(y === w.j.Gb.value)try{w.bh=y.rna();y.ek?w.yqb(v):w.zqb(v);}catch(x){w.log.error("Error activating track:",x,y);return;}w.Tk || w.j.je(v.ia?"tt_comp":"tt_err");v.ia?(d.config.e$a?setTimeout(function(){w.j.em.set(q.wf.$d);},d.config.e$a):w.j.em.set(q.wf.$d),y.ek || w.cz()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.rEb?w.j.od(k.U.Vib,{Jb:v.track?v.track.yg:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.em.set(q.wf.$d));}};this.Db=new h.Qj();this.Vy=new m.pMa((0,g.Kh)(t,"SubtitleTracker"),d.config.fDb);this.log=(0,g.Kh)(t,"TimedTextManager");this.OH=new f.KMa(this.Ps,this.cz);this.j.Gb.addListener(this.gl);d.config.OVb?(this.j.addEventListener(q.fa.Tk,this.xTb),this.gl()):(this.j.em.set(q.wf.$d),this.j.addEventListener(q.fa.Tk,function(){w.Tk=!0;w.gl();}));this.j.lb.addListener(this.ATb);this.j.addEventListener(q.fa.Lwa,this.sync);this.j.Lt.addListener(this.Xra);this.j.addEventListener(q.fa.sg,this.uTb);}Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;l=a(26159);f=a(7953);h=a(94886);d=a(29204);g=a(31276);m=a(69899);k=a(36129);n=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.g1b=function(){this.SW=!0;this.yZb();this.cz();};c.prototype.iLb=function(){this.SW=!1;this.hLb();this.cz();};c.prototype.addEventListener=function(t,w,v){this.Db.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Db.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Db.Ec(t,w,v);};c.prototype.Jga=function(t,w,v){var y,x;y=this;x=u.FMa.Xyb(this.j,t,w,v);this.u1a(this.j.eh,x);this.j.ai.forEach(function(z){y.u1a(z.eh,x);});this.j.Gb.set(x);this.j.fireEvent(q.fa.Nt);};c.prototype.TVb=function(t){this.wua(t)?t.R5().then(function(){}):Promise.resolve();};c.prototype.RJb=function(t){return this.Vy.yJb(t);};c.prototype.sna=function(t){return this.Vy.sna(t);};c.prototype.ET=function(){var t,w;t=this.j.yX;w=d.config.Rwa.characterSize;w={size:d.config.F$.characterSize || w};t && (w.visibility=t.yna(),w.PR=t.wna(),w.Wq=t.xna());return w;};c.prototype.x0b=function(t){d.config.F$.characterSize=t;t=this.j.Gb.value;this.wua(t) && !t.ek && t.R5().then(this.MJ).catch(this.MJ);};c.prototype.n5b=function(t,w){var v;t === q.bb.me || t == q.bb.Uh?w !== q.bb.me && w !== q.bb.Uh && ((w=this.j.Gb.value) && !this.wua(w) || this.Vy.x5a(this.Ps(),w || void 0,"presentingstate:" + t)):t !== q.bb.Ff && t !== q.bb.bq || this.Vy.Pka(null !== (v=this.Ps()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.s9=function(){this.Rp=0;nb.clearTimeout(this.sN);};c.prototype.uTa=function(){var t;this.bh && this.bh.stop();(null === (t=this.TE) || void 0 === t?0:t.ek) && this.P3a("removeListener");this.bh=void 0;};c.prototype.P3a=function(t){this.bh && (this.bh[t]("showsubtitle",this.Tra),this.bh[t]("removesubtitle",this.wV),this.bh[t]("underflow",this.wh),this.bh[t]("bufferingComplete",this.Dra),"addListener" === t?(this.j.addEventListener(q.fa.Kn,this.c8),this.j.addEventListener(q.fa.Dj,this.o6a),this.j.addEventListener(q.fa.mH,this.Fv),this.j.addEventListener(q.fa.M7,this.l6a),this.j.addEventListener(q.fa.wxa,this.t6a)):(this.j.removeEventListener(q.fa.Kn,this.c8),this.j.removeEventListener(q.fa.Dj,this.o6a),this.j.removeEventListener(q.fa.mH,this.Fv),this.j.removeEventListener(q.fa.M7,this.l6a),this.j.removeEventListener(q.fa.wxa,this.t6a)));};c.prototype.h5=function(t){return {currentPts:this.Ps(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.yqb=function(t){var w,v;w=this;v=t.track;if(!v || !v.ek)throw Error("Not an image base subtitle");t.ia?(this.s9(),this.P3a("addListener"),this.log.info("Activated",v),this.j.Yh.set(v),this.Tk?(0,n.Mf)(function(){w.bh.dz(w.Ps());}):this.bh.pause()):this.U9a(v,t);};c.prototype.zqb=function(t){var w,v;w=t.track;v=t.ia;if(!w || w.ek)throw Error("Not a valid text track");v?(this.s9(),this.OH.aab(this.bh),this.log.info("Activated",w),this.j.Yh.set(w)):this.U9a(w,(0,k.zw)(t));this.cz();};c.prototype.U9a=function(t,w){var v,y;v=this;y=this.Rp < d.config.sQb;y && (this.sN=nb.setTimeout(function(){v.Rp++;t.R5().then(v.MJ).catch(v.MJ);},d.config.B3b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.ek)?" img subtitle":""),{retry:y},w,t);};c.prototype.wua=function(t){return !(!t || t.Yn() && !t.Zm());};c.prototype.u1a=function(t,w){var v;v=t.findIndex(function(y){return y.ec >= w.ec;});-1 === v && (v=0);t.splice(v,0,w);};b.HMa=c;r={};c.W1b=(r[l.xD.Gz.LOADING]={EU:!0},r[l.xD.Gz.rP]={Ks:!0},r);c.Gab="showsubtitle";c.r9a="removesubtitle";},79014:function(r,b,a){var l,f,h,d,g,m;function c(k){var n,p,q,u;n=this;this.j=k;this.gTb=function(){var t;h.fe.removeListener(h.s5,n.q6a);t=n.Wn.Um();t && t.parentNode && t.parentNode.removeChild(t);};this.Xra=function(t){n.Wn.Y_b(t.newValue);};this.KTb=function(t){var w;n.Wn.d0b(t.newValue?t.newValue.i6:void 0);n.Wn.e0b(null === (w=t.newValue) || void 0 === w?void 0:w.se);n.Wn.V4b(n.rZa(t.newValue));};this.q6a=function(){n.Wn.bH();};q=k.Gb.value?k.Gb.value.i6:void 0;u=null === (p=k.Gb.value) || void 0 === p?void 0:p.se;p=this.rZa(k.Gb.value);this.Wn=new g.GMa(p,q,u);q=k.KC.value;(0,f.oa)(.1 < q.width / q.height);this.Wn.O_b(q.width / q.height);k.kk.appendChild(this.Wn.Um());k.Lt.addListener(this.Xra);k.Gb.addListener(this.KTb);k.addEventListener(m.fa.sg,this.gTb,l.MI);h.fe.addListener(h.s5,this.q6a);}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;l=a(33096);f=a(45146);h=a(37509);d=a(29204);g=a(97154);m=a(85001);c.prototype.Mva=function(k){this.Wn.Mva(k);};c.prototype.yna=function(){return this.Wn.yna();};c.prototype.Kva=function(k){this.Wn.Kva(k);};c.prototype.wna=function(){return this.Wn.wna();};c.prototype.Lva=function(k){this.Wn.Lva(k);};c.prototype.xna=function(){return this.Wn.xna();};c.prototype.rZa=function(k){var n;if(k && d.config.I6 && 0 <= d.config.I6.indexOf(k.se)){n=Object.assign({},d.config.E$);Object.entries(n).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.E$;};b.IMa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oqa=void 0;b.oqa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],f=c(l),h=1;h < a.length;h++){d=a[h];g=c(d);g > f && (l=d,f=g);}return l;}};},28838:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yd=void 0;r=a(22674);c=a(58421);l=a(6856);f=a(48864);h=a(37187);d=a(17842);g=a(96723);m=a(67371);k=a(47511);n=a(45613);p=a(51361);b.Yd=new r.ed(function(q){q(h.f0).to(c.oMa).da();q(d.Uda).to(f.MKa).da();q(g.jNa).to(l.iNa).da();q(m.mkb).to(k.UHa).da();q(n.GNa).to(p.FNa).da();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n8a=void 0;b.n8a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H6=void 0;b.H6=function(a,c,l){var f;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=l.get;l.get=function(){var h,d;h=f.apply(this,arguments);d={enumerable:l.enumerable,value:h};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return h;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mkb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rV=b.yh=void 0;c=a(45266);b.yh=function(l,f){return [].concat.apply([],ca(l)).map(function(h){return Object.assign({name:h},null !== f && void 0 !== f?f:{});});};b.rV=function(l,f){for(var h=[],d=1;d < arguments.length;++d){h[d - 1]=arguments[d];}return (0,c.RVa)(function(g,m){return g.name === m;},l,h);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uda="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f0=b.Do=void 0;b.Do=function(){};b.f0="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MS=b.Zoa=void 0;b.Zoa=function(a){return void 0 !== a && null !== a;};b.MS=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jNa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GNa="WindowUtilsSymbol";},47511:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;r=a(5163);l=a(22674);f=a(76564);c.prototype.compare=function(h,d){var g;g=[];this.dja(h,d,"",g);return g;};c.prototype.dja=function(h,d,g,m){var k;k=this;if(f.eD.nA(h))f.eD.nA(d) && h.length === d.length?h.forEach(function(q,u){k.dja(h[u],d[u],g + "[" + u + "]",m);}):m.push({a:h,b:d,path:g});else if(f.eD.zR(h) && null != h){if(f.eD.zR(d) && null != d){for(var n in h){this.dja(h[n],d[n],g + "." + n,m);}for(var p in d){(p in h) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:g + "." + p});}}else m.push({a:h,b:d,path:g});}else h !== d && m.push({a:h,b:d,path:g});};a=c;a=r.__decorate([(0,l.T)()],a);b.UHa=a;},48864:function(r,b,a){var l,f,h,d;function c(g){this.location=g;(0,f.co)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(5163);f=a(66523);h=a(63368);a=a(22674);c.KV=function(g){var m,n,p;m={};if(0 < g.length){g=g.split("&");for(var k=0;k < g.length;k++){n=g[k].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(l.pIa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.pIa,"%20")):m[n.toLowerCase()]="";}}return m;};Xa.Object.defineProperties(c.prototype,{nXb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.KV(this.u8a);}},u8a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.fW)return this.fW;this.fW=this.location.search.substr(1);g=this.fW.indexOf("#");0 <= g && (this.fW=this.u8a.substr(0,g));return this.fW;}}});d=l=c;d.pIa=/[+]/g;d=l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(h.PFa))],d);b.MKa=d;},58421:function(r,b,a){var l,f,h,d,g,m;function c(k,n){this.is=k;this.json=n;(0,f.co)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;r=a(5163);f=a(66523);h=a(63368);d=a(22674);g=a(42207);m=a(37187);c.prototype.I8a=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.iha(p);});};c.prototype.Kta=function(k){var n;n=this;return l.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.F1(p);});};c.prototype.Mp=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.AR(p);});};c.prototype.wXb=function(k){var n;n=this;return l.read(k,function(p){return parseFloat(p);},function(p){return n.is.Yj(p);});};c.prototype.H8a=function(k,n){return l.read(k,function(p){return l.NEb(p,n);},function(p){return void 0 !== p;});};c.prototype.Nta=function(k,n){return l.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.J8a=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.zR(q) && p(q);});}catch(q){return new m.Do();}};c.prototype.Cj=function(k,n,p){var q,u;q=this;p=void 0 === p?1:p;k=k.trim();u=n instanceof Function?n:this.wzb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new m.Do();k=k.substring(n + 1,p);try{return l.AUb(k).map(function(t){t=u(q,l.Y5b(t));if(t instanceof m.Do)throw t;return t;});}catch(t){return t instanceof m.Do?t:new m.Do();}};c.prototype.wzb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=l.OIb(k);return 1 < n?p.Cj(u,k,n - 1):q(p,u);};};c.NEb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new m.Do();};c.OIb=function(k){switch(k){case "int":return function(n,p){return n.I8a(p);};case "bool":return function(n,p){return n.Kta(p);};case "uint":return function(n,p){return n.Mp(p);};case "float":return function(n,p){return n.wXb(p);};case "string":return function(n,p){return n.Nta(p);};case "object":return function(n,p){return n.J8a(p);};}};c.AUb=function(k){var y;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < k.length;(v={zO:v.zO},++u)){v.zO=k.charAt(u);y=void 0;"," == v.zO && 0 == t?(p.push(k.substr(q,u - q)),q=u + 1):(y=n.find((function(x){return function(z){return z[0] == x.zO;};})(v)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == v.zO && (--t,w.pop());}if(q != u)p.push(k.substr(q,u - q));else if(q == u && 0 < q)throw new m.Do();return p;};c.Y5b=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new m.Do();return k.substring(1,k.length - 1);}return k;};a=l=c;a=l=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Wf)),r.__param(1,(0,d.l)(h.fD))],a);b.oMa=a;},6856:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;r=a(5163);a=a(22674);c.prototype.tYa=function(f){var h;h=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return h.tYa(d);});};l=c;l=r.__decorate([(0,a.T)()],l);b.iNa=l;},51361:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;r=a(5163);l=a(22674);f=a(22365);c.prototype.oJb=function(){var h;h=nb.devicePixelRatio || 1;return {width:f.ku.width * h,height:f.ku.height * h};};a=c;a=r.__decorate([(0,l.T)()],a);b.FNa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oaa="AsePrefetcherAdapterSymbol";b.oza="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eba="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;r=a(22674);c=a(68976);l=a(37780);f=a(66476);h=a(87657);d=a(12849);g=a(85671);m=a(27162);k=a(19484);n=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);w=a(61170);v=a(18148);y=a(94028);b.cd=new r.ed(function(x){x(c.xJa).to(l.wJa).da();x(h.Qda).to(d.EKa).da();x(f.AD).to(g.sNa).da();x(p.DKa).to(n.AGa).da();x(p.CKa).to(k.zFa).da();x(p.BKa).to(m.tFa).da();x(t.oza).L3b(function(){var z;return null === (z=u.Zo.Rh) || void 0 === z?void 0:z.Lv;});x(t.Oaa).to(w.nza).da();x(q.Oda).to(q.qKa);x(v.eba).to(y.HAa).da();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xJa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DKa="PreparerManifestFetcherSymbol";b.CKa="PreparerLicenseFetcherSymbol";b.BKa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fj=void 0;r=b.fj || (b.fj={});r.Jn="created";r.Zv="started";r.WN="succeeded";r.Ks="failed";r.Md="cancelled";r.OSa="cancelled_on_start";r.wia="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda=b.UI=void 0;r=b.UI || (b.UI={});r.e3b="taskstart";r.c3b="taskabort";r.d3b="taskfail";r.f3b="tasksuccess";b.Qda="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AD="VideoPreparerSymbol";},61170:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(D,C){B.resolve=D;B.reject=C;});}function l(B,D,C,F,G){var E;E=this;this.Xsa=C;this.bWb=F;this.Oh=G;this.dY=[];this.fC=new Map();this.doa=new Map();this.zTb=function(J){var M,L;J=J.wishListItem.key.J;if(E.fC.has(J)){L=E.fC.get(J);J=L.QM;L=L.hja;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,J);}};this.g8=function(J){var M,L;M=J.J;L=J.W;J.target.Txa(J.J) || (E.Oe.has({J:M}) && (E.Oe.Tm(M).Gq=!0),null === L || void 0 === L?void 0:L.then(function(H){var N;N=H.Fa;N && N.bc && N.cp && N.cp.forEach(function(I){var K;K={Hf:{bc:N.bc,vd:M}};E.Oe.has({J:I.O,vd:N.O,bc:N.bc}) && (E.Oe.Tm(I.O,K).Gq=!0);});}).catch(function(){}),E.g9a(M),E.sab(E.dY));};this.jXa=function(J,M){var L,H;L=J.J;H=J.W;J.target.Txa(L) || (null === H || void 0 === H?void 0:H.then(function(N){(N=N.Fa) && N.bc && N.bc === M.bc && L === M.vd && (N={Hf:{bc:N.bc,vd:L}},E.Oe.has(M) && (E.Oe.Tm(M.J,N).Gq=!0),E.doa.delete(E.Oe.generateKey(M)));}).catch(function(){}));};this.la=B.Wa("VideoPreparer");this.config=D();}Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;r=a(5163);f=a(87386);a(50323);h=a(20318);d=a(93161);g=a(4203);m=a(29204);k=a(72639);n=a(67590);p=a(22674);q=a(59315);u=a(57055);t=a(49745);w=a(24735);v=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);l.prototype.va=function(B){var D;D=this;this.Oe=new v.Dea(function(C,F){return D.av(C,B,h.Zo.$h,F);},function(C,F){return D.Uv(C,B,F);});};l.prototype.fetch=function(B,D){var C;C=this;if(-1 === D.events.listeners("manifestRemovedFromCache").indexOf(this.g8))D.events.on("manifestRemovedFromCache",this.g8);if(-1 === D.events.listeners("playbackClosing").indexOf(this.g8))D.events.on("playbackClosing",this.g8);!1;return this.Tx(B.O,D,B.nb).then(function(F){if("LIVE" === F.Fa.dg)throw {status:x.fj.OSa};C.sab(C.wwb(C.Vzb(B,D)));return C.fC.get(B.O).hja.promise;});};l.prototype.getStats=function(){return this.Lv.getStats();};l.prototype.c2b=function(B,D,C){D={ph:D,W:C};this.doa.set(this.Oe.generateKey(B),D);};l.prototype.bJb=function(B){return this.doa.get(this.Oe.generateKey(B));};l.prototype.wwb=function(B){return [B].concat(ca(this.dY.filter(function(D){return D.key.J !== B.key.J;}))).slice(0,this.config.$Vb).map(this.config.aWb?function(D,C){return Object.assign({},D,{priority:C});}:function(D){return D;});};l.prototype.MZa=function(B,D,C){var F;F=this;C=void 0 === C?{}:C;return this.Tx(B,D,C).then(function(G){F.sUa(G,D);return G.Fa;});};l.prototype.Tx=function(B,D,C){var F;C=void 0 === C?{}:C;return this.Oh.Tx({ma:null !== (F=D.Vs(B)) && void 0 !== F?F:D.m3(B),J:B,Hq:k.ol.OI,qf:w.Dh.rn,Ya:C});};l.prototype.Uv=function(B,D,C){var F,G,E,J,M,L;F=this;(0,z.oa)(C.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested");E=C.Hf;J=E.bc;M=E.vd;(0,z.oa)(!!J,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Oe.Tm(null === (G=null === C || void 0 === C?void 0:C.Hf) || void 0 === G?void 0:G.vd);return L.Wp.then(function(H){var N,I,K;H=H.W.ke;N=L.ma;(0,z.oa)(void 0 !== N,"parent xid must exist if an adBreak hydration was requested");I=k.ol.qm;K={KL:!0,ag:!1,HC:Date.now()};return F.Oh.Tx({ma:Number(N),Ya:K,J:M,Hq:I,qf:void 0,hO:void 0,If:{ph:B,bc:J,vd:M,EV:H}},!1).then(function(O){var R,Y;F.sUa(O,D);O.cp.forEach(function(oa){var za;function ka(Ca){F.jXa(Ca,za);D.events.ar("playbackClosing",ka);}function ha(Ca){F.jXa(Ca,za);D.events.ar("manifestRemovedFromCache",ha);}za={J:oa.Fa.O,vd:M,bc:J};F.c2b(za,B,oa);D.events.on("manifestRemovedFromCache",ha);D.events.on("playbackClosing",ka);});if(null === (R=O.Fa.Am) || void 0 === R || !R.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (Y=O.Fa.Am) || void 0 === Y?void 0:Y.ce[0];});});};l.prototype.sUa=function(B,D){var C,F,G;C=this;F=B.Fa;null === (G=F.cp) || void 0 === G?void 0:G.forEach(function(E){C.av(E.O,D,h.Zo.$h,{Hf:{bc:E.bc,vd:F.O}},E);});};l.prototype.Vzb=function(B,D){var C,F,G,E,J,M;G=new c();if(this.fC.has(B.O)){E=this.fC.get(B.O);J=E.QM;if(J.O === B.O && J.wd === B.wd)M=E.L6b.key;this.Lv.getStats().contents.some(function(L){return L.id === B.O;}) && (G=E.hja);}E=h.Zo.$h.In((0,m.Y2)(B.wd));M || (M={J:B.O,config:E});J={J:B.O};this.Oe.has(J) || this.Oe.store(J,this.Tzb(B,D,E));D={key:M,hec:!1,priority:B.priority,x2:d.N.Ma(null !== (F=null === (C=B.nb) || void 0 === C?void 0:C.ab) && void 0 !== F?F:0),Oe:this.Oe};this.fC.set(B.O,{L6b:D,QM:B,hja:G});return D;};l.prototype.Tzb=function(B,D,C){var F,G,E;F=this;G=B.O;return {get ma() {return D.Vs(G);},Gq:!1,events:new u.EventEmitter(),NSa:function(){},get Wp() {E || (E=F.MZa(B.O,D,B.nb).then(function(J){return {W:J,Zu:J.v5 && !J.iB,config:C,Wva:{}};}));return E;},J:G,Dwa:!1,equals:function(J){var M;M=D.Vs(G);return J && J.J === G && (!J.ma || !M || M === J.ma);}};};l.prototype.av=function(B,D,C,F,G){var E,J,M,L,H,N,I,K;E=this;H=D.Vs(B);if(H || F){N={J:B,vd:null === (J=null === F || void 0 === F?void 0:F.Hf) || void 0 === J?void 0:J.vd,bc:null === (M=null === F || void 0 === F?void 0:F.Hf) || void 0 === M?void 0:M.bc};if(!this.Oe.has(N)){I=null !== H && void 0 !== H?H:this.Oe.Tm(null === (L=null === F || void 0 === F?void 0:F.Hf) || void 0 === L?void 0:L.vd).ma;this.Oe.store(N,{NSa:function(){},equals:function(O){return O && O.J === N.J && (I === O.ma || !O.ma || !I);},get Wp() {K || (K=(G?Promise.resolve(G):E.MZa(B,D)).then(function(O){return {W:O,Zu:O.v5 && !O.iB,config:C,Wva:{}};}));return K;},set Wp(O) {K=O;},events:new u.EventEmitter(),ma:I,J:N.J,Gq:!1,Dwa:!1});}}};l.prototype.$$a=function(B){this.dY=B;};l.prototype.sab=function(B){this.$$a(B);this.Lv.rab(this.dY);};l.prototype.g9a=function(B){this.fC.has(B) && (this.$$a(this.dY.filter(function(D){return D.key.J !== B;})),this.fC.delete(B));};Xa.Object.defineProperties(l.prototype,{Lv:{configurable:!0,enumerable:!0,get:function(){this.dx || (this.dx=this.bWb(),this.dx.Wga(new A.jLa()).Dva(this.Xsa).iab(new y.$Ea()).O$a({nB:this.config.ZVb}),this.dx.events.on("prefetchComplete",this.zTb));return this.dx;}}});a=l;a=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(f.Za)),r.__param(1,(0,p.l)(g.ac)),r.__param(2,(0,p.l)(q.Oda)),r.__param(3,(0,p.l)(n.oza)),r.__param(4,(0,p.l)(t.mD))],a);b.nza=a;},94028:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){var q;q=this;this.Yf=n;n=p();this.qg=new m({log:k.Wa("CacheManager"),qa:{getTime:function(){return q.Yf.Eb().ba(d.na);}},Promise:Promise,nf:!1,xub:n.hWb,wub:n.fWb,$Db:n.T7a,ZDb:n.gWb});}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(87386);d=a(5021);g=a(4203);m=a(41385);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(f.Jc)),r.__param(2,(0,l.l)(g.ac))],c);b.HAa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;a.prototype.KXa=function(c,l){var f;return null !== (f=this.OEb(c,l)) && void 0 !== f?f:this.SEb(c,l);};a.prototype.OEb=function(c,l){var f,h;f=this;h=l.ga;return c.find(function(d){var g;return f.u3(h,null === (g=d.ga) || void 0 === g?void 0:g.ga);});};a.prototype.SEb=function(c,l){var f,h;f=l.ga.xe;h=l.ga.M[f];return c.find(function(d){var g;d=null === (g=d.ga) || void 0 === g?void 0:g.ga;d=(g=null === d || void 0 === d?void 0:d.xe) && (null === d || void 0 === d?void 0:d.M[g]) || void 0;return f === g && h.J === (null === d || void 0 === d?void 0:d.J) && h.sa === (null === d || void 0 === d?void 0:d.sa);});};a.prototype.u3=function(c,l){var f;f=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(h){return f.u3(c[h],l[h]);});};b.$Ea=a;},27162:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z;function c(A,B,D,C,F,G,E,J,M,L,H){this.er=D;this.YW=C;this.mc=F;this.qa=G;this.Ea=E;this.XL=J;this.cVb=M;this.Oh=L;this.di=H;this.log=A.Wa("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(4203);d=a(32573);g=a(63156);m=a(24735);k=a(91581);n=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);w=a(81918);v=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,v.yI)(A));this.O=A.O;this.cd=B;return B.cL(A.O,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,v.yI)(A));return D.Oh.H4(A.O).then(function(C){var F,G;D.W=C;D.Fa=C.Fa;if(C=D.cd.Aab(A.O,D.Fa))throw {status:C};C=D.Fa.Tt[0].$V;F=D.Fa.Tt[0].wka;G=(C?C:[F]).map(function(E){return D.mc.decode(E.bytes);});D.de=D.BA({vWa:D.log,Vka:function(E){return D.handleError(E);},je:void 0,qra:function(){},qa:{getTime:function(){return D.Ea.Eb().ba(u.na);},xdc:function(){return D.qa.ee.ba(u.sm);}}});B.P$a(A.O,D.de);return D.de.create(D.config.Tl).then(function(){return D.de.Xg(m.Dh.rn,G,!0);}).then(function(){return D.de;}).catch(function(E){D.handleError(E);throw E;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.fj.Md};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.de.close();this.cd.pTa(this.O);this.cd.Wia(this.O);};c.prototype.BA=function(A){var B,D;B=this;if(!this.er.xI || !this.er.vI){D=this.cVb();this.er.xI=D.Ry;this.er.vI=D.request;}D=new this.er.vI(A.vWa,function(C){var F;F=[];C.rj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.mc.encode(G.data)});});C={rj:F,L3:[B.Fa.Gk],qf:g.om.oUa(C.qf),ke:B.Fa.ke,ma:B.cd.m3(B.O),ki:B.W.ki,dg:B.W.Fa.dg};B.log.trace("xid created ",{MovieId:B.O,xid:C.ma});return B.XL.Lu(C);},void 0,{nf:!1,dk:!1});return this.er.xI(A.vWa,A.je,{nf:!1,dk:!1,Jd:D,bW:this.config.l8a,$:void 0,ez:this.config.DWa,onerror:A.Vka,qra:A.qra,qa:A.qa,OG:!1,Tsb:this.YW.f3([]),i6b:this.YW.l3([]),Apa:this.di.Z1.ba(u.na)});};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.ac)),r.__param(2,(0,l.l)(k.H_)),r.__param(3,(0,l.l)(n.XP)),r.__param(4,(0,l.l)(q.ih)),r.__param(5,(0,l.l)(t.fg)),r.__param(6,(0,l.l)(w.Jc)),r.__param(7,(0,l.l)(p.sP)),r.__param(8,(0,l.l)(y.xda)),r.__param(9,(0,l.l)(x.mD)),r.__param(10,(0,l.l)(a.cq))],z);b.tFa=z;},19484:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t;function c(w,v,y,x,z,A){this.mc=y;this.dCb=x;this.hM=z;this.Oh=A;this.log=w.Wa("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.zFa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(4203);d=a(24735);g=a(2248);m=a(47737);k=a(92395);n=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(w,v){var y;y=this;this.log.trace("Fetching LDL",(0,p.yI)(w));this.O=w.O;this.cd=v;return v.cL(w.O,"ldl").then(function(x){return x.R9;}).catch(function(){y.log.trace("Requesting a new license",(0,p.yI)(w));return y.Oh.H4(w.O).then(function(x){var z,A,B,D,C,F;y.Fa=x.Fa;if(v.a0a(w.O))return v.cL(w.O,"ldl").then(function(G){return G.R9;});z=y.cd.Aab(w.O,y.Fa);if(z)throw {status:z};A=y.Fa.Tt[0];z=A.$V;B=A.wka;A=A.streams[0].AA;D=(0,u.Koa)(A);C=(z?z:[B]).map(function(G){return y.mc.decode(G.bytes);});F=y.dCb().then(function(G){var E;E={type:d.Dh.rn,initData:C,b6:D,context:{u6:(0,t.Jma)(x.Fa.Tt[0].streams)},ti:{O:w.O,ma:v.m3(w.O),ke:y.Fa.ke,Gk:y.Fa.Gk,ki:x.ki,dg:x.Fa.dg}};return G.Xg(E,y.hM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.cd.P$a(w.O,{R9:F,source:"videopreparer"},function(){if(!y.cd.Txa(w.O))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.fj.Md};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.cd.pTa(this.O);this.cd.Wia(this.O);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.ac)),r.__param(2,(0,l.l)(g.ih)),r.__param(3,(0,l.l)(m.cZ)),r.__param(4,(0,l.l)(k.CP)),r.__param(5,(0,l.l)(q.mD))],a);b.zFa=a;},71576:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v,y){this.MU=w;this.Yf=v;this.Oh=y;this.log=u.Wa("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(5163);l=a(4203);f=a(22674);h=a(87386);d=a(81918);g=a(5021);m=a(17398);k=a(72639);n=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,n.yI)(u));v=u.nb;this.config.uqb && v && v.W && !this.Oh.u5(u.O) && (!(("clientGenesis" in v.W) && v.W.clientGenesis) || "number" === typeof v.W.clientGenesis && Date.now() - v.W.clientGenesis < this.config.T7a) && (v=this.MU.create(v.W)) && (v.fH=this.Yf.Eb().ba(g.na),v.nN=this.Yf.Eb().ba(g.na),this.Oh.fX(u.O,v));return this.Oh.Tx({ma:t.m3(u.O),J:u.O,Ya:null !== (w=u.nb) && void 0 !== w?w:{},Hq:k.ol.OI,qf:q.Dh.rn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Za)),r.__param(1,(0,f.l)(l.ac)),r.__param(2,(0,f.l)(m.HI)),r.__param(3,(0,f.l)(d.Jc)),r.__param(4,(0,f.l)(p.mD))],a);b.AGa=a;},37780:function(r,b,a){var l,f,h;function c(d,g){this.tb=g;this.la=d.Wa("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(42207);c.prototype.sBb=function(d){var g;g=this;try{return {direction:d.direction,qec:d.layoutHasChanged,Sfc:d.rowInteractionIndex,Fb:d.lolomos.map(function(m){return g.nBb(m);})};}catch(m){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.nBb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(m){return g.mBb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,Tfc:d.rowSegment};};c.prototype.mBb=function(d){var g,m;g={ye:d.pts,property:d.property,J:d.viewableId,index:d.index};m=d.preplay;this.tb.ug(m) && (g.M8=this.rBb(m));d=d.params;this.tb.ug(d) && (g.nb=this.IVa(d));return g;};c.prototype.rBb=function(d){var g;g={ye:d.pts,J:d.viewableId,KM:d.pipelineNum,index:d.index};d=d.params;this.tb.ug(d) && (g.nb=this.IVa(d));return g;};c.prototype.IVa=function(d){return {wd:d.uiLabel,Nj:d.trackingId,am:d.sessionParams};};c.prototype.qBb=function(d){var g;g=this;try{return d.map(function(m){return g.oBb(m);});}catch(m){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.oBb=function(d){var g,m;m=d.params;this.tb.ug(m) && (g=this.pBb(m));return {O:d.movieId,priority:d.priority,force:d.force,nb:g,wd:d.uiLabel,Zgc:d.uiExpectedStartTime,Ygc:d.uiExpectedEndTime,Hk:d.firstTimeAdded};};c.prototype.pBb=function(d){var g,m;g=void 0;m=d.sessionParams;this.tb.ug(m) && (g=m);return {t2:this.lBb(d.authParams),am:g,Nj:d.trackingId,ab:d.startPts,W:d.manifest,ag:d.isBranching};};c.prototype.lBb=function(d){return {WUb:null === d || void 0 === d?void 0:d.pinCapableClient};};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(a.Wf))],h);b.wJa=h;},59315:function(r,b,a){var l,f,h,d;function c(g,m){this.Xl=g;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Oda=b.qKa=void 0;r=a(5163);l=a(22674);f=a(75864);h=a(50954);a=a(4203);c.prototype.X3a=function(g){var m,k;m=this;if(g.Cd.key.ga)return Promise.resolve(g.Cd.key.ga);k=g.Cd.key.J;return g.Cd.Oe.Tm(k).Wp.then(function(n){n=n.W;return n.hp?(0,h.M2)(n.hp,{config:m.config()}):(0,h.g$)(k,m.Xl.Iq(k));});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.TI)),r.__param(1,(0,l.l)(a.ac))],d);b.qKa=d;b.Oda="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yI=void 0;b.yI=function(){return "";};},79538:function(r,b,a){var l,f;function c(h,d,g,m,k,n,p,q){this.type=h;this.Jn=d;this.SUb=void 0 === g?!1:g;this.notify=k;this.xEb=n;this.QM=p;this.cd=q;this.id=++f;this.status=l.fj.Jn;}Object.defineProperty(b,"__esModule",{value:!0});b.TP=void 0;l=a(32573);f=0;c.prototype.Ss=function(){var h;h={id:this.id,type:this.type,created:this.Jn,status:this.status,movieId:this.O};this.startTime && (h.startTime=this.startTime);this.endTime && this.startTime && (h.duration=this.endTime - this.startTime,h.endTime=this.endTime);return h;};c.prototype.tM=function(h){this.notify && this.notify(h);};c.prototype.JZb=function(){return this.xEb.fetch(this.QM,this.cd);};Xa.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.QM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.QM.priority;}}});b.TP=c;},12849:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u,t,w,v){this.is=w;this.Yf=v;this.log=u.Wa("TaskScheduler");this.Db=new p.Qj();this.config=t();this.currentIteration=this.kS=0;this.KH=[];this.paused=!1;this.n$=[];this.TTa=[];this.xMb=this.config.eWb || q.append;this.addEventListener=this.Db.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;r=a(5163);l=a(22674);f=a(87657);h=a(87386);d=a(4203);g=a(32573);m=a(42207);k=a(81918);n=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.FLb="ignore";})(q || (q={}));c.prototype.nrb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.KH=this.yMb(u);this.kS=0;this.currentIteration+=1;this.Mf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Mf=function(){var u,t,w,v;u=this;if(this.kS === this.KH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.kS,numberOfTasks:this.KH.length});else {t=this.JIb();w=this.currentIteration;t.startTime=this.Yf.Eb().ba(n.na);t.status=g.fj.Zv;this.Db.Ec(f.UI.e3b,{O:t.O,type:t.type});this.n$.push(t);v=function(y){t.endTime=u.Yf.Eb().ba(n.na);y();u.TTa.push(t);u.n$.splice(u.n$.indexOf(t),1);u.currentIteration === w && (u.kS++,u.Mf());};t.JZb().then(function(){v(function(){t.status=g.fj.WN;u.sta(t,f.UI.f3b,"task succeeded");});}).catch(function(y){v(function(){0 <= [g.fj.Md,g.fj.OSa,g.fj.wia].indexOf(y.status)?(t.status=y.status,u.sta(t,f.UI.c3b,"cancelled task")):(t.status=g.fj.Ks,u.sta(t,f.UI.d3b,"task failed",y));});});}};c.prototype.JIb=function(){return this.KH[this.kS];};c.prototype.getStats=function(u,t,w){var v,y,x,z;v=this.TTa.map(function(A){return A.Ss();});y=this.n$.map(function(A){return A.Ss();});x=this.is.ug(u) && this.is.ug(t);z={};if(this.is.ug(w))return (z.Ewb=v.filter(function(A){return A.movieId === w;}),z);v.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.fj.Zv?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.sta=function(u,t,w,v){var y;y=u.Ss();v?this.log.warn(w,y,v):this.log.trace(w,y);this.Db.Ec(t,{O:u.O,type:u.type,reason:u.status});u.tM(y);};c.prototype.yMb=function(u){var t,w;t=this.KH.filter(function(v){return v.SUb && v.status === g.fj.Jn;});w=this.xMb;return w === q.FLb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(m.Wf)),r.__param(3,(0,l.l)(k.Jc))],a);b.EKa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;a.prototype.qia=function(c,l){var f;c=l(c);null === (f=c.Wk) || void 0 === f?void 0:f.forEach(function(h){h.tbb.video.push({JSa:!1,wj:function(d){return d.filter(function(g){return !g.gi || 1080 >= g.yW;});}});});return c;};b.jLa=a;},85671:function(r,b,a){var f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J,M){this.T6b=A;this.tb=B;this.Yf=D;this.Kd=C;this.yXa=F;this.vEb=G;this.wEb=E;this.l4=J;this.events=new y.EventEmitter();this.log=x.Wa("VideoPreparer");this.config=z();this.eya={};this.D7={};this.Tf={num_of_calls:0,num_of_movies:0};this.l4.va(this);this.qg=M.qg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;r=a(5163);f=a(79538);h=a(4203);d=a(22674);g=a(87386);m=a(62665);k=a(42207);n=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);w=a(32737);v=a(67590);y=a(57055);c.prototype.P$a=function(x,z,A){this.qg.setData(x,"ldl",z,A);};c.prototype.a0a=function(x){return this.qg.MT(x,"ldl");};c.prototype.pTa=function(x){this.qg.clearData(x,"ldl",void 0,!0);};c.prototype.cL=function(x,z){return this.qg.getData(x,z);};c.prototype.NYa=function(x){var z;z=this.qg.getData(x,"ldl");this.qg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.Txa=function(x){return this.gbb === x || this.VUa === x;};c.prototype.VG=function(x,z){var A,B,D;A=this;x=x.map(function(C){C.nb=C.nb || ({t2:{WUb:!1},Nj:0});A.tb.XE(C.nb.Nj) || (C.nb.Nj=0);A.tb.XE(C.ye) && (C.nb.ab=C.ye);return C;});B=x.map(function(C){return A.Lzb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);D=B.map(function(C){return C.O + "-" + C.type;});this.log.trace("prepare tasks",D);this.Kd.nrb(B);this.Tf.num_of_calls++;this.Tf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.D7[A] || ({})),{KH:this.Kd.getStats(x,z,A),cache:this.qg.getStats(x,z),gGb:Object.assign(Object.assign({},this.Tf),this.l4.getStats())});};c.prototype.GKb=function(x){this.gbb=x;};c.prototype.EKb=function(x){this.log.trace("task scheduler paused on playback created");this.Kd.pause();this.config.gBb && this.qg.Ria(x,["manifest"]);this.config.fBb && this.qg.Ria(x,["ldl"]);this.config.dBb && this.qg.clearData(x,"manifest");this.l4.g9a(x);this.VUa=x;};c.prototype.W_a=function(){this.log.info("ad played, clearing all manifests from cache");this.ZXa();};c.prototype.X_a=function(){this.log.info("track changed, clearing all manifests from cache");this.ZXa();};c.prototype.DKb=function(x){var z;z=this;this.config.eBb?this.qg.clearData(x,"manifest"):this.qg.MT(x,"manifest") && this.qg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.qg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Wia(x);this.gbb=this.VUa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.ZXa=function(){this.qg.Ria("none",["manifest","ldl"]);};c.prototype.Wia=function(x){delete this.eya[x];};c.prototype.Vs=function(x){return this.eya[x];};c.prototype.m3=function(x){return this.eya[x]=this.T6b.CA();};c.prototype.Aab=function(x,z){if(this.a0a(x))return u.fj.Md;if(!z.iB)return u.fj.wia;};c.prototype.Lzb=function(x,z){var A,B;x.wd && x.nb && (x.nb.wd=x.wd);this.l5b(x.O,x.Hk);A=this.rzb(x,z);B=this.nzb(x,null === A || void 0 === A?void 0:A.id,z);x=this.uzb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.rzb=function(x,z){if(this.qg.MT(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new f.TP("manifest",this.Yf.Eb().ba(q.na),!!x.nb.Tua,void 0,z,this.yXa,x,this);};c.prototype.nzb=function(x,z,A){if(this.config.GS)if(this.qg.MT(x.O,"ldl"))!1;else return this.config.Fr?new f.TP("ldl",this.Yf.Eb().ba(q.na),!!x.nb.Tua,z,A,this.vEb,x,this):new f.TP("ldl",this.Yf.Eb().ba(q.na),!!x.nb.Tua,z,A,this.wEb,x,this);};c.prototype.uzb=function(x,z,A){if(this.config.MWa)return new f.TP("getMedia",this.Yf.Eb().ba(q.na),!!x.nb.Tua,z,A,this.l4,x,this);};c.prototype.l5b=function(x,z){this.D7[x] || (this.D7[x]={J8:0,Hk:0});x=this.D7[x];x.J8=(void 0 !== x?void 0 !== x.J8?x.J8:0:0) + 1;x.Hk=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Za)),r.__param(1,(0,d.l)(h.ac)),r.__param(2,(0,d.l)(m.Bw)),r.__param(3,(0,d.l)(k.Wf)),r.__param(4,(0,d.l)(p.Jc)),r.__param(5,(0,d.l)(n.Qda)),r.__param(6,(0,d.l)(w.DKa)),r.__param(7,(0,d.l)(w.CKa)),r.__param(8,(0,d.l)(w.BKa)),r.__param(9,(0,d.l)(v.Oaa)),r.__param(10,(0,d.l)(t.eba))],a);b.sNa=a;},36149:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.neb=void 0;r=a(22674);c=a(58872);l=a(52357);b.neb=new r.ed(function(f){f(c.qNa).to(l.pNa).da();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qNa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zc=b.bb=b.wf=b.Vb=b.rY=b.fa=b.jca=b.tD=b.Ja=void 0;(function(c){c.v3a="loadedtracks";c.u3a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Kn="currenttimechanged";c.gdb="unthrottledcurrenttimechanged";c.C2="bufferedtimechanged";c.Aka="durationchanged";c.Sxa="videosizechanged";c.b7a="pausedchanged";c.Ysa="playingchanged";c.VWa="endedchanged";c.aK="busychanged";c.r2="audiotracklistchanged";c.Dl="audiotrackchanged";c.Nt="timedtexttracklistchanged";c.gl="timedtexttrackchanged";c.GX="trickplayframeschanged";c.q5a="mutedchanged";c.veb="volumechanged";c.Vva="showsubtitle";c.bua="removesubtitle";c.E6b="watermark";c.bpa="isReadyToTransition";c.AL="inactivated";c.w1a="internalPlaybackError";c.n_b="segmentmaploaded";c.o_b="segmentpresenting";c.TRa="autoplaywasallowed";c.u2="autoplaywasblocked";c.Erb="adsstatechanged";c.IB="livestatechanged";})(b.Ja || (b.Ja={}));(b.tD || (b.tD={})).JW="playgraphsegmenttransition";b.jca=a;a.I$a="serverTimeChanged";(function(c){c.wE="aseReport";c.O6="liveReport";c.N6="livePipelineFailover";c.Jha="autoplayWasAllowed";c.Hh="autoplayWasBlocked";c.px="bufferUnderrun";c.closed="closed";c.sg="closing";c.Kn="currentTimeChanged";c.cF="downloadComplete";c.AL="inactivated";c.d3a="licenseAdded";c.AU="licensed";c.FU="locationSelected";c.fqa="manifestClosing";c.qG="manifestPresenting";c.g7="mediaBufferChanged";c.M7="nextBranchingSegmentChosen";c.vt="playbackStart";c.Tk="playbackReady";c.Dj="repositioned";c.pC="repositioning";c.f$a="safePlayRequested";c.mH="segmentPresenting";c.MW="serverSwitch";c.Eab="shouldUpdateVideoDiagInfo";c.VN="subtitleError";c.Lwa="throttledMediaTimeChanged";c.hdb="unthrottledMediaTimeChanged";c.$N="timedTextRebuffer";c.Nt="timedTextTrackListChanged";c.GX="trickPlayFramesChanged";c.wxa="updateNextBranchingSegmentWeights";c.aeb="userInitiatedPause";c.beb="userInitiatedResume";c.Kcb="tracksHydrated";c.IB="livestatechanged";})(b.fa || (b.fa={}));(b.rY || (b.rY={})).iA="adBreakComplete";(function(c){c[c.KI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Vb || (b.Vb={}));(function(c){c[c.$d=1]="NORMAL";c[c.Pe=2]="BUFFERING";c[c.pLa=3]="STALLED";})(b.wf || (b.wf={}));(function(c){c[c.Ff=1]="WAITING";c[c.me=2]="PLAYING";c[c.Uh=3]="PAUSED";c[c.bq=4]="ENDED";})(b.bb || (b.bb={}));(function(c){c[c.Nr=0]="INITIAL";c[c.Nw=1]="SEEK";c[c.qP=2]="LIVE_EDGE";c[c.g0=3]="TRACK_CHANGED";c[c.XI=4]="SEGMENT_CHANGED";c[c.iZ=5]="FORCE_REBUFFER";})(b.Zc || (b.Zc={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.A0a=void 0;r=a(22674);c=a(70673);l=a(78033);f=a(23002);h=a(487);d=a(77764);g=a(23179);m=a(52794);k=a(52961);n=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);w=a(78029);v=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.A0a=new r.ed(function(D){D(c.ZDa).to(l.YDa).da();D(f.cEa).to(h.bEa).da();D(d.LDa).to(g.KDa).da();D(m.NDa).to(k.MDa).da();D(y.RAa).to(x.QAa).da();D(n.$Ja).to(p.ZJa).da();D(q.pea).to(u.iMa);D(t.uP).to(z.tP);D(A.xP).to(B.wP);D(w.Zba).to(v.fEa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zba="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NDa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZDa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I9b="LogblobBuilderSymbol";b.uP="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xP="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ja="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea="StreamChangeDetectorSymbol";},12394:function(r,b,a){var l,f;function c(h){this.la=h.Wa("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.UGb=function(h){var g,m,k,n,p,q,u;function d(t,w,v){var y,x,z;y=t.map(function(A){return A.Gg;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,k.set(v,{VM:t[0],G9:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !m.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return m.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?m.add(z):(z=y.find(function(A){return A !== x;}),!1));k.set(v,{VM:t.find(function(A){return A.Gg === x;}),G9:t.find(function(A){return A.Gg === z;})});}}g=new Set();m=new Set();k=new Map();n=h.video;p=h.audio;q=h.text;u=h.nk.reduce(function(t,w){t[w.id]=w.ec;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Nm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Nm);});q.forEach(function(t){var w,v;if(!t.track.xB || t.track.g6){w=t.stream;t=t.id;v=w.urls.reduce(function(y,x,z){y[x.Gg]=z + 1;return y;},{});d(w.urls,v,t);}});return k;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Za))],f);b.QAa=f;},62553:function(r,b,a){var l,f,h,d;function c(g){return f.Re.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;r=a(5163);l=a(22674);f=a(64174);h=a(83767);a=a(12501);ea(c,f.Re);Xa.Object.defineProperties(c.prototype,{H7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Av:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},ty:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},B0a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},ot:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.bd,"playsInline")],d.prototype,"H7a",null);r.__decorate([a.config(a.sB,"minAudioMediaRequestDuration")],d.prototype,"Av",null);r.__decorate([a.config(a.sB,"minVideoMediaRequestDuration")],d.prototype,"ty",null);r.__decorate([a.config(a.sB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"B0a",null);r.__decorate([a.config(a.sB,"minStartingVideoVMAF")],d.prototype,"ot",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.ul))],d);b.fEa=d;},23179:function(r,b,a){var d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z){this.qS=z;this.Sd=x.filter(function(A){return A.jxa[p.tl.r0];}).map(function(A){return {track:A,stream:A.jxa[p.tl.r0],id:A.gWa[p.tl.r0]};});}function l(x,z,A){var B;this.JH=z;this.ot=A;B=x[0];this.EX=B.streams.map(function(D){return {track:B,OT:D.Yab,stream:D};});}function f(x,z,A,B){function D(C,F){return C.bitrate > F.bitrate?C:F;}this.log=x;this.JH=A;this.qS=B;this.EX=z.map(function(C){var F;F=C.streams.reduce(D);return {track:C,OT:F.pk?F.pk.offset + F.pk.size:void 0,stream:F};});}function h(x,z,A,B,D,C){this.dLb=x;this.fLb=z;this.EVb=A;this.jvb=B;this.QT=D;this.Df=C;this.la=C.Wa("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rmb=b.zmb=b.Ffb=b.KDa=void 0;r=a(5163);d=a(22674);g=a(70673);m=a(23002);k=a(36129);n=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);w=a(87386);v=a(79542);y=a(60328);h.prototype.rh=function(x,z){var A,B,D,C,F,G;A=this;C=x.Fa;x=this.DGb(C,z);F=this.kKb(C,z);G=null !== (D=null === (B=C.iW) || void 0 === B?void 0:B.bO) && void 0 !== D?D:C.PH.find(function(E){var J;return E.id === (null === (J=C.w3) || void 0 === J?void 0:J[0].Ibb);}).bg;B=new c(C.PH,G);return Promise.all([x,F,B]).then(function(E){var J,M;J=la(E);E=J.next().value;M=J.next().value;J=J.next().value;E={audio:E.getMetadata(),video:M.getMetadata(),text:J.getMetadata(),vVa:E.rma(),LAb:J.rma(),duration:C.duration,nk:C.nk};M=A.jvb.UGb(E);z("h_s");return {SPb:A.EVb.transform(E,M),mvb:M,f2b:E};});};h.prototype.kKb=function(x,z){var A;A=new l(x.Tt,this.QT.B0a,this.QT.ot);return this.aWa(A.EX,y.v.Y,z).then(function(B){A.yva(B);return A;});};h.prototype.DGb=function(x,z){var A,B,D,C;D=null !== (B=null === (A=x.iW) || void 0 === A?void 0:A.ap) && void 0 !== B?B:x.ws.find(function(F){var G;return F.id === (null === (G=x.w3) || void 0 === G?void 0:G[0].ap);}).bg;C=new f(this.la,x.ws,this.QT.Av,D);return this.aWa(C.EX,y.v.ea,z).then(function(F){C.yva(F);return C;});};h.prototype.osa=function(x,z,A,B){if(x=this.fLb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.v.ea?"audio":"video",downloadableId:B.stream.Nm});};h.prototype.aWa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(D,C){if(D.OT)return B.dLb.download({urls:D.stream.urls,offset:0,length:D.OT}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.osa(F,z,z == y.v.ea?B.QT.Av:B.QT.ty,D);}).catch(function(){A("h_" + D.track.Bh[0] + "_" + C + "_f");B.la.warn("Failed to download and parse headers for " + D.stream.Nm);});B.la.warn("Stream data offset is missing",{downloadableId:D.stream.Nm});}));};a=h;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.ZDa)),r.__param(1,(0,d.l)(m.cEa)),r.__param(2,(0,d.l)(q.NDa)),r.__param(3,(0,d.l)(u.RAa)),r.__param(4,(0,d.l)(t.Zba)),r.__param(5,(0,d.l)(w.Za))],a);b.KDa=a;f.prototype.yva=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw n.Mc.Ieb(k.U.JEa,k.R.Jca);this.Sd=this.EX.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,La:B,JH:z.JH};}).filter(v.Zoa);};f.prototype.getMetadata=function(){return this.Sd;};f.prototype.rma=function(){var x,z;x=this;if(!this.Sd.find(function(A){return A.track.bg === x.qS;}) && 0 < this.Sd.length){z=this.Sd[0].track.bg;this.log.warn("Did not find metadata for audio track " + this.qS + ", falling back to " + z);return z;}return this.qS;};b.Ffb=f;l.prototype.yva=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw n.Mc.Ieb(k.U.JEa,k.R.Kca);A=this.EX.map(function(B,D){if(D=x[D])return {track:B.track,stream:B.stream,La:D,JH:z.JH};}).filter(v.Zoa);this.Sd=this.QIb(A);};l.prototype.getMetadata=function(){return this.Sd;};l.prototype.QIb=function(x){var z,A,B;z=this;x.sort(function(D){return D.stream.bitrate;});A=x.findIndex(function(D){var C;return (null !== (C=D.stream.yb) && void 0 !== C?C:0) >= z.ot;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.zmb=l;c.prototype.rma=function(){return this.qS;};c.prototype.getMetadata=function(){return this.Sd;};b.rmb=c;},52961:function(r,b,a){var l,f,h,d,g,m;function c(k){this.la=k.Wa("HLSPlaylistTransformerImpl");this.o6b=d.$Y.Bq();this.ctb=g.yba.Bq();}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(35128);d=a(48617);g=a(12187);m=[0,1];c.prototype.transform=function(k,n){var p,q,u,t,w,v,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=k.text;t=k.audio;w=k.video;v=k.duration;y=k.vVa;x=k.LAb;u.forEach(function(A){m.forEach(function(B){var D,C,F,G;D=0 === B;C=A.stream;F=A.track;G=n.get(A.id);D=D?G.VM:G.G9;C=p.WJb({url:D.url,duration:v / 1E3,size:C.size,Il:"Manifest for subtitles " + F.language + ' stream "' + F.EB + '", ' + F.bg + ", cdn " + D.Gg});p.la.trace("Text variant manifest",C.join("\n"));B=p.XJb({groupId:B,name:F.EB,Loa:F.bg === x,Zm:F.g6,MMb:F.Bh === h.Eo.uaa,language:F.language,uri:p.V6(C)});q.push(B);});});t.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,J;D=0 === B;C=A.stream;F=A.track;G=A.La;E=A.JH;J=n.get(C.Nm);D=D?J.VM:J.G9;C=p.TZa({url:D.url,OT:C.pk.offset + C.pk.size,La:G,Zbb:Math.floor(E / 1E3),Il:"Manifest for audio " + F.language + ' stream "' + F.EB + '", ' + F.bg + ", cdn " + D.Gg});p.la.trace("Audio variant manifest",C.join("\n"));B=p.EGb({groupId:B,language:F.language,name:F.EB,Loa:F.bg === y,uri:p.V6(C)});q.push(B);});});z=this.ctb[t[0].track.profile];w.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,J;D=0 === B;C=A.stream;F=A.track;G=A.La;E=A.JH;J=n.get(C.Nm);J=D?J.VM:J.G9;D=0 < u.length;F=p.TZa({url:J.url,OT:C.pk?C.pk.offset + C.pk.size:C.Yab,La:G,Zbb:Math.floor(E / 1E3),Il:"Manifest for video bitrate " + C.bitrate + ", stream " + F.bg + ", cdn " + J.Gg});p.la.trace("Video variant manifest",F.join("\n"));B=p.lKb({groupId:B,NR:1E3 * C.bitrate,ptb:1E3 * C.bitrate,rNb:0 <= C.AA.indexOf("-hdr-") || 0 <= C.AA.indexOf("-dv5-"),framerate:(C.lYa / C.kYa).toFixed(3),Yk:C.xua + "x" + C.H9a,h6b:p.o6b[C.AA],Ssb:z,j3b:D});q.push(B);B=p.V6(F);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.V6(q);};c.prototype.EGb=function(k){var n;n=k.Loa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.TZa=function(k){var n,p;n=k.La;p=["#EXTM3U","# " + k.Il,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.Zbb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.ab.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.oub + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.lKb=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.NR,"AVERAGE-BANDWIDTH=" + k.ptb,"VIDEO-RANGE=" + (k.rNb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.Yk,'CODECS="' + k.h6b + "," + k.Ssb + '"'];k.j3b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.WJb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.Il,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.XJb=function(k){var n,p,q;n=k.Loa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.Zm?"YES":"NO")];k.MMb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.V6=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za))],a);b.MDa=a;},78033:function(r,b,a){var l,f,h,d;function c(g,m){this.tLb=g;this.log=m.Wa("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(2571);d=a(32934);c.prototype.download=function(g){var k,n,p,q,u;function m(t){if(u < n.length - 1)return (!1,u++,k.cWa(n[u].url,p,q).catch(m));throw t;}k=this;n=g.urls;p=g.offset;q=g.length;u=0;return this.cWa(n[u].url,p,q).catch(m);};c.prototype.cWa=function(g,m,k){return this.tLb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Yfb,JA:"hls_headers",Er:!0,offset:m,length:k,qr:d.KP},{x4a:1});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.iEa)),r.__param(1,(0,l.l)(f.Za))],a);b.YDa=a;},487:function(r,b,a){var l,f,h;function c(d){this.la=d.Wa("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;r=a(5163);l=a(22674);f=a(36418);a=a(87386);c.prototype.parse=function(d,g,m){d=new f.Co(this.la,{mediaType:d},g,["sidx"]).parse();if(d.st && d.La)return this.dha(d.La,m);};c.prototype.dha=function(d,g){var m,k,n,p,q;m=0;k=0;n=0;p=d.offset;q=[];d.lf.forEach(function(u,t){k+=u;n+=d.sizes[t];if(1E3 * k / d.S >= g || t === d.lf.length - 1)(q.push({duration:k / d.S,ab:m / d.S,byteOffset:p,oub:n}),m+=k,k=0,p+=n,n=0);});return q;};h=c;h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Za))],h);b.bEa=h;},20034:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t){this.Df=n;this.ky=p;this.Of=q;this.uc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.tP=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(87386);d=a(45118);g=a(98326);m=a(31850);k=a(97444);c.prototype.create=function(n){return new k.vP(this.Df,this.ky,this.Of,this.Ea,this.uc,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Za)),r.__param(1,(0,l.l)(m.Cw)),r.__param(2,(0,l.l)(d.nl)),r.__param(3,(0,l.l)(g.yca)),r.__param(4,(0,l.l)(f.Jc))],a);b.tP=a;},97444:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t,w){var v;v=this;this.ky=p;this.Of=q;this.Ea=u;this.uc=t;this.Jqa=this.tB=this.qW=0;this.jG=!1;this.sy=function(){var y;y=v.QV();y.prstate=v.Ux();y.paustate=v.j.ht();y.midplayseq=v.Jqa++;v.uc.CL(y);v.vc(l.Fc.sy,void 0,k.Ld | k.Vr,y);};this.Hh=function(){v.vc(l.Fc.hSa,void 0,k.Ld | k.zo,{});};this.gl=function(y){v.vpa=v.getTime();v.wpa=y.oldValue;};this.IR=function(y){v.opa=y.oldValue;};this.t8=function(y){y != v.jG && (v.nwa(v.jG,y),v.jG=y);};this.nwa=function(y,x){var z;z=v.j.Ca;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};v.uc.up(y,z.Ud.value && z.Ud.value.stream,z.sf.value && z.sf.value.stream);v.vc(l.Fc.dX,void 0,k.Ld,y);};this.$W=function(y){v.vc(l.Fc.Wab,void 0,k.Ld,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.Xy=function(y){var x,z,A;x=v.j.Ca;z=x.Gb.value;if(y.newValue || z && z.Yn() && !z.Zm()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.se,downloadableId:y.Tb,rank:y.ec,isImageBased:y.ek}:{};y=(y=v.wpa)?{trackId:y.trackId,bcp47:y.se,downloadableId:y.Tb,rank:y.ec,isImageBased:y.ek}:{};A={switchdelay:(0,f.$f)(v.getTime() - v.vpa),track:A,oldtrack:y};v.uc.up(A,x.Ud.value && x.Ud.value.stream,x.sf.value && x.sf.value.stream);v.vc(l.Fc.tcb,void 0,k.Ld,A);}};this.Jsa=function(y,x){var z;z=v.j.Ca;y={waittime:(0,f.$f)(y),abortedevent:"resumeplay",resumeplayreason:x};v.uc.up(y,z.Ne.value,z.Sg.value);v.vc(l.Fc.MM,void 0,k.Ld | k.zo,y);};this.Et=function(y,x,z){y={playdelay:(0,f.$f)(y),reason:z,intrplayseq:v.tB - 1,skipped:x};"repos" === z && (y.prstate=!0 === v.j.wi.value?"playing":"paused");v.vc(l.Fc.Et,void 0,k.Ld | k.Tr,y);};this.Hha=function(){var y,x,z,A;x=v.j.Ca.tc.value;z=v.j.Ca.Sg.value.Tb;x=x?{trackId:x.trackId,bcp47:x.se,downloadableId:z,rank:x.ec,chan:x.channels}:{};z=v.hy;A=null === (y=v.opa) || void 0 === y?void 0:y.Tb;y=z?{trackId:z.trackId,bcp47:z.se,downloadableId:A,rank:z.ec,chan:z.channels}:{};v.vc(l.Fc.PRa,void 0,k.Ld,{switchdelay:(0,f.$f)(v.getTime() - v.ppa),track:x,oldtrack:y});};this.Dl=function(y){v.ppa=v.getTime();v.hy=y.oldValue;};this.Ksa=function(){var y,x,z;y=v.j.Ca;x={abortedevent:"startplay",trackid:y.Nj,prstate:v.Ux(),paustate:v.j.ht()};try{z=(0,h.KF)();z && (x.pdltime=z);(0,f.Td)(x,y.Vc,{prefix:"sm_"});}catch(A){}v.uc.M5(x,y);v.uc.DL(x,!1,y.Ng.value,y);v.uc.up(x,y.Ne.value,y.Sg.value);v.WF(x);v.vc(l.Fc.MM,void 0,k.Ld | k.Vr | k.zo,x);};this.ux=function(y,x,z,A){y={moff:(0,f.Ml)(z),moffms:(0,f.$f)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Tb,vdlidold:y.Tb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};v.vc(l.Fc.ux,void 0,0,y);};this.oC=function(y,x,z){y={moffold:(0,f.Ml)(y),reposseq:v.qW++,prstate:v.Ux(),paustate:v.j.ht()};v.uc.up(y,z && z.stream,x && x.stream);v.vc(l.Fc.oC,void 0,k.Ld,y);};this.xr=function(y){var x,z,A,B,D;B=y.Ca;D={playdelaysdk:(0,f.$f)(v.j.VR()),applicationPlaydelay:(0,f.$f)(v.j.oia()),playdelay:(0,f.$f)(v.j.pia()),trackid:B.Nj,bookmark:(0,f.$f)(B.El || 0),pbnum:B.index};v.j.Hh && (D.blocked=v.j.Hh);D.initvbitrate=v.j.ZT;v.uc.noa(D);v.uc.S0a(D);D.esnSource=null === (x=nb._cad_global.device) || void 0 === x?void 0:x.Z3;v.Z0a(D,B);D.pdltime=(0,h.KF)();(0,f.Td)(D,B.Vc,{prefix:"sm_"});D.ttTrackFields=null === (z=B.Gb.value) || void 0 === z?void 0:z.yg;v.uc.O0a(D,B.tc.value,B);v.uc.DL(D,!0,B.Ng.value,B);D.packageId=null === (A=B.W) || void 0 === A?void 0:A.Fa.gn;v.uc.CL(D);v.uc.M5(D,B);v.WF(D);v.vc(l.Fc.xr,y.th,k.Ld | k.Tr | k.Vr | k.XC | k.zo,D);};this.Lx=function(){var y,x,z;y=v.j;x=y.Ca;y=y.th;z=v.QV();z.paustate=!v.j.yB();z.muted=v.j.Soa();z.endreason=y?"error":v.j.Noa()?"ended":"stopped";v.uc.DL(z,!1,x.Ng.value,x);v.uc.CL(z);v.WF(z);v.vc(l.Fc.Lx,y,k.Ld | k.Tr | k.Vr | k.XC | k.zo,z);};this.eua=function(y,x,z){var A;A=v.j.Ca.sf;y={moff:(0,f.Ml)(z),moffms:(0,f.$f)(z),vdlidold:y.Tb,vbitrateold:y.bitrate};v.uc.up(y,x,A.value && A.value.stream);v.vc(l.Fc.nW,void 0,0,y);};this.Ux=function(){var y;y=v.j.lb.value;return y === g.bb.me?"playing":y === g.bb.Uh?"paused":y === g.bb.bq?"ended":"waiting";};this.la=n.Wa("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;l=a(18169);f=a(3887);h=a(52569);d=a(36129);g=a(85001);m=a(5021);c.prototype.getTime=function(){return this.Ea.Eb().ba(m.na);};c.prototype.kna=function(){return this.getTime() - this.j.Ca.Ph.ba(m.na);};c.prototype.Z0a=function(n,p){var q;if(p=null === (q=p.Ng.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,h.FO)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,h.FO)(p.map(function(u){return u.height;})));};c.prototype.WF=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.QV=function(){var n,p,q,u;n=this.j.Ca;p=n.Sk;q={totaltime:(0,f.Ml)(p.pp()),totalcontenttime:(0,f.Ml)(p.FT()),reposcount:this.qW,intrplaycount:this.tB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Ne.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.ima()) && (q.abrdel=u);(u=p.D5() && p.FYa()) && (q.tw_vmaf=u);(p=p.DYa()) && (0,f.Td)(q,p);q.rbfrs=this.tB;this.Z0a(q,n);return q;};c.prototype.vc=function(n,p,q,u){var t,w,v;t=this;p && (0,d.gZ)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.ya,this.kna(),void 0) && (w="info");v=this.j.Ca;this.Iga(u,p,q);p=w || (p?"error":"info");u=this.ky.Ds(n,p,u,v);this.Of.vc(u);"error" !== p && n !== l.Fc.Lx || this.Of.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.Iga=function(n,p,q){var u;u=this.j.Ca;this.uc.R0a(n,u);q & k.Ld && this.uc.V0a(n,u,!1);q & k.Tr && this.uc.X0a(n,u);q & k.Vr && this.uc.Y0a(n,this.j.Um());p && q & k.XC && this.uc.T0a(n,u,p);q & k.zo && this.uc.noa(n);};b.vP=c;(function(n){n[n.Ld=1]="MOFF";n[n.Tr=2]="PRESENTEDSTREAMS";n[n.Vr=4]="SCREEN";n[n.XC=8]="FATALERROR";n[n.zo=16]="BROWSERINFO";})(k || (k={}));},27134:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p,q,u,t){this.Of=n;this.config=p;this.qa=q;this.Ea=u;this.Spa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.wP=void 0;r=a(5163);l=a(22674);f=a(81918);h=a(30869);d=a(4203);g=a(45118);m=a(10242);k=a(5522);c.prototype.create=function(n){return new k.yP(n,this.Of,this.config,this.Ea,this.Spa.create(n));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.nl)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(h.fg)),r.__param(3,(0,l.l)(f.Jc)),r.__param(4,(0,l.l)(m.uP))],a);b.wP=a;},5522:function(r,b,a){var l,f,h;function c(d,g,m,k,n){var p;p=this;this.j=d;this.Of=g;this.config=m;this.Ea=k;this.cb=n;this.YR=function(){p.sg();p.j.Ca.Yh.removeListener(p.Xy);p.j.Ca.Gb.removeListener(p.cb.gl);p.j.Ca.tc.removeListener(p.Dl);p.j.Ca.Sg.removeListener(p.cb.IR);p.j.wi.removeListener(p.G7a);p.j.mN.removeListener(p.Dj);p.j.Ca.Ud.removeListener(p.YV);p.j.lb.removeListener(p.Yu);p.j.lb.removeListener(p.gK);p.j.Ca.Ne.removeListener(p.YX);p.j.Ca.playbackRate.removeListener(p.cb.$W);p.j.removeEventListener(h.Ja.closed,p.YR);p.j.removeEventListener(h.Ja.u2,p.cb.Hh);};this.gK=function(){p.j.lb.value === h.bb.me && (p.j.lb.removeListener(p.gK),p.vt());};this.Xy=function(q){p.Gp && p.cb.Xy(q);};this.Dj=function(q){p.Gp && void 0 !== q.newValue && (p.nr && p.xo && p.cb.Jsa(p.getTime() - p.xo,p.nr),p.nr="repos",p.cb.oC(q.newValue,p.j.Ca.sf.value,p.j.Ca.Ud.value),p.xo=p.getTime(),(0,f.Mf)(p.Yu));};this.G7a=function(q){p.Gp && p.cb.t8(!q.newValue);};this.Dl=function(q){q.oldValue && (p.hy=q.oldValue,p.cb.Dl(q),p.nr="repos",p.xo=p.getTime(),(0,f.Mf)(p.Yu));};this.Yu=function(){var q;if(p.xo && p.j.lb.value !== h.bb.Ff){q=p.getTime() - p.xo;p.cb.Et(q,!1,p.nr);p.hy && p.hy != p.j.Ca.tc.value && p.cb.Hha();p.xo=void 0;p.nr=void 0;}};this.vt=function(){p.Gp || (p.Gp=!0,p.cb.xr(p.j),p.woa(),p.config().U5 && (p.by=nb.setTimeout(function(){p.Of.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.by=void 0;},p.config().U5)));};this.sg=function(){p.by && (nb.clearTimeout(p.by),p.by=void 0);p.LX && p.LX();p.Gp?p.cb.Lx():p.j.th?p.cb.xr(p.j):p.cb.Ksa();};this.YX=function(q){q.oldValue && q.Jh && q.Jh.KE && p.cb.ux(q.oldValue,q.newValue,q.Jh.KE,q.Jh.NR);};this.YV=function(q){var u;if(q.newValue){u=q.newValue.stream;p.kG != u && (p.kG && u && p.cb.eua(p.kG,u,q.newValue.hK.startTime),p.kG=u);}};this.k$();}Object.defineProperty(b,"__esModule",{value:!0});b.yP=void 0;l=a(5021);f=a(32219);h=a(85001);c.prototype.k$=function(){this.j.addEventListener(h.Ja.closed,this.YR);this.j.addEventListener(h.Ja.u2,this.cb.Hh);this.j.Ca.Yh.addListener(this.Xy);this.j.Ca.Gb.addListener(this.cb.gl);this.j.Ca.tc.addListener(this.Dl);this.j.Ca.Sg.addListener(this.cb.IR);this.j.wi.addListener(this.G7a);this.j.mN.addListener(this.Dj);this.j.Ca.Ud.addListener(this.YV);this.j.lb.addListener(this.Yu);this.j.lb.addListener(this.gK);this.j.Ca.Ne.addListener(this.YX);this.j.Ca.playbackRate.addListener(this.cb.$W);};c.prototype.getTime=function(){return this.Ea.Eb().ba(l.na);};c.prototype.woa=function(){var d,g,m;d=this;m=[];this.config().P4a && (this.config().Q4a.forEach(function(k){m.push(nb.setTimeout(d.cb.sy,k));}),this.config().q7 && (g=nb.setInterval(this.cb.sy,this.config().q7)),this.LX=function(){m.forEach(function(k){nb.clearTimeout(k);});g && nb.clearInterval(g);});};b.yP=c;},15850:function(r,b,a){var l,f,h,d,g;function c(m,k){var p;function n(){p.xsa.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.fe.removeListener(d.Jk,n);}p=this;this.d7a=k;this.xsa=k();this.la=m.Wa("PlayerPlaydataMonitorImpl");d.fe.addListener(d.Jk,n);}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;r=a(5163);l=a(22674);f=a(87386);h=a(96687);d=a(37509);g=a(85001);c.prototype.Mj=function(m,k){this.xsa.then(function(n){n.Mj(k,!0,function(p){return m.close(p);});n.lwa(k);m.addEventListener(g.Ja.Ysa,function(){m.yB() && n.B$a(k).catch(function(p){(p=p.NM) && m.close(p);});});m.addEventListener(g.Ja.gl,function(){n.P9(k).catch(function(p){(p=p.NM) && m.close(p);});});m.addEventListener(g.Ja.Dl,function(){n.P9(k).catch(function(p){(p=p.NM) && m.close(p);});});});};c.prototype.eX=function(m){return this.xsa.then(function(k){k.kbb();return k.eX(m).catch();});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Za)),r.__param(1,(0,l.l)(h.QP))],a);b.ZJa=a;},68272:function(r,b,a){var l,f,h,d;function c(g){this.Hqa={};this.P5={};this.z6=-1;this.zwa=new h.Hb(null);this.cta=new h.Hb(null);this.la=g.Wa("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;r=a(5163);l=a(22674);f=a(93161);h=a(81734);a=a(87386);c.prototype.va=function(g,m,k){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.Hqa[q.url]=[p,q.Gg];});});this.eka=m;this.HAb=k;new PerformanceObserver(function(p){n.X4b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Q$a=function(g){var m,k,n;if(this.eka){k=this.U4(g);if(k !== this.z6){for(this.z6=k;0 <= k && !this.P5[k];){k--;}n=la(null !== (m=this.P5[k]) && void 0 !== m?m:[this.eka,this.HAb]);m=n.next().value;n=n.next().value;this.la.debug("Setting time to " + g + ", using metadata from fragment " + k + " for " + ((0,f.vG)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));g=m.La[this.z6];k=g.ab;this.cta.set({stream:m,hK:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + g.duration))},Gm:n});}}};c.prototype.U4=function(g){var m,k,n,p,q;m=this.eka.La;g/=1E3;k=0;n=m.length - 1;if(g >= m[n].ab)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=m[p];if(g < q.ab)n=p - 1;else if(g >= q.ab + q.duration)k=p + 1;else return p;}return m.length - 1;};c.prototype.X4b=function(g){var m;m=this;g.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(m.Hqa[p]){q=la(m.Hqa[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (m.P5[n] && (m.z6=-1),m.P5[n]=[k,q],p=k.La[n].ab,!1,m.zwa.set(k,{KE:Math.floor(1E3 * p),Gm:q}));}}});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Za))],d);b.iMa=d;},25050:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w;function c(v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I){var K,O,R;K=this;this.SV=y;this.Zx=x;this.Ea=z;this.Oh=A;this.Db=B;this.OU=D;this.DVb=C;this.u7a=F;this.eaa=G;this.q2=E;this.qa=J;this.aM=M;this.config=L;this.oA=H;this.u=N;this.xh=I;this.EU=new n.Hb(!0);this.wi=new n.Hb(!1);this.vr=new n.Hb(!1);this.ended=new n.Hb(!1);this.F2=new n.Hb(0);this.lb=new n.Hb(l.bb.Ff);this.mN=new n.Hb(void 0);this.loaded=this.bX=this.closed=!1;this.X7a=function(Y,oa){return function(ka){var ha,za,Ca,La,Wa;ha=ka.newValue;za=ha.Gm;ka=ha.hK;Ca=ha.stream;ha=Y.value;La=ha.streams.find(function(db){return db.bitrate === Ca.stream.bitrate;});Wa=K.Ca.rg.find(function(db){return db.id === za;});K.log.info("Presenting " + La.type + " request with bitrate " + La.bitrate + ", track " + (ha.trackId + " [" + ka.startTime + "..." + ka.endTime + "]"));oa.set({stream:La,hK:ka,Bc:Wa});};};this.ybb=function(Y,oa,ka){return function(ha){var za,Ca;za=Y.value;Ca=za.streams.find(function(La){return La.bitrate === ha.newValue.stream.bitrate;});K.log.info("Streaming " + Ca.type + " stream with bitrate " + Ca.bitrate + ", track " + za.trackId);oa.set(Ca,{KE:ha.Jh.KE,NR:void 0});za=K.Ca.rg.filter(function(La){return La.id === ha.Jh.Gm;})[0];ka.set(za);};};this.RXa=new Set();this.log=v.Wa("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.H7a;this.Ca=this.SV(h.Dz.index++,N.O,N.id,null !== (O=N.nb) && void 0 !== O?O:{},this.Zx.CA(),this.Ea.Eb(),!1,void 0,function(){return K.Jq();});this.Ca.mediaTime.set(null !== (R=this.Ca.El) && void 0 !== R?R:0);this.hI();this.kob=this.aM.create(this);this.kob;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;l=a(85001);f=a(52569);h=a(13044);d=a(72639);g=a(24735);m=a(36129);k=a(63156);n=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);w=a(60328);c.prototype.P2b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.hI=function(){var v;v=this;this.$.addEventListener("loadedmetadata",function(){v.kb(l.Ja.v3a);v.kb(l.Ja.u3a);v.kb(l.Ja.Dl);v.kb(l.Ja.r2);v.kb(l.Ja.gl);v.kb(l.Ja.Nt);});this.$.addEventListener("error",function(y){y=v.xh(m.U.mIa,y);v.close(y);});this.$.addEventListener("timeupdate",function(){v.ended.set(!1);v.Ca.mediaTime.set(v.Jq());v.kka();v.kb(l.Ja.Kn);v.kb(l.Ja.gdb);});this.$.addEventListener("durationchange",function(){v.kb(l.Ja.Aka);});this.$.addEventListener("resize",function(){v.kb(l.Ja.Sxa);});this.$.addEventListener("playing",function(){v.kka();v.vr.set(!1);v.wi.set(!0);v.ended.set(!1);v.lb.set(l.bb.me);});this.$.addEventListener("pause",function(){v.wi.set(!1);v.vr.set(!1);v.lb.set(l.bb.Uh);});this.$.addEventListener("waiting",function(){v.lb.set(l.bb.Ff);});this.$.addEventListener("stalled",function(){v.vr.set(!0);});this.$.addEventListener("seeking",function(){v.vr.set(!1);v.mN.set(v.Ca.mediaTime.value);v.lb.set(l.bb.Ff);});this.$.addEventListener("seeked",function(){void 0 !== v.mN.value && (v.Ca.Sk.sra(v.mN.value,v.Jq()),v.mN.set(void 0));v.lb.set(v.yB()?l.bb.me:l.bb.Uh);});this.$.addEventListener("progress",function(){v.kb(l.Ja.C2);v.P4b();});this.$.addEventListener("ended",function(){v.lb.set(l.bb.bq);v.vr.set(!1);v.wi.set(!1);v.ended.set(!0);});this.$.addEventListener("volumechange",function(){v.kb(l.Ja.veb);v.kb(l.Ja.q5a);});this.wi.addListener(function(){v.kb(l.Ja.Ysa);v.kb(l.Ja.b7a);v.gK();});this.F2.addListener(function(){v.kb(l.Ja.aK);});this.vr.addListener(function(){v.kb(l.Ja.aK);});this.EU.addListener(function(){v.gK();});this.ended.addListener(function(){v.kb(l.Ja.VWa);});this.Ca.playbackRate.addListener(function(y){v.$.playbackRate=y.newValue;});};c.prototype.gK=function(){!this.yB() || this.EU.value || this.bX || this.SRa || (this.bX=!0,this.Ca.cy=this.qa.qH,this.u7a.Mj(this,this.Ca));};c.prototype.VR=function(){return this.RV - (this.Ca.Ph.ba(p.na) + this.Ea.jy.ba(p.na));};c.prototype.xF=function(){var v;v=this.Ca.Ya.HC;return (0,q.sb)(v)?v:this.Ca.Ph.ba(p.na) + this.Ea.jy.ba(p.na);};c.prototype.oia=function(){return this.qa.ee.ba(p.na) - this.xF();};c.prototype.pia=function(){return this.RV - this.xF();};c.prototype.P4b=function(){var v;v=this.$.readyState <= k.om.gP.HAVE_METADATA?0:this.$.readyState <= k.om.gP.HAVE_CURRENT_DATA?.5:1;1 === v && (this.RV=this.qa.ee.ba(p.na),this.EU.set(!1),this.Dla(l.Ja.loaded));this.F2.set(v);};c.prototype.kka=function(){var v;v=this.Jq();this.eaa.Q$a(v);this.q2.Q$a(v);};c.prototype.LW=function(){var v;v=this;this.Ca.je("ats");return this.Oh.Tx({ma:this.Ca.ma,Ya:this.Ca.Ya,J:this.Ca.O,Hq:d.ol.Y_,qf:g.Dh.qm}).then(function(y){var z;function x(A){var B;B=A;A && A.Yn() && !A.Zm() && (B=null);v.Ca.Yh.set(B);}v.Ca.je("at");z=v.OU.create({}).X6a(y);v.Ca.W=y;v.Ca.zc=z;v.$.audioTracks.addEventListener("addtrack",function(){v.Edb(v.Ca.tc.value);});v.$.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=la(v.$.audioTracks),F=C.next();!F.done;(D={AO:D.AO},F=C.next())){D.AO=F.value;D.AO.enabled && D.AO.label !== (null === (A=v.Ca.tc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.Ca.ai.find((function(G){return function(E){return E.displayName === G.AO.label;};})(D))) && void 0 !== B?B:null,v.Ca.tc.set(F));}});v.Ca.tc.addListener(function(A){v.Edb(A.newValue);v.kb(l.Ja.Dl);v.kb(l.Ja.Nt);});v.$.textTracks.addEventListener("addtrack",function(){v.Fdb(v.Ca.Gb.value);});v.$.textTracks.addEventListener("change",function(){var G;for(var A,B,D=v.$.textTracks,C={},F=0;F < D.length;(C={BO:C.BO},F++)){if((C.BO=D[F],"showing" === C.BO.mode && C.BO.label !== (null === (A=v.Ca.Gb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.Ca.eh.find((function(E){return function(J){return J.displayName === E.BO.label;};})(C))) && void 0 !== B?B:null;v.Ca.Gb.set(G);x(G);}}});v.Ca.Gb.set(z.pS);x(z.pS);v.Ca.Gb.addListener(function(A){v.Fdb(A.newValue);v.kb(l.Ja.gl);});return v.DVb.rh(y,function(A){return v.Ca.je(A);});}).then(function(y){var x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K;x=y.SPb;z=y.mvb;y=y.f2b;A=y.audio;B=y.vVa;D=y.video;C=v.Ca;F=C.Sg;G=C.tc;E=C.ai;J=C.Ne;M=C.Ng;y=C.El;L=C.Ud;H=C.sf;N=C.Sk;C=C.zc;C.ai=E.filter(function(O){return A.find(function(R){return R.track.bg === O.trackId;});});M.set(C.x3);G.set(E.find(function(O){return O.trackId === B;}));C=D[0];I=C.stream;E=A.find(function(O){return O.track.bg === B;});K=E.stream;v.ZT=I.bitrate;v.eaa.cta.addListener(v.X7a(M,L));v.eaa.zwa.addListener(v.ybb(M,J,v.Ca.Bc[w.v.Y]));J=z.get(I.Nm).VM.Gg;v.eaa.va(D,C,J);v.q2.cta.addListener(v.X7a(G,H));v.q2.zwa.addListener(v.ybb(G,F,v.Ca.Bc[w.v.ea]));z=z.get(K.Nm).VM.Gg;v.q2.va(A,E,z);v.$.src=x;v.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;v.$.load();N.sra(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.we)(y);v.log.error("uncaught exception",y,z);}v.close(v.xh(null !== (x=y.code) && void 0 !== x?x:m.U.aNa,y));});};c.prototype.Fdb=function(v){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Edb=function(v){for(var y=la(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== v.displayName || x.enabled || (!1,x.enabled=!0);x.label !== v.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Qn=function(){};c.prototype.Ol=function(){};c.prototype.Jq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.K4=function(){return this.Jq();};c.prototype.fL=function(){return this.Jq();};c.prototype.pma=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.VZa=function(){return this.u.O;};c.prototype.Vs=function(){return this.Ca.ma;};c.prototype.Um=function(){return this.$;};c.prototype.rv=function(){return null === this.uh();};c.prototype.yB=function(){return this.wi.value;};c.prototype.ht=function(){return !this.wi.value;};c.prototype.Noa=function(){return this.$.ended;};c.prototype.uh=function(){return 1 !== this.F2.value?{stalled:this.vr.value,progress:this.F2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,y;return null !== (y=null === (v=this.th) || void 0 === v?void 0:v.CX()) && void 0 !== y?y:null;};c.prototype.LYa=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.P_a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Soa=function(){return this.$.muted;};c.prototype.R_a=function(){return this.$.volume;};c.prototype.cab=function(v){this.$.muted=v;};c.prototype.qab=function(v){this.$.volume=v;};c.prototype.addEventListener=function(v,y,x){this.Db.addListener(v,y,x);};c.prototype.removeEventListener=function(v,y){this.Db.removeListener(v,y);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.oA.DU(function(y){v.P2b()?y.ia?v.LW():v.close(v.xh(y.errorCode || m.U.eca,y)):v.close(v.xh(m.U.rib));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.Ca.mediaTime.set(this.Jq());this.kka();this.Ca.fS=this.K4();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === v || void 0 === v?void 0:v.eab(!this.EU.value);(this.th=v) && this.kb(l.Ja.error,v.CX());this.kb(l.Ja.closed);return this.u7a.eX(this.Ca);};c.prototype.play=function(){var v,y;v=this;y=this.$.play();this.SRa=!1;y && y.then(function(){v.Dla(l.Ja.TRa);}).catch(function(x){v.kb(l.Ja.aK);"NotAllowedError" === x.name && (v.log.warn("Playback is blocked by the browser settings",x),v.SRa=!0,v.Hh=!0,v.Dla(l.Ja.u2,{player:{play:function(){return v.play();}}}));});};c.prototype.kb=function(v,y,x){y=y || ({});y.target=this;this.Db.Ec(v,y,!x);};c.prototype.Dla=function(v,y){this.RXa.has(v) || (this.RXa.add(v),this.kb(v,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.a7a=function(){this.pause();};c.prototype.seek=function(v){this.$.currentTime=v / 1E3;};c.prototype.a1a=function(v){this.close(this.xh(m.U.BCa,m.R.Go,v));};c.prototype.oL=function(){return this.Ca.playbackRate.value;};c.prototype.W9=function(v){this.Ca.playbackRate.set(v);};c.prototype.BYa=function(){var v;v=this;return this.Ca.ai.map(function(y){return v.qp(y);});};c.prototype.vna=function(v){var y;y=this;return this.zT(v).map(function(x){return y.qp(x);});};c.prototype.AYa=function(){var v;v=this.Ca.tc.value;return v && this.qp(v);};c.prototype.una=function(){var v;v=this.Ca.Gb.value;return v && this.qp(v);};c.prototype.N$a=function(v){if((v=this.SS(v)) && v.wg)return (this.Ca.tc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Jva=function(v){var y,x;y=this;x=this.Ca.eh.find(function(z){return y.qp(z) === v;});if(x && x.wg)return (this.Ca.Gb.set(x),this.Ca.Yh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.QZa=function(){var v;return this.qT(this.Ca.ai,null === (v=this.Ca.W) || void 0 === v?void 0:v.Fa.u4a);};c.prototype.Mma=function(v){var y;return this.qT(this.zT(v),null === (y=this.Ca.W) || void 0 === y?void 0:y.Fa.v4a);};c.prototype.qp=function(v){var y;y=v.Bta=v.Bta || ({trackId:v.trackId,bcp47:v.se,displayName:v.displayName,trackType:v.Bh,rawTrackType:v.nC,channels:v.channels});this.Woa(v) && (y.isNative=v.isNative,y.surroundFormatLabel=v.lX);this.Xoa(v) && (y.isNoneTrack=v.Yn(),y.isForcedNarrative=v.Zm(),y.isImageBased=v.ek);y.subType=v.GH;y.variant=v.variant;return y;};c.prototype.Woa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Xoa=function(v){return "undefined" !== typeof v.Yn && "undefined" !== typeof v.Zm;};c.prototype.SS=function(v){var y;y=this;return v && this.Ca.ai.find(function(x){return y.qp(x) === v;});};c.prototype.zT=function(v){var y;v=this.SS(v) || this.Ca.tc.value;return null !== (y=null === v || void 0 === v?void 0:v.eh) && void 0 !== y?y:[];};c.prototype.qT=function(v,y){var x;x=v.length - 1;if("number" !== typeof y)return x;v=v.findIndex(function(z){return z.ec > y;});return -1 === v?x:v - 1;};c.prototype.R$=function(v){this.Ca.Ya=(0,u.p7)(this.Ca.Ya,v);};c.prototype.ei=function(v){if(v !== this.Ca.I)throw (!1,Error("Unknown segmentId " + v));return this.Ca;};c.prototype.f_a=function(){return this.Ca.Ya;};c.prototype.Uga=function(){!1;};c.prototype.Ev=function(){!1;};c.prototype.FG=function(){!1;};c.prototype.JT=function(){!1;return Promise.reject();};c.prototype.lna=function(){return {};};c.prototype.L4=function(){};c.prototype.yYa=function(){return {};};c.prototype.xva=function(){};c.prototype.NN=function(){};c.prototype.F1a=function(){return !1;};c.prototype.eZa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.LK=function(){!1;return Promise.resolve({success:!0});};c.prototype.L_a=function(){!1;};c.prototype.ET=function(){!1;};c.prototype.GN=function(){!1;};c.prototype.Nva=function(){!1;};c.prototype.r3a=function(){!1;};c.prototype.rYa=function(){!1;return Promise.reject();};c.prototype.r7a=function(){!1;return Promise.reject();};c.prototype.w8a=function(){!1;return Promise.reject();};c.prototype.bj=function(){!1;return Promise.reject();};c.prototype.VG=function(){!1;};b.rNa=c;},41893:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p,q,u,t,w,v,y,x,z,A,B,D,C){var F;F=this;this.Yd=k;this.tb=n;this.Db=q;this.yt=t;this.bS=w;this.sYa=v;this.config=x;this.xh=A;this.u=B;this.j=z.create(B.O,B.Ph,y,D,C,B.nb,B.id,B.W);this.j.background.set(!0);this.log=p.Wa("VideoPlayer",this.j);this.e7a=[];this.ended=!1;this.hI();this.j.state.addListener(function(G){G.newValue === f.Vb.$d && F.kb(f.Ja.bpa,{movieId:B.O});});this.j.Ya.ag && (this.ZJ=u.Nyb(this,this.j),this.j.addEventListener(f.fa.mH,function(G){G=G.position.segmentId;F.nOb !== G && (F.nOb=G,F.kb(f.Ja.o_b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;l=a(36129);f=a(85001);h=a(5021);d=a(22365);g=a(87607);m=a(3887);c.prototype.rv=function(){return this.j.state.value === f.Vb.$d;};c.prototype.VZa=function(){return this.j.O;};c.prototype.Vs=function(){return this.j.ma;};c.prototype.Um=function(){return this.j.kk;};c.prototype.yB=function(){return this.j.wi.value;};c.prototype.ht=function(){return this.j.paused.value;};c.prototype.Noa=function(){return this.ended;};c.prototype.uh=function(){var k;k=this.j.hia.value;return k?{networkStalled:!!k.vr,stalled:!!k.vr,progress:k.progress,progressRollback:!!k.cXb}:null;};c.prototype.getError=function(){var k;k=this.j.th;return k?k.CX():null;};c.prototype.Qn=function(){var k;return null === (k=this.j.Qn()) || void 0 === k?void 0:k.qDb;};c.prototype.Ol=function(){return this.j.fd;};c.prototype.fL=function(){return this.Ol().ha?this.Ol().n5():this.Jq();};c.prototype.Jq=function(){return this.j.mediaTime.value;};c.prototype.LYa=function(){var k;k=(this.K4() || 0) + this.j.KYa();return Math.min(k,this.pma());};c.prototype.K4=function(){return this.Ol().ha?this.Ol().n5():this.j.cB();};c.prototype.pma=function(){return this.Ol().ha?this.Ol().KZa():this.j.Cx.ba(h.na);};c.prototype.P_a=function(){var k;k=this.j.KC.value;return k?{width:k.width,height:k.height}:null;};c.prototype.L4=function(){return this.j.L4();};c.prototype.rYa=function(k){var n,p;return (null === (n=this.j.W) || void 0 === n?0:n.ki.kL("generateScreenshots"))?this.sYa.On(this.log,this.j.W.ki,k):(n=null === (p=this.j.Ya) || void 0 === p?void 0:p.gn)?this.sYa.Cf(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.eZa=function(){return this.mHb(this.j.PVa);};c.prototype.BYa=function(){var k;k=this;return this.j.ai.map(function(n){return k.qp(n);});};c.prototype.QZa=function(){var k;return this.qT(this.j.ai,null === (k=this.j.W) || void 0 === k?void 0:k.Fa.u4a);};c.prototype.vna=function(k){var n;n=this;return this.zT(k).map(function(p){return n.qp(p);});};c.prototype.Mma=function(k){var n;return this.qT(this.zT(k),null === (n=this.j.W) || void 0 === n?void 0:n.Fa.v4a);};c.prototype.Soa=function(){return this.j.muted.value;};c.prototype.R_a=function(){return this.j.volume.value;};c.prototype.AYa=function(){var k,n;n=(null === (k=this.Hv) || void 0 === k?void 0:k.tc) || this.j.tc.value;return n && this.qp(n);};c.prototype.una=function(){var k,n;n=(null === (k=this.Hv) || void 0 === k?void 0:k.uX) || this.j.Gb.value;return n && this.qp(n);};c.prototype.F1a=function(){return this.j.background.value;};c.prototype.cab=function(k){this.j.muted.set(!!k);};c.prototype.qab=function(k){this.j.volume.set(this.ESb(k));};c.prototype.W9=function(k){this.j.playbackRate.set(k);};c.prototype.oL=function(){return this.j.playbackRate.value;};c.prototype.N$a=function(k){var n,p,q,u,t;n=this;q=this.SS(k);if(q){if(q.wg)return (this.j.tc.set(q),Promise.resolve());u=(k=(null === (p=this.Hv) || void 0 === p?void 0:p.uX) || this.j.Gb.value) && this.i2a(q,k)?k:q.eh[0];p=q.trackId;t=u.trackId;this.Hv={tc:q,uX:u};this.kb(f.Ja.Dl);this.kb(f.Ja.Nt);u !== k && this.kb(f.Ja.gl);return this.j.E0a(p,t).then(function(w){w=w.tc;n.Hv=void 0;n.j.tc.set(w);}).catch(function(w){n.Hv=void 0;w=n.Yd.we(w);n.log.error(w);n.close(n.xh(l.U.kD,{ya:l.R.Fca,Jb:w,UF:{CLb:q.trackId,H0a:q.se,DLb:u.trackId,I0a:u.se}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Jva=function(k){var n,p,q,u;n=this;q=(null === (p=this.Hv) || void 0 === p?void 0:p.tc) || this.j.tc.value;if(null !== q){u=q.eh;p={};for(var t=0;t < u.length;(p={Hr:p.Hr},t++)){p.Hr=u[t];if(!k && null === p.Hr)return (this.j.Gb.set(null),Promise.resolve());if(this.qp(p.Hr) === k){if(p.Hr.wg)return (this.log.info("Setting Timed Text, profile: " + p.Hr.profile),this.j.Gb.set(p.Hr),Promise.resolve());k=q.trackId;u=p.Hr.trackId;this.Hv={tc:q,uX:p.Hr};this.kb(f.Ja.gl);return this.j.E0a(k,u).then(function(w){w=w.uX;n.Hv=void 0;n.j.Gb.set(w);}).catch((function(w){return function(v){n.Hv=void 0;v=n.Yd.we(v);n.log.error(v);n.close(n.xh(l.U.kD,{ya:l.R.Fca,Jb:v,UF:{CLb:q.trackId,H0a:q.se,DLb:w.Hr.trackId,I0a:w.Hr.se}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.xva=function(k){this.j.background.set(k);};c.prototype.NN=function(){this.j.NN();};c.prototype.R$=function(k){this.j.R$(k);};c.prototype.ei=function(k){return this.j.ei(k);};c.prototype.f_a=function(){return this.j.Ya;};c.prototype.Ev=function(){this.j.Ev();};c.prototype.FG=function(k){this.j.FG(k);};c.prototype.JT=function(k,n,p){return this.j.JT(k,n,p);};c.prototype.Uga=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Db.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Db.removeListener(k,n);};c.prototype.VG=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.kb(f.Ja.v3a,void 0,!0);n.W && (n.W.Fa.Feb && k.kb(f.Ja.E6b,n.W.Fa.Feb,!0),n.W.Fa.hp && k.kb(f.Ja.n_b,{segmentMap:n.W.Fa.hp},!0));p({ia:!0});}catch(q){p({ya:l.R.ml,Jb:k.Yd.we(q)});}}));};c.prototype.close=function(k){var n;n=this;this.BTa || (this.BTa=new Promise(function(p){k?n.j.LE(k,p):n.j.close(p);}));return this.BTa;};c.prototype.play=function(){this.j.Hh?this.j.fireEvent(f.fa.f$a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.fa.beb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.fa.aeb));};c.prototype.a7a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{sM:!0});};c.prototype.seek=function(k,n,p,q){n=void 0 === n?f.Zc.Nw:n;this.j.dvb() && (this.Ol().ha && this.Ol().n2a(this.Ol().W9a(k))?this.Ol().I9():this.j.ie?(this.Ol().ha && (k=this.Ol().W9a(k)),this.j.ie.seek(k,n,p,q)):(this.Ol().ha && (k=this.Ol().Kma(k).El),this.j.El=k));};c.prototype.r7a=function(k){return this.ZJ?(this.log.trace("Playing a segment",k),this.ZJ.play(k)):Promise.resolve();};c.prototype.w8a=function(k){return this.ZJ?(this.log.trace("Queueing a segment",k),this.ZJ.$M(k)):Promise.resolve();};c.prototype.bj=function(k,n){return this.ZJ?(this.log.trace("Updating next segment weights",k,n),this.ZJ.bj(k,n)):Promise.resolve();};c.prototype.ET=function(){var k;k=this.j.ln.ET();return {bounds:k.PR,margins:k.Wq,size:k.size,visibility:k.visibility};};c.prototype.GN=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.yX && (n && this.j.yX.Kva(n),p && this.j.yX.Lva(p),"boolean" === typeof k && this.j.yX.Mva(k));this.j.ln && q && this.j.ln.x0b(q);};c.prototype.Nva=function(k){this.j.gm=k;};c.prototype.L_a=function(k){return this.j.Yy && this.j.Yy.IHb(k) || null;};c.prototype.yYa=function(){return this.Yd.RB({playerver:this.config.version,jssid:this.config.XNb,groupName:this.config.LHb(),xid:this.j.ma,pbi:this.j.index},this.config.eVb,{prefix:"pi_"});};c.prototype.a1a=function(k){this.j.od(l.U.BCa,l.R.Go,k);};c.prototype.r3a=function(k,n,p,q){if(!this.tb.gRa(k))throw Error("invalid url");this.e7a.push({url:k,name:n,ntb:p,options:q});this.j8a();};c.prototype.lna=function(){var k,n,p,q,u,t,w,v;k={};n=this.j.bX;try{if((this.j.th && (k.errorCode=this.j.th.G3,k.errorType=n?"endplay":"startplay"),k.playdelay=(0,m.$f)(this.j.VR()),k.xid=this.j.ma,this.j.W && this.tb.Xo(this.j.W.Fa.gn) && (k.packageId=Number(this.j.W.Fa.gn)),k.auth=this.j.GGb(),n)){k.totaltime=this.j.Sk?this.Ml(this.j.Sk.pp("content")):0;k.abrdel=this.j.Sk?this.j.Sk.ima():0;p=this.j.ie;q=p?p.CF():null;this.tb.Yj(q) && (k.totdfr=q);q=p?p.kT():null;this.tb.Yj(q) && (k.totcfr=q);u=p?p.WHb():null;u && (k.rbfrs_decoder=u.r3,k.rbfrs_network=u.J7);k.rbfrs_delay=this.j.Sk?this.j.Sk.Hoa:0;k.init_vbr=this.j.W5;t=this.KF();this.tb.XE(t) && (k.pdltime=t);w=this.j.Ud.value;v=w && w.stream;v && (k.vbr=v.bitrate,k.vdlid=v.Tb);k.bufferedTime=this.j.KYa();}}catch(y){this.log.error("error capturing session summary",y);}return k;};c.prototype.LK=function(k){this.j.Ya.am && (this.j.Ya.am.userEngageAction=1);return this.tb.Yj(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.yt.create(this.j)),{action:k}),this.bS(g.Ao.LK).On(this.log,this.j.W.ki,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.ic,errorExternalCode:n.Tc,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.mHb=function(k){return {register:k.register.bind(k),notifyUpdated:k.T5a.bind(k),getModel:k.BIb.bind(k),getGroups:k.oT.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.qp=function(k){var n;n=k.Bta=k.Bta || ({trackId:k.trackId,bcp47:k.se,displayName:k.displayName,trackType:k.Bh,rawTrackType:k.nC,channels:k.channels});this.Woa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.lX);this.Xoa(k) && (n.isNoneTrack=k.Yn(),n.isForcedNarrative=k.Zm(),n.isImageBased=k.ek);n.subType=k.GH;n.variant=k.variant;return n;};c.prototype.Woa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.Xoa=function(k){return "undefined" !== typeof k.Yn && "undefined" !== typeof k.Zm;};c.prototype.SS=function(k){var n;n=this;return k && this.j.ai.find(function(p){return n.qp(p) === k;});};c.prototype.zT=function(k){var n,p;k=this.SS(k) || (null === (n=this.Hv) || void 0 === n?void 0:n.tc) || this.j.tc.value;return null !== (p=null === k || void 0 === k?void 0:k.eh) && void 0 !== p?p:[];};c.prototype.qT=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.ec > n;});return -1 === k?p:k - 1;};c.prototype.i2a=function(k,n){return 0 <= k.eh.indexOf(n);};c.prototype.ESb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Ml=function(k){return this.tb.Yj(k)?(k / 1E3).toFixed(0):"";};c.prototype.kb=function(k,n,p){n=n || ({});n.target=this;this.Db.Ec(k,n,!p);};c.prototype.hI=function(){var k;k=this;this.j.addEventListener(f.fa.Lwa,function(){k.kb(f.Ja.Kn);});this.j.KC.addListener(function(){k.kb(f.Ja.Sxa);});this.j.addEventListener(f.fa.hdb,function(){k.kb(f.Ja.gdb);});this.j.addEventListener(f.fa.g7,function(){k.kb(f.Ja.C2);});this.j.addEventListener(f.fa.Dj,function(){k.kb(f.Ja.C2);});this.j.addEventListener(f.fa.AL,function(n){k.kb(f.Ja.AL,{errorCode:n});});this.j.addEventListener(f.fa.Jha,function(){k.kb(f.Ja.TRa);});this.j.addEventListener(f.fa.Hh,function(n){k.kb(f.Ja.u2,n);});this.j.addEventListener(f.fa.Kcb,function(){k.kb(f.Ja.r2);k.kb(f.Ja.Nt);});this.j.wi.addListener(function(){k.kb(f.Ja.Ysa);});this.j.paused.addListener(function(){k.kb(f.Ja.b7a);});this.j.muted.addListener(function(){k.kb(f.Ja.q5a);});this.j.volume.addListener(function(){k.kb(f.Ja.veb);});this.j.lb.addListener(function(){k.pdb();});this.j.state.addListener(function(){k.pdb();});this.j.hia.addListener(function(n){k.lPb || k.j.state.value != f.Vb.$d || n.newValue || (k.lPb=!0,k.kb(f.Ja.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.lna());}));k.kb(f.Ja.aK);});this.j.tc.addListener(function(){k.kb(f.Ja.Dl);k.kb(f.Ja.Nt);setTimeout(function(){var n,p;n=k.j.tc.value;p=k.j.Gb.value;null === n || null === p || k.i2a(n,p) || (k.log.info("Changing timed text track to match audio track"),k.j.Gb.set(n.eh[0]));},0);});this.j.Gb.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.kb(f.Ja.gl);});this.j.addEventListener(f.fa.Nt,function(){k.kb(f.Ja.Nt);});this.j.addEventListener(f.fa.GX,function(){k.kb(f.Ja.GX);});this.j.state.addListener(function(n){switch(n.newValue){case f.Vb.$d:k.kb(f.Ja.Aka);k.kb(f.Ja.Sxa);k.kb(f.Ja.r2);k.kb(f.Ja.Nt);k.kb(f.Ja.u3a);k.j8a();k.I6b();break;case f.Vb.CLOSING:k.j.th && k.kb(f.Ja.w1a,k.j.th);break;case f.Vb.CLOSED:(k.kb(f.Ja.closed),k.Db.vg());}});this.j.addEventListener(f.fa.IB,function(){k.kb(f.Ja.IB);k.kb(f.Ja.Kn);k.kb(f.Ja.C2);k.kb(f.Ja.Aka);});};c.prototype.I6b=function(){var k;k=this;this.j.ln.addEventListener("showsubtitle",function(n){k.kb(f.Ja.Vva,n,!0);});this.j.ln.addEventListener("removesubtitle",function(n){k.kb(f.Ja.bua,n,!0);});this.j.Qn().Bl.addListener(function(){k.kb(f.Ja.Erb);});};c.prototype.j8a=function(){if(this.j.state.value == f.Vb.$d){for(var k,n,p;n=this.e7a.shift();){k=this.j.ln.Jga(n.url,n.name,n.options);n.ntb && (p=k);}p && this.j.Gb.set(p);}};c.prototype.pdb=function(){var k;k=this.j.state.value == f.Vb.$d && this.j.lb.value == f.bb.bq;this.ended !== k && (this.ended=k,this.j.sE("Ended changed: " + k),(k || this.j.state.value === f.Vb.CLOSING) && this.kb(f.Ja.VWa));};c.prototype.KF=function(){var k,n;try{k=/playercore.*js/;n=d.ju.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.dFa=c;},52357:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M;function c(L){this.dc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;r=a(5163);l=a(22674);f=a(71501);h=a(74870);d=a(42207);g=a(87386);m=a(15160);k=a(2911);n=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);w=a(25050);v=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);D=a(4203);C=a(44376);F=a(47500);G=a(30869);E=a(78029);J=a(91825);M=a(11479);c.prototype.qK=function(L,H,N,I,K,O){return this.dc.get(D.ac)().T$?new w.rNa(this.dc.get(g.Za),this.dc.get(v.Ida),this.dc.get(y.Bw),this.dc.get(x.Jc),this.dc.get(z.mD),this.dc.get(m.Nba),this.dc.get(A.Lca),this.dc.get(B.LDa),this.dc.get(C.$Ja),this.dc.get(F.pea),this.dc.get(F.pea),this.dc.get(G.fg),this.dc.get(J.xP),this.dc.get(E.Zba),this.dc.get(M.Sh),I,N):new p.dFa(this.dc.get(h.mh),this.dc.get(d.Wf),this.dc.get(g.Za),this.dc.get(m.Nba),this.dc.get(k.iea),this.dc.get(q.sda),this.dc.get(u.Mba),this.dc.get(t.LIa),this.dc.get(n.SBa),L,H,N,I,K,O);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.aFa))],a);b.pNa=a;},35558:function(r,b,a){r.exports={Clb:a(81198),W7b:a(52915)};},52915:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function l(f){this.Ue=null;this.cs=f;this.size=0;}b=a(61161);c.prototype.Ug=function(f){return f?this.right:this.left;};c.prototype.Tp=function(f,h){f?this.right=h:this.left=h;};l.prototype=new b();l.prototype.Zs=function(f){if(null === this.Ue)(this.Ue=new c(f),this.size++);else for(var h=0,d=null,g=this.Ue;;){if(null === g){g=new c(f);d.Tp(h,g);ret=!0;this.size++;break;}if(0 === this.cs(g.data,f))break;h=0 > this.cs(g.data,f);d=g;g=g.Ug(h);}};l.prototype.remove=function(f){var h,d,n;if(null === this.Ue)return !1;h=new c(void 0);d=h;d.right=this.Ue;for(var g=null,m=null,k=1;null !== d.Ug(k);){g=d;d=d.Ug(k);n=this.cs(f,d.data);k=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,g.Tp(g.right === d,d.Ug(null === d.left)),this.Ue=h.right,this.size--,!0):!1;};r.exports=l;},81198:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function l(g){this.Ue=null;this.cs=g;this.size=0;}function f(g){return null !== g && g.red;}function h(g,m){var k;k=g.Ug(!m);g.Tp(!m,k.Ug(m));k.Tp(m,g);g.red=!0;k.red=!1;return k;}function d(g,m){g.Tp(!m,h(g.Ug(!m),!m));return h(g,m);}b=a(61161);c.prototype.Ug=function(g){return g?this.right:this.left;};c.prototype.Tp=function(g,m){g?this.right=m:this.left=m;};l.prototype=new b();l.prototype.Zs=function(g){var m,k,n,p,q,u,t,w;if(null === this.Ue)(this.Ue=new c(g),this.size++);else {m=new c(void 0);k=0;n=0;p=null;q=m;u=null;t=this.Ue;for(q.right=this.Ue;;){null === t?(t=new c(g),u.Tp(k,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){w=q.right === p;t === u.Ug(n)?q.Tp(w,h(p,!n)):q.Tp(w,d(p,!n));}w=this.cs(t.data,g);if(0 === w)break;n=k;k=0 > w;null !== p && (q=p);p=u;u=t;t=t.Ug(k);}this.Ue=m.right;}this.Ue.red=!1;};l.prototype.remove=function(g){var m,k,t,w,v;if(null === this.Ue)return !1;m=new c(void 0);k=m;k.right=this.Ue;for(var n=null,p,q=null,u=1;null !== k.Ug(u);){t=u;p=n;n=k;k=k.Ug(u);w=this.cs(g,k.data);u=0 < w;0 === w && (q=k);if(!f(k) && !f(k.Ug(u)))if(f(k.Ug(!u)))(p=h(k,u),n.Tp(t,p),n=p);else if(!f(k.Ug(!u)) && (w=n.Ug(!t),null !== w))if(f(w.Ug(!t)) || f(w.Ug(t))){v=p.right === n;f(w.Ug(t))?p.Tp(v,d(n,t)):f(w.Ug(!t)) && p.Tp(v,h(n,t));t=p.Ug(v);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Tp(n.right === k,k.Ug(null === k.left)),this.size--);this.Ue=m.right;null !== this.Ue && (this.Ue.red=!1);return null !== q;};r.exports=l;},61161:function(r){function b(){}function a(c){this.cQa=c;this.Io=[];this.kg=null;}b.prototype.clear=function(){this.Ue=null;this.size=0;};b.prototype.find=function(c){var f;for(var l=this.Ue;null !== l;){f=this.cs(c,l.data);if(0 === f)return l.data;l=l.Ug(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Ue,f=this.iterator(),h=this.cs;null !== l;){d=h(c,l.data);if(0 === d)return (f.kg=l,f);f.Io.push(l);l=l.Ug(0 < d);}for(d=f.Io.length - 1;0 <= d;--d){if((l=f.Io[d],0 > h(c,l.data)))return (f.kg=l,f.Io.length=d,f);}f.Io.length=0;return f;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),f=this.cs;null !== l.data() && 0 === f(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Ue;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ue;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Is=function(c){for(var l=this.iterator(),f;null !== (f=l.next());){c(f);}};a.prototype.data=function(){return null !== this.kg?this.kg.data:null;};a.prototype.next=function(){var c;if(null === this.kg){c=this.cQa.Ue;null !== c && this.$Oa(c);}else if(null === this.kg.right){do {if((c=this.kg,this.Io.length))this.kg=this.Io.pop();else {this.kg=null;break;}}while(this.kg.right === c);}else (this.Io.push(this.kg),this.$Oa(this.kg.right));return null !== this.kg?this.kg.data:null;};a.prototype.YG=function(){var c;if(null === this.kg){c=this.cQa.Ue;null !== c && this.VOa(c);}else if(null === this.kg.left){do {if((c=this.kg,this.Io.length))this.kg=this.Io.pop();else {this.kg=null;break;}}while(this.kg.left === c);}else (this.Io.push(this.kg),this.VOa(this.kg.left));return null !== this.kg?this.kg.data:null;};a.prototype.$Oa=function(c){for(;null !== c.left;){this.Io.push(c);c=c.left;}this.kg=c;};a.prototype.VOa=function(c){for(;null !== c.right;){this.Io.push(c);c=c.right;}this.kg=c;};r.exports=b;},62680:function(r,b,a){var c,l,f;c=a(67286);l=a(89429);f=l(c("String.prototype.indexOf"));r.exports=function(h,d){d=c(h,!!d);return "function" === typeof d && -1 < f(h,".prototype.")?l(d):d;};},89429:function(r,b,a){var l,f,h,d,g,m,k;function c(){return d(l,f,arguments);}l=a(4090);b=a(67286);f=b("%Function.prototype.apply%");h=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(h,f);g=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);k=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(l,h,arguments);g && m && g(p,"length").configurable && m(p,"length",{value:1 + k(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},14926:function(r,b,a){var c,l,f,h,d,g;c=a(33464);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;h=Array.prototype.concat;d=Object.defineProperty;b=a(81181)();g=d && b;r.exports=function(m,k){var n,p,u,t,w,v;n=2 < arguments.length?arguments[2]:{};p=c(k);l && (p=h.call(p,Object.getOwnPropertySymbols(k)));for(var q=0;q < p.length;q+=1){u=m;t=p[q];w=k[p[q]];v=n[p[q]];if(!((t in u)) || "function" === typeof v && "[object Function]" === f.call(v) && v())g?d(u,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):u[t]=w;}};},5885:function(r,b,a){var c,l,f,h,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(53919);f=a(9680);h=a(54277);d=a(88705);r.exports=function(g){var m,k,n;if(l(g))return g;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){k=Symbol.toPrimitive;n=g[k];if(null !== n && "undefined" !== typeof n){if(!f(n))throw new TypeError(n + " returned for property " + k + " of object " + g + " is not a function");k=n;}else k=void 0;}else d(g) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){m=k.call(g,m);if(l(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (h(g) || d(g)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < m.length;++k){if((n=g[m[k]],f(n) && (n=n.call(g),l(n))))break a;}throw new TypeError("No default value");}return n;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){function b(){this.gb=this.gb || ({});this.ls=this.ls || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.ls=void 0;b.dka=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.ls=l;return this;};b.prototype.emit=function(l){var f,h,d,g;this.gb || (this.gb={});if("error" === l && (!this.gb.error || c(this.gb.error) && !this.gb.error.length)){h=arguments[1];if(h instanceof Error)throw h;d=Error('Uncaught, unspecified "error" event. (' + h + ")");d.context=h;throw d;}d=this.gb[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(h=Array.prototype.slice.call(arguments,1),d.apply(this,h));}else if(c(d)){h=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,h);}}return !0;};b.prototype.addListener=function(l,f){if(!a(f))throw TypeError("listener must be a function");this.gb || (this.gb={});this.gb.URb && this.emit("newListener",l,a(f.listener)?f.listener:f);this.gb[l]?c(this.gb[l])?this.gb[l].push(f):this.gb[l]=[this.gb[l],f]:this.gb[l]=f;c(this.gb[l]) && !this.gb[l].Yxa && (f=void 0 === this.ls?b.dka:this.ls) && 0 < f && this.gb[l].length > f && (this.gb[l].Yxa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.gb[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,f){var d;function h(){this.removeListener(l,h);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;h.listener=f;this.on(l,h);return this;};b.prototype.removeListener=function(l,f){var h,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.gb || !this.gb[l])return this;h=this.gb[l];d=h.length;g=-1;if(h === f || a(h.listener) && h.listener === f)(delete this.gb[l],this.gb.removeListener && this.emit("removeListener",l,f));else if(c(h)){for(;0 < d--;){if(h[d] === f || h[d].listener && h[d].listener === f){g=d;break;}}if(0 > g)return this;1 === h.length?(h.length=0,delete this.gb[l]):h.splice(g,1);this.gb.removeListener && this.emit("removeListener",l,f);}return this;};b.prototype.removeAllListeners=function(l){var f;if(!this.gb)return this;if(!this.gb.removeListener)return (0 === arguments.length?this.gb={}:this.gb[l] && delete this.gb[l],this);if(0 === arguments.length){for(f in this.gb){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.gb={};return this;}f=this.gb[l];if(a(f))this.removeListener(l,f);else if(f)for(;f.length;){this.removeListener(l,f[f.length - 1]);}delete this.gb[l];return this;};b.prototype.listeners=function(l){return this.gb && this.gb[l]?a(this.gb[l])?[this.gb[l]]:this.gb[l].slice():[];};b.prototype.listenerCount=function(l){if(this.gb){l=this.gb[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,f){return l.listenerCount(f);};},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var f=b.call(arguments,1),h,d=Math.max(0,l.length - f.length),g=[],m=0;m < d;m++){g.push("$" + m);}h=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var k;if(this instanceof h){k=l.apply(this,f.concat(b.call(arguments)));return Object(k) === k?k:this;}return l.apply(c,f.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,h.prototype=new d(),d.prototype=null);return h;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C;function c(F){var G,E,J;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new h("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new h("invalid intrinsic syntax, expected opening `%`");J=[];z(F,D,function(M,L,H,N){J[J.length]=H?z(N,C,"$1"):L || M;});return J;}function l(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}h=SyntaxError;d=Function;g=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(F){m=null;}b=m?(function(){try{return (arguments.callee,l);}catch(F){try{return m(arguments,"callee").get;}catch(G){return l;}}})():l;k=a(32636)();n=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && k?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && k?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?n(("")[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":h,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=n(n(F));u["%Error.prototype%"]=b;}t=function E(G){var J,M;if("%AsyncFunction%" === G)J=f("async function () {}");else if("%GeneratorFunction%" === G)J=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)J=f("async function* () {}");else if("%AsyncGenerator%" === G){M=E("%AsyncGeneratorFunction%");M && (J=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=E("%AsyncGenerator%")) && (J=n(M.prototype));return u[G]=J;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);v=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(G,E){var J,M,L,H,N,I,K,O,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");J=c(G);M=0 < J.length?J[0]:"";L="%" + M + "%";H=L;if(v(w,H)){N=w[H];H="%" + N[0] + "%";}if(v(u,H)){I=u[H];I === p && (I=t(H));if("undefined" === typeof I && !E)throw new g("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new h("intrinsic " + L + " does not exist!");L=I;H=!1;N && (M=N[0],x(J,y([0,1],N)));N=1;for(I=!0;N < J.length;N+=1){K=J[N];O=A(K,0,1);R=A(K,-1);if(('"' === O || "'" === O || "`" === O || '"' === R || "'" === R || "`" === R) && O !== R)throw new h("property names with quotes must have matching quotes");"constructor" !== K && I || (H=!0);M+="." + K;O="%" + M + "%";if(v(u,O))L=u[O];else if(null != L){if(!((K in L))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}m && N + 1 >= J.length?(R=m(L,K),L=(I=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[K]):(I=v(L,K),L=L[K]);I && !H && (u[O]=L);}}return L;};},81181:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(f){}return !1;}l=a(67286)("%Object.defineProperty%",!0);c.NKb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},32636:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var f,h;function c(d,g,m,k,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(f.Xib);Reflect.Ona(d,g) && (p=Reflect.getMetadata(d,g));m=p[n];if(Array.isArray(m)){q=0;for(var u=m;q < u.length;q++){t=u[q];if(t.key === k.key)throw Error(f.zhb + " " + t.key.toString());}}else m=[];m.push(k);p[n]=m;Reflect.y3(d,p,g);}function l(d,g){return function(m,k){g(m,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);h=a(37425);b.IH=function(d,g,m,k){c(h.rMa,d,g,k,m);};b.rX=function(d,g,m){c(h.sMa,d.constructor,g,m);};b.GA=function(d,g,m){"number" === typeof m?(d=[l(m,d)],Reflect.GA(d,g)):"string" === typeof m?Reflect.GA([d],g,m):Reflect.GA([d],g);};},29385:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);h=a(28041);r=(function(){function d(g){this.Umb=g;}d.prototype.J4b=function(){return this.Umb();};return d;})();b.rca=r;b.l=function(d){return function(g,m,k){var n;if(void 0 === d)throw Error(c.tmb(g.name));n=new f.Metadata(l.mP,d);"number" === typeof k?h.IH(g,m,k,n):h.rX(g,m,n);};};},16504:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);b.T=function(){return function(f){var h;if(Reflect.Ona(l.eda,f))throw Error(c.yhb);h=Reflect.getMetadata(l.Wgb,f) || [];Reflect.y3(l.eda,h,f);return f;};};},3342:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.BG=function(h){return function(d,g,m){var k;k=new l.Metadata(c.lD,h);"number" === typeof m?f.IH(d,g,m,k):f.rX(d,g,k);};};},44466:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.s5a=function(h){return function(d,g,m){var k;k=new l.Metadata(c.yz,h);"number" === typeof m?f.IH(d,g,m,k):f.rX(d,g,k);};};},5923:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.optional=function(){return function(h,d,g){var m;m=new l.Metadata(c.RHa,!0);"number" === typeof g?f.IH(h,d,g,m):f.rX(h,d,m);};};},76311:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);b.L7a=function(){return function(h,d){d=new f.Metadata(l.OP,d);if(Reflect.Ona(l.OP,h.constructor))throw Error(c.Ojb);Reflect.y3(l.OP,d,h.constructor);};};},91823:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);l=a(28041);b.Xbb=function(f,h){return function(d,g,m){var k;k=new c.Metadata(f,h);"number" === typeof m?l.IH(d,g,m,k):l.rX(d,g,k);};};},67509:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.sX=function(h){return function(d,g,m){var k;k=new l.Metadata(c.s_,h);f.IH(d,g,m,k);};};},53022:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.nn=function(){return function(h,d,g){var m;m=new l.Metadata(c.bQ,!0);f.IH(h,d,g,m);};};},70078:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(72632);r=(function(){function f(h,d){this.id=l.id();this.Dga=!1;this.Cg=h;this.scope=d;this.type=c.cj.kjb;this.QE=function(){return !0;};this.CK=this.Dv=this.Fy=this.TK=this.cache=this.Rl=null;}f.prototype.clone=function(){var h;h=new f(this.Cg,this.scope);h.Dga=!1;h.Rl=this.Rl;h.CK=this.CK;h.scope=this.scope;h.type=this.type;h.TK=this.TK;h.Fy=this.Fy;h.QE=this.QE;h.Dv=this.Dv;h.cache=this.cache;return h;};return f;})();b.Zfb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zaa={W9b:2,HHa:0,nkb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yhb="Cannot apply @injectable decorator multiple times.";b.zhb="Metadata key was used more than once in a parameter:";b.JP="NULL argument";b.jFa="Key Not Found";b.bfb="Ambiguous match found for serviceIdentifier:";b.qgb="Could not unbind serviceIdentifier:";b.Zjb="No matching bindings found for serviceIdentifier:";b.Bjb="Missing required @injectable annotation in:";b.Cjb="Missing required @inject or @multiInject annotation in:";b.tmb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.ugb="Circular dependency found:";b.n$b="Sorry, this feature is not fully implemented yet.";b.Wib="Invalid binding type:";b.akb="No snapshot available to restore.";b.$ib="Invalid return type in middleware. Middleware must return!";b.Zib="Value provided to function binding must be a function!";b.ajb="The toSelf function can only be applied when a constructor is used as service identifier";b.Xib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.dfb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Igb="Invalid Container constructor argument. Container options must be an object.";b.Ggb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Fgb="Invalid Container option. Auto bind injectable must be a boolean";b.Hgb="Invalid Container option. Skip base check must be a boolean";b.Ojb="Cannot apply @postConstruct decorator multiple times in the same class";b.hlb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.vgb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Xlb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ir={Request:"Request",kea:"Singleton",k0:"Transient"};b.cj={eBa:"ConstantValue",fBa:"Constructor",lCa:"DynamicValue",Pba:"Factory",Function:"Function",Instance:"Instance",kjb:"Invalid",LKa:"Provider"};b.Pw={UAa:"ClassProperty",gBa:"ConstructorArgument",Cea:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yz="named";b.s_="name";b.bQ="unmanaged";b.RHa="optional";b.mP="inject";b.lD="multi_inject";b.rMa="inversify:tagged";b.sMa="inversify:tagged_props";b.eda="inversify:paramtypes";b.Wgb="design:paramtypes";b.OP="post_construct";},99700:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u;c=this && this.__awaiter || (function(t,w,v,y){return new (v || (v=Promise))(function(x,z){function A(C){try{D(y.next(C));}catch(F){z(F);}}function B(C){try{D(y["throw"](C));}catch(F){z(F);}}function D(C){C.done?x(C.value):new v(function(F){F(C.value);}).then(A,B);}D((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,A,B,D;function v(C){return function(F){return y([C,F]);};}function y(C){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.IG.pop();x.Oj.pop();continue;default:if(!(B=x.Oj,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))x.label=C[1];else if(6 === C[0] && x.label < B[1])(x.label=B[1],B=C);else if(B && x.label < B[2])(x.label=B[2],x.IG.push(C));else {B[2] && x.IG.pop();x.Oj.pop();continue;}}C=w.call(t,x);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,Ra:function(){if(B[0] & 1)throw B[1];return B[1];},Oj:[],IG:[]};return (D={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});f=a(70078);h=a(25640);d=a(5493);a(37425);g=a(11499);m=a(75262);k=a(85933);n=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + h.Igb);if(void 0 === w.VE)w.VE=d.Ir.k0;else if(w.VE !== d.Ir.kea && w.VE !== d.Ir.k0 && w.VE !== d.Ir.Request)throw Error("" + h.Ggb);if(void 0 === w.LR)w.LR=!1;else if("boolean" !== typeof w.LR)throw Error("" + h.Fgb);if(void 0 === w.vH)w.vH=!1;else if("boolean" !== typeof w.vH)throw Error("" + h.Hgb);this.options={LR:w.LR,VE:w.VE,vH:w.vH};this.id=p.id();this.FD=new u.sjb();this.Ppb=[];this.parent=this.Wfa=null;this.tob=new g.Rca();}t.prototype.load=function(){var x,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.pOa();for(var y=0;y < w.length;y++){x=w[y];z=v(x.id);x.Xta(z.dSa,z.$cb,z.p2a,z.O8a);}};t.prototype.DU=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(D){switch(D.label){case 0:(y=this.pOa(),x=0,z=w,D.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.Xta(B.dSa,B.$cb,B.p2a,B.O8a)];case 2:(D.Ra(),D.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.edb=function(){function w(z){return function(A){return A.g5a === z;};}for(var v=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);v.FD.zYb(z);});};t.prototype.bind=function(w){var v;v=new f.Zfb(w,this.options.VE || d.Ir.k0);this.FD.add(w,v);return new n.agb(v);};t.prototype.DXb=function(w){this.Zcb(w);return this.bind(w);};t.prototype.Zcb=function(w){try{this.FD.remove(w);}catch(v){throw Error(h.qgb + " " + q.qL(w));}};t.prototype.H1a=function(w){var v;v=this.FD.d0a(w);!v && this.parent && (v=this.parent.H1a(w));return v;};t.prototype.restore=function(){var w;w=this.Ppb.pop();if(void 0 === w)throw Error(h.akb);this.FD=w.OR;this.Wfa=w.aRb;};t.prototype.Ryb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.oOa(!1,!1,d.Pw.Cea,w);};t.prototype.getAll=function(w){return this.oOa(!0,!0,d.Pw.Cea,w);};t.prototype.resolve=function(w){var v;v=this.Ryb();v.bind(w).zcb();return v.get(w);};t.prototype.pOa=function(){var z;function w(A){return function(B){B=z.DXb.bind(z)(B);B.yc.g5a=A;return B;};}function v(){return function(A){return z.H1a.bind(z)(A);};}function y(){return function(A){z.Zcb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.yc.g5a=A;return B;};}z=this;return function(A){return {dSa:x(A),p2a:v(A),O8a:w(A),$cb:y(A)};};};t.prototype.oOa=function(w,v,y,x){var z;z=null;w={qtb:w,Ywb:function(A){return A;},nNb:v,key:void 0,Cg:x,b3b:y,value:void 0};if(this.Wfa){if((z=this.Wfa(w),void 0 === z || null === z))throw Error(h.$ib);}else z=this.gpb()(w);return z;};t.prototype.gpb=function(){var w;w=this;return function(v){var y;y=m.LM(w.tob,w,v.nNb,v.b3b,v.Cg,v.key,v.value,v.qtb);y=v.Ywb(y);return k.resolve(y);};};return t;})();b.JY=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.ed=(function(){return function(l){this.id=c.id();this.Xta=l;};})();b.Aza=(function(){return function(l){this.id=c.id();this.Xta=l;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m8b=(function(){function a(){}a.of=function(c,l){var f;f=new a();f.OR=c;f.aRb=l;return f;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function l(){this.Gf=new Map();}l.prototype.add=function(f,h){var d;if(null === f || void 0 === f)throw Error(c.JP);if(null === h || void 0 === h)throw Error(c.JP);d=this.Gf.get(f);void 0 !== d?(d.push(h),this.Gf.set(f,d)):this.Gf.set(f,[h]);};l.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.JP);f=this.Gf.get(f);if(void 0 !== f)return f;throw Error(c.jFa);};l.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.JP);if(!this.Gf.delete(f))throw Error(c.jFa);};l.prototype.zYb=function(f){var h;h=this;this.Gf.forEach(function(d,g){d=d.filter(function(m){return !f(m);});0 < d.length?h.Gf.set(g,d):h.Gf.delete(g);});};l.prototype.d0a=function(f){if(null === f || void 0 === f)throw Error(c.JP);return this.Gf.has(f);};l.prototype.clone=function(){var f;f=new l();this.Gf.forEach(function(h,d){h.forEach(function(g){return f.add(d,g.clone());});});return f;};return l;})();b.sjb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.L9b=r;r=a(99700);b.JY=r.JY;r=a(5493);b.Ir=r.Ir;b.cj=r.cj;b.Pw=r.Pw;r=a(51164);b.Aza=r.Aza;b.ed=r.ed;r=a(16504);b.T=r.T;r=a(91823);b.Xbb=r.Xbb;r=a(44466);b.s5a=r.s5a;r=a(29385);b.l=r.l;b.rca=r.rca;r=a(5923);b.optional=r.optional;r=a(53022);b.nn=r.nn;r=a(3342);b.BG=r.BG;r=a(67509);b.sX=r.sX;r=a(76311);b.L7a=r.L7a;r=a(11499);b.Rca=r.Rca;r=a(72632);b.id=r.id;r=a(28041);b.GA=r.GA;r=a(41146);b.Rcb=r.Rcb;b.Ybb=r.Ybb;b.t5a=r.t5a;b.Ycb=r.Ycb;r=a(48530);b.qL=r.qL;a=a(14577);b.p5a=a.p5a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f){this.id=c.id();this.hb=f;}l.prototype.erb=function(f){this.LM=f;};return l;})();b.jBa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(f,h){this.key=f;this.value=h;}l.prototype.toString=function(){return this.key === c.yz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(){}l.prototype.XYa=function(f){var h;h=Reflect.getMetadata(c.eda,f);f=Reflect.getMetadata(c.rMa,f);return {PTa:h,N5b:f || ({})};};l.prototype.gJb=function(f){return Reflect.getMetadata(c.sMa,f) || [];};return l;})();b.Rca=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.plb=(function(){return function(a,c){this.EM=a;this.Iua=c;};})();},75262:function(r,b,a){var d,g,m,k,n,p,q,u,t,w,v,y;function c(x,z,A,B,D){var C,F;C=h(A.hb,D.Cg);F=[];C.length === d.Zaa.HHa && A.hb.options.LR && "function" === typeof D.Cg && x.XYa(D.Cg).PTa && (A.hb.bind(D.Cg).zcb(),C=h(A.hb,D.Cg));F=z?C:C.filter(function(G){var E;E=new v.Request(G.Cg,A,B,G,D);return G.QE(E);});l(D.Cg,F,D,A.hb);return F;}function l(x,z,A,B){switch(z.length){case d.Zaa.HHa:if(A.W1a())return z;x=p.qL(x);z=g.Zjb;z+=p.yOb(x,A);z+=p.l3a(B,x,h);throw Error(z);case d.Zaa.nkb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.qL(x);z=g.bfb + " " + x;z+=p.l3a(B,x,h);throw Error(z);}}function f(x,z,A,B,D,C){var F;if(null === D){z=c(x,z,B,null,C);F=new v.Request(A,B,null,z,C);A=new t.plb(B,F);B.erb(A);}else (z=c(x,z,B,D,C),F=D.yQa(C.Cg,z,C));z.forEach(function(G){var E,J,M;E=null;if(C.isArray())E=F.yQa(G.Cg,G,C);else {if(G.cache)return;E=F;}if(G.type === m.cj.Instance && null !== G.Rl){J=w.jHb(x,G.Rl);if(!B.hb.options.vH){M=w.IGb(x,G.Rl);if(J.length < M)throw (G=g.dfb(w.getFunctionName(G.Rl)),Error(G));}J.forEach(function(L){f(x,!1,L.Cg,B,E,L);});}});}function h(x,z){var A,B;A=[];B=x.FD;B.d0a(z)?A=B.get(z):null !== x.parent && (A=h(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);g=a(25640);m=a(5493);k=a(37425);n=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);w=a(34912);v=a(22929);y=a(23927);b.wdc=function(x){return x.FD;};b.LM=function(x,z,A,B,D,C,F,G){void 0 === G && (G=!1);z=new q.jBa(z);A=new u.Metadata(A?k.lD:k.mP,D);B=new y.i0(B,"",D,A);void 0 !== C && (C=new u.Metadata(C,F),B.Sd.push(C));try{return (f(x,G,D,z,null,B),z);}catch(E){throw (n.g2a(E) && z.LM && p.Rvb(z.LM.Iua),E);}};b.scc=function(x,z,A,B){A=new y.i0(m.Pw.Cea,"",z,new u.Metadata(A,B));x=new q.jBa(x);return new v.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.SN=c;}a.prototype.startsWith=function(c){return 0 === this.SN.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.SN.split("").reverse().join("");return this.startsWith.call({SN:c},l);};a.prototype.contains=function(c){return -1 !== this.SN.indexOf(c);};a.prototype.equals=function(c){return this.SN === c;};a.prototype.value=function(){return this.SN;};return a;})();b.Alb=r;},34912:function(r,b,a){var d,g,m,k,n,p;function c(q,u,t,w){var v,y,x,z,B,D,C,F,G,E,J,M;v=q.XYa(t);y=v.PTa;if(void 0 === y)throw Error(g.Bjb + " " + u + ".");v=v.N5b;x=Object.keys(v);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;D=w;C=u;F=y;G=v[B.toString()] || [];E=h(G);J=!0 !== E.nn;F=F[B];M=E.l || E.BG;F=M?M:F;F instanceof d.rca && (F=F.J4b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(g.Cjb + " argument " + B + " in class " + C + ".");B=new p.i0(m.Pw.gBa,E.sX,F);B.Sd=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.gJb(u),w=[],v=0,y=Object.keys(t);v < y.length;v++){x=y[v];z=t[x];A=h(t[x]);x=new p.i0(m.Pw.UAa,A.sX || x,A.l || A.BG);x.Sd=z;w.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),w=w.concat(q));return w;}function f(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Sd.filter(function(y){return y.key === k.bQ;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:f(q,u);}return 0;}function h(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[k.mP],BG:u[k.lD],sX:u[k.s_],nn:u[k.bQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);g=a(25640);m=a(5493);k=a(37425);n=a(48530);b.getFunctionName=n.getFunctionName;p=a(23927);b.jHb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.IGb=f;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f,h,d,g,m){this.id=c.id();this.Cg=f;this.EM=h;this.xy=d;this.target=m;this.Lia=[];this.OR=Array.isArray(g)?g:[g];this.$Yb=null === d?new Map():null;}l.prototype.yQa=function(f,h,d){f=new l(f,this.EM,this,h,d);this.Lia.push(f);return f;};return l;})();b.Request=r;},23927:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(72632);f=a(67258);h=a(11625);r=(function(){function d(g,m,k,n){this.id=l.id();this.type=g;this.Cg=k;this.name=new h.Alb(m || "");this.Sd=[];g=null;"string" === typeof n?g=new f.Metadata(c.yz,n):n instanceof f.Metadata && (g=n);null !== g && this.Sd.push(g);}d.prototype.l0a=function(g){for(var m=0,k=this.Sd;m < k.length;m++){if(k[m].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.l0a(c.lD);};d.prototype.bQb=function(g){return this.lqa(c.lD)(g);};d.prototype.Toa=function(){return this.l0a(c.yz);};d.prototype.dpa=function(){return this.Sd.some(function(g){return g.key !== c.mP && g.key !== c.lD && g.key !== c.s_ && g.key !== c.bQ && g.key !== c.yz;});};d.prototype.W1a=function(){return this.lqa(c.RHa)(!0);};d.prototype.DIb=function(){return this.Toa()?this.Sd.filter(function(g){return g.key === c.yz;})[0]:null;};d.prototype.gHb=function(){return this.dpa()?this.Sd.filter(function(g){return g.key !== c.mP && g.key !== c.lD && g.key !== c.s_ && g.key !== c.bQ && g.key !== c.yz;}):null;};d.prototype.lqa=function(g){var m;m=this;return function(k){var q;for(var n=0,p=m.Sd;n < p.length;n++){q=p[n];if(q.key === g && q.value === k)return !0;}return !1;};};return d;})();b.i0=r;},40198:function(r,b,a){var f,h,d;function c(g,m,k){var n;m=m.filter(function(p){return null !== p.target && p.target.type === h.Pw.UAa;});n=m.map(k);m.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function l(g,m){var k;if(Reflect.VKb(d.OP,g)){k=Reflect.getMetadata(d.OP,g);try{m[k.value]();}catch(n){throw Error(f.hlb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);h=a(5493);d=a(37425);b.mZb=function(g,m,k){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === h.Pw.gBa;}).map(k),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,m,k)):n=new g();l(g,n);return n;};},85933:function(r,b,a){var f,h,d,g,m;function c(k){return function(n){var p,q,u,t,w;p=n.OR;q=n.Lia;u=n.target && n.target.isArray();t=!n.xy || !n.xy.target || !n.target || !n.xy.target.bQb(n.target.Cg);if(u && t)return q.map(function(v){return c(k)(v);});u=null;if(!n.target.W1a() || 0 !== p.length){w=p[0];p=w.scope === h.Ir.kea;t=w.scope === h.Ir.Request;if(p && w.Dga)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === h.cj.eBa)u=w.cache;else if(w.type === h.cj.Function)u=w.cache;else if(w.type === h.cj.fBa)u=w.Rl;else if(w.type === h.cj.lCa && null !== w.CK)u=l("toDynamicValue",w.Cg,function(){return w.CK(n.EM);});else if(w.type === h.cj.Pba && null !== w.TK)u=l("toFactory",w.Cg,function(){return w.TK(n.EM);});else if(w.type === h.cj.LKa && null !== w.Fy)u=l("toProvider",w.Cg,function(){return w.Fy(n.EM);});else if(w.type === h.cj.Instance && null !== w.Rl)u=m.mZb(w.Rl,q,c(k));else throw (q=g.qL(n.Cg),Error(f.Wib + " " + q));"function" === typeof w.Dv && (u=w.Dv(n.EM,u));p && (w.cache=u,w.Dga=!0);t && null !== k && !k.has(w.id) && k.set(w.id,u);return u;}};}function l(k,n,p){try{return p();}catch(q){if(d.g2a(q))throw Error(f.vgb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);h=a(5493);d=a(69523);g=a(48530);m=a(40198);b.resolve=function(k){return c(k.LM.Iua.$Yb)(k.LM.Iua);};},51580:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(75714);r=(function(){function f(h){this.yc=h;}f.prototype.da=function(){this.yc.scope=c.Ir.kea;return new l.QC(this.yc);};f.prototype.ioa=function(){this.yc.scope=c.Ir.k0;return new l.QC(this.yc);};return f;})();b.$fb=r;},61142:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);l=a(1003);f=a(7190);r=(function(){function h(d){this.yc=d;this.mQ=new f.$aa(this.yc);this.Oea=new l.wY(this.yc);this.TNa=new c.$fb(d);}h.prototype.da=function(){return this.TNa.da();};h.prototype.ioa=function(){return this.TNa.ioa();};h.prototype.when=function(d){return this.mQ.when(d);};h.prototype.bY=function(){return this.mQ.bY();};h.prototype.Dv=function(d){return this.Oea.Dv(d);};return h;})();b.Qza=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function l(f){this.yc=f;}l.prototype.Dv=function(f){this.yc.Dv=f;return new c.$aa(this.yc);};return l;})();b.wY=r;},49825:function(r,b,a){var c,l,f,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(5493);f=a(61142);h=a(75714);r=(function(){function d(g){this.yc=g;}d.prototype.to=function(g){this.yc.type=l.cj.Instance;this.yc.Rl=g;return new f.Qza(this.yc);};d.prototype.zcb=function(){if("function" !== typeof this.yc.Cg)throw Error("" + c.ajb);this.to(this.yc.Cg);};d.prototype.il=function(g){this.yc.type=l.cj.eBa;this.yc.cache=g;this.yc.CK=null;this.yc.Rl=null;new h.QC(this.yc);};d.prototype.EC=function(g){this.yc.type=l.cj.lCa;this.yc.cache=null;this.yc.CK=g;this.yc.Rl=null;return new f.Qza(this.yc);};d.prototype.K3b=function(g){this.yc.type=l.cj.fBa;this.yc.Rl=g;new h.QC(this.yc);};d.prototype.Wd=function(g){this.yc.type=l.cj.Pba;this.yc.TK=g;new h.QC(this.yc);};d.prototype.L3b=function(g){if("function" !== typeof g)throw Error(c.Zib);this.il(g);this.yc.type=l.cj.Function;};d.prototype.xcb=function(g){this.yc.type=l.cj.Pba;this.yc.TK=function(m){return function(){return m.hb.get(g);};};new h.QC(this.yc);};d.prototype.BX=function(g){this.yc.type=l.cj.LKa;this.yc.Fy=g;new h.QC(this.yc);};d.prototype.N3b=function(g){this.EC(function(m){return m.hb.get(g);});};return d;})();b.agb=r;},75714:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);l=a(7190);r=(function(){function f(h){this.yc=h;this.mQ=new l.$aa(this.yc);this.Oea=new c.wY(this.yc);}f.prototype.when=function(h){return this.mQ.when(h);};f.prototype.bY=function(){return this.mQ.bY();};f.prototype.Dv=function(h){return this.Oea.Dv(h);};return f;})();b.QC=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function l(f){this.yc=f;}l.prototype.when=function(f){this.yc.QE=f;return new c.wY(this.yc);};l.prototype.bY=function(){this.yc.QE=function(f){return null !== f.target && !f.target.Toa() && !f.target.dpa();};return new c.wY(this.yc);};return l;})();b.$aa=r;},41146:function(r,b,a){var f;function c(h){return function(d){function g(m){return null !== m && null !== m.target && m.target.lqa(h)(d);}g.K4a=new f.Metadata(h,d);return g;};}function l(h,d){h=h.xy;return null !== h?d(h)?!0:l(h,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);f=a(67258);b.Rcb=l;b.Ybb=c;a=c(r.yz);b.t5a=a;b.Ycb=function(h){return function(d){var g;if(null !== d){g=d.OR[0];return "string" === typeof h?g.Cg === h:h === d.OR[0].Rl;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.p5a=function(a){return function(c){return function(){for(var l=[],f=0;f < arguments.length;f++){l[f]=arguments[f];}return l.forEach(function(h){return a.bind(h).N3b(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.g2a=function(l){return l instanceof RangeError || l.message === c.Xlb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var g;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function l(m,k){return null === m.xy?!1:m.xy.Cg === k?!0:l(m.xy,k);}function f(m){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Cg);p.push(q);return null !== n.xy?k(n.xy,p):p;}return k(m).reverse().join(" --\x3e ");}function h(m){m.Lia.forEach(function(k){if(l(k,k.Cg))throw (k=f(k),Error(g.ugb + " " + k));h(k);});}function d(m){var k;if(m.name)return m.name;m=m.toString();k=m.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);b.qL=c;b.l3a=function(m,k,n){var p;p="";m=n(m,k);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var u;u="Object";null !== q.Rl && (u=d(q.Rl));p=p + "\n " + u;q.QE.K4a && (p=p + " - " + q.QE.K4a);}));return p;};b.Rvb=h;b.yOb=function(m,k){var n,p;if(k.dpa() || k.Toa()){n="";p=k.DIb();k=k.gHb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},9680:function(r){var l,f,h,d,g,m,k,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return g.test(q);}catch(u){return !1;}}l=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,h);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;m=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && m.call(document.all) === m.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=m.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,h);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(k)return a(p);if(c(p))return !1;q=m.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,l,f;c=Date.prototype.getDay;l=Object.prototype.toString;f=a(67226)();r.exports=function(h){if("object" !== typeof h || null === h)h=!1;else if(f)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object Date]" === l.call(h);return h;};},58786:function(r,b,a){var c,l,f,h,d,g,m;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");f={};h=function(){throw f;};d={toString:h,valueOf:h};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=h);}g=b("Object.prototype.toString");m=Object.getOwnPropertyDescriptor;r.exports=a?function(k){var n;if(!k || "object" !== typeof k)return !1;n=m(k,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(k,d);}catch(p){return p === f;}}:function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === g(k);};},26302:function(r,b,a){var c,l,f;c=String.prototype.valueOf;l=Object.prototype.toString;f=a(67226)();r.exports=function(h){if("string" === typeof h)h=!0;else if("object" !== typeof h)h=!1;else if(f)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object String]" === l.call(h);return h;};},88705:function(r,b,a){var c,l,f;c=Object.prototype.toString;if(a(32636)()){l=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(h){if("symbol" === typeof h)return !0;if("[object Symbol]" !== c.call(h))return !1;try{return "symbol" !== typeof h.valueOf()?!1:f.test(l.call(h));}catch(d){return !1;}};}else r.exports=function(){return !1;};},72145:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(42866);d=a(16537);g=a(78764);m=a(73057);k=a(14386);n=a(30923);p=a(27364);a(72072);q=a(36021);u=a(62558);t=a(83386);w=a(83275);v=a(41471);y=a(35556);x=a(33285);z=a(48641);A=a(46059);B=a(7881);D=a(95971);C=a(97810);F=c.__importDefault(a(35471));G=a(64048);E=a(59012);J=a(16567);M=a(42842);L=a(13043);H=a(86315);N=a(10711);I=a(49550);K=a(58793);O=a(37953);R=a(51157);Y=a(1323);oa=a(16402);r=(function(){function ka(ha){this.V=ha;this.events=new l.EventEmitter();this.Ua=d.Xt.CLOSED;this.Ku=[];this.UW=[];this.RQ=[];this.Po=[];this.UNa={};this.o1={};this.ywa=d.HO.default;this.Xpb=new x.tu({dn:this,source:"engine",fo:10,console:ha});}Object.defineProperties(ka.prototype,{Lv:{get:function(){(0,u.assert)(this.dx);return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{xVb:{get:function(){return this.RQ;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{UG:{get:function(){return this.Po.map(function(ha){return ha.ga;});},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{zVb:{get:function(){return this.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{Ic:{get:function(){this.NH();return this.zx.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{iV:{get:function(){this.NH();return this.zx.iV;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{yp:{get:function(){this.NH();return this.zx.yp;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{q6b:{get:function(){return this.Ku.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{$J:{get:function(){return this.UNa;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{pSa:{get:function(){return this.wl;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{wH:{get:function(){return this.o1;},enumerable:!1,configurable:!0}});Object.defineProperties(ka.prototype,{PQb:{get:function(){return this.YOa || (this.YOa=this.Lub());},enumerable:!1,configurable:!0}});ka.prototype.open=function(ha,za,Ca,La){var Wa;Wa=this;if(this.Ua === d.Xt.OPEN)return !1;this.Z=ha;this.Xp=new B.ZP(new D.d0({hi:!0,currentTime:function(){return f.N.Ma(F.default.time.Ga());},speed:1}),this.V,"Engine Scheduler");this.wOa=new k.qDa(this.V,ha);this.$z=new q.fLa(this.o6.bind(this),ha);ha.S$ && (this.wl=new g.lAa(this.V,function(){return Wa.$J;}));this.zx=n.$Aa.Uma(ha,this.V,za);this.Ua=d.Xt.OPEN;ha=Object.create(ha,{Lrb:{value:ha.cra || ha.Krb}});this.dx=(0,I.uT)(ha);Ca && this.dx.iab(Ca);La && this.dx.Dva(La);this.D7a=new K.pKa({sj:function(){Wa.Ua !== d.Xt.CLOSED && Wa.$z.sj("playgraphOpportunity");}});this.ZOa=new J.dHa(function(){return Wa.a5();},function(){return Wa.b5().global;},this.V);this.Gzb();return !0;};ka.prototype.wR=function(ha,za,Ca,La,Wa){var db,U,ja;db=this;void 0 === Wa && (Wa=!0);this.NH();Ca=Object.create(Ca,{HN:{value:this.wH}});if(Wa){U=this.Lv.Tvb(ha,Ca);if(U)return (U.Hdb(za),ha=this.po.bind(this,La,U),U.p0b(ha),U);}U=new H.hLa(function(sa){return db.po(La,ja,sa);},function(sa){return db.Uv(La,sa);});ja=(0,R.j3)(this.Z,[ha,za,Ca,ka.ZRb++,this.Ic,U,function(sa){return db.$z.sj(sa);},Wa?this.Lv.Svb.bind(this.Lv):function(){},this.a5.bind(this),this.wl],this.V);ja.Xe(new v.cMa(ja));ja.Xe(new y.vMa(ja.Hd));ja.S6.Xe(new M.qza(ja));ja.S6.Xe(new N.FFa(ja));this.Zz.eH.forEach(function(sa){return ja.Xe(sa);});this.D7a.wR(ja);ha=new l.Qe();ha.on(ja.events,"requestsPruned",this.dZb.bind(this));ha.on(ja.events,"weightUpdated",this.Zra.bind(this));ha.on(ja.events,"underflow",this.wh.bind(this,ja));this.Po.push({ga:ja,Ok:ha,jW:0});this.Zra();return ja;};ka.prototype.wh=function(ha){ha=this.ZOa.RFb(ha);(null === ha || void 0 === ha?0:ha.D3) || this.Lv.reset();};ka.prototype.Ky=function(ha){this.D7a.Ky(ha);this.Po=this.Po.filter(function(za){return za.ga === ha?(za.Ok.clear(),!1):!0;});ha.Qa();this.Zra();};ka.prototype.irb=function(ha,za){var Ca,La,Wa;this.NH();Wa=za.Ef;Wa=void 0 === Wa?[p.v.ea,p.v.Y]:Wa;ha=(0,Y.qK)(this.Z,[ha,Wa,c.__assign({HN:null !== (La=null !== (Ca=za.HN) && void 0 !== Ca?Ca:this.o1) && void 0 !== La?La:{}},za)]);this.RQ.push(ha);return ha;};ka.prototype.m9a=function(ha){this.NH();this.RQ=this.RQ.filter(function(za){return za !== ha;});ha.Qa();};ka.prototype.Q_b=function(ha,za){this.UNa=ha;this.o1=za;this.YOa=void 0;};ka.prototype.EN=function(ha,za){var Ca,La;La=null === (Ca=(0,h.xc)(this.Ku,function(Wa){return Wa.PE.equals(ha);})) || void 0 === Ca?void 0:Ca.pa;La?La.EN(c.__assign(c.__assign({},za),{oV:this.ora.bind(this)})):this.UW.push({qeb:ha,Wva:za});};ka.prototype.o9a=function(ha){this.UW=this.UW.filter(function(za){return !za.qeb.equals(ha);});};ka.prototype.close=function(){this.Ua !== d.Xt.CLOSED && (this.vYb(),(0,u.assert)(0 === this.Ku.length,"Unexpected viewable lease after Playgraph destruction."),this.uYb(),this.UW=[],delete this.zx,this.Ua=d.Xt.CLOSED,this.Xp.Qa());};ka.prototype.w0b=function(ha){this.ywa=ha;this.$z.sj("streamingModeChanged");};ka.prototype.Gzb=function(){this.Zz=new L.$da(this.Z);this.Zz.Xe(new G.LCa(this));this.Zz.Xe(new A.iLa(this.Ic,this.$z));this.Zz.Xe(new w.ICa(this.Ic));this.Zz.Xe(new z.Qw(this.Xpb));this.Zz.Xe(new z.Qw(this.$z.xp));this.Zz.Xe(new z.Qw(this.wOa.fh));this.Zz.Xe(new z.Qw(this.ZOa.fh));};ka.prototype.ora=function(){};ka.prototype.mO=function(ha){return c.__awaiter(this,void 0,void 0,function(){var za,Ca,La,Wa;return c.__generator(this,function(db){switch(db.label){case 0:return ((0,u.assert)(ha,"ase.updateViewable(): Viewable config not found."),za=(0,h.xc)(this.Ku,function(U){return !0 !== U.PE.Gq && U.PE.equals(ha);}),(0,u.assert)(za,"ase.updateViewable(): Viewable entry not found."),[4,za.fz]);case 1:return (Ca=db.Ra(),Wa=(La=Ca).mO,[4,ha.Wp]);case 2:return (Wa.apply(La,[db.Ra()]),[2]);}});});};ka.prototype.po=function(ha,za,Ca){var La,Wa,db,U;La=this;Wa=Ca.J;db=ha.Tm(Wa,Ca.rW);(0,u.assert)(db,"ase.requestViewable(): Viewable config not found.");U=(0,h.xc)(this.Ku,function(ja){return !0 !== ja.PE.Gq && ja.PE.equals(db);});U || (U={PE:db,fz:(function(){return c.__awaiter(La,void 0,void 0,function(){var ja,sa;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,db.Wp];case 1:return (ja=Q.Ra(),sa=this.av(Wa,db,ja),U.pa=sa,[2,sa]);}});});})(),pa:void 0,sOb:new t.sca(function(ja){ja() && La.dua(U);},(0,C.Nh)(F.default,this.V,("").concat(Wa)))},this.Ku.push(U));ha=new oa.zNa(U,this.V,za,Ca);ha.events.once("error",this.dua.bind(this,U,!1));return ha;};ka.prototype.dua=function(ha,za){var Ca,La;void 0 === za && (za=!0);(0,u.assert)(ha,"expected viewableEntry to exist");Ca=ha.pa;La=ha.fz;za && (Ca?Ca.Qa():La.then(function(Wa){Wa.Qa();}));this.Ku=this.Ku.filter(function(Wa){return Wa !== ha;});};ka.prototype.av=function(ha,za,Ca){var Wa,db,U,ja,sa,Q;function La(P){Wa.events.emit("logdata",P);}Wa=this;this.NH();db=Ca.W;U=Ca.Zu;ja=Ca.np;sa=Ca.Ef;sa=void 0 === sa?p.wz:sa;Ca=Ca.config;Q=[new m.Qca(p.v.ea),new m.Qca(p.v.Y)];db={W:db,config:Ca,Zu:U,np:ja,Ef:sa,Ic:this.zx.Ic,yp:this.zx.yp,NDb:{hB:function(){return Wa.$z.sj("networkFailureReset");},tf:this.tf.bind(this,ha),Rq:this.Rq.bind(this,ha),EG:La},eLb:{EG:La,mL:function(P){return Q[P];},eec:function(){return !0;}},tW:{Su:this.Su.bind(this),kr:this.kr.bind(this)},wH:this.o1};ha=new m.xza(ha,db);Ca.IK && (db=(0,h.xc)(this.UW,function(P){return P.qeb.equals(za);})) && (db=db.Wva,this.o9a(za),ha.EN(c.__assign(c.__assign({},db),{oV:this.ora.bind(this)})));return ha;};ka.prototype.Uv=function(ha,za){return c.__awaiter(this,void 0,void 0,function(){var Ca,La,Wa,db,U,ja,sa,Q,P;return c.__generator(this,function(Z){switch(Z.label){case 0:(Ca=za.ph,La=za.J,Wa=ha.Tm(La),(0,u.assert)(Wa,"ase.requestAdBreakHydration(): Parent viewable config not found."),db=(0,h.xc)(this.Ku,function(na){return !0 !== na.PE.Gq && na.PE.equals(Wa);}),(0,u.assert)(db,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(La)),U=db.pa,(0,u.assert)(U,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(La)),ja=U.W.bc,sa={Hf:{bc:ja,vd:La}},Z.label=1);case 1:return (Z.Oj.push([1,3,,4]),[4,ha.Uv(Ca,sa)]);case 2:return (Q=Z.Ra(),[2,{K1:Q,Aha:U}]);case 3:return (P=Z.Ra(),[2,Promise.reject(P)]);case 4:return [2];}});});};ka.prototype.o6=function(){var ha,za;(0,u.assert)(this.state === d.Xt.OPEN);ha=this.b5();za=this.tL();return this.wOa.p6a(ha,za);};ka.prototype.tL=function(){var ha,za,Ca;ha=this;Ca=null !== (za=this.Z.YVb) && void 0 !== za?za:this.Po.every(function(La){return !La.ga.Nq;});za=(0,h.flatten)(this.Po.map(function(La){return La.ga.tL().map(function(Wa){La.ga.Nq || 1 === La.jW || (Wa.PF=La.jW);return Wa;});}));this.ywa === d.HO.disabled?za=[]:this.ywa === d.HO.APb && (za=za.filter(function(La){return ha.Z.g4a >= La.yr - La.Cq;}));Ca || (Ca=za.filter(function(La){var Wa;return 1 === (null !== (Wa=La.PF) && void 0 !== Wa?Wa:1);}),Ca.length && (za=Ca));Ca=this.Ku.reduce(function(La,Wa){return Wa.pa?c.__spreadArray(c.__spreadArray([],c.__read(La),!1),c.__read(Wa.pa.tL()),!1):La;},[]);return (0,h.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(za),!1),c.__read(Ca),!1));};ka.prototype.NH=function(){if(this.Ua === d.Xt.CLOSED)throw Error("Engine CLOSED");};ka.prototype.vYb=function(){var ha,La;try{for(var za=c.__values(this.Po),Ca=za.next();!Ca.done;Ca=za.next()){La=Ca.value;La.Ok.clear();this.Ky(La.ga);}}catch(db){var Wa;Wa={error:db};}finally{try{Ca && !Ca.done && (ha=za.return) && ha.call(za);}finally{if(Wa)throw Wa.error;}}};ka.prototype.uYb=function(){var ha;try{for(var za=c.__values(this.RQ),Ca=za.next();!Ca.done;Ca=za.next()){this.m9a(Ca.value);}}catch(Wa){var La;La={error:Wa};}finally{try{Ca && !Ca.done && (ha=za.return) && ha.call(za);}finally{if(La)throw La.error;}}};ka.prototype.tf=function(ha,za,Ca,La,Wa,db,U){var ja;void 0 === U && (U=!1);ja=!1;this.h_a(ha).forEach(function(sa){if(!U || (0,p.Xn)(sa.jf.value))ja=sa.tf(za,ha,Ca,La,Wa,db,U);});return ja;};ka.prototype.Rq=function(ha){return this.h_a(ha).some(function(za){return za.Rq();});};ka.prototype.h_a=function(ha){return this.Po.filter(function(za){var Ca;for(za=za.ga;za.Ta;){za=za.Ta;}Ca=za.ga;return Object.keys(Ca.M).some(function(La){return Ca.M[La].J === ha;});}).map(function(za){return za.ga;});};ka.prototype.b5=function(){var ha;ha=new E.oDa();this.Po.forEach(function(za){var Ca,La;Ca=za.ga;za=za.jW;La=Ca.b5();La.PF=za;ha.add(Ca.id,La);});return ha;};ka.prototype.a5=function(){return this.PQb;};ka.prototype.Lub=function(){var ha,za;za=(0,O.FSa)(this.Z,this.$J);return {total:(ha={},ha[p.v.Y]=this.$J.video || Infinity,ha[p.v.ea]=this.$J.audio || Infinity,ha[p.v.Ka]=this.$J.text || Infinity,ha.total=this.$J.total || Infinity,ha),owa:za};};ka.prototype.Su=function(ha){var za;this.$z.Su(ha);null === (za=this.wl) || void 0 === za?void 0:za.Su(ha);};ka.prototype.kr=function(ha){this.$z.kr(ha);};ka.prototype.Zra=function(){var ha;ha=this.UG.reduce(function(za,Ca){return Math.max(Ca.weight,0) + za;},0);this.Po.forEach(function(za){za.jW=0 >= za.ga.weight?0:za.ga.weight / ha;});};ka.prototype.dZb=function(ha){var za;za=this;this.wl && ha.requests.forEach(function(Ca){return za.wl.kr(Ca);});};ka.ZRb=0;c.__decorate([(0,x.Sb)({methodName:"open"})],ka.prototype,"open",null);c.__decorate([(0,x.Sb)({methodName:"addPlaygraph",context:function(ha){var za,Ca;return {playgraphCount:null !== (Ca=null === (za=ha.e6a.Po) || void 0 === za?void 0:za.length) && void 0 !== Ca?Ca:0};}})],ka.prototype,"wR",null);c.__decorate([(0,x.Sb)({methodName:"removePlaygraph",context:function(ha){return {playgraphCount:ha.e6a.Po.length};}})],ka.prototype,"Ky",null);c.__decorate([(0,x.Sb)({methodName:"close"})],ka.prototype,"close",null);c.__decorate([(0,x.Sb)({methodName:"setStreamingMode",rq:!0})],ka.prototype,"w0b",null);c.__decorate([(0,x.Sb)({methodName:"notifyAseException",rq:!0})],ka.prototype,"ora",null);c.__decorate([(0,x.Sb)({methodName:"updateViewable"})],ka.prototype,"mO",null);c.__decorate([(0,x.Sb)({methodName:"requestViewable"})],ka.prototype,"po",null);c.__decorate([(0,x.Sb)({methodName:"removeViewable"})],ka.prototype,"dua",null);c.__decorate([(0,x.Sb)({methodName:"createViewable"})],ka.prototype,"av",null);c.__decorate([(0,x.Sb)({methodName:"requestAdBreakHydration"})],ka.prototype,"Uv",null);c.__decorate([(0,x.Sb)({methodName:"issueRequestOpportunity",ak:!0,return:!0})],ka.prototype,"o6",null);c.__decorate([(0,x.Sb)({methodName:"reportStreamingFailure",rq:!0})],ka.prototype,"tf",null);return ka;})();b.Vya=r;},1323:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qK=void 0;c=a(5163);l=a(26967);f=a(19114);b.qK=function(h,d){var g,m,k;g=[function(n){return new (l.Maa.bind.apply(l.Maa,c.__spreadArray([void 0],c.__read(n.oVb),!1)))();}];if(h.FS){m=a(96855).sja;g.unshift(function(n,p){return m(n,p);});}if(h.kF){k=a(96855).sja;g.unshift(function(n,p){return k(n,p);});}return f.TO.X5({oVb:d},g);};},51157:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.j3=void 0;c=a(5163);l=a(49730);f=a(45331);h=a(35408);d=a(19114);b.j3=function(g,m,k){var n,p,q,u;n=[function(t){return new (f.Naa.bind.apply(f.Naa,c.__spreadArray([void 0],c.__read(t.TV),!1)))();}];p=(0,h.Xm)({ga:m[0]});l.K && k.trace("Creating playgraph",{Gfc:p,ncc:g.FS,Ye:g.kF});if(g.FS){q=a(18679);n.unshift(function(t,w){return q.eS({},t,w);});}if(g.kF){u=a(78085);n.unshift(function(t,w){return u.eS({},t,w);});}return d.TO.X5({TV:m,jha:[]},n);};},82181:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iZb=b.nL=void 0;c=a(5163).__importDefault(a(35471));l=a(72145);b.nL=function(){var h;if(!f){h=new c.default.Console("ASEJS","media|asejs");f=new l.Vya(h);}return f;};b.iZb=function(){f=void 0;};},58793:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=void 0;r=(function(){function a(c){this.sj=c.sj;this.ov=this.eMb();}a.prototype.wR=function(c){c.events.on("requestsPruned",this.ov);};a.prototype.Ky=function(c){c.events.removeListener("requestsPruned",this.ov);};a.prototype.eMb=function(){var c;c=this;return function(){return c.sj();};};return a;})();b.pKa=r;},49550:function(r,b,a){var l,f,h,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var g;return l.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(82181));})];case 1:return (g=m.Ra().nL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.uT=void 0;l=a(5163);f=a(30570);h=l.__importDefault(a(35471));b.uT=function(g){var m;m=new h.default.Console("ASEJS","media|asejs");d || (d=new f.AKa(function(){return c();},g,m));return d;};},37953:function(r,b,a){var l;function c(f,h,d,g){return f && h?Math.min(f - h * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.FSa=void 0;l=a(27364);b.FSa=function(f,h){var d,g,m,k,n,p,q,u;u=c(h.audio,h.Gbc,f.tja,null !== (g=f.kUa) && void 0 !== g?g:0);g=c(h.video,h.mhc,f.tja,null !== (m=f.mUa) && void 0 !== m?m:0);m=c(h.text,h.Lgc,f.tja,null !== (k=f.lUa) && void 0 !== k?k:0);return (d={},d[l.v.ea]=u,d[l.v.Y]=g,d[l.v.Ka]=m,d.total=(h.total || Infinity) - (null !== (n=f.kUa) && void 0 !== n?n:0) - (null !== (p=f.mUa) && void 0 !== p?p:0) - (null !== (q=f.lUa) && void 0 !== q?q:0),d);};},16402:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=void 0;c=a(5163);l=a(57055);f=a(49730);h=a(60763);r=(function(){function d(g,m,k,n){this.teb=g;this.console=m;this.wsb=k;this.rW=n;this.events=new l.EventEmitter();this.nG=g.sOb.Lu();}Object.defineProperties(d.prototype,{pa:{get:function(){var g;return null === (g=this.teb) || void 0 === g?void 0:g.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var m;return c.__generator(this,function(k){switch(k.label){case 0:return (k.Oj.push([0,2,,3]),[4,this.teb.fz]);case 1:return [2,k.Ra()];case 2:throw (m=k.Ra(),h.Fda.tNb(m) && this.wsb.tf(m),f.K && this.console.trace("Removing broken viewable entry due to error",this.rW),this.events.emit("error",{error:m}),m);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.zNa=r;},18998:function(r,b,a){var l;function c(f,h){var d;void 0 === h && (h=c);d="";f.RK && (d=null === f || void 0 === f?void 0:f.RK.map(h).reduce(function(g,m){return ("").concat(g,",").concat(m);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Eaa=void 0;l=a(5163);r=(function(f){function h(d,g){d=f.call(this,h.jGb(d,g)) || this;d.wnb=g;d.name="AggregateError";return d;}l.__extends(h,f);h.jGb=function(d,g){return g.reduce(function(m,k){return ("").concat(m,"\n").concat(k);},d);};h.stringify=function(d){return c(d);};Object.defineProperties(h.prototype,{RK:{get:function(){return this.wnb;},enumerable:!1,configurable:!0}});return h;})(Error);b.Eaa=r;},40507:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(59782),b);r.__exportStar(a(16785),b);r.__exportStar(a(93860),b);},59782:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16785:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},93860:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JMb=b.B1a=void 0;b.B1a=function(a){return ("ttml" in a);};b.JMb=function(a){return ("images" in a);};},49030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},75663:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85668:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.km=void 0;r=b.km || (b.km={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.rm=2]="STREAMING";},77518:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16537:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xt=b.HO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.APb=2]="lowCpuPlaybackStarting";})(b.HO || (b.HO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Xt || (b.Xt={}));},25850:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qc=void 0;r=a(5163);r.__exportStar(a(16537),b);r.__exportStar(a(75663),b);r.__exportStar(a(85668),b);r.__exportStar(a(77518),b);r.__exportStar(a(10441),b);r.__exportStar(a(40507),b);r.__exportStar(a(16785),b);r.__exportStar(a(65375),b);r.__exportStar(a(49030),b);r.__exportStar(a(92128),b);c=a(13043);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return c.qc;}}});},10441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65375:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},353:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nI=void 0;r=b.nI || (b.nI={});r[r.start=0]="start";r[r.end=1]="end";},64905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63755:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36570:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55651:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(353),b);r.__exportStar(a(36570),b);r.__exportStar(a(64905),b);r.__exportStar(a(63755),b);},92128:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(55651),b);},22209:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Zp=void 0;c=a(5163).__importDefault(a(35471));l=a(53265);r=(function(){function f(h){h=("(").concat(h,")");this.V=new c.default.Console("ASEJS","media|asejs",h);this.Ufa=[];}f.prototype.nv=function(h){var d;if(!this.Ufa[h]){d=("[").concat(h,"]");this.Ufa[h]=(0,l.Nh)(c.default,this.V,d);}return this.Ufa[h];};return f;})();b.Zp=new r(0);},73057:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.xza=b.Qca=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(10996);r=a(57196);d=a(78128);g=a(98705);m=a(9998);k=a(27364);n=c.__importDefault(a(35471));p=a(62558);a(97810);q=a(10391);u=a(73098);t=a(58628);w=a(16824);v=a(45768);b.Qca=(function(){return function(y){this.mediaType=y;this.Z2a=void 0;};})();a=(function(y){function x(z,A){var B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha;D=A.W;C=A.Ef;F=A.Zu;G=A.np;E=A.config;J=A.eLb;M=A.tW;L=A.Ic;H=A.yp;N=A.NDb;A=A.wH;I=y.call(this) || this;I.J=z;I.s0a=!1;I.Y2a=0;I.zJ={};I.uv=(B={},B[k.v.ea]={},B[k.v.Y]={},B[k.v.Ka]={},B);I.lbc=[];I.nob=[];I.GD=[];I.HA=[];I.W0=!1;I.P5a=!1;I.aUa={K6:"liveEdgeCushion",tG:"maxMediaBufferAllowed",sVa:"decryptOCSideChannelMinInterval",tVa:"decryptOCSideChannelMinIntervalAfterCompleted"};I.$Ta=Object.keys(I.aUa).reduce(function(za,Ca){za[I.aUa[Ca]]=Ca;return za;},{});I.ROa=D;I.AB=function(za){return 0 <= C.indexOf(za);};I.console=new n.default.Console("ASEJS","media|asejs","<" + String(I.J) + ">");I.config=I.dqb(D,E);I.CU=new w.JFa();J && (z=J.mL,I.Xx=new v.$Da(I,I.console,I.config,J.EG,z),I.mL=z);I.events=new l.EventEmitter();I.Ic=L;I.tW=M;I.wH=A;I.Zu=F;I.np=!!G;K=[[],[],[]];O=[{},{},{}];R=[0,0];Y=!1;ka=I.AB(k.v.ea);ha=I.AB(k.v.Y);F=I.ha;["audio_tracks","video_tracks"].forEach(function(za,Ca){var La,Wa;La=Ca === k.v.Y;Wa=Ca === k.v.ea;Wa && !ka || La && !ha || I.W[za].forEach(function(db,U){if(db.type !== k.v.ea || !1 !== db.wg)(U=new d.pI({pa:I,eo:db,mediaType:Ca,np:I.np,WH:U,pE:U + (Wa?I.W.video_tracks.length:0)},I.config,I.console),Ca === k.v.Y && E.jDb && new q.yza(E).WWb(U.Lg),Ca === k.v.Y && (oa=u.zD.from({qt:db.yqa,Gs:db.xqa})),K[Ca].push(U),O[Ca]=c.__assign(c.__assign({},O[Ca]),U.OF()),U.maxBitrate > R[U.mediaType] && (R[U.mediaType]=U.maxBitrate),Y=Y || U.Ql);});});F && I.W.timedtexttracks.forEach(function(za,Ca){var La;if("none" !== za.id){La=k.v.Ka;za=new d.pI({pa:I,eo:za,mediaType:La,np:!1,WH:Ca,pE:Ca},I.config,I.console);K[La].push(za);O[La]=c.__assign(c.__assign({},O[La]),za.OF());}});I.W.Am && ((0,p.assert)(oa,"Should have video track if there are adverts"),I.Am={ce:I.W.Am.ce.map(function(za){var Ca;Ca=c.__assign(c.__assign({},za),{Pt:za.fk,fk:oa.normalize(za.fk)});za.Ye !== za.ads && (Ca.unnormalizedLocationMs=Ca.Pt,Ca.locationMs=Ca.fk);return Ca;})});I.Qk=new m.OFa(I.W,O,L,H,I.config,null === N || void 0 === N?void 0:N.EG);L=N.hB;H=N.Rq;I.cE=N.tf;I.Rq=H;I.hB=L;I.N0=new g.OCa(I.Qk,I.config,I.wKb.bind(I),I.vKb.bind(I));I.N0.events.addListener("requestError",function(za){I.ha && I.config.$Ob && 404 === za.Yx && I.CU.AZb();});I.lQ=K;I.s$=O;I.cM=R;I.Ql=Y;return I;}c.__extends(x,y);Object.defineProperties(x.prototype,{W:{get:function(){return this.ROa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ha:{get:function(){var z,A;z=this.W;A=z.zj;return "LIVE" === z.dg && !!A;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{WU:{get:function(){var z;return !(null === (z=this.lQ[k.v.Y][0]) || void 0 === z || !z.WU);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hp:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sl:{get:function(){return this.W0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ox:{get:function(){(0,p.assert)(this.N0,"ErrorDirector is not available on old architecture prefetch viewables.");return this.N0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QK:{get:function(){return this.Ox.events;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{It:{get:function(){return this.CU.It;},set:function(z){this.CU.It=z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{m3a:{get:function(){return this.zJ;},enumerable:!1,configurable:!0}});x.prototype.Qa=function(){this.close();this.Ze();};x.prototype.close=function(){var z;this.HA=[];null === (z=this.N0) || void 0 === z?void 0:z.Qa();this.Qk.Qa();this.W0=!0;};x.prototype.Ze=function(){this.Xx && this.Xx.Ze();};x.prototype.mO=function(z){var A,B,D,C,F,G;A=this;B=z.W;D=z.Zu;z=z.Ef;C=void 0 === z?k.wz:z;(0,p.assert)(D === this.Zu,"Updating Viewable clearplay not supported");k.wz.forEach(function(E){(0,p.assert)(A.AB(E) === 0 <= C.indexOf(E),"Updating Viewable media types not supported");});(0,p.assert)(B.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");F=this.AB(k.v.ea);G=this.AB(k.v.Y);["audio_tracks","video_tracks"].forEach(function(E,J){var M,L,H,N;M=J === k.v.Y;L=J === k.v.ea;if(!(L && !F || M && !G)){H=B[E];N=A.lQ[J];(0,p.assert)(N.every(function(I){var K;K=H[I.WH];return K && K.jO === I.trackId && (K.type === k.v.Y || !1 !== K.wg);}),"Existing tracks must still exist and be hydrated in updated manifest");H.forEach(function(I,K){var O,R;if(I.type !== k.v.ea || !1 !== I.wg){O=A.getTrackById(I.jO);if(O){I=I.streams;R=Object.keys(O.OF());(0,p.assert)(I.length === R.length,"Expected updated manifest track to have same number of streams");I.forEach(function(Y){Y=Y.downloadable_id;(0,p.assert)(-1 !== R.indexOf(Y),"Changing Viewable track streams unsupported");});}else (O=new d.pI({pa:A,eo:I,mediaType:J,np:A.np,WH:K,pE:K + (L?A.W.video_tracks.length:0)},A.config,A.console),N.push(O),A.s$[J]=c.__assign(c.__assign({},A.s$[J]),O.OF()),O.maxBitrate > A.cM[O.mediaType] && (A.cM[O.mediaType]=O.maxBitrate),(0,p.assert)(A.Ql || !O.Ql,"Can not update clear viewable with drm track."));}});}});this.ROa=B;this.Qk.P1(this.W,this.s$);};x.prototype.zLb=function(z,A){var B,D;B=this;(0,p.assert)(this.W.Am,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Am,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Am.ce.some(function(C,F){var G,E;if(C.ph === A){G=B.Am.ce[F];E=G.fk;G=G.Pt;D=c.__assign(c.__assign({},z),{Pt:G,fk:E,ph:A});C.Ye !== C.ads && (D.unnormalizedLocationMs=D.Pt,D.locationMs=D.fk,D.adBreakToken=D.ph);B.Am.ce[F]=D;return !0;}});return D;};x.prototype.EN=function(z){var A,B,D;A=z.Ep;B=z.ma;D=z.qka;z=z.oV;A && B?(this.c$=new h.MLa(A,{ma:String(B),qka:!!D,DQb:this.config.y_.mx,Wtb:this.config.y_.lv},z),this.Ox.EN(this.c$)):this.P5a || (z("SideChannel: pbcid/xid is missing."),this.P5a=!0);};x.prototype.Joa=function(){return void 0 !== this.hp;};x.prototype.getTracks=function(z){return this.lQ[z];};x.prototype.getTrackById=function(z){var A;this.lQ.some(function(B){return B.some(function(D){if(D.trackId === z)return (A=D,!0);});});A || this.console.warn("getTrackById not found:",z,"length:",this.lQ.length);return A;};x.prototype.ona=function(z,A){return (z=this.OF(z)) && z[A];};x.prototype.OF=function(z){return this.s$[z];};x.prototype.JNb=function(z){var A,B;if(void 0 === z.P8 || void 0 === z.mta){A=this.Qk.WB.filter(function(D){return void 0 !== D.streams[z.Ub];})[0];B=A.children.filter(function(D){return D.urls.some(function(C){return C.stream.id === z.Ub;});})[0];z.P8=A.id;z.mta=B.id;}return {ipa:z.location === z.P8,KNb:z.$b === z.mta};};x.prototype.Fva=function(z,A,B){void 0 !== A && void 0 !== B && (this.x9a(z.mediaType,A),z.Fva(A,B));};x.prototype.x9a=function(z,A){var B;B=this.config.bra;("location" === B || "video_location" === B && z === k.v.Y) && this.Ic.V9(A);};x.prototype.tf=function(z,A,B,D,C,F){(0,p.assert)(this.cE,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.cE(z,A,B,D,C,F);};x.prototype.pn=function(){var z;z=this;if(this.Sl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);k.wz.forEach(function(A){z.AB(A) && z.m5b(A) && z.c5b(A);});this.W4b();return !0;};x.prototype.Ms=function(z,A){var B;B=this.getTracks(k.v.Y)[0];(0,p.assert)(B);if(B.YF)return B.Ms(z,A);};x.prototype.m5b=function(z){var A;A=this;return this.Sl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.AB(z)?this.GD.reduce(function(B,D){return (0,f.UJ)(B,D.Bd.filter(function(C){return C.mediaType === z;}));},[]).map(function(B){return A.Qk.Cdb(A.J,B.Lg);}).every(function(B){return B;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z),!1);};x.prototype.W4b=function(){(0,p.assert)(this.Xx,"Headers not available on old architecture prefetch viewables.");this.Xx.pn();};x.prototype.c5b=function(z){var A,B,F;B=[];if(this.Sl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else if(this.AB(z))try{for(var D=c.__values(this.GD),C=D.next();!C.done;C=D.next()){F=C.value.pn(z);F.length && B.push.apply(B,F);}}catch(E){var G;G={error:E};}finally{try{C && !C.done && (A=D.return) && A.call(D);}finally{if(G)throw G.error;}}else this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z);};x.prototype.dqb=function(z,A){var B,C,F;if((z=z.steeringAdditionalInfo) && z.streamingClientConfig && Object.keys(z.streamingClientConfig).length){z=z.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(z));for(var D in z){if(this.$Ta.hasOwnProperty(D)){C=this.$Ta[D];if(A.hasOwnProperty(C)){F=Number(z[D]);A.set?0 === A.set((B={},B[C]=F,B)) && this.console.trace("Invalid key" + D):A[C]=F;}}}}return A;};x.prototype.wh=function(){var z;z=this;this.Qk.wh();this.Ox.wh();this.c$ && ((0,p.assert)(this.mL),k.wz.forEach(function(A){A=z.mL(A);z.c$.nva("rebuffer",A.Z2a);}));};x.prototype.EF=function(z,A){return this.Xx.EF(z,A);};x.prototype.W_b=function(z,A,B){this.HA.push({u:A,stream:z,PJb:B});};x.prototype.c9a=function(){this.HA=[];};x.prototype.BYb=function(z){this.HA=this.HA.filter(function(A){return A.stream !== z;});};x.prototype.AYb=function(z){this.HA=this.HA.filter(function(A){return A !== z;});};x.prototype.tL=function(){var z;z=this;return this.Rq()?[]:this.HA.map(function(A){var B,D,C,F,G,E,J;B=A.u;D=A.stream;C=A.PJb;F=C();C=F.$g;G=F.jf;E=F.yy;J=F.yr;F=F.Cq;return {identifier:("").concat(D.J,"-").concat(D.mediaType,"-").concat(D.bitrate),mediaType:D.mediaType,$g:C,jf:G,yy:E,yr:J,Cq:F,ita:0,hta:Infinity,ZV:1,Oy:1,UXa:0,groupId:("").concat(z.J),zB:!0,dt:!1,Lk:!1,m2a:function(){return {result:!0};},s2a:function(){if(D.ZH(B))return (z.BYb(D),{Mh:!0,reason:"success"});z.AYb(A);return {Mh:!1,reason:"viewableTryIssueHeaderRequest"};}};});};x.prototype.ZH=function(z,A,B){(0,p.assert)(this.Xx,"Headers not available on old architecture prefetch viewables.");return this.Xx.ZH(z,A,B);};x.prototype.kR=function(z,A){(0,p.assert)(this.Xx,"Headers not available on old architecture prefetch viewables.");return this.Xx.kR(z,A);};x.prototype.yKb=function(z){var A,B;A=z.Ub;B=z.mediaType;this.ha || this.b5b(B,z.stream.La);this.ona(B,A).R4b(n.default.rT()[B],this.Joa()?this.config.iQb:0);this.events.emit("onHeaderFragments",z);};x.prototype.iYb=function(z){this.GD.push(z);};x.prototype.E4b=function(z){z=this.GD.indexOf(z);(0,p.assert)(-1 !== z,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.GD.splice(z,1);};x.prototype.csa=function(z){var A;null === (A=this.tW) || void 0 === A?void 0:A.Su(z);};x.prototype.CM=function(z){this.Sl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",z):void 0 !== z.location && this.x9a(z.mediaType,z.location);};x.prototype.DM=function(z){this.Sl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",z):this.Ox.P$(z);};x.prototype.cr=function(z){var A;null === (A=this.tW) || void 0 === A?void 0:A.kr(z);this.Sl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",z):this.Rq() || this.Ox.P$(z);};x.prototype.BV=function(z,A,B){var D;B && (null === (D=this.tW) || void 0 === D?void 0:D.kr(z));};x.prototype.CV=function(z){var A,B,D,C;A=this;this.Sl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",z):(this.Ox.mr(z,void 0,z.status,z.Ig,z.Aj),this.ha && !z.Le && z.Pk && !z.stream.wta(z.Pk) && 400 <= z.status && 499 >= z.status?null !== (B=z.ao) && void 0 !== B && B.sN || ((null === (D=z.ao) || void 0 === D?void 0:D.Rp) <= this.config.L6?z.ao.sN=setTimeout(function(){z.ao.sN=void 0;A.vdb(z,!1);},this.config.g3b):(null === (C=z.ao) || void 0 === C?void 0:C.Rp) === this.config.L6 + 1 && this.config.P6 && this.vdb(z,!0)):this.pn() || this.tf(z.oF || "unknown","NFErr_MC_StreamingFailure",z.Ig,z.status,z.Aj));};x.prototype.KWb=function(){var z,A;this.udb(null === (z=this.W.zj) || void 0 === z?void 0:z.fla,null === (A=this.W.zj) || void 0 === A?void 0:A.d4,!0);};x.prototype.udb=function(z,A,B){var D,C,F,G,E;(0,p.assert)(this.W.zj,"Missing manifest liveMetadata.");F=this.W.zj;G=F.fla;E=F.d4;F=this.m3a;this.zJ={startTime:null !== (D=null !== G && void 0 !== G?G:z) && void 0 !== D?D:F.startTime,endTime:null !== (C=null !== E && void 0 !== E?E:A) && void 0 !== C?C:F.endTime};z=this.zJ.startTime !== F.startTime;A=this.zJ.endTime !== F.endTime;(B || z || A) && this.events.emit("liveEventTimesUpdated",c.__assign({pa:this},this.zJ));A && this.GD.forEach(function(J){J.kN();});};x.prototype.Z4b=function(z,A){if(this.uv[z].QA !== A.QA || this.uv[z].RA !== A.RA)(this.uv[z]=A,this.events.emit("liveLoggingInfoUpdated",{pa:this,mediaType:z,info:A}));};x.prototype.TOb=function(){(0,p.assert)(this.ha,"liveEventCompleted called on viewable that is not live");return void 0 !== this.zJ.endTime;};x.prototype.vdb=function(z,A){var B,F;try{for(var D=c.__values(this.GD),C=D.next();!C.done;C=D.next()){F=C.value.cf(z.mediaType);F && F.$4b(z,A);}}catch(E){var G;G={error:E};}finally{try{C && !C.done && (B=D.return) && B.call(D);}finally{if(G)throw G.error;}}};x.prototype.b5b=function(z,A){this.nob[z]=A.qqa;};x.prototype.wKb=function(z){var A,B,D;if(!this.W0){A=z.sNb;B=z.UTb;D=z.WTb;z=z.XTb;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + B + ", last http code: " + D + ", last native code: " + z);A?(this.console.warn(" > Permanent failure, done"),A=this.tf("Permanent failure","NFErr_MC_StreamingFailure",B,D,z)):(this.console.warn(" > We are buffering, calling it!"),A=this.tf("Temporary failure while buffering","NFErr_MC_StreamingFailure",z,D,z,!0));A || (this.console.warn(" > Resetting failures"),this.Ox.r9());}};x.prototype.vKb=function(){(0,p.assert)(this.hB,"Error handling not available on old architecture prefetch viewables.");this.W0 || (this.pn(),this.hB());};return x=c.__decorate([t.wF],x);})(r.NC);b.xza=a;},9225:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;c=a(5163);r=(function(){function l(f,h,d,g){this.J=f;this.po=h;this.zV=d;this.Yra=g;}Object.defineProperties(l.prototype,{pa:{get:function(){var f;return null === (f=this.aY) || void 0 === f?void 0:f.pa;},enumerable:!1,configurable:!0}});l.prototype.Qa=function(){var f;this.pa && (this.pa.E4b(this.wb),this.Yra(this.pa));null === (f=this.aY) || void 0 === f?void 0:f.nG.release();this.aY=void 0;};l.prototype.va=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,d,g,m,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.wb=f,h=this.po(this.J),d=h.fz,g=h.pa,m=h.nG,this.aY={nG:m,pa:g},g?(this.g1a(g,f,!1),[2,g]):[4,d]);case 1:return (k=n.Ra(),this.g1a(k,f,!0),[2,k]);}});});};l.prototype.g1a=function(f,h,d){this.aY && (this.aY.pa=f,f.iYb(h),this.zV(h,f,d));};return l;})();b.bAa=r;},45768:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;c=a(5163);l=a(22209);f=a(65593);h=c.__importDefault(a(35471));r=a(57196);d=a(62558);g=a(39139);a=(function(m){function k(n,p,q,u,t){var w;w=m.call(this,n) || this;w.mE=n;w.V=p;w.Z=q;w.EG=u;w.mL=t;w.IOa=[void 0,void 0];w.zfa={Rz:[Object.create(null),Object.create(null)]};w.oe=g.WC.instance.Gx("headers","" + w.mE.J,!0,!1,{},w.Z);w.oe.va();return w;}c.__extends(k,m);Object.defineProperties(k.prototype,{Rz:{get:function(){return this.zfa.Rz;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{F0:{get:function(){return this.zfa.F0;},set:function(n){this.zfa.F0=n;},enumerable:!1,configurable:!0}});k.prototype.Ze=function(){var n;n=this;this.Rz.forEach(function(p,q){for(var u in p){p[u].Ze();n.hka(q,u);}});this.oe && g.WC.instance.B3(this.oe);this.oe=void 0;};k.prototype.EF=function(n,p){return this.Rz[n][p];};k.prototype.ZH=function(n,p,q){var u,t,w,v;u=this.Z;t=this.EF(n.mediaType,n.Ub);if(t)return (t.stream.La || t.h$ && this.tTa(t),!1);t=this.eob;w=this.fob;if(void 0 !== u.Qqa && void 0 !== t && void 0 !== w){v=h.default.time.Ga();if(v - t < u.Qqa || v - w < u.Qqa)return !1;}n=this.m4b(n,{u:p,offset:0},q);this.fob=h.default.time.Ga();return n;};k.prototype.m4b=function(n,p,q){var u,t,w,v;t=n.mediaType;l.Zp.nv(t);if(this.EF(t,n.Ub))n=!1;else {w=this.Z.Lbb && n.ha;v=w?0:p.offset;w=w?0:null !== (u=p.xa) && void 0 !== u?u:this.xnb(n);p=c.__assign(c.__assign({},p),{offset:v,xa:w});u=!!p.yS;v=!!p.jV;this.sJb?q=this.sJb(t,!!p.VS,u,v,!1):q || (q=this.oe);(0,d.assert)(q);n.url && (this.mL(t).Z2a=n.BT(!0));if(!this.dnb(n,q,p).open())return (this.mE.tf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);n=!0;}return n;};k.prototype.pn=function(){var n,p,q;n=this;p=[];q=this.mE.ha;this.Rz.forEach(function(u,t){var v;l.Zp.nv(t);for(var w in u){t=u[w];v=t.Bxa(q);1 === v?p.push(t):2 === v && n.mE.tf("swapUrl failure");}});return p;};k.prototype.cr=function(n,p){var q,u;q=n.mediaType;u=l.Zp.nv(q);this.mE.Sl?u.warn("header onrequestcomplete ignored, session shutdown:",n.toString()):(this.EG({type:"logdata",target:"startplay",Dc:{usedNativeDataView:n.M5b}}),n.q8 > n.esa && (this.IOa[q]=n.q8),n.h$ && this.tTa(n),this.Qnb(n),this.eob=h.default.time.Ga(),this.mE.events.emit("onHeaderRequestComplete",n));this.tF(n,p);};k.prototype.kR=function(n,p){var q,u,t,w;q=[];u=this.Rz[n];for(t in u){w=u[t];w && !w.stream.La && w.$M === p && (this.hka(n,t),q.push({u:w.u,stream:w.stream,offset:w.offset,xa:w.xa,yS:w.yS,VS:w.VS,jV:w.jV,FM:w.FM}),w.Ze());}return q;};k.prototype.Xqb=function(n){this.Rz[n.mediaType][n.Ub]=n;};k.prototype.Qnb=function(n){var p,q,u,w;p=this.Z;q=l.Zp.nv(n.mediaType);u=n.stream.La;if(p.Tja){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=u.get(t);q.trace("fragment: " + t + ", startPts: " + w.Na.G + ", duration: " + w.ve.G + ", offset: " + w.offset);}}this.Jmb(n);};k.prototype.Jmb=function(n){var p,q;p=n.mediaType;q=n.Ub;l.Zp.nv(p);n.z6a && (n.z6a.forEach(function(u){(u=u.ona(p,q)) && u !== n.stream && !u.Lh && u.cxb(n.stream);}),n.z6a=void 0);this.mE.yKb(n);};k.prototype.dnb=function(n,p,q){var u,t;u=this;t=l.Zp.nv(n.mediaType);n=new f.iza(n,this.Z,p,q,this,q.u,!1,t);n.addListener("headerRequestCancelled",function(w){u.Pnb(w.request);});this.Xqb(n);return n;};k.prototype.xnb=function(n){var p,q,u,t;p=n.pk;q=n.pa;u=q.duration;t=this.Z;return n.ha?512:q.np?t.vXa?t.vXa:t.E5:t.K5b && p?p.offset + p.size:(n=this.IOa[n.mediaType])?n + 128:t.Zka?2292 + 12 * Math.ceil(u / 2E3):t.E5;};k.prototype.Pnb=function(n){this.hka(n.mediaType,n.Ub);};k.prototype.hka=function(n,p){delete this.Rz[n][p];};k.prototype.tTa=function(n){this.F0 === n.Ub && (this.F0=void 0);};return k;})(r.NC);b.$Da=a;},16824:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JFa=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));a=(function(){function f(){this.console=new l.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{It:{get:function(){return void 0 === this.rH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),l.default.time.now()):l.default.time.Ga() - this.rH;},set:function(h){this.lG=l.default.time.Ga();this.mG=h;h=this.lG - this.mG;if(void 0 === this.rH || h < this.rH)this.rH=h;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{KK:{get:function(){var h;h=l.default.time.Ga();return void 0 === this.rH?{yTa:h}:{yTa:h,It:h - this.rH,lG:this.lG,mG:this.mG};},enumerable:!1,configurable:!0}});f.prototype.AZb=function(){void 0 !== this.lG && void 0 !== this.mG && (this.rH=this.lG - this.mG);};return f;})();b.JFa=a;},75564:function(r,b,a){var l;function c(f){var h;h={profile:f.spoofedProfile || f.profile,OFb:f.max_framerate_value,NFb:f.max_framerate_scale,maxWidth:f.maxWidth,maxHeight:f.maxHeight,Gsa:f.pixelAspectX,Hsa:f.pixelAspectY,channels:f.channels,sampleRate:f.channels?48E3:void 0};f.spoofedProfile && (h.sfc=f.profile);return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.wIb=b.vIb=void 0;l=a(27364);b.vIb=function(f,h,d){var g;g=[{},{}];(d === l.v.ea?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(m,k){f[m].some(function(n,p){return p === h[k]?(g[k]=c(n),!0):!1;});});return g;};b.wIb=c;},42663:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uIa=void 0;r=a(5163);c=a(50954);l=r.__importDefault(a(35471));a=(function(){function f(h,d){this.J=h;this.l6b=d;this.Zu=!0;this.s0a=this.Ql=this.np=!1;this.O=("").concat(c.un);this.ha=this.WU=!1;this.console=new l.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{It:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return l.default.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.wh=function(){};f.prototype.c9a=function(){};f.prototype.tf=function(){return !0;};return f;})();b.uIa=a;},10996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;r=a(5163);c=a(97810);a=r.__importDefault(a(35471));l=a.default.fq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(h,d,g){this.oV=g;this.oqb=new c.Hea(h);this.ma=d.ma;this.Rmb=1E3 * d.DQb / d.Wtb;this.OBb=d.qka;this.yRa=!1;}f.prototype.Ds=function(h){var d,g,m;d={s_xid:this.ma,dl:this.OBb?1:0};h.DE && (d.bs=(0,c.iK)(Math.floor(h.DE / this.Rmb) + 1,1,5));h.O7 && (d.limit_rate=h.O7);h.gSa && (d.bb_reason=h.gSa);h.vcb && (d.tm=h.vcb);if(h.N6a){g=h.N6a;m=g.Dp;"HYBRID" === m?(d.hybrid=g.xL.xLb,d.cspr=g.xL.Gv,d.cu=g.xL.yia,d.cldl=g.xL.oua,d.h_ms=g.xL.EQb):"CCSP" === m && ((m=g.k6()) || !m && this.yRa) && (d.cpr_ss=g.Uy,d.cpr_ca=g.Bx,d.cpr_rec=g.Iy,this.yRa=m);}h.Xha && (d.br="" + h.Xha.start + "+" + h.Xha.size);return this.Qob(d);};f.prototype.nva=function(h,d){var g,m;try{g=new l(void 0,"notification");m=this.Ds({gSa:h});d && m && g.open(d,void 0,2,void 0,void 0,void 0,m);}catch(k){this.oV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};f.prototype.Qob=function(h){var d;try{d=this.Kpb(h);return this.oqb.encrypt(d);}catch(g){this.oV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.Kpb=function(h){return Object.keys(h).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(h[d]));}).join("&");};return f;})();b.MLa=a;},3863:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qJa=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(89956));f=l.default.pm;h=l.default.ou;d=a(27364);g=a(97810);m=r.__importDefault(a(76733));k=r.__importDefault(a(35471));a=(function(){function n(p,q,u,t,w){this.ut=p;this.ev=q;this.Z=u;this.V=t;this.Ce=w;}n.prototype.sSb=function(p){var q;q=p.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.N.Ma(this.ut.gja).wa(q.Vd)},completePlayerStreamingTimestamp:c.N.Ma(this.ut.dS),trackIndex:p.stream.track.pE};(0,g.xq)(this.ev,p.type,p);};n.prototype.uSb=function(p,q,u){var t,w,v;w=this.Ce;v=this.ut.cl.Ae;v.kab(p);w === d.v.Y && this.Z.F9 && (void 0 === v.upa?v.lab(k.default.time.Ga()):k.default.time.Ga() - v.upa > this.Z.F9 && (p.bitrate !== v.W2a && (k.default.storage.set("vb",p.bitrate),v.t0b(p.bitrate)),v.lab(k.default.time.Ga())));v.C6 && v.C6 === p || (this.ut.cl.h2b(q,v.C6,p),v.i0b(p),q=0,p.Wb && p.Wb.confidence && p.Wb.ob && (q=p.Wb.ob.Da),u={I:this.ut.wb.u.id,offset:c.N.Ma(u).wa(this.ut.wb.u.Vd)},p={type:"streamSelected",nativetime:k.default.time.Ga(),mediaType:w,streamId:p.id,trackIndex:p.track.pE,streamIndex:p.Kt,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.pa) || void 0 === t?void 0:t.W},(0,g.xq)(this.ev,p.type,p));};n.prototype.pSb=function(p,q,u){var t,w,v,y;t=q.pa;w=t.Qk;v=this.ut.cl.Ae;y=t.JNb(q);t=y.ipa;y=y.KNb;u && q.$b && !v.uU?(y=h.qu,q.Ht=h.name[y],this.S5a(p,q.$b,q.Ht,q.location,q.bitrate),v.uU=q.$b):!u && q.$b && q.$b !== v.uU && (y=y?void 0 === v.uU?h.qu:w.CN === h.lda?h.Rlb:h.Waa:h.Qlb,q.Ht=h.name[y],this.S5a(p,q.$b,q.Ht,q.location,q.bitrate),v.uU=q.$b);v.TL || (y={type:"logdata",target:"startplay",fields:{}},this.Ce === f.ea?y.fields.alocid=q.location:this.Ce === f.Y && (y.fields.locid=q.location),(0,g.xq)(this.ev,y.type,y));u && q.location && !v.TL?(y=h.qu,q.Ht=h.name[y],this.R5a(p,q.location,q.Kpa,q.$b,q.NW,q.Ht,q.Mv),v.TL=q.location):!u && q.location && q.location !== v.TL && (y=t?void 0 === v.TL?h.qu:w.CN === h.lda?h.pjb:h.Waa:h.ojb,q.Ht=h.name[y],this.R5a(p,q.location,q.Kpa,q.$b,q.NW,q.Ht,q.Mv),q.Mv=void 0,v.TL=q.location);this.Z.ZG || (q.P2a=q.location,q.V2a=q.$b);};n.prototype.tra=function(p){p={type:"requestsPruned",requests:p};(0,g.xq)(this.ev,p.type,p);};n.prototype.S5a=function(p,q,u,t,w){var v,y;if(this.Ce === f.Ka)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(v={},v[d.v.ea]="audio",v[d.v.Y]="video",v[d.v.Ka]="subtitle",v)[this.Ce];v=m.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:w,confidence:v.confidence};v.confidence && (p.throughput=v.ob.Da);this.ut.cl.Ae.uU && (p.oldserver=q);(0,g.xq)(this.ev,p.type,p);}};n.prototype.R5a=function(p,q,u,t,w,v,y){var x,z;if(this.Ce === f.Ka)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[d.v.ea]="audio",x[d.v.Y]="video",x[d.v.Ka]="subtitle",x)[this.Ce];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:y};(0,g.xq)(this.ev,"locationSelected",p);}};n.prototype.Job=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,g.xq)(this.ev,p.type,p);};n.prototype.HFb=function(p){(0,g.xq)(this.ev,"transportReport",p);};n.prototype.GFb=function(p){(0,g.xq)(this.ev,"mediaRequestComplete",p);};return n;})();b.qJa=a;},99739:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.oJa=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(3863);d=a(57196);g=a(88577);m=a(27364);k=a(88181);n=a(39266);p=a(97810);q=a(62558);u=c.__importDefault(a(35471));r=a(551);t=a(55011);w=a(39656);v=a(39139);y=a(58628);a=(function(x){function z(A,B,D,C,F,G,E,J,M,L,H,N){var I;I=x.call(this,A) || this;I.Z=B;I.Xr=F;I.qq=G;I.Znb=E;I.bx=H;I.wl=N;I.events=new l.EventEmitter();I.connected=!1;I.Lna=!1;I.$r=!1;I.cga=!1;I.A4=new g.JHa(I.mediaType,B,D,I);A="[" + I.mediaType + "]";I.V=(0,p.Nh)(u.default,D,A);I.Pz=I.V.error.bind(I.V);I.rs=I.V.warn.bind(I.V);I.hx=I.V.trace.bind(I.V);I.v1=E.G;I.XPa=J;I.Oo=new h.qJa(I,C,I.Z,I.V,I.mediaType);I.pq=new k.eLa(I,B,I.V,I.Oo,I.Xr,I.mediaType,I.bx,function(){return I.hn;});B.$k && (I.$k=new n.ZLa(B.$k,I.V));M && (I.Fj=null !== L && void 0 !== L?L:(0,w.Gx)(I.mediaType,I.track.pa,I.Z,I.V,I.track.ha,I.Oo.HFb.bind(I.Oo),I.Oo.GFb.bind(I.Oo),function(){}),I.Fj.on("created",function(){return I.events.emit("requestQueueCreated");}));return I;}c.__extends(z,x);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.qq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.qq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wb:{get:function(){return this.Xr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){return this.Xr.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{df:{get:function(){return this.pq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lg:{get:function(){return this.qq.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{W2:{get:function(){return this.pq.W2;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{p9:{get:function(){return this.pq.p9;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{el:{get:function(){return this.v1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{m$:{get:function(){var A;return null !== (A=this.Ab) && void 0 !== A?A:this.dy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jl:{get:function(){var A;return null !== (A=this.df.Jl) && void 0 !== A?A:this.m$;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dS:{get:function(){return this.df.dS;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gja:{get:function(){return this.df.gja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gOb:{get:function(){var A;A=this.df.K2a;return null === A || void 0 === A?void 0:A.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lk:{get:function(){return !!this.pf && (this.XB > this.pf.index || this.v1 >= this.pf.eb.G);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hrb:{get:function(){return this.Lk && 0 === this.df.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zh:{get:function(){return this.Lk && 0 === this.pq.HUb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{usa:{get:function(){var A;if(this.cga)return !0;if(!this.Zh)return !1;A=this.wT();return this.cga || (this.cga=void 0 === A || A.usa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Srb:{get:function(){return !!this.df.K2a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mA:{get:function(){return this.df.mA;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Dr:{get:function(){return this.Mb?f.N.max(this.Mb.wa(this.AC),f.N.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{WK:{get:function(){return this.wb.WK;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dAb:{get:function(){return this.df.La.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cl:{get:function(){return this.XPa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ae:{get:function(){return this.cl.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$n:{get:function(){return this.cl.Ae.$n;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A,B;return null !== (B=null === (A=this.af) || void 0 === A?void 0:A.S) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qb:{get:function(){var A;return null === (A=this.af) || void 0 === A?void 0:A.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xb:{get:function(){var A;return null === (A=this.pf) || void 0 === A?void 0:A.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{hn:{get:function(){return this.wb.ue.ef(this.S).Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Nna:{get:function(){return this.df.Nna;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zv:{get:function(){return this.df.Zv;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{kwa:{get:function(){return this.df.kwa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dy:{get:function(){return this.Znb.add(this.wb.ue);},enumerable:!1,configurable:!0}});z.prototype.lR=function(){var A;A=this;this.pq.lR(function(B){var D,C;C=B[0];B=null === (D=C.Na) || void 0 === D?void 0:D.G;D=C.index;D < A.XB && A.DN(B,D);});};z.prototype.reset=function(){this.df.reset();this.af && this.DN(this.af.Na.G,this.af.index);this.Fj && this.wb.pa.kR(this.mediaType,this.Fj);};z.prototype.Jf=function(A){var B;this.$r=!0;this.pq.Jf(A);null === (B=this.XPa) || void 0 === B?void 0:B.Ae.Qa();this.Fj && (this.wb.pa.kR(this.mediaType,this.Fj),v.WC.instance.B3(this.Fj),this.Fj.removeAllListeners(),this.Fj=void 0);};z.prototype.toJSON=function(){return {started:this.Zv,startOfSequence:this.kwa,segmentId:this.I,requestedBufferLevel:this.p9,viewableId:this.Xr.pa.J,hasFragments:this.Nna};};z.prototype.pn=function(A){return this.df.pn(A);};z.prototype.DN=function(A,B){this.v1=A;this.XB=B;};z.prototype.dB=function(){return this.df.dB();};z.prototype.wT=function(){return this.wb.b_a(this.mediaType);};z.prototype.mK=function(A){return (A=this.df.YEb(A.G))?A.complete:!1;};Object.defineProperties(z.prototype,{$g:{get:function(){return this.Xr.$g;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{AC:{get:function(){var A,B,D,C;return null !== (C=null !== (A=this.df.AC) && void 0 !== A?A:null === (D=null === (B=this.af) || void 0 === B?void 0:B.Na) || void 0 === D?void 0:D.add(this.wb.ue)) && void 0 !== C?C:this.dy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wbb:{get:function(){return f.N.Ma(this.v1);},enumerable:!1,configurable:!0}});z.prototype.Ucb=function(A,B,D){var C;(0,q.assert)(this.Fj);(0,q.assert)(!this.$r,"pipeline.tryIssueRequest on disabled pipeline");(0,q.assert)(!this.dt(),"pipeline.tryIssueRequest on done pipeline");(0,q.assert)(!this.Lk);if(!A.Lh)return (A=A.ZH(this.wb.u,this.Fj))?{Mh:A,reason:"success"}:{Mh:A,reason:"pipelineTryIssueHeaderRequest"};if(A.ha)((0,q.assert)(this.track.ha,"Unexpected live stream."),A=this.p4b(A,this.Fj,D));else {C=A.OHb();(0,q.assert)(C,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(A.Lh,", headerFragments:").concat(C));A=this.q4b(A,C,this.Fj,B,D);}this.yvb();return A;};z.prototype.aU=function(A,B){A && (this.af=A);B && (this.pf=B);(0,q.assert)(this.af);(0,q.assert)(this.pf);(0,q.assert)(void 0 === this.XB);this.DN(this.af.Na.G,this.af.index);};z.prototype.truncate=function(A){var B;B=this;(0,q.assert)(this.af,"expected first fragment to exist on updateStreaming");this.pf=A;this.Lk && (A=c.__read(this.pq.sqb(A),2),this.DN(A[0],A[1]),this.Lk && (this.df.M$a(),this.df.ZSa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.zB=function(){return this.dt()?!1:this.Wg()?!0:this.track.hV;};z.prototype.Wg=function(){return void 0 !== this.af && void 0 !== this.pf;};z.prototype.dt=function(){return this.$r || this.Hrb;};z.prototype.Y1a=function(){var A,B,D;D=this.Z.mo;if(null === (A=this.Fj) || void 0 === A?0:A.track)D=null === (B=this.Fj) || void 0 === B?void 0:B.track.mo;return D;};Object.defineProperties(z.prototype,{W7a:{get:function(){var A;A=!0;this.Z.uua && (A=this.connected);this.Z.tua && (A=A && this.Lna);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{eUb:{get:function(){return void 0 !== this.$k;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{E6a:{get:function(){var A;return (null === (A=this.$k) || void 0 === A?0:A.L2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.cr=function(A,B){this.Oo.sSb(A);"oncomplete" === this.Z.$0a && (this.Lna=!0);this.tF(A,B);};z.prototype.CM=function(A){var B,D;A.Le || this.Oo.uSb(A.stream,null === (B=A.Ab) || void 0 === B?void 0:B.G,null === (D=A.Na) || void 0 === D?void 0:D.G);this.Oo.pSb(this.I,A.stream,A.Le);this.y4(A);};z.prototype.BM=function(A){this.connected=!0;"onfirstbyte" === this.Z.$0a && (this.Lna=!0);this.ZK(A);};z.prototype.uZa=function(A){var B,D;B=this.df.La;if(0 === B.length)return {La:[],r8:0,dr:0,hN:0};D=B.RS(A.G);0 > D && (D=void 0 === B.Ab || A.G <= B.Ab.G?0:B.length);return {La:B.q_b(D),r8:Math.max(0,B.STa - D),dr:B.dr,hN:B.hN};};z.prototype.aB=function(){return this.track.aB();};z.prototype.$4b=function(A,B){B?this.Z.P6 && (B=this.Lg.indexOf(A.stream),-1 === B?this.Pz("reissueLiveRequest: stream not found in stream list, falling back to first stream"):A.svb(this.Lg[0 < B?Math.max(B - 1,0):Math.min(1,this.Lg.length - 1)])):this.pn(!B);};z.prototype.q4b=function(A,B,D,C,F){var G,E,J,M,L,H,N,I,K,O;N=this.Xr;I=N.pa;K=this.mediaType;O=this.XB;if(O >= B.length)return (this.rs("makeRequest nextFragmentIndex:",O,"past fragments length:",B.length),{Mh:!1,reason:"insufficientFragments"});if(!this.af || !this.pf)return (this.rs("makeRequest delayed, first or last fragment not set","first:",!!this.af,"last:",!!this.pf),{Mh:!1,reason:"noFirstOrLastFragment"});B=K === m.v.ea && !!this.Z.Py && (null === (G=this.wb.u.u) || void 0 === G?void 0:G.Js) && this.af.ve.G < this.Z.Py && void 0 !== this.af.Ha;G=K === m.v.ea && !!this.Z.Py && (null === (E=this.wb.u.u) || void 0 === E?void 0:E.Pn) && this.pf.ve.G < this.Z.Py && void 0 !== this.pf.Ha;E=this.A4.tZa(A,O,B,G);if(K === m.v.ea && this.Z.Py){if(null === (J=this.wb.u.u) || void 0 === J?0:J.Js)E.Rx?E.V$a():E.index === this.af.index + 1 && this.af.ve.G < this.Z.Py && void 0 !== this.af.Ha && E.V$a(this.af.Ha.end - this.af.Ha.start);if(null === (M=this.wb.u.u) || void 0 === M?0:M.Pn)E.Kk?E.W$a():E.index === this.pf.index - 1 && this.pf.ve.G < this.Z.Py && void 0 !== this.pf.Ha && E.W$a(this.pf.Ha.end - this.pf.Ha.start);}if(this.wl && !this.wl.bTa(this.mediaType,E.xa))return {Mh:!1,reason:this.mediaType === m.v.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.rpa=E.region;E.Gt=F;null === (L=this.$k) || void 0 === L?void 0:L.YLb(E,A);E.Kk && K === m.v.Y && this.Oo.Job(N.u,E.Mb.G);this.Z.uG && (E.uG=this.Z.uG);E.location=A.location;E.Pc=A.$b;E.ngc=A.Ht;(F=N.pa.c$) && "OPEN_CONNECT_APPLIANCE" === A.qr && (J=this.Z.cDb && this.mediaType === m.v.Y && this.Z.mo,E.gH=this.Z.T3 || K === m.v.ea && this.Z.Q3 || K === m.v.Y && this.Z.R3?C:void 0,E.VW=F.Ds({DE:N.Rn(this.mediaType),O7:this.Z.XCb?this.Z.O7:void 0,vcb:String(u.default.time.Ga()),N6a:C,Xha:J?{start:E.offset,size:E.xa}:void 0}));u.default.time.Ga();D=this.df.LUa(E,D,A);if(!D.open()){this.rs("MediaRequest.open error: " + D.Ig + " native: " + D.Aj);if(D.aborted)return {Mh:!1,reason:"requestAborted"};this.rs("makeRequest caught:",D.Ig);I.tf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Mh:!1,reason:"openAseMediaRequest"};}null === (H=this.$k) || void 0 === H?void 0:H.xDb(D,E,A);this.DN(D.eb.G,E.kV);return {Mh:!0,reason:"success"};};z.prototype.p4b=function(A,B,D){var C,F,G,E,J,M,L,H,N,I;G=this.Xr;E=G.pa;J=this.XB;M=A.S;L=A.Tn();H=L.ON;N=L.ve.ef(M);H=N.Bv(J - H);N=H.add(N);if(N.G > L.fVa)return {Mh:!1,reason:"exceedsLiveEdge"};if(this.wl && !this.wl.bTa(this.mediaType,0))return {Mh:!1,reason:this.mediaType === m.v.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((L=J === (null === (C=this.pf) || void 0 === C?void 0:C.index)) && this.mediaType === m.v.ea && (C=this.wb.cf(m.v.Y)) && C.pf)I=C.pf.eb.G;C=this.mediaType === m.v.Ka?0:void 0;D={Pk:J,index:J,qb:H.Ba,xb:N.Ba,S:M,offset:0,xa:0,Gt:D,Rx:J === (null === (F=this.af) || void 0 === F?void 0:F.index),Kk:L,Qy:{Xd:G.u.cZa(),OL:G.u.tX},$v:I,responseType:C};A=this.df.LUa(D,B,A);if(!A.open()){this.rs("MediaRequest.open error: " + A.Ig + " native: " + A.Aj);if(A.aborted)return {Mh:!1,reason:"requestAborted"};this.rs("makeRequest caught:",A.Ig);E.tf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Mh:!1,reason:"openAseMediaRequest"};}this.DN(N.G,this.XB + 1);return {Mh:!0,reason:"success"};};z.prototype.yvb=function(){this.Lk && (this.df.M$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return z=c.__decorate([y.wF],z);})(d.NC);b.oJa=a;(0,t.tk)(r.ow,a);},57903:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.mza=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);h=a(49730);d=c.__importDefault(a(35471));g=a(62663);m=a(31549);k=a(55759);n=a(91829);p=a(1918);q=a(77029);u=a(62558);t=a(37096);w=a(97810);a=(function(v){function y(){var x;x=null !== v && v.apply(this,arguments) || this;x.FPa=0;x.iga=0;x.z0=0;x.Xea=0;return x;}c.__extends(y,v);y.prototype.qua=function(x){var z,A,B,D;v.prototype.qua.call(this,x);this.FPa++;this.iga++;this.bQa=d.default.time.Ga();this.tJ || (this.tJ={Uwb:null === (z=x.eb) || void 0 === z?void 0:z.G,c3:null === (A=x.Na) || void 0 === A?void 0:A.G,index:x.index},this.O0 || (this.O0=this.tJ));z=this.a1;A=!1;z && 100 > Math.abs(z.Mb.G - (null === (B=x.Ab) || void 0 === B?NaN:B.G)) && (this.z0+=x.Mb.G - z.Mb.G,this.Xea++,A=!0);A || (this.z0=null === (D=x.ve) || void 0 === D?void 0:D.G,this.Xea=1);this.a1=x;};y.prototype.stop=function(){v.prototype.stop.call(this);this.iga=0;this.tJ=void 0;};y.prototype.DZa=function(){var x,z,A,B,D;z=this.ns;A=z.n3;if(A){D=A.cf(this.Ce);D && D.df && (B=D.df.o_a());return {RM:B,currentBranch:{sId:A.u && A.u.id,cancelled:A.Md},currentReceivedCount:z && z.bAb,totalReceivedCount:this.FPa,currentState:z && z.cVa || "Uninitialized",lastRequestPushed:this.a1 && ({contentEndPts:null === (x=this.a1.eb) || void 0 === x?void 0:x.G,fragmentIndex:this.a1.index}),tslp:this.bQa && d.default.time.Ga() - this.bQa,cpts:this.z0,crq:this.Xea,rslp:this.iga,firstRequestSSPushed:this.tJ && ({contentStartPts:this.tJ.c3,fragmentIndex:this.tJ.index}),firstRequestPushed:this.O0 && ({contentStartPts:this.O0.c3,fragmentIndex:this.O0.index})};}};return y;})((function(v){function y(x,z,A,B,D,C,F,G,E,J,M){var L;L=v.call(this) || this;L.ig=x;L.Ce=z;L.Z=B;L.V=D;L.X=C;L.Qsa=F;L.Hd=G;L.kl=E;L.Vz=new f.gq(!1);L.Sz=new f.gq(l.N.Ma(-Infinity));L.V=(0,w.Nh)(d.default,L.V,("AsePlayerBuffer [").concat(z,"]:"));L.ns=new g.aAa(L.V,A,z);L.resume();C && F && G && (M?(L.SM=M,M.Vu(C,G,L.ig)):L.BUa(),x=new n.WCa(null === C || void 0 === C?void 0:C.Hd,l.N.Ma(L.Z.z7),D),L.ns.Q1(x),L.Z.pRa && (C=new p.sIa(null === C || void 0 === C?void 0:C.Hd,L.Z.pRa,l.N.Ma(L.Z.dsb),D),L.ns.Q1(C)),J && (L.NPa=new q.zLa(J,L.mediaType,D),L.ns.Q1(L.NPa)),h.K && L.Z.RCb && (D=new t.HFa(D),L.ns.Q1(D)));L.ig.on("requestAppended",function(H){L.Vz.set(!0);H.request.Mb && L.Sz.set(H.request.Mb);L.emit("requestAppended");});return L;}c.__extends(y,v);Object.defineProperties(y.prototype,{Yq:{get:function(){return this.Vz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{y6:{get:function(){return this.Sz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{LMb:{get:function(){return this.ns.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uH:{get:function(){return this.ig.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.BUa=function(){(0,u.assert)(this.X && this.Qsa && this.Hd,"Player should be defined");this.SM=new k.HKa(this.Ce,this.V,this.X,this.ig,this.X.events,this.Qsa,this.Hd,this.kl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});y.prototype.DZa=function(){};y.prototype.resume=function(){h.K && this.V.trace("resume");this.$ab();};Object.defineProperties(y.prototype,{Nsb:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});y.prototype.WW=function(){this.ig.T7(!0);};y.prototype.reset=function(x,z){var A,B,D;void 0 === x && (x=!1);h.K && this.V.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.ig.reset(x);this.Vz.set(!1);this.Sz.set(l.N.Ma(-Infinity));x || (this.iJ=void 0,null === (A=this.SM) || void 0 === A?void 0:A.reset(),x=null === (B=this.X) || void 0 === B?void 0:B.Ef,null === (D=this.NPa) || void 0 === D?void 0:D.qTb(x,null !== z && void 0 !== z?z:x));};y.prototype.Sf=function(x){void 0 === x && (x=!1);h.K && this.V.trace("restart");this.reset(x);this.$ab(!0);};y.prototype.stop=function(){h.K && this.V.trace("stop");this.ns.jbb();};y.prototype.close=function(){var x;h.K && this.V.trace("start");null === (x=this.SM) || void 0 === x?void 0:x.close();};y.prototype.Qa=function(){this.stop();this.close();};y.prototype.uV=function(){this.Z.Qla && this.ig.uFb();this.ig.N3();};y.prototype.wC=function(x){this.ig.wC(x);};y.prototype.kFb=function(x){this.ig.kSb(x);};y.prototype.bi=function(x){var z;return !(null === (z=this.SM) || void 0 === z || !z.bi(x));};y.prototype.$ab=function(x){if(!this.ns.hi || x)(this.ns.uZb(),m.AsyncIterator.r6(this.ns,this.SNb.bind(this)));};y.prototype.SNb=function(x){x.done || this.qua(x.value);};y.prototype.qua=function(x){var z,A,B,D,C,F,G,E;h.K && this.V.trace(("requestReceived: ").concat(null === (z=this.ns.n3) || void 0 === z?void 0:z.u.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ha)));this.ig.endOfStream?h.K && this.V.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.iJ?(this.iJ.iOb=null === (F=x.eb) || void 0 === F?void 0:F.G,this.iJ.kOb=null === (G=x.Mb) || void 0 === G?void 0:G.G,this.iJ.Q2a=x.Mb):this.iJ={ldc:null === (A=x.Na) || void 0 === A?void 0:A.G,mdc:null === (B=x.Ab) || void 0 === B?void 0:B.G,iOb:null === (D=x.eb) || void 0 === D?void 0:D.G,kOb:null === (C=x.Mb) || void 0 === C?void 0:C.G,Q2a:x.Mb},x.Rx && x.stream.track.Ql && (null === (E=this.X) || void 0 === E || !E.iU(x.pa.J)) && this.emit("drmNeeded",{J:x.pa.J,Jp:x.Ab}),this.ig.Ksb(x));};return y;})(r.EventEmitter));b.mza=a;},13407:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uY=void 0;c=a(5163);l=a(62558);r=a(55011);f=a(46892);a=a(551);h=(function(){function d(g,m){this.Sa=[];this.jg=void 0;this.kc=0;this.V=g;m && m.length && (Array.isArray(m)?(this.Sa=m.slice(),this.jQ(0,this.Sa.length)):m instanceof d && (this.Sa=m.Sa.slice(),this.jQ(0,this.Sa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Sa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rd:{get:function(){return this.Sa[this.Sa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qb:{get:function(){return this.first && this.first.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xb:{get:function(){return this.Rd && this.Rd.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Aq:{get:function(){return this.jg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xa:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hn:{get:function(){return this.first && this.first.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});d.prototype.Q4b=function(g){this.kc+=g;};d.prototype.itb=function(){var g;if(0 === this.Sa.length)((0,l.assert)(void 0 === this.jg),(0,l.assert)(0 === this.kc));else {(0,l.assert)(this.jg instanceof f.lz);(0,l.assert)("number" === typeof this.kc);(0,l.assert)(void 0 !== this.Aq && this.Aq.qb === this.qb);g=this.Sa.reduce(function(m,k,n){return 0 === n || k.qb === m?k.xb:m;},0);(0,l.assert)(this.Aq.xb === g);(0,l.assert)(this.Sa.reduce(function(m,k,n){return 0 === n || k.qb === m?k.xb:m;},0) === this.Aq.xb);(0,l.assert)(this.Sa.reduce(function(m,k){return m + k.xa;},0) === this.kc);}};d.prototype.get=function(g){0 > g && (g+=this.Sa.length);return this.Sa[g];};d.prototype.push=function(g){this.Sa.push(g);this.jQ(this.Sa.length - 1);return this.length;};d.prototype.unshift=function(g){this.Sa.unshift(g);this.jQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Sa.length)return (this.gga(this.Sa.length - 1),this.Sa.pop());};d.prototype.shift=function(){if(0 !== this.Sa.length)return (this.gga(0),this.Sa.shift());};d.prototype.splice=function(g,m){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Sa.length);0 > g && (g=0);g > this.Sa.length && (g=this.Sa.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Sa.length - g);0 < m && this.gga(g,g + m);p=(k=this.Sa).splice.apply(k,c.__spreadArray([g,m],c.__read(n),!1));0 < n.length && this.jQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,m){void 0 === g && (g=0);void 0 === m && (m=this.Sa.length);0 > g && (g+=this.Sa.length);if(g >= this.Sa.length)return new d(this.V);m > this.Sa.length && (m=this.Sa.length);0 > m && (m+=this.Sa.length);return new d(this.V,this.Sa.slice(g,m));};d.prototype.Zs=function(g){if(0 === this.Sa.length || g.qb >= this.xb)this.push(g);else if(g.xb <= this.qb)this.unshift(g);else {for(var m=0,k=this.Sa.length - 1,n;m < k - 1;){n=Math.floor((k + m) / 2);(0,l.assert)(n !== k && n !== m);g.qb >= this.Sa[n].xb?m=n:k=n;}(0,l.assert)(m !== k);(0,l.assert)(this.Sa[m].xb <= g.qb && this.Sa[k].qb >= g.xb);this.splice(k,0,g);}};d.prototype.remove=function(g){g=this.Sa.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}g=g.map(function(k){return k.Sa;});return new d(this.V,Array.prototype.concat.apply(this.Sa,g));};d.prototype.forEach=function(g){var m;m=this;this.Sa.forEach(function(k,n){return g(k,n,m);});};d.prototype.some=function(g){var m;m=this;return this.Sa.some(function(k,n){return g(k,n,m);});};d.prototype.every=function(g){var m;m=this;return this.Sa.every(function(k,n){return g(k,n,m);});};d.prototype.map=function(g){var m;m=this;return this.Sa.map(function(k,n){return g(k,n,m);});};d.prototype.reduce=function(g,m){var k;k=this;return this.Sa.reduce(function(n,p,q){return g(n,p,q,k);},m);};d.prototype.indexOf=function(g){return this.Sa.indexOf(g);};d.prototype.find=function(g){var m,k;m=this;return this.Sa.some(function(n,p){k=p;return g(n,p,m);})?this.Sa[k]:void 0;};d.prototype.findIndex=function(g){var m,k;m=this;return this.Sa.some(function(n,p){k=p;return g(n,p,m);})?k:-1;};d.prototype.filter=function(g){var m;m=this;return new d(this.V,this.Sa.filter(function(k,n){return g(k,n,m);}));};d.prototype.v4=function(g){for(var m=this.Sa.length - 1;0 <= m;--m){g(this.Sa[m],m,this);}};d.prototype.ewa=function(g){for(var m=this.Sa.length - 1;0 <= m;--m){if(g(this.Sa[m],m,this))return !0;}return !1;};d.prototype.xla=function(g){if(this.empty || g < this.Na.G || g >= this.eb.G)return -1;for(var m=0,k=this.Sa.length - 1,n;k > m;){n=Math.floor((k + m) / 2);if(g >= this.Sa[n].Na.G && g < this.Sa[n].eb.G){k=n;break;}g < this.Sa[n].eb.G?k=n - 1:m=n + 1;}return k;};d.prototype.RS=function(g){if(this.empty || g < this.Ab.G || g >= this.Mb.G)return -1;for(var m=0,k=this.Sa.length - 1,n;k > m;){n=Math.floor((k + m) / 2);if(g >= this.Sa[n].Ab.G && g < this.Sa[n].Mb.G){k=n;break;}g < this.Sa[n].Mb.G?k=n - 1:m=n + 1;}return k;};d.prototype.FXa=function(g){g=this.RS(g);return 0 <= g?this.Sa[g]:void 0;};d.prototype.D1=function(g){var m;m=this.Sa[g].xb;for(g+=1;g < this.Sa.length && m === this.Sa[g].qb;++g){m=this.Sa[g].xb;}g < this.Sa.length?void 0 === this.jg?this.jg=new f.lz(this,{xb:m}):this.jg.QW(m):void 0 === this.jg?this.jg=new f.lz(this,{}):this.jg.Sia();};d.prototype.fJ=function(g,m){for(var k=g;k < m;++k){this.kc+=this.Sa[k].xa;}void 0 === this.jg || 0 === g?this.D1(0):this.jg.xb === this.xb?this.D1(g - 1):this.Sa[g].qb === this.jg.xb && this.D1(g);};d.prototype.ex=function(g,m){var k;if(0 === g)(this.jg=void 0,m < this.length && this.D1(m));else {k=this.jg;k.xb > this.Sa[g - 1].xb && (m < this.length?k.QW(this.Sa[g - 1].xb):k.Sia());}for(;g < m;++g){this.kc-=this.Sa[g].xa;}};d.prototype.jQ=function(g,m){void 0 === m && (m=g + 1);this.fJ(g,m);};d.prototype.gga=function(g,m){void 0 === m && (m=g + 1);this.ex(g,m);};return d;})();b.uY=h;(0,r.tk)(a.ow,h);},29930:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Haa=void 0;c=a(5163);a(62558);r=a(55011);l=c.__importDefault(a(89956));f=c.__importDefault(a(35471));h=a(35195);d=a(64406);g=f.default.fq;m=a(83350);a=(function(k){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(n,k);n.create=function(p,q,u,t,w,v,y,x){var Q_H;Q_H=2;for(;Q_H !== 1;){switch(Q_H){case 2:return !q.$k && t.Ha && p.mediaType === l.default.pm.Y?new m.Qaa(p,u,t,w,v,q,y,x):new n(p,u,t,w,v,q,y,x);break;}}};n.prototype.toString=function(){var Y$G;Y$G=2;for(;Y$G !== 1;){switch(Y$G){case 2:var W76="I";W76+="D";W76+=": ";return W76 + this.xj() + ":" + h.$p.prototype.toString.call(this);break;}}};return n;break;}}function n(p,q,u,t,w,v,y,x){var f9H,z;f9H=2;for(;f9H !== 8;){switch(f9H){case 2:var e6M="me";e6M+="d";e6M+="i";e6M+="a";var F5G="med";F5G+="ia(edit";F5G+=")";var f1D="1SIYb";f1D+="ZrNJCp";f1D+="9";f1D;z=u.Ha?F5G:e6M;void 0 === u.responseType && (u.responseType=u.Ha || g.Kf && !g.Kf.Eua.gea?0:1);q=k.call(this,p,q,z,u,t,w,v,y) || this;f9H=3;break;case 3:h.$p.va(q,p,w,u,x);return q;break;}}}})(d.vY);b.Haa=a;(0,r.tk)(h.$p,a,!1);},35195:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$p=void 0;c=a(5163);l=a(42866);f=a(62558);h=c.__importDefault(a(89956));d=a(94656);r=a(55011);g=a(89755);m=a(69028);k=a(46892);a=a(551);n=(function(p){function q(u,t,w,v){var y;y=p.call(this,u,w) || this;q.va(y,u,t,w,v);return y;}c.__extends(q,p);q.va=function(u,t,w,v,y){var x;m.oI.xoa(u,t,v);u.ae=v.index;u.oJ=v.qb;u.yu=v.xb;u.lqb=v.yb?v.yb:t.yb;u.Qy=v.Qy;u.u=w;u.Tma=y;u.nOa=!!v.Rx;u.MOa=!!v.Kk;u.BPa=null !== (x=v.region) && void 0 !== x?x:0;u.mOa=!!v.Mla;u.LOa=!!v.jt;u.ka=void 0 === v.z4 || void 0 === v.Yla || v.z4 === v.qb && v.Yla === v.xb?u:new k.lz(u,{qb:v.z4,xb:v.Yla});u.zob=v.Wqa;u.Kmb=v.pj;u.Unb=t.A5;u.Eh=v.Ha?u.L5a(v.Ha):void 0;u.$Pa=v.$v;u.CR=!1;u.xOa=!1;u.Qp=[];};q.OUa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.kc;t[B]=z.yu - z.oJ;w[B]=A;v[B]=z.stream.Kt;void 0 !== z.yb && null !== z.yb && (y[B]=z.yb);x+=A;}return new d.jea(t,w,u.length?u[0].S:1E3,x);};Object.defineProperties(q.prototype,{et:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yb:{get:function(){return this.lqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vha:{get:function(){return 8 * this.xa / this.ve.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qb:{get:function(){return this.oJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.yu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hn:{get:function(){var u,t;return null !== (t=null === (u=this.Tma) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rx:{get:function(){return this.nOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kk:{get:function(){return this.MOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.BPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mla:{get:function(){return this.mOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jt:{get:function(){return this.LOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wqa:{get:function(){return this.zob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pj:{get:function(){return this.Kmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.Eh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$v:{get:function(){return this.$Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{MZb:{get:function(){return this.Eh?this.Eh.end - this.Eh.start:this.Ns;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{z4:{get:function(){return this.ka.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yla:{get:function(){return this.ka.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JFb:{get:function(){return this.ka.MA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$K:{get:function(){return this.ka.Na;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zla:{get:function(){return this.ka.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ns:{get:function(){var u;u=this.JFb;(0,f.assert)(u);return u / this.stream.ca.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jna:{get:function(){return this.xOa;},enumerable:!1,configurable:!0}});q.prototype.ZPb=function(){this.nOa=!0;};q.prototype.$3a=function(){this.MOa=!0;};q.prototype.q0b=function(u){this.Qy={Xd:u.cZa(),get OL() {return u.tX;}};};q.prototype.FN=function(u){this.$Pa=u;};q.prototype.n0b=function(u,t,w){this.BPa=u;this.mOa=t;this.LOa=w;};q.prototype.yi=function(u){var t,w;void 0 === u && (u={});t=this.stream.ca.Ba;w=this.Eh || ({start:0,end:this.Ns});u=this.L5a(u);this.ka && this.ka !== this || (this.ka=new k.lz(this,this));u.start > w.start && (this.oJ=this.ka.qb + u.start * t);u.end < w.end && (this.yu=this.ka.qb + u.end * t);this.Eh=c.__assign(c.__assign({},w),u);};q.prototype.yka=function(u){void 0 === u && (u=1);this.Eh?this.yi({start:this.Eh.start + u,end:this.Eh.end}):this.yi({start:u});};q.prototype.O3=function(u){this.Eh?this.yi({start:this.Eh.start,end:(this.Eh.end || 0) - u}):this.yi({start:0,end:-u});};q.prototype.ci=function(){this.Ha?this.yi({start:this.Ha.start,end:this.Ha.start}):this.yi({start:0,end:0});};q.prototype.r0b=function(u){this.Eh || this.yi();this.Eh.f$=u;};q.prototype.V$a=function(u){this.Eh || this.yi();this.Eh.Js=!0;u && (this.Eh.pXa=u);};q.prototype.W$a=function(u){this.Eh || this.yi();this.Eh.Pn=!0;u && (this.Eh.qXa=u);};q.prototype.NXa=function(u){var w;if(!(u < this.Na.G || u >= this.eb.G) && this.pj && this.pj.length){u=new l.N(u + 1 - this.Na.G,1E3).Ni(this.stream.ca);for(var t=this.pj.length - 1;0 <= t;--t){w=this.pj[t];if(w.Ij <= u)return w;}return {Ij:0,ye:this.$K.G};}};q.prototype.bFb=function(u){var w;if(!(u < this.Na.G || u >= this.eb.G) && this.pj && this.pj.length){u=new l.N(u + 1 - this.Na.G,1E3).Ni(this.stream.ca);for(var t=this.pj.length - 1;0 <= t;--t){w=this.pj[t];if(w.Ij <= u)return w;}return {Ij:0,ye:this.$K.G};}};q.prototype.DXa=function(u,t){var w,v,y;if(!(u < this.Na.G || u >= this.eb.G)){if(!t && this.Unb)return {Ij:0,ye:this.Na.G};w=this.ca.Ba;v=this.ca.S;y=Math.floor(this.MA / w);u=Math.min((t?Math.ceil:Math.floor)((l.N.n5a(u,v) - this.qb + (t?-1:1) * (v / 1E3 - 1)) / w),y);w=l.N.Xwa(this.qb + u * w,v);return u === y?void 0:{Ij:u,ye:w};}};q.prototype.ZEb=function(u){return this.mediaType === h.default.pm.Y?this.NXa(u):this.DXa(u,!1);};q.prototype.Bla=function(u){return this.mediaType === h.default.pm.Y?this.bFb(u):this.DXa(u,!0);};q.prototype.D1a=function(){return 0 < this.Qp.length;};q.prototype.fna=function(){(0,f.assert)(!this.zW,"Should not get response iterator more than once");this.zW=new g.OC(this.console);return this.zW.getIterator();};q.prototype.t8a=function(u,t){this.zW?(this.zW.enqueue(u),t && this.zW.mF()):this.Qp.push(u);this.xOa=t;};q.prototype.gN=function(){this.Qp=[];};q.prototype.dha=function(u){this.kc+=u.xa;this.yu=u.xb;this.Eh && (this.ka=new k.lz(this,{qb:this.z4,xb:this.yu}),this.Eh.end=this.Ns);};q.prototype.w9a=function(u){var t,w,v;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === h.default.pm.ea?"audioedit":"videoedit";v=this.$K.equal(this.Na);v=[v?this.eb.G:this.Na.G,v?-this.ve.G:this.ve.G];u && v.push(u);t.fields[w]={type:"array",value:v};return t;};q.prototype.toString=function(){return ("[").concat(this.Ub,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Na.G,"-").concat(this.eb.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Mb.G,",d:").concat(this.ve.G,"]");};q.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Ub,bitrate:this.bitrate,index:this.index,startPts:this.Na.G,endPts:this.eb.G,contentStartPts:this.Na.G,contentEndPts:this.eb.G,fragmentStartPts:this.$K.equal(this.Na)?void 0:this.$K.G,fragmentEndPts:this.Zla.equal(this.eb)?void 0:this.Zla.G,edit:this.Ha};};q.prototype.MXa=function(u){var w;if(this.pj)for(var t=0;t < this.pj.length;++t){if(this.pj[t].Ij === u)w=this.pj[t].offset;}return w;};q.prototype.L5a=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.Ns:Math.min(this.Ns,Math.max(t,0 > u.end?this.Ns + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(m.oI);b.$p=n;(0,r.tk)(a.ow,n);},2746:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gza=void 0;c=a(5163);a(62558);l=a(91219);r=a(55011);f=a(13407);h=a(551);d=a(57196);g=a(46892);a=(function(m){function k(n,p){var q,u;q=this;u=[new f.uY(n),new f.uY(n),new f.uY(n)];q=m.call(this,u,function(t){return t.complete?q.empty || t.qb <= q.Cwb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.xl=u[0];q.Bk=u[1];q.qs=u[2];q.Ro=0;q.Kea=0;q.V=n;q.Jo=p;return q;}c.__extends(k,m);Object.defineProperties(k.prototype,{xa:{get:function(){return this.xl.xa + this.Bk.xa + this.qs.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{F4b:{get:function(){return this.qs;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.xl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{FXb:{get:function(){return this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X2:{get:function(){return this.xl.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dr:{get:function(){return this.xl.xa + this.Bk.xa - this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{G4b:{get:function(){return this.qs.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hN:{get:function(){return this.xa - this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.cGb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rd:{get:function(){return this.rtb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cka:{get:function(){return !this.xl.empty || this.qs.empty || this.Bk.empty?this.first:this.Bk.qb < this.qs.qb?this.Bk.first:this.qs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b3a:{get:function(){return this.qs.empty || this.Bk.empty?this.Rd:this.Bk.xb < this.qs.xb?this.qs.Rd:this.Bk.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{XXa:{get:function(){return this.qs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qb:{get:function(){return this.Cka && this.Cka.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xb:{get:function(){return this.b3a && this.b3a.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hn:{get:function(){return this.first && this.first.hn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cwb:{get:function(){return this.xl.empty?this.qb:this.xl.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bwb:{get:function(){var n;return this.xl.empty?null === (n=this.Na) || void 0 === n?void 0:n.G:this.xl.eb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QTa:{get:function(){var n;return this.xl.empty?null === (n=this.Ab) || void 0 === n?void 0:n.G:this.xl.Mb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$6a:{get:function(){var n,p;return (null === (n=this.Bk.Mb) || void 0 === n?void 0:n.G) || (null === (p=this.xl.Mb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IC:{get:function(){return this.qs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zj:{get:function(){return this.Bk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{STa:{get:function(){return this.xl.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ra:{get:function(){return this.xl.concat(this.Bk);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Aq:{get:function(){return this.jg;},enumerable:!1,configurable:!0}});k.prototype.fJ=function(n){var p;n.aborted?++this.Kea:this.Ro+=n.bytesReceived || 0;if(this.empty)this.jg=new g.lz(this,{});else if(n.qb !== this.xb)if(n.qb > this.jg.xb)this.jg.QW(this.jg.xb);else if(n.qb < this.qb || n.qb === this.jg.xb){p=n.xb;this.rFb(function(q,u){return q.qb - u.qb;},function(q){p=q.qb === p?q.xb:p;});p === Math.max(this.xb,n.xb)?this.jg.Sia():this.jg.QW(p);}n.jab(this);};k.prototype.ex=function(n){n.aborted?--this.Kea:this.Ro-=n.bytesReceived;this.empty?this.jg=void 0:n.qb !== this.xb && n.xb <= this.jg.xb && n.qb > this.jg.qb && this.jg.QW(n.qb);n.awb();};k.prototype.push=function(n){this.fJ(n);return m.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.ex(n);return n;};k.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.ex(n);return n;};k.prototype.unshift=function(n){this.fJ(n);return m.prototype.unshift.call(this,n);};k.prototype.Zs=function(n){this.fJ(n);m.prototype.Zs.call(this,n);};k.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.ex(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=m.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.fJ.bind(this));u.forEach(this.ex.bind(this));return u;};k.prototype.eXb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.xla=function(n){return this.GXa(function(p){return p.xla(n);});};k.prototype.RS=function(n){return this.GXa(function(p){return p.RS(n);});};k.prototype.FXa=function(n){n=this.RS(n);return -1 !== n?this.get(n):void 0;};k.prototype.q_b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.CM=function(n){this.move(n);this.y4(n);};k.prototype.DM=function(n,p){this.Ro+=p;this.$S(n,p);};k.prototype.cr=function(n,p){for(this.Ro+=p;this.Bk.first && this.Bk.first.complete && (this.xl.empty?this.Bk.first === this.Cka:this.Bk.first.qb === this.xl.xb);){this.M0b();}this.tF(n,p);};k.prototype.BV=function(n,p,q){this.Ro-=n.bytesReceived;++this.Kea;this.YK(n,p,q);};k.prototype.DV=function(n,p,q){this.Bk.Q4b(p - q);this.Xla(n,p,q);};return k;})(l.aBa);b.gza=a;(0,r.tk)(d.NC,a,!1);(0,r.tk)(h.ow,a);},18621:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iaa=void 0;c=a(5163);l=a(69028);r=(function(f){function h(d,g,m,k){var n;n=f.call(this,d,m) || this;n.h$=!1;n.VS=!1;n.jV=!1;n.yS=!1;n.$M=void 0;h.c1a(n,d,g,m,k);return n;}c.__extends(h,f);h.c1a=function(d,g,m,k,n){l.oI.xoa(d,g,k);d.u=m;d.RD=k.Jg;d.MD=k.FM;d.gOa=k.lF;d.V=n;};Object.defineProperties(h.prototype,{Le:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jg:{get:function(){return this.RD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{FM:{get:function(){return this.MD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lF:{get:function(){return this.gOa;},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Ub,bitrate:this.bitrate};};return h;})(l.oI);b.Iaa=r;},65593:function(r,b,a){var l,f,h,d,g,m,k,n,p,q;function c(u){return {Le:!0,Gt:{Ag:n.Bb.zk},Pc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.iza=void 0;l=a(5163);f=a(36418);h=a(42866);r=a(57055);d=l.__importDefault(a(35471));g=a(97810);m=a(55011);k=a(62558);n=a(27364);p=a(18621);a=a(64406);q=d.default.MediaSource;a=(function(u){function t(w,v,y,x,z,A,B,D){var C,F,G;C=y.track;B=(B?"(cache)":"") + w.id + " header";F=x.offset;G=x.xa;x.FM && (F+=x.FM.byteLength,G-=x.FM.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Pc)),{offset:F,xa:G});v=u.call(this,w,C,B,x,z,A,v,D) || this;v.$M=y;v.hra=0;p.Iaa.c1a(v,w,A,x,D);v.VS=!!x.VS;v.jV=!!x.jV;v.yS=!!x.yS;v.esa=x.xa;v.h$=!!x.h$;++v.hra;return v;}l.__extends(t,u);Object.defineProperties(t.prototype,{Le:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{q8:{get:function(){return this.dpb;},enumerable:!1,configurable:!0}});t.prototype.Ze=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}u.prototype.Ze.call(this);};t.prototype.ZS=function(w){this.stream.Hra();u.prototype.ZS.call(this,w);};t.prototype.YK=function(w,v,y){this.stream.f8();u.prototype.YK.call(this,w,v,y);};t.prototype.cr=function(w,v){var y;y=w.response;y && this.Imb(y);(0,k.assert)(this.MD);w.gN();this.bpb()?(this.stream.f8(),u.prototype.cr.call(this,w,v)):this.R1?(this.eEb(w.offset + w.xa,this.R1),u.prototype.cr.call(this,w,v)):u.prototype.CV.call(this,w);};t.prototype.eEb=function(w,v){this.kXa(this.eF,this.label + " (" + this.hra + ")",c(this.Pc),{offset:w,xa:v});++this.hra;};t.prototype.bpb=function(){var w,v,y,x,z,A,B;x=this.config;z=new f.Co(t.BRb,this.stream,this.MD,this.stream.ha?["moov"]:["sidx"],x.rUb,{sgc:this.stream.track.kta,psa:void 0 === this.ca,Ocb:!q.Kf || !q.Kf.mwb,cxa:x.cxa,Bm:x.Bm,oO:this.config.oO,V9a:!0,i$:!q.Kf || !q.Kf.LRb,gua:this.config.gua});A=z.parse({ca:this.ca});this.M5b=x.oO && z.WKb;if(A.st){(0,k.assert)(A.Jg);this.RD=A.Jg;this.dpb=A.q8;this.gOa=!!A.sDb;void 0 === this.ca && void 0 === A.ca && this.V.error("No frame duration available for " + this.Ub);z=A.ca?new h.N(A.ca):this.ca;B=void 0;if(this.stream.mediaType === n.v.Y && (null === (w=x.JM) || void 0 === w?0:w.enabled))if(null === (v=this.stream.oH) || void 0 === v?0:v.length)B=this.stream.oH;else if((w=this.stream.wv.oH,0 < (null === w || void 0 === w?void 0:w.length)))for((B=new Uint8Array(w.length),y=0);y < w.length;y++){B[y]=w[y].yb;}else if(null === (y=A.iw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.iw.length),y=0);y < A.iw.length;y++){B[y]=A.iw[y];}this.stream.Gra(A.Jg,A.S,z,A.La,A.oM,A.pj,B,A.trackId);this.MD=void 0;}else this.R1=A.R1 || 0;return !!A.st;};t.prototype.Imb=function(w){this.MD=this.MD?(0,g.lK)(this.MD,w):w;};t.BRb=new d.default.Console("MP4","media|asejs");return t;})(a.vY);b.iza=a;(0,m.tk)(p.Iaa,a,!1,!1);(0,m.tk)(r.EventEmitter,a);},54790:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jaa=void 0;c=a(5163);c.__importDefault(a(35471));l=a(62558);r=(function(f){function h(d,g,m,k,n,p,q){g=f.call(this,d,g,m,k,n,p,q) || this;g.ccb=0;(0,l.assert)(0 === m.responseType);(0,l.assert)(m.Pk);g.Pk=m.Pk;d=d.Tn();g.ccb=d.N8.G;return g;}c.__extends(h,f);return h;})(a(29930).Haa);b.Jaa=r;},46541:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Laa=void 0;c=a(5163);l=a(50954);f=a(49730);r=(function(h){function d(g,m,k,n,p,q,u,t,w,v,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=h.call(this,k,w,{index:0,offset:0,xa:0,qb:p,xb:q,S:n,Rx:x,Kk:z,$v:y},v) || this;g.pUb=k;g.console=t;g.u=w;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(m.byteLength," bytes") + (", ").concat(g.Ns," samples"));g.t8a(m,!0);return g;}c.__extends(d,h);Object.defineProperties(d.prototype,{profile:{get:function(){return this.pUb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,m,k,n,p;return {viewableId:l.un,startPts:null === (g=this.Ab) || void 0 === g?void 0:g.G,endPts:(null === (m=this.Ab) || void 0 === m?void 0:m.G) + (null === (k=this.ve) || void 0 === k?void 0:k.G),"contentStartTicks:":this.qb,contentEndTicks:this.xb,contentStartPts:null === (n=this.Na) || void 0 === n?void 0:n.G,contentEndPts:null === (p=this.eb) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.Na.G,"-").concat(this.eb.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Mb.G,",") + ("d:").concat(this.eb.G - this.Na.G,"]");};return d;})(a(35195).$p);b.Laa=r;},57196:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NC=b.rza=void 0;c=a(5163);r=(function(){function l(f){this.Jo=f;}l.prototype.jab=function(f){this.Jo=f;};l.prototype.awb=function(){this.Jo=void 0;};l.prototype.ZS=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.csa) || void 0 === d?void 0:d.call(h,f);};l.prototype.y4=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.CM) || void 0 === d?void 0:d.call(h,f);};l.prototype.ZK=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.BM) || void 0 === d?void 0:d.call(h,f);};l.prototype.$S=function(f,h){var d,g;null === (g=null === (d=this.Jo) || void 0 === d?void 0:d.DM) || void 0 === g?void 0:g.call(d,f,h);};l.prototype.dYa=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.NTb) || void 0 === d?void 0:d.call(h,f);};l.prototype.tF=function(f,h){var d,g;null === (g=null === (d=this.Jo) || void 0 === d?void 0:d.cr) || void 0 === g?void 0:g.call(d,f,h);};l.prototype.fYa=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.CV) || void 0 === d?void 0:d.call(h,f);};l.prototype.YK=function(f,h,d){var g,m;null === (m=null === (g=this.Jo) || void 0 === g?void 0:g.BV) || void 0 === m?void 0:m.call(g,f,h,d);};l.prototype.Xla=function(f,h,d){var g,m;null === (m=null === (g=this.Jo) || void 0 === g?void 0:g.DV) || void 0 === m?void 0:m.call(g,f,h,d);};l.prototype.eYa=function(f){var h,d;null === (d=null === (h=this.Jo) || void 0 === h?void 0:h.bsa) || void 0 === d?void 0:d.call(h,f);};return l;})();b.rza=r;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);return f;})(r);b.NC=r;r.prototype.csa=r.prototype.ZS;r.prototype.CM=r.prototype.y4;r.prototype.BM=r.prototype.ZK;r.prototype.DM=r.prototype.$S;r.prototype.cr=r.prototype.tF;r.prototype.CV=r.prototype.fYa;r.prototype.BV=r.prototype.YK;r.prototype.NTb=r.prototype.dYa;r.prototype.DV=r.prototype.Xla;r.prototype.bsa=r.prototype.eYa;},64406:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.vY=b.jm=void 0;c=a(5163);l=a(57055);r=a(55011);f=a(62558);a(26973);h=a(7033);d=a(57196);g=a(69028);m=a(93161);(function(k){k[k.vHa=0]="NOTHING_APPENDED";k[k.B_=1]="PARTIAL";k[k.mm=2]="COMPLETE";k[k.ll=3]="ERROR";})(b.jm || (b.jm={}));a=(function(k){function n(p,q,u,t,w,v,y,x){var z;z=k.call(this,p,t) || this;z.eF=q;z.label=u;z.properties=t;z.u=v;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Ua=h.Qg.$t;z.HD=0;z.IQ=-Infinity;z.Jd=[];z.Fua=0;z.jab(w);z.Ua=h.Qg.$t;z.Xf=p.BT(!!t.Le,t.Pk);z.UD=p.location || t.location;z.cR=p.$b || t.Pc;z.Pk=t.Pk;z.zUa(q,u,t);return z;}c.__extends(n,k);Object.defineProperties(n.prototype,{Le:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{m8:{get:function(){return this.Ua >= h.Qg.OPENED && this.Ua < h.Qg.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.Ua >= h.Qg.DO && this.Ua < h.Qg.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rta:{get:function(){return this.Ua === h.Qg.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.Ua === h.Qg.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aborted:{get:function(){return this.Ua === h.Qg.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{status:{get:function(){var p;return (null === (p=this.SL) || void 0 === p?void 0:p.status) || this.Jd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ig:{get:function(){var p;return null === (p=this.SL) || void 0 === p?void 0:p.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oF:{get:function(){var p;return null === (p=this.SL) || void 0 === p?void 0:p.oF;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Aj:{get:function(){var p;return null === (p=this.SL) || void 0 === p?void 0:p.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bytesReceived:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ji:{get:function(){return this.IQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{location:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pc:{get:function(){return this.cR;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hab:{get:function(){return this.properties.VW;},enumerable:!1,configurable:!0}});n.prototype.Fva=function(p,q){this.UD=p;this.cR=q;};n.prototype.Bxa=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.pa;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Ub,"mediaRequest:",this,"stream:",q),1);t=q.BT(this.Le,this.Pk);if(this.url !== t || p)if((u.Fva(this,q.location,q.$b),!this.nX(t)))return (this.console.warn("swapUrl failed: ",this.oF),2);return 0;};n.prototype.svb=function(p){(0,f.assert)(0 >= this.xa,"AseRequest.changeSteam is only supported for open range requests");(0,f.assert)(1 <= this.Jd.length && void 0 !== this.Jd[0].Ig,"AseRequest.changeSteam only supported when open range request has failed");(0,f.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.u0b(p);this.Bxa();};n.prototype.ixa=function(){var u;for(var p,q;this.Fua < this.Jd.length && (q=this.Jd[this.Fua]).response;){u=++this.Fua === this.Jd.length;null === (p=this.t8a) || void 0 === p?void 0:p.call(this,q.response,u);q.gN();}};n.prototype.zUa=function(p,q,u){0 < u.xa?u.uG && u.xa > u.uG?this.lXb(p,q,u,u.uG,u):this.aH(p,q,u,u):this.Isa()?this.aH(p,q,u,u):this.aH(p,q,u,{offset:u.offset,xa:this.config.UOb});};n.prototype.lXb=function(p,q,u,t,w){var v,y;t=Math.ceil(w.xa / t);v=w.offset;for(w=w.xa;0 < w;--t){y=Math.ceil(w / t);this.aH(p,q,u,{offset:v,xa:y});v+=y;w-=y;}};n.prototype.Isa=function(){return !!this.eF.Hgc || this.config.Lbb || this.eF.config.type === m.platform.tI.Ka;};n.prototype.aH=function(p,q,u,t){p=new h.EHa(this.stream,this.Xf,p,q,u,t,this,this.u,this.config,this.console);this.Jd.push(p);this.state >= h.Qg.OPENED && (p.open(),this.state >= h.Qg.mm && (this.Ua=h.Qg.OPENED,this.ZS(this)));};n.prototype.kr=function(p){var q;q=this.Jd.indexOf(p);-1 !== q && (this.Jd.splice(q,1),0 < this.kc && ((0,f.assert)(this.kc >= p.xa),this.kc-=p.xa));};n.prototype.kXa=function(p,q,u,t){this.aH(p,q,u,t);this.kc+=t.xa;};n.prototype.open=function(){var p;null === (p=this.Pfa) || void 0 === p?void 0:p.tTb();if(p=this.Jd.every(function(q){return q.open();}))(this.Ua=h.Qg.OPENED,this.ZS(this));return p;};n.prototype.abort=function(){var p,q;p=this.active;q=this.m8;this.Ua=h.Qg.Yp;this.Jd.forEach(function(u){return u.abort();});this.YK(this,p,q);return !0;};n.prototype.Ze=function(){this.Jd.forEach(function(p){return p.Ze();});};n.prototype.nX=function(p){this.Xf=p;return this.Jd.map(function(q){return q.nX(p);}).some(function(q){return q;});};n.prototype.vJb=function(){(0,f.assert)(0 < this.Jd.length);return this.Jd[0].response;};n.prototype.getResponseHeader=function(p,q){var u;u=null;this.Jd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};n.prototype.getAllResponseHeaders=function(p){var q;q=null;this.Jd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};n.prototype.xj=function(){return 1 === this.Jd.length?this.Jd[0].xj():"(" + this.Jd.map(function(p){return p.xj();}).join(", ") + ")";};n.prototype.csa=function(){};n.prototype.CM=function(p){var q;this.state > h.Qg.OPENED || (this.Ua=h.Qg.DO,this.IQ=Math.max(this.IQ,p.ji),null === (q=this.Pfa) || void 0 === q?void 0:q.nTb(),this.y4(this));};n.prototype.BM=function(p){var q;this.state > h.Qg.DO || (this.$ra(p,0),this.Ua=h.Qg.Sj,null === (q=this.Pfa) || void 0 === q?void 0:q.jTb(),0 >= this.xa && !this.Isa()?this.kXb(p,this.offset + p.xa):(this.ixa(),this.ZK(this)));};n.prototype.kXb=function(p,q){var u,t;u=p.aHb();if(void 0 !== u){t=u - q;0 < t && this.aH(p.eF,this.label,this.properties,{offset:q,xa:t});this.ixa();this.ZK(this);this.DV(p,u,this.xa);}else this.tKb(p);};n.prototype.tKb=function(p){this.hUa=(this.hUa || 0) + 1;1 >= this.hUa && (this.kr(p),p.abort(),this.zUa(p.eF,this.label,this.properties));};n.prototype.DM=function(p,q){this.$ra(p,q);this.$S(this,q);};n.prototype.cr=function(p,q){var u;this.state > h.Qg.Sj || (this.$ra(p,q),this.ixa(),this.Jd.every(function(t){return t.complete;})?(this.Ua=h.Qg.mm,null === (u=this.Pfa) || void 0 === u?void 0:u.vM(),this.tF(this,q),this.Ze()):this.$S(this,q));};n.prototype.bsa=function(){this.eYa(this);};n.prototype.CV=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.xa && !this.Isa()?(p.abort(),p.Ze(),this.kr(p),this.aH(p.eF,this.label,this.properties,{offset:p.offset,xa:Math.max(Math.ceil(p.xa / 2),1)})):(this.SL=p,this.fYa(this));};n.prototype.BV=function(){var p,q;if(this.state !== h.Qg.Yp){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.m8;this.Ua=h.Qg.Yp;this.YK(this,p,q);}};n.prototype.DV=function(p,q,u){this.kc+=q - u;p={type:"updatedBytes",TRb:q,esa:u};this.events.emit(p.type,p);this.Xla(this,q,u);};n.prototype.$ra=function(p,q){this.SL === p && (this.SL=void 0);this.IQ=Math.max(this.IQ,p.ji);this.HD+=q;};return n;})(g.oI);b.vY=a;(0,r.tk)(d.rza,a,!1);},19616:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Paa=void 0;c=a(5163);l=a(42866);f=a(87034);h=a(4399);d=a(62558);g=a(57578);m=c.__importDefault(a(35471));k=a(35195);r=(function(){function n(p,q,u){var t,w,v;this.Z=q;this.V=u;this.qq=p.track;this.t1=p.Kt;this.wv=p.wv;this.aob=this.mediaType !== f.v.Ka?this.NU.gi:!1;this.Tpb=p.h3b;this.Sa=void 0;this.RD=p.Jg;q=p.Qq;this.Qq=void 0 === q?!0:q;this.F3=p.F3;this.uJ=void 0;this.TOa=this.Uea=0;this.url=this.NW=this.$b=this.Ht=this.Kpa=this.location=this.ob=this.Wb=void 0;this.jB=!1;this.ipa=this.$e=void 0;this.nQ=new Set();q=(p=this.Z) && "object" === typeof p.U8 && p.U8[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.tpb=new l.N(q.ticks,q.timescale));this.Hob=0 <= (null === (t=p.ORa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.JM) || void 0 === w?0:w.Wcc) && this.mediaType === f.v.Y && (t=this.wv,0 < (null === (v=t.oH) || void 0 === v?void 0:v.length))){v=t.oH.splice(0,t.oH.length);t=new Uint8Array(v.length);for(w=0;w < v.length;w++){t[w]=v[w].yb;}this.oH=t;}}Object.defineProperties(n.prototype,{Lh:{get:function(){return this.ha?!!this.RD:!!this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{E1a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pa:{get:function(){return this.qq.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.pa.J;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.qq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.qq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return this.qq.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S:{get:function(){return this.qq.S;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{AG:{get:function(){return this.qq.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.qq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.qq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{NU:{get:function(){if(this.mediaType !== f.v.Ka)return this.wv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kt:{get:function(){return this.t1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ub:{get:function(){var p;return this.mediaType === f.v.Ka?null !== (p=this.Tpb) && void 0 !== p?p:"":this.NU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gi:{get:function(){return this.aob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ha:{get:function(){return this.track.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === f.v.Ka?0:this.NU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yb:{get:function(){var p;if(this.a4)return this.a4;if(this.mediaType === f.v.Y)return null !== (p=this.wv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lZb:{get:function(){if(this.mediaType === f.v.Y)return this.wv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yW:{get:function(){if(this.mediaType === f.v.Y)return this.wv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === f.v.Ka?"timedtext":this.NU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pk:{get:function(){if(this.mediaType === f.v.Y)return this.wv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qf:{get:function(){return this.tpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{A5:{get:function(){return this.Hob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{La:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yv:{get:function(){return this.Sa && this.Sa.yv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hv:{get:function(){return void 0 !== this.uJ?this.uJ:this.DNb();},set:function(p){this.uJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{eG:{get:function(){return this.Qq && !this.jB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jg:{get:function(){return this.RD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{XMb:{get:function(){return this.mediaType === f.v.ea || this.mediaType === f.v.Y && (-1 !== this.Fd.indexOf("h264bpl") || -1 !== this.Fd.indexOf("h264mpl") || -1 !== this.Fd.indexOf("hevc") && -1 === this.Fd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{OMb:{get:function(){(0,d.assert)(!!this.La,"Initial header should have been received already");return this.pa.Joa() && -1 < this.Fd.indexOf("h264mpl") && void 0 === this.La.cha;},enumerable:!1,configurable:!0}});n.prototype.EF=function(){return this.pa.EF(this.mediaType,this.Ub);};n.prototype.OHb=function(){var p;p=this.EF();return p && p.stream.La;};n.prototype.ZH=function(p,q){return this.pa.ZH(this,p,q);};n.prototype.Hra=function(){this.track.Hra();};n.prototype.f8=function(){this.track.f8();};n.prototype.Gra=function(p,q,u,t,w,v,y,x){this.ha || t && void 0 !== t.wr && (this.track.Lh || void 0 !== t.lf && t.lf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ha && this.Z.Bm && this.Qf && 0 === t.wr && (t.wr+=this.Qf.ef(t.S).Ba),this.Lh || (this.RD=p,this.track.Gra(this,q,u,t,v,x),this.ha || (this.Sa=new h.jMa(this.t1,this.track.vo,t,w,v,y,this.O)),this.track.lTb(this))):this.ha || (t?this.V.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.wr) + "," + this.track.Lh + "," + this.track.kta + "," + (void 0 !== t.lf) + "," + !(!t.lf || !t.lf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.V.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.cxb=function(p){this.Lh || (this.track.dxb(p.track),this.Sa=p.La,this.RD=p.Jg);};n.prototype.Sn=function(p){return new k.$p(this,void 0,this.La.get(p));};n.prototype.mZa=function(p){var q;q=this.Sn(p.index);p.Ha && (q.yi(p.Ha),q.FN(p.$v));return q;};n.prototype.R4b=function(p,q){this.Uea=p;this.TOa=q;};n.prototype.dwb=function(){this.ob=this.Wb=this.$b=this.location=this.url=void 0;};n.prototype.Vm=function(){switch(this.mediaType){case f.v.ea:return this.BGb();case f.v.Y:return this.jKb();case f.v.Ka:return this.UJb();default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};n.prototype.BT=function(p,q,u){var t,w,v;return this.ha?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === u || void 0 === u?void 0:u[0]) && void 0 !== w?w:"",w=null !== (v=null === u || void 0 === u?void 0:u[1]) && void 0 !== v?v:"",p?p=this.Tn().oMb:(void 0 === q && this.V.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Tn().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):u || this.url;};n.prototype.Tn=function(){var p,q;(0,d.assert)(this.ha && this.pa.W.zj,"liveMetadata missing from manifest");p=this.pa.W.zj;p=p.kva[p.tka[this.Ub]];q=new Date(p.v2).getTime();return c.__assign(c.__assign({},p),{Mha:q,fVa:Math.max(0,this.pa.It - q - this.Z.K6),ON:Number(p.ON),N8:new l.N(Number(p.oWb),p.S),ve:new l.N(p.duration,p.S)});};n.prototype.zUb=function(p){var q,u,t,w,v,y,x,z,A;if(p){p.split(";").some(function(B){if(0 === B.indexOf("sc="))return (u=B.slice(3),!0);});if(u && (p=this.Z.sVa,this.pa.TOb() && (p=Math.max(p,this.Z.tVa)),!(m.default.time.Ga() - this.pa.Y2a < p))){(0,d.assert)(null === (q=this.pa.W.xA) || void 0 === q?void 0:q.Ep,"Missing pbcid for OC side channel message decryption.");q=new g.Hea(this.pa.W.xA.Ep).decrypt(u,!0);try{t=JSON.parse(q);w=t.time;v=Number(w);isNaN(v)?this.V.error(("Invalid live server time in OC side channel message. time:").concat(w)):this.pa.It=v;y=t["live-msg-start"];x=t["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== x && isNaN(new Date(x).getTime())?this.V.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(x)):this.pa.udb(y,x);z=t["encoder-tag"];A=t["encoder-region"];z && A || this.V.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(A));this.pa.Z4b(this.mediaType,{RA:z,QA:A});this.pa.Y2a=m.default.time.Ga();}catch(B){this.V.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}}}};n.prototype.wta=function(p){return !this.nQ.has(p);};n.prototype.Qqb=function(p){this.nQ.has(p)?this.V.trace("segment already blocked: " + p):(this.V.trace("addBlockedLiveSegment: " + p),this.nQ.add(p));};n.prototype.xYb=function(p){this.nQ.has(p) && (this.V.trace("removeBlockedSegment: " + p),this.nQ.delete(p));};n.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Ub,bitrate:this.bitrate,streamIndex:this.Kt,isAvailable:this.Qq,fittable:this.hv,vmaf:this.yb,resolutionWidth:this.lZb,resolutionHeight:this.yW};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ub + ":" + this.bitrate;};n.prototype.DNb=function(){var p,q,u,t,w,v,y;if(!this.Lh)return !0;if(this.track.Xna >= this.bitrate)return this.uJ=!0;if(this.track.K3a <= this.bitrate)return this.uJ=!1;(y=this.ha?this.Z.k7 * this.bitrate / 8 * (this.Z.QB + (null !== (q=null === (p=this.pa) || void 0 === p?void 0:p.wH.G) && void 0 !== q?q:0)) < this.Uea:this.Sa.Hub(this.Z.QB,this.Uea,null !== (t=null === (u=this.pa) || void 0 === u?void 0:u.wH.G) && void 0 !== t?t:0,null !== (v=null === (w=this.pa) || void 0 === w?void 0:w.wH.xa) && void 0 !== v?v:0,this.TOa))?this.track.kta && !this.gi && this.track.Ql || (this.track.Xna=this.bitrate):this.track.K3a=this.bitrate;return this.uJ=y;};n.prototype.jKb=function(){return c.__assign(c.__assign({},this.track.Vm()),{profile:this.Fd});};n.prototype.BGb=function(){return c.__assign(c.__assign({},this.track.Vm()),{profile:this.Fd,bitrate:this.bitrate});};n.prototype.UJb=function(){return c.__assign(c.__assign({},this.track.Vm()),{profile:this.Fd});};return n;})();b.Paa=r;},69028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.oI=void 0;a(62558);r=(function(){function c(l,f){c.xoa(this,l,f);}c.xoa=function(l,f,h){l.Dd=f;l.kc=h.xa;l.Ib=h.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Dd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xa:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.Dd.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Dd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Dd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ub:{get:function(){return this.Dd.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Dd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Dd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.Dd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{AG:{get:function(){return this.Dd.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Dd.ca;},enumerable:!1,configurable:!0}});c.prototype.u0b=function(l){this.Dd=l;};return c;})();b.oI=r;},46892:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lz=void 0;r=a(55011);a=a(551);c=(function(){function l(f,h){this.$w=f;this.oJ=h.qb;this.yu=h.xb;}Object.defineProperties(l.prototype,{qb:{get:function(){return void 0 !== this.oJ?this.oJ:this.$w.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xb:{get:function(){return void 0 !== this.yu?this.yu:this.$w.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S:{get:function(){return this.$w.S;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hn:{get:function(){return this.$w.hn;},enumerable:!1,configurable:!0}});l.prototype.QW=function(f){this.yu=f;};l.prototype.Sia=function(){this.yu=void 0;};return l;})();b.lz=c;(0,r.tk)(a.ow,c);},551:function(r,b,a){var f;function c(h,d){return void 0 === h?void 0:0 === h?f.N.Ia:new f.N(h,d);}function l(h,d){return void 0 === h || void 0 === d?void 0:h + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.ow=void 0;f=a(42866);r=(function(){function h(){}Object.defineProperties(h.prototype,{MA:{get:function(){var d,g;d=this.xb;g=this.qb;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uVb:{get:function(){return l(this.qb,this.hn);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qVb:{get:function(){return l(this.xb,this.hn);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ve:{get:function(){return c(this.MA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Na:{get:function(){return c(this.qb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eb:{get:function(){return c(this.xb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ab:{get:function(){return c(this.uVb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mb:{get:function(){return c(this.qVb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ata:{get:function(){return c(this.hn,this.S);},enumerable:!1,configurable:!0}});return h;})();b.ow=r;},78128:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.pI=void 0;c=a(5163);l=a(42866);f=a(87034);h=a(26218);d=a(62558);g=a(97810);m=a(61765);k=a(73098);n=a(92141);p=a(19616);r=(function(){function q(u,t,w){this.Z=t;this.V=w;this.Bu=new g.NLa();this.g1=0;this.eo=u.eo;this.pa=u.pa;this.mediaType=u.mediaType;this.WH=u.WH;this.pE=u.pE;this.mediaType === f.v.Y?(t=this.eo,w=c.__read(t.streams,1)[0],this.Epb=new n.cJ({w:t.maxWidth,Lq:t.maxHeight},{w:t.Gsa,Lq:t.Hsa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.sfa=k.zD.from({qt:w.framerate_value,Gs:w.framerate_scale}),this.Sfa=this.sfa.ca()),void 0 !== t.yqa && void 0 !== t.xqa && (this.oob=k.zD.from({qt:t.yqa,Gs:t.xqa}))):this.mediaType === f.v.ea && (this.Vmb=this.eo.streams[0].channels,this.Fpb=48E3);this.fb=(this.vJ=this.Sfa) && this.vJ.S;this.mediaType === f.v.Ka && (this.fb=1E3);this.xfa=this.pPa=!1;this.Xna=-Infinity;this.K3a=Infinity;u=q.gnb(this,u.np);t=u.maxBitrate;w=u.Lg;this.Ql=u.Ql;this.maxBitrate=t;this.Lg=w;this.Spb=w.reduce(function(v,y){v[y.Ub]=y;return v;},{});!1;}q.gnb=function(u,t){var w,v,y,x,z,A,B,D;w=u.Z;v=u.mediaType === f.v.Y;y=!1;x=0;z=[];if(u.mediaType === f.v.ea || u.mediaType === f.v.Y){A=u.eo;B=A.streams.some(function(C){return C.gi;});A.streams.forEach(function(C,F){var G,E,J;G=C.bitrate;E=!0;if(v){J=C.gi;E=t?!0:J === B;y=y || J;}E && G > x && (x=G);C=new p.Paa({wv:C,Kt:F,track:u,Qq:E},w,u.V);z.push(C);});}else if(u.mediaType === f.v.Ka){D=u.eo;A=D.downloadableIds["imsc1.1"];if(D=D.ttDownloadables["imsc1.1"])(A=new p.Paa({wv:D,Kt:0,track:u,Qq:!0,h3b:A,Jg:[]},w,u.V),z.push(A),u.Bu.set(A));}return {Ql:y,maxBitrate:x,Lg:z};};Object.defineProperties(q.prototype,{hV:{get:function(){return !this.Lh && 0 === this.g1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lh:{get:function(){var u;return this.mediaType === f.v.Ka?!0:this.ha?!(null === (u=this.Bu.value) || void 0 === u || !u.Lh):!!this.vo && !!this.Bu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kta:{get:function(){return this.pPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.pa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === f.v.Ka?this.eo.id:this.eo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$q:{get:function(){return this.Cob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.sfa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z6:{get:function(){return this.oob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yk:{get:function(){return this.Epb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Vmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.Fpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === f.v.Ka?this.eo.rawTrackType:this.eo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yH:{get:function(){return this.mediaType === f.v.Ka?this.eo.rawTrackType:this.eo.yH;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{AG:{get:function(){return this.Bob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vo:{get:function(){return this.Hc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YF:{get:function(){return this.Bu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kla:{get:function(){return this.Bu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{WU:{get:function(){return this.Lg.some(function(u){var t;return 1 < ((null === (t=u.Jg) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ha:{get:function(){return this.pa.ha;},enumerable:!1,configurable:!0}});q.prototype.ona=function(u){return this.OF()[u];};q.prototype.OF=function(){return this.Spb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Hra=function(){this.g1++;};q.prototype.f8=function(){0 < this.g1 && this.g1--;};q.prototype.Gra=function(u,t,w,v,y,x){if(this.ha || v && void 0 !== v.wr && (this.Lh || void 0 !== v.lf && v.lf.length)){if(u.gi || !u.track.Ql)this.pPa=!0;if(this.Lh)!this.xfa && !this.ha && v.lf && v.lf.length > this.vo.length && (this.Hc=new h.xea(this.mediaType,this.ca,v,y),this.Bu.O9a(),this.Xna=-Infinity,this.xfa=!0);else {this.RPa(t);this.Cob=x;if(w=w || this.Sfa)(this.QPa(w || this.Sfa),void 0 === this.S && this.SPa(w.S));this.ha || (this.Hc=new h.xea(this.mediaType,this.ca,v,y));if(u.gi || !u.track.Ql)this.xfa=!0;}}else this.ha || this.V && this.V.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.lTb=function(u){void 0 === this.Bu.value && this.Bu.set(u);};q.prototype.dxb=function(u){this.Lh || (this.SPa(u.S),this.RPa(u.AG),this.QPa(u.ca),this.Hc=u.vo,u.Kla.value?this.Bu.set(u.Kla.value):this.Bu.O9a());};q.prototype.Ms=function(u,t,w,v){var y;(0,d.assert)(this.YF);y=this.YF;this.ha && (t=Math.min(t,this.aB().G));return (0,m.Ms)(this.mediaType,u,y,t,w,v);};q.prototype.VK=function(u,t,w){var v,y,x,z,A;(0,d.assert)(this.YF);y=this.YF;if(this.ha){x=this.pa.W.zj;z=null === x || void 0 === x?void 0:x.d4;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.pa.m3a.endTime)(A=new Date(z).getTime() + this.Z.SOb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Tn().Mha,x=null !== (v=null === x || void 0 === x?void 0:x.c4) && void 0 !== v?v:0,t=A - t + x);}return (0,m.VK)(this.mediaType,u,y,t,w);};q.prototype.Vm=function(){switch(this.mediaType){case f.v.ea:return ((0,d.assert)(this.mediaType === f.v.ea),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,yH:this.yH,bitrate:this.Lg[this.Lg.length - 1].bitrate,sampleRate:this.sampleRate,$q:this.$q});case f.v.Y:return ((0,d.assert)(this.mediaType === f.v.Y),(0,d.assert)(void 0 !== this.Z6),(0,d.assert)(void 0 !== this.Yk),{J:this.pa.J,Ql:this.Ql,profile:this.profile,OFb:this.Z6.qt,NFb:this.Z6.Gs,yH:this.yH,Yk:this.Yk,maxWidth:this.Yk.Yk.w,maxHeight:this.Yk.Yk.Lq,Gsa:this.Yk.R6a.w,Hsa:this.Yk.R6a.Lq,$q:this.$q});case f.v.Ka:return ((0,d.assert)(this.mediaType === f.v.Ka),{profile:this.profile,yH:this.yH});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.aB=function(){(0,d.assert)(this.ha,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.N.Ma(Math.max(0,this.aZa() - this.Z.YL));};q.prototype.gIb=function(u){(0,d.assert)(this.ha,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.aZa() - u.G > 1E3 * this.pa.Qk.cPb?"DVR":"LIVE";};q.prototype.aZa=function(){var u;(0,d.assert)(this.ha,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.YF) && void 0 !== u?u:this.Lg[0]).Tn().fVa;};q.prototype.SPa=function(u){this.fb=u;};q.prototype.RPa=function(u){this.Bob=u;};q.prototype.QPa=function(u){new k.zD(u.S,u.Ba).ca();this.vJ=u;this.mediaType === f.v.Y && (this.sfa=k.zD.VFb(u));};return q;})();b.pI=r;},83350:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qaa=void 0;c=a(5163);a(36418);c.__importDefault(a(35471));a(62558);r=a(55011);l=a(35195);a=(function(f){function h(d,g,m,k,n,p,q,u){var t;t=c.__assign(c.__assign({},m),{offset:m.offset,xa:m.Wqa + 8,uG:void 0,responseType:0});k=f.call(this,d,g,"moof",t,k,n,p,q) || this;l.$p.va(k,d,n,m,u);k.FQb=k.Kub(m,t.xa);k.kXa(g,"mdat",m,k.FQb);return k;}c.__extends(h,f);h.prototype.Kub=function(d,g){var m;g={offset:d.offset + g,xa:d.xa - g};if(this.Ha){if(0 < this.Ha.start){m=this.MXa(this.Ha.start);m && (g.offset=d.offset + m,g.xa=d.xa - m);}this.Ha.end < this.Ns && (m=this.MXa(this.Ha.end)) && (g.xa-=d.xa - m);}return g;};h.prototype.toString=function(){return "ID: " + this.xj() + ":" + f.prototype.toString.call(this);};return h;})(a(64406).vY);b.Qaa=a;(0,r.tk)(l.$p,a);},10391:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yza=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.WWb=function(f){var h,d,g;h=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.yb?g.push(u):d.push(u);});if(0 !== g.length)for(var m=-1,k=-1,n=function(q){var u,t,w,v,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(m=d[(0,c.uha)(d,function(z){return z < u;})] || -1,k=d[(0,c.Uu)(d,function(z){return z > u;})] || -1);w=0;v=h.xQb;q=0;y=h.yQb;-1 < k && (v=f[k].bitrate,y=f[k].yb);-1 < m && (q=f[m].yb,w=f[m].bitrate);v=Math.log(v);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.a4=Math.max(0,Math.min(110,Math.round((q * (v - x) + y * (x - w)) / (v - w) * 100) / 100));},p=0;p < g.length;p++){n(p);}};return l;})();b.yza=r;},31549:function(r,b,a){var f,h,d,g,m,k,n;function c(p){return p && "function" === typeof p.vg?!0:!1;}function l(p){return c(p) && (p=typeof p.WMb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Mgb=b.cEb=b.VMb=b.Cfb=b.AsyncIterator=void 0;f=a(5163);h=a(49730);g=(function(){function p(q){var u;u=this;this.Tnb=q;this.GQ=!1;this.rpb=function(t){return u.OWb(t);};this.uUa();}p.r6=function(q,u){function t(){var w;w=q.next();w.then(function(v){l(q) && q.WMb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{ey:{get:function(){return this.GQ;},enumerable:!1,configurable:!0}});p.yHb=function(){return new m([]);};p.tna=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{HL:{get:function(){return this.$r || !1;},enumerable:!1,configurable:!0}});p.prototype.vg=function(){this.cancel();};p.prototype.cancel=function(){this.lPa();this.$r=!0;return this.Tea;};p.prototype.next=function(){return this.$r?this.Tea:Promise.race([this.Tea,this.Tnb()]).then(this.rpb);};p.prototype.OWb=function(q){q.done && (this.GQ=!0,this.vg());this.HL || (this.lPa(),this.uUa());return q;};p.prototype.uUa=function(){var q;q=this;this.Tea=new Promise(function(u){q.lPa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;m=(function(p){function q(u){var t;t=p.call(this,function(){return t.FIb();}) || this;t.vE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.vg=function(){c(this.vE) && this.vE.vg();p.prototype.vg.call(this);};q.prototype.FIb=function(){return this.vE.length > this.index?Promise.resolve({value:this.vE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.Cfb=m;b.VMb=c;b.cEb=l;k=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.fra();}) || this;v.console=t;v.Ck=w;v.uta=!1;Array.isArray(u)?v.NQ=new m(u):v.NQ=u;return v;}f.__extends(q,p);q.prototype.QWb=function(u){var t;this.uta=!1;t=this.console;h.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.xJ)return (c(u) && u.vg(),g.tna());Array.isArray(u)?this.Ck=new m(u):this.Ck=u;return this.fra();};q.prototype.PWb=function(u){var t;t=this.console;h.K && t && t.trace("CompoundIterator: processNextInnerResult",this.xJ,u.done);if(!u.done || this.xJ)return u;this.Ck=void 0;return this.fra();};q.prototype.vg=function(){var u;u=this.console;h.K && u && u.trace("CompoundIterator: dispose");this.xJ=!0;p.prototype.vg.call(this);c(this.NQ) && this.NQ.vg();c(this.Ck) && this.Ck.vg();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.xJ," ").concat(this.NQ," ").concat(this.Ck);};q.prototype.fra=function(){var u,t;u=this;t=this.console;h.K && t && t.trace("CompoundIterator: nextImpl");if(this.Ck)return (h.K && t && t.trace("CompoundIterator: getNextInner"),this.Ck.next().then(function(w){return u.PWb(w);}));this.uta=!0;h.K && t && t.trace("CompoundIterator: getNextOuter");return this.NQ.next().then(function(w){return u.QWb(w);});};return q;})(g);b.Mgb=k;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Knb();}) || this;v.source=u;v.iqa=t;v.kja=w;return v;}f.__extends(q,p);q.prototype.vg=function(){c(this.source) && this.source.vg();p.prototype.vg.call(this);};q.prototype.Knb=function(){var u,t,w;u=this.kja;t=this.iqa;w=this.source;h.K && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new k(p,q,u);};},89755:function(r,b,a){var f,h,d,g,m,k,n,p;function c(q,u){return q.done?q:{value:{value:q.value,mQa:u}};}function l(q){q.mQa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.mtb=b.Blb=b.OC=void 0;f=a(5163);r=a(57055);h=a(31549);d=a(49730);g=f.__importDefault(a(35471));m=a(97810);k=a(62558);a=a(55011);n=(function(){function q(u,t){this.console=u;this.Uf=t;this.Fob=this.vQ=0;this.hg=[];this.console=(0,m.Nh)(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{kBb:{get:function(){return this.vQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{RTa:{get:function(){var u,t,w;for(t=0;t < this.hg.length;t++){w=this.hg[t];if(!w.lU || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ey:{get:function(){return 0 === this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sua:{get:function(){var u;for(u=0;u < this.hg.length && this.hg[u].cpa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.hg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gra:{get:function(){var u;for(u=0;u < this.hg.length && this.hg[u].lU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.mF=function(){var u;if(void 0 === this.Uf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.uxa(this.gra - (this.Uf || 0));}};q.prototype.Ar=function(){return this.hg.map(function(u){return u.item;});};q.prototype.DX=function(){this.zf || (this.zf=this.hg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.zf;};q.prototype.uxa=function(u){var t;d.K && this.console.trace("updateCount",{nfc:this.Uf,Ln:u});if(void 0 !== this.Uf){t=this.hg[this.Uf];t && this.Doa(t);}this.Uf=void 0 === this.Uf?u:void 0 === u?u:this.Uf + u;void 0 !== this.Uf && (this.Uf=Math.max(0,this.Uf),(t=this.hg[this.Uf]) && t.gG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.gra;this.P2();return this.dXb(t,{value:u,done:!1}).HVa.promise;};q.prototype.M9a=function(){d.K && this.console.trace("resetEnd");this.uxa(void 0);};q.prototype.clear=function(u){var t,w,v;d.K && this.console.trace("clear");this.yta();t=this.sua;w=this.hg.length - t;if(0 < w){v={index:t,wra:w};d.K && this.console.trace("Removing items",v);this.hg.splice(t,w);this.P2();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.Doa(this.hg[w]);}this.Uf=void 0;this.uxa(u?u + t:u);this.vQ && (this.vQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,m.Nh)(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.XZa(w);},t);};q.prototype.jBb=function(){var u;if(0 < this.sua){u=f.__read(this.hg,1)[0];u.lU && (d.K && this.console.trace("dequeue",u.id),this.yta(1),this.emit("onDequeue",u.gG.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.hg.length;t++){w=this.hg[t];v=w.item;if(v && !v.done && v.value === u){this.hg.splice(t,1);this.Uf && this.Uf > t && this.Uf--;this.P2();d.K && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,wra:1});break;}}};q.prototype.yta=function(u){var t;u=u || Math.min(this.sua,this.gra);if(0 < u){t=this.hg.splice(0,u);this.P2();this.Uf && (this.Uf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.HVa.resolve();});});this.emit("onRemoved",{index:0,wra:u});this.vQ+=u;}};q.prototype.XZa=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.d1a(u);t=this.hg[u];t.cZb.resolve();u=t.gG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.dXb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.K && this.console.trace("Providing result",{lsb:u,item:w});this.d1a(u);u=this.hg[u];w=u.gG.resolve;w(t);return u;};q.prototype.d1a=function(u){var t;if(void 0 === this.hg[u]){t={};this.Doa(t);this.hg[u]=t;u === this.Uf && t.gG.resolve({done:!0});d.K && this.console.trace("Item initialized",{lsb:u});}};q.prototype.Dja=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(y){w(y);u && u(y);};t.reject=v;});return t;};q.prototype.Doa=function(u){var t;t=this;u.gG=this.Dja(function(w){u.item=w;u.lU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.cpa && !u.lU && (u.gG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.HVa=this.Dja();u.cZb=this.Dja(function(){u.cpa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.Fob++;u.cpa=!1;u.lU=!1;u.item=void 0;};q.prototype.P2=function(){this.zf=void 0;};q.prototype.hma=function(){var u,t,w;u=this;t=(0,m.Nh)(g.default,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var y,x;if(0 === u.count)return h.AsyncIterator.tna();y=u.XZa(v);x=u.hg[0];return y.then(function(z){return c(z,function(){w.HL || (x === u.hg[0]?u.jBb():(0,k.assert)(!u.hg.filter(function(A){return A.gG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.OC=n;(0,a.tk)(r.EventEmitter,n);p=(function(q){function u(t,w,v){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.FZb(y.index++);}) || this;y.parent=t;y.FZb=w;y.console=v;y.xJ=!1;y.index=0;y.Efa=!1;y.n6a=function(x){var z;z=x.index;x=x.wra;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.vg=function(){this.console.trace("disposed");this.xJ=!0;this.Ze();q.prototype.vg.call(this);};u.prototype.next=function(){this.HL || this.Coa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.Ze();return q.prototype.cancel.call(this);};u.prototype.Ze=function(){this.parent.ar("onRemoved",this.n6a);this.Efa=!1;};u.prototype.Coa=function(){this.Efa || (this.Efa=!0,this.parent.on("onRemoved",this.n6a));};return u;})(h.AsyncIterator);b.Blb=p;b.mtb=function(q){return (0,h.map)(q,l);};},62663:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aAa=void 0;c=a(5163);l=a(31549);f=a(49730);r=(function(){function h(d,g,m){this.V=d;this.Qmb=g;this.Ce=m;this.E0=0;this.$0=!1;this.kQ=[];this.LD=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Ce,"]: created"));}Object.defineProperties(h.prototype,{bAb:{get:function(){return this.E0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{n3:{get:function(){return this.$Na;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hi:{get:function(){return this.$0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cVa:{get:function(){return this.Ck?this.Ck.ey?"Complete":this.Ck.uta?"WaitingForBranch":void 0 !== this.LD && 0 !== this.LD?("In Policy ").concat(this.kQ[this.LD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.NOa);},enumerable:!1,configurable:!0}});h.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,m,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Ck;if(!d)return [3,6];this.LD=void 0;return [4,d.next()];case 1:(g=n.Ra(),m=0,n.label=2);case 2:if(!(m < this.kQ.length))return [3,5];this.LD=m;k=this.kQ[m];return [4,k.process(g)];case 3:(g=n.Ra(),n.label=4);case 4:return (m++,[3,2]);case 5:this.LD=void 0;if(g.done || this.Ck !== d)return [2,{done:!0}];this.E0++;g.value.mQa();return [2,{done:!1,value:g.value.value}];case 6:return [2,l.AsyncIterator.tna()];}});});};h.prototype.uZb=function(){this.jbb();this.LXb();};h.prototype.jbb=function(){var d;if(this.Ck){this.NOa=this.cVa;d=this.Ck;d && d.vg();this.kQ.forEach(function(g){return g.reset();});d && f.K && this.V.trace(("BranchRequestIterator [").concat(this.Ce,"]: Disposing iterator that was on branch "),this.n3 && this.n3.u.id);this.$0=!1;this.LD=this.Ck=void 0;}};h.prototype.Q1=function(d){this.kQ.push(d);};h.prototype.LXb=function(){var d,g,m,k;d=this;if(!this.$0){g=this.V;m=this.Qmb;k=this.Ce;this.E0=0;this.NOa=this.$Na=void 0;this.Ck=(0,l.flatten)((0,l.map)(m.AJb(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.$Na=n,this.E0=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Ce,"]: new branch ").concat(n.u.id)),[4,n.dB(k)]);case 1:if(p=q.Ra())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Ce,"]: skipping branch ").concat(n.u.id));return [2,{value:[]}];}});});},g),g);this.$0=!0;}};return h;})();b.aAa=r;},76666:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p){return p === d.v.Y?0:p === d.v.ea?1:p === d.v.Ka?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.aba=b.nz=b.Sjb=b.cI=void 0;l=a(5163);f=a(57055);h=a(49730);d=a(27364);g=l.__importDefault(a(35471));m=a(97810);k=a(62558);b.cI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Sjb={cI:b.cI};(function(p){p[p.$t=0]="CREATED";p[p.MO=1]="CANCELLED";})(n=b.nz || (b.nz={}));r=(function(){function p(q,u,t,w,v){this.Hi=q;this.sOa=u;this.wu=t;this.Ym=w;this.Ua=n.$t;this.JJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,m.Nh)(g.default,v,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Md:{get:function(){return this.Ua === n.MO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bd:{get:function(){return this.JJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.sOa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.va=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Mb && (u=q.Mb.wa(this.Ym),this.ew(u,"init from parent")),q.vO.then(function(){var w;if(!t.Md){w=t.parent;(0,k.assert)(w,"Parent is undefined after parent normalization");w.Mb && (w=w.Mb.wa(t.Ym),t.ew(w,"parent normalization"));}}));return [2];});});};p.prototype.ew=function(q,u){void 0 === u && (u="unknown");h.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.wu.G,".  ").concat(u));this.wu=q;};p.prototype.b_a=function(q){var t;if(!this.Md)for(var u=this.parent;u;){t=u.IF(q);if(t)return t;u=u.parent;}};p.prototype.Jf=function(){this.sOa=void 0;};p.prototype.z5=function(q){return this.Bd.some(function(u){return u.mediaType === q;});};return p;})();b.aba=r;},22494:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Zza=b.nz=void 0;c=a(5163);l=a(42866);f=a(42866);h=a(39139);d=a(27364);r=a(551);g=a(55011);m=a(62558);k=a(90187);n=a(1104);p=a(49730);q=a(58628);u=a(39656);t=a(13326);w=a(76666);v=a(6173);(function(x){x[x.$t=0]="CREATED";x[x.MO=1]="CANCELLED";})(y=b.nz || (b.nz={}));a=(function(x){function z(A,B,D,C,F,G,E,J,M,L,H,N,I){B=x.call(this,C,M,E,G,B) || this;B.Z=A;B.NV=D;B.CZa=F;B.ufa=J;B.oQ=L;B.bx=H;B.fI=N;B.wl=I;B.qv=new n.FP();B.pua=0;B.Gb=void 0;B.Wy=void 0;B.Ap=new f.rz();B.T5=new f.rz();B.Ira=B.hMb();return B;}c.__extends(z,x);Object.defineProperties(z.prototype,{Bd:{get:function(){var A;this.Vn && 0 === (null === (A=this.JJ) || void 0 === A?void 0:A.length) && this.CZa && (p.K && this.console.trace("Branch getting initial tracks"),this.JJ=this.CZa(this.pa).sort(w.cI),p.K && this.console.trace("Branch got initial tracks:",this.JJ));return this.JJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SJ:{get:function(){return this.Zh?this.Ts().every(function(A){return A.df.SJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{hRa:{get:function(){return this.Ts().some(function(A){return A.Srb;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lk:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.Lk);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zh:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.Zh);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mA:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.mA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wg:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.Wg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{vO:{get:function(){return this.Ap.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Vn:{get:function(){var A;return !(null === (A=this.fI) || void 0 === A || !A.pa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{y5:{get:function(){return !!this.Bd.length && this.Bd.every(function(A){return A.Lh;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pa:{get:function(){(0,m.assert)(this.fI.pa,"viewable should be available");return this.fI.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.S) || this.Ym.S;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qb:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.qb) && void 0 !== B?B:this.Ym.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xb:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.xb) && void 0 !== B?B:this.u.Nf.ef(this.Ym.S).Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{hn:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.hn) && void 0 !== B?B:this.ue.ef(this.S).Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dy:{get:function(){var A,B,D;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.dy) && void 0 !== B?B:null === (D=this.Ym) || void 0 === D?void 0:D.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{WK:{get:function(){var A,B;B=null === (A=this.u.u.Fq) || void 0 === A?void 0:A[0];return B && this.Na?l.N.Ma(Math.max(0,B[0] - this.Na.G - this.u.Vd.G)):l.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fr:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.fr) && void 0 !== B?B:this.u.Vd.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{TG:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.TG) && void 0 !== B?B:this.u.Nf.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{G6:{get:function(){var A;return null === (A=this.gd) || void 0 === A?void 0:A.G6;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ue:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.ue) && void 0 !== B?B:this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Dr:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.Dr) && void 0 !== B?B:this.u.Nf.wa(this.Ym || this.u.Vd);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jl:{get:function(){var A;return null === (A=this.gd) || void 0 === A?void 0:A.Jl;},enumerable:!1,configurable:!0}});z.prototype.va=function(){return c.__awaiter(this,void 0,void 0,function(){var A,B,D;D=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.va.call(this);if(this.Md)return [2];p.K && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.fI.va(this)];case 1:C.Ra();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.Md?"cancelled":"active"));if(this.Md)return [2];A=this.Bd.map(function(F){var G;return null === (G=D.parent) || void 0 === G?void 0:G.sL(F.mediaType);});this.Z$a(this.Ym);this.Bd.some(function(F){F.mediaType === d.v.Ka && D.nab(F);});return [4,this.xXa()];case 2:return (C.Ra(),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.Md?[2]:(B=this.parent)?[4,B.vO]:[3,4]);case 3:C.Ra();if(this.Md)return [2];this.izb(A);C.label=4;case 4:return (this.normalize(),[2]);}});});};z.prototype.izb=function(A){var B;B=this;this.qv.forEach(function(D){var C,F;F=null === (C=B.parent) || void 0 === C?void 0:C.sL(D.mediaType);(0,m.assert)(F,"Parent state should be defined");-1 === (null === A || void 0 === A?void 0:A.indexOf(F)) && (D.cl.Ae.Qa(),C=new k.qea(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.sL(D.mediaType);}),D.cl.Ae=C);F=void 0;});A=void 0;};z.prototype.xXa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.y5?this.T5.resolve():(this.pa.events.on("onHeaderFragments",this.Ira),this.events.emit("needsRequest"));return [2,this.T5.promise];});});};z.prototype.hMb=function(){var A;A=this;return function(){!A.Md && A.y5 && (A.pa.events.ar("onHeaderFragments",A.Ira),A.T5.resolve());};};z.prototype.normalize=function(){this.Md || (this.gd=new v.KHa(this,this.Z,this.console,this.pa,this.NV,this.Hi,this.Ym,this.qv.items,this.wu,this.ufa,this.oQ,this.events,this.bx,this.wl),this.Eka(this.gd.KA),this.Ap.resolve(this.gd));};z.prototype.kN=function(){var A;null === (A=this.gd) || void 0 === A?void 0:A.kN();};z.prototype.update=function(A){var B;this.Hi=A;(null === (B=this.gd) || void 0 === B?0:B.update(A)) && this.Eka(!0);};z.prototype.ew=function(A,B){var D;void 0 === B && (B="unknown");x.prototype.ew.call(this,A,B);null === (D=this.gd) || void 0 === D?void 0:D.ew(A);};z.prototype.dB=function(A){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(D){switch(D.label){case 0:return [4,this.Ap];case 1:return (B=D.Ra(),[2,null === B || void 0 === B?void 0:B.dB(A)]);}});});};z.prototype.reset=function(){var A;null === (A=this.gd) || void 0 === A?void 0:A.reset();};z.prototype.Jf=function(A){var B;void 0 === A && (A="other");x.prototype.Jf.call(this,A);this.Ua=y.MO;this.Vn && this.pa.events.ar("onHeaderFragments",this.Ira);null === (B=this.gd) || void 0 === B?void 0:B.Jf(A);this.qv.forEach(function(D){D.cancel();D.cl.Ae.Qa();});this.fI.Qa();this.Wy && (this.Wy.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.Wy),h.WC.instance.B3(this.Wy),this.Wy=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:A});this.events.removeAllListeners();};z.prototype.Y5=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.Y5(A));};z.prototype.cf=function(A){var B;return null === (B=this.gd) || void 0 === B?void 0:B.cf(A);};z.prototype.z5=function(A){return this.Bd.some(function(B){return B.mediaType === A;});};z.prototype.Ts=function(A){var B,D;void 0 === A && (A=w.cI);return null !== (D=null === (B=this.gd) || void 0 === B?void 0:B.Ts(A)) && void 0 !== D?D:[];};z.prototype.sL=function(A){var B,D;return (null === (B=this.cf(A)) || void 0 === B?void 0:B.cl.Ae) || (null === (D=this.qv.get(A)) || void 0 === D?void 0:D.cl.Ae);};z.prototype.Z4=function(){var A,B,D;if(!this.y5)return this.qv.items;D=null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.Z4()) && void 0 !== B?B:[];p.K && this.console.trace("getMediaStreamables returning:",D);return D;};z.prototype.IF=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.IF(A)) || this.qv.get(A);};z.prototype.Rn=function(A,B){var D;return (null === (D=this.gd) || void 0 === D?void 0:D.Rn(A,B)) || 0;};z.prototype.bL=function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.bL()) || ({});};z.prototype.iT=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.iT(A)) || this.dy.G;};z.prototype.Sy=function(A,B,D){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,E,J;J=this;return c.__generator(this,function(M){switch(M.label){case 0:p.K && this.console.trace("Branch.setTracks:",A);this.JJ=A.sort(w.cI);this.Z$a(B);if(!this.Wg)return [3,4];(0,m.assert)(this.gd);C=this.qv.filter(function(L){return L.track.Lh;}).items;F=this.gd.xdb(C,B,D);G=F.tS;E=F.KA;G && this.Eka(E);if(this.y5)return [3,4];this.T5=new f.rz();this.Ap=new f.rz();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.xXa()];case 1:return (M.Ra(),this.Md?[2]:this.parent?[4,this.parent.vO]:[3,3]);case 2:(M.Ra(),M.label=3);case 3:(this.gd.xdb(this.qv.items,B,D),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.Ap.resolve(this.gd),this.events.emit("needsRequest"),M.label=4);case 4:return (A.some(function(L){if(L.mediaType === d.v.Ka)return (J.nab(L),!0);}),[2]);}});});};z.prototype.nab=function(A){var B;B=this;this.Gb=A;this.Wy || (this.Wy=(0,u.Gx)(d.v.Ka,this.pa,this.Z,this.console,!0,function(D){B.NV.emit("transportReport",D);},function(){},function(D,C){return B.console.error("Handled text streaming error",{failure:D,code:C});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.Wy));};z.prototype.Z$a=function(A){var B,D;B=this;this.pua=0;D=this.Bd;this.pa.ha || (D=D.filter(function(C){return C.mediaType !== d.v.Ka;}));D=D.map(function(C){var F;F=B.qv.find(function(G){return G.track === C;});F || (++B.pua,F=new t.aEa(B,C,function(){var G;return null !== (G=null === A || void 0 === A?void 0:A.add(B.ue)) && void 0 !== G?G:l.N.Ia;},null !== A && void 0 !== A?A:l.N.Ia,B.Z,B.console,function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.sL(C.mediaType);},B.NV,function(){0 === --B.pua && B.events.emit("requestQueuesCreated");}));return F;});this.qv=new n.FP(D);};z.prototype.pn=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.pn(A)) || [];};z.prototype.mK=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.mK(A));};z.prototype.N4=function(A){return this.gd?this.gd.N4(A):l.N.Ia;};z.prototype.M$=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.M$(A));};z.prototype.Eka=function(A){A={type:"branchNormalized",segmentContentStart:this.u.Vd,branchContentStart:this.Na,branchContentEnd:this.eb,didNormalizeSegment:A};this.events.emit(A.type,A);p.K && this.console.trace("branchNormalized:",A);};z.prototype.toJSON=function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.toJSON()) || ({});};return z=c.__decorate([q.wF],z);})(w.aba);b.Zza=a;(0,g.tk)(r.ow,a);},13326:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aEa=void 0;c=a(39656);l=a(39139);f=a(27364);h=a(90187);d=a(35548);g=a(62558);r=(function(){function m(k,n,p,q,u,t,w,v,y){this.wb=k;this.track=n;this.Q1b=p;this.K1b=q;this.config=u;this.console=t;this.events=v;this.DTb=y;this.XB=0;this.W7a=this.Zh=!1;this.cl=this.Hzb(w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.wb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$g:{get:function(){return this.wb.$g;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{m$:{get:function(){return this.Q1b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jl:{get:function(){return this.m$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{AC:{get:function(){return this.m$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wbb:{get:function(){return this.K1b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WK:{get:function(){return this.wb.WK;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fj:{get:function(){return this.oe || (this.oe=this.Gx());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lk:{get:function(){return !this.track.hV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{usa:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.zB=function(){return this.track.hV;};m.prototype.dt=function(){return this.track.Lh;};m.prototype.Wg=function(){return !1;};m.prototype.uZa=function(){return {La:[],r8:0,dr:0,hN:0};};m.prototype.V3b=function(){var k;(0,g.assert)(this.dt());k=this.Fj;this.oe=void 0;return k;};m.prototype.Ucb=function(k){return (k=k.ZH(this.wb.u,this.Fj))?{Mh:k,reason:"success"}:{Mh:k,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.oe && (this.wb.pa.kR(this.mediaType,this.oe),l.WC.instance.B3(this.oe),this.oe.removeAllListeners(),this.oe=void 0);};m.prototype.Y1a=function(){var k,n,p;p=this.config.mo;if(null === (k=this.Fj) || void 0 === k?0:k.track)p=null === (n=this.Fj) || void 0 === n?void 0:n.track.mo;return p;};m.prototype.wT=function(){return this.wb.b_a(this.mediaType);};m.prototype.Hzb=function(k){var n,p,q;n=this.mediaType === f.v.ea?this.config.ftb:this.track.ha?this.config.bPb:this.config.ubb;k=new h.qea(k);k.z0b(this.track);p=this.config;q=this.mediaType;return new d.YP(n,this.config,k,p.T3 || q === f.v.ea && p.Q3 || q === f.v.Y && p.R3);};m.prototype.Gx=function(){var k,n;k=this;n=(0,c.Gx)(this.mediaType,this.track.pa,this.config,this.console,this.track.ha,function(p){return k.events.emit("transportReport",p);},function(p){return k.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.DTb);return n;};return m;})();b.aEa=r;},6173:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v;function c(y,x){return (y.mediaType === k.v.Y?0:1) - (x.mediaType === k.v.Y?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.KHa=b.olb=void 0;l=a(5163);f=a(42866);h=a(42866);d=a(99739);g=a(57196);m=a(31549);k=a(27364);n=a(40115);p=a(62558);q=l.__importDefault(a(35471));r=a(551);u=a(55011);t=a(1104);w=a(7460);v=a(97810);b.olb={cI:c};a=(function(y){function x(z,A,B,D,C,F,G,E,J,M,L,H,N,I){var K,O;O=y.call(this,D) || this;O.wb=z;O.Z=A;O.pa=D;O.NV=C;O.Hi=F;O.wu=J;O.ufa=M;O.oQ=L;O.events=H;O.bx=N;O.wl=I;O.kj=new t.FP([]);O.$r=!1;O.GOa=0;O.VNa=O.dTb.bind(O);(0,p.assert)(D.J === O.u.J || isNaN(D.J) && isNaN(O.u.J));z=F.id && F.id.length?"{" + F.id + "}":"";O.console=(0,v.Nh)(q.default,B,z);O.Ym=null !== G && void 0 !== G?G:O.u.Vd;B=O.parent;O.kPa=null === B || void 0 === B?void 0:B.Mb;null === (K=O.oQ) || void 0 === K?void 0:K.addListener(O.VNa);E=O.DUa(E,O.Ym,!!B).KA;O.KA=E;return O;}l.__extends(x,y);Object.defineProperties(x.prototype,{Md:{get:function(){return this.$r;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Lk:{get:function(){return this.kj.every(function(z){return z.Lk;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Zh:{get:function(){return this.kj.every(function(z){return z.Zh;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mA:{get:function(){return this.Ts().reduce(function(z,A){return z + A.mA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wg:{get:function(){return this.Ts().every(function(z){return z.Wg();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Bd:{get:function(){return this.wb.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{S:{get:function(){return this.TQ.S;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qb:{get:function(){return this.TQ.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xb:{get:function(){return this.TQ.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hn:{get:function(){return this.ue.ef(this.S).Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dy:{get:function(){return this.Ym.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fr:{get:function(){return this.u.Vd.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{TG:{get:function(){return this.u.Nf.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{G6:{get:function(){return this.kj.reduce(function(z,A){return z && A.Mb?f.N.max(z,A.Mb):A.Mb?A.Mb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Jl:{get:function(){return this.kj.reduce(function(z,A){A=A.Jl;return z && A?f.N.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Dr:{get:function(){return this.TQ.Dr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ue:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.wb.parent;},enumerable:!1,configurable:!0}});x.prototype.xdb=function(z,A,B){var D;void 0 === A && (A=null !== (D=this.Na) && void 0 !== D?D:this.Ym);return this.DUa(z,A,B);};x.prototype.kN=function(){var z,A,B,D;if(this.YD){B=this.Hi;D=l.__read(this.YD.kN(B,B.Nf),2);B=D[0];D=D[1];(0,p.assert)(B && D,"branch.renormalize: lastFragment should be defined");null === (z=this.cf(k.v.ea)) || void 0 === z?void 0:z.truncate(B);null === (A=this.cf(k.v.Y)) || void 0 === A?void 0:A.truncate(D);this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Nf.nra(this.Hi.Nf);this.Hi=z;return A && this.YD?(this.kN(),!0):!1;};x.prototype.ew=function(z){this.ue.equal(z) || (this.wu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.dB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ra(),(A=this.cf(z))?[2,A.dB()]:[2,m.AsyncIterator.yHb()]);}});});};x.prototype.lR=function(){this.kj.forEach(function(z){return z.lR();});};x.prototype.reset=function(){this.kj.forEach(function(z){z.reset();});};x.prototype.Jf=function(z){var A,B;this.$r || (this.$r=!0,null === (A=this.YD) || void 0 === A?void 0:A.Ze(),this.YD=void 0,this.kj.forEach(function(D){D.Jf("aborted" === z);}),null === (B=this.oQ) || void 0 === B?void 0:B.removeListener(this.VNa));};x.prototype.Y5=function(){return !0;};x.prototype.cf=function(z){return this.kj.get(z);};x.prototype.Ts=function(z){void 0 === z && (z=c);return this.kj.items.slice().sort(z);};x.prototype.Z4=function(){return this.kj.items;};x.prototype.IF=function(z){return this.cf(z);};x.prototype.Rn=function(z,A){z=this.cf(z);if(!z)return 0;if(A)return z.p9;A=z.dS;if(void 0 === A)return 0;z=this.ufa();return A - z;};x.prototype.bL=function(){var z,A,B,D,C,F,G;G=null === (z=this.cf(k.v.ea)) || void 0 === z?void 0:z.W2;z=null === (A=this.cf(k.v.Y)) || void 0 === A?void 0:A.W2;return {Z$:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,J1:null !== (D=null === G || void 0 === G?void 0:G.G) && void 0 !== D?D:0,TX:null !== (C=null === z || void 0 === z?void 0:z.xa) && void 0 !== C?C:0,nR:null !== (F=null === G || void 0 === G?void 0:G.xa) && void 0 !== F?F:0};};x.prototype.iT=function(z){var A;return (z=this.cf(z))?null !== (A=z.dS) && void 0 !== A?A:0:0;};x.prototype.pn=function(z){var A;z=this.cf(z);A=this.pa.ha;return (null === z || void 0 === z?void 0:z.pn(A)) || [];};x.prototype.dTb=function(z){z=z.newValue;(0,k.Xn)(z) && this.XD();};x.prototype.mK=function(z){return this.kj.every(function(A){return A.mK(z);});};x.prototype.N4=function(z){var A,B;return null !== (B=null === (A=this.kj.get(z)) || void 0 === A?void 0:A.dAb) && void 0 !== B?B:f.N.Ia;};x.prototype.M$=function(z){var A,B,D;A=this.TQ.gOb;if(!A)return !1;z=(0,h.xc)(z,function(C){return A.G <= C.Na.G;});if(!z)return !1;B=z.Na;z=!1;D=l.__read((0,w.fua)(this.Z,this.kj,B),2);B=D[0];if(D=D[1])(this.cf(k.v.Y).truncate(D),z=!0);B && (this.cf(k.v.ea).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.cr=function(z,A){this.$r || ((0,p.assert)(!z.Le),this.XD(),this.events.emit("requestComplete",{type:"requestComplete",wb:this.wb}),this.Zh && this.Yob());this.tF(z,A);};x.prototype.DM=function(z,A){this.Z.NWa && this.XD(!0);this.$S(z,A);};x.prototype.BM=function(z){this.Z.NWa && this.XD(!0);this.ZK(z);};x.prototype.DUa=function(z,A,B){var D,C,F;D=this;C=new t.FP();F=!1;z.forEach(function(G){var E;E=D.kj.find(function(J){return J.track === G.track;});void 0 === E?(F=!0,E=new d.oJa(D,D.Z,D.console,D.NV,D.wb,G.track,A,G.cl,!0,G.V3b(),D.bx,D.wl),D.rMb(E)):(D.kj.remove(E),E.lR());C.add(E);});this.kj.forEach(function(G){return G.Jf();});this.kj=C;return F?this.normalize(A,B):{tS:!1,KA:!1};};x.prototype.rMb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Lk && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,A){var B;null === (B=this.YD) || void 0 === B?void 0:B.Ze();this.YD=new n.pJa({console:this.console,config:this.Z,pa:this.pa,u:this.u,bC:this.kj,Na:z,eb:this.u.Nf,splice:A});this.TQ=this.kj.lta;A=this.YD.normalize();z=A.tS;A=A.KA;z && this.kPa && (this.wu=this.kPa.wa(this.Na));return {tS:z,KA:A};};x.prototype.R0b=function(z){var A;return (0,k.Xn)((null === (A=this.oQ) || void 0 === A?void 0:A.value) || k.Yc.rm) && (!z || this.GOa + this.Z.Oqa < q.default.time.Ga());};x.prototype.XD=function(z){void 0 === z && (z=!1);this.R0b(z) && (this.GOa=q.default.time.Ga(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Yob=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.u.id,branchOffset:null === (z=this.ue) || void 0 === z?void 0:z.G,viewableId:this.Hi.J,contentStartPts:null === (A=this.Na) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.eb) || void 0 === B?void 0:B.G};};return x;})(g.NC);b.KHa=a;(0,u.tk)(r.ow,a);},86787:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B;function c(D){return function(){return ("[").concat(D,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.tIa=b.nz=void 0;l=a(5163);f=a(88458);h=a(36418);d=a(50954);g=a(42866);m=a(78128);k=a(27364);r=a(551);n=a(46541);p=a(55011);q=a(89755);u=a(62558);t=a(38509);w=a(97810);v=l.__importDefault(a(35471));y=a(73098);x=a(92141);z=a(49730);A=a(58628);a=a(76666);(function(D){D[D.$t=0]="CREATED";D[D.MO=1]="CANCELLED";})(B=b.nz || (b.nz={}));a=(function(D){function C(F,G,E,J,M,L){F=D.call(this,G,J,E,g.N.Ia,(0,w.Nh)(v.default,F,"AsePadding")) || this;F.pa=M;F.config=L;F.eI=new q.OC(F.console);F.qA=new q.OC(F.console);F.Ap=new g.rz();F.console.trace(("PaddingBranch {").concat(G.id,"}: created"));return F;}l.__extends(C,D);C.prototype.Lyb=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z;return l.__generator(this,function(na){switch(na.label){case 0:return [4,this.tWb()];case 1:G=na.Ra();E=G.Qf;J=G.ud;M=G.bitrate;L=G.$q;H=t.e0.instance();N=H.IJb(J,M,L);I=new g.N(N.duration);K=new g.N(N.ca);O=K.S;R=N.profile;Y=N.bitrate;oa=N.channels;ka={E1a:!0,mediaType:k.v.ea,Fd:R,profile:R,S:O,Jg:[{bf:0,data:N.va}],Lh:!0,ca:K,Qf:E,pa:this.pa,bitrate:Y,Ub:("").concat(d.un),track:{trackId:"1",mediaType:k.v.ea,Ql:!1,ca:K,pa:this.pa,channels:oa,sampleRate:48E3,profile:R,Lg:[],$q:L,toString:c(k.v.ea)},toJSON:function(){return {mediaType:ka.mediaType,Ub:ka.Ub,bitrate:ka.bitrate};}};ka.Vm=ka.track.Vm=m.pI.prototype.Vm.bind(ka.track);ka.track.Lg.push(ka);ha=(0,w.Nh)(v.default,this.console,"[0]");this.qA=new q.OC(ha);za=new g.N(N.ca);Ca=this.config.Bm?E:g.N.Ia;La=Ca.add(I);z.K && ha.trace(("PaddingBranch: audio target duration is ").concat(F.mb()));Wa=g.N.Ia;db=this.config.Bm?-Math.ceil(E.Ni(K)):0;ja=Ca;for(sa=!0;ja.lessThan(F);){ja=ja.add(I);ja.greaterThan(F) && (U=I.Ni(za) - Math.floor(ja.wa(F).Ni(za)));Q=ja.fi(F);P=sa?0:Q?F.G:void 0;Z=new n.Laa(N.va,N.ka,ka,O,Ca.ef(O).Ba,La.ef(O).Ba,za,ha,this.u,this.HYa.bind(this,O,Wa),P,sa,Q);Z.yi({start:db,end:U});z.K && ha.log(("PaddingBranch: enqueing request ").concat(Z,", edit: ").concat(JSON.stringify({start:db,end:U}),", ") + ("offset ").concat(Wa.mb()));this.qA.enqueue(Z);Wa=Wa.add(I);db=void 0;sa=!1;}this.qA.mF();return [2];}});});};C.prototype.Szb=function(){var F,G,E;return l.__awaiter(this,void 0,void 0,function(){var J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja,sa,Q,P,Z,na,qa,Ha,Ya,Va,rb;return l.__generator(this,function(mb){switch(mb.label){case 0:return [4,this.vWb()];case 1:J=mb.Ra();M=J.profile;L=J.lx;H=J.$q;N=f.dI.some(function(Fb){return -1 !== M.indexOf(Fb);})?M:f.dI[0];I=t.e0.instance();K=null === (E=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(k.v.Y)) || void 0 === G?void 0:G.track.ca) || void 0 === E?void 0:E.V8a();(0,u.assert)(K,"padding branches should always have a frameRate");O=I.JJb(this.pa.l6b,N,K,L,H);R=new g.N(O.duration);Y=O.profile;oa=O.bitrate;ka=O.width;ha=O.height;za=O.Wc;Ca=O.Xc;La=O.ca.S;Wa=new g.N(O.ca);db=new y.zD(La,O.ca.Ba);U={E1a:!0,mediaType:k.v.Y,Fd:Y,profile:Y,S:La,Jg:[{bf:0,data:O.va}],Lh:!0,Ub:("").concat(d.un),ca:Wa,pa:this.pa,bitrate:oa,track:{trackId:"1",mediaType:k.v.Y,Ql:!1,ca:Wa,frameRate:db,Z6:db,Yk:new x.cJ({w:ka,Lq:ha},{w:za,Lq:Ca}),pa:this.pa,profile:Y,Lg:[],$q:H,toString:c(k.v.Y)},toJSON:function(){return {mediaType:U.mediaType,Ub:U.Ub,bitrate:U.bitrate};}};U.Vm=U.track.Vm=m.pI.prototype.Vm.bind(U.track);ja=new h.Co(this.console,U,O.va,["moov"],!0,{V9a:!0,psa:!0});sa={ca:Wa};Q=ja.parse(sa);(0,u.assert)(Q.st,"Failed to parse padding fragment header");(0,u.assert)(Q.Jg,"Failed to get initialization segments from padding fragment header");U.Jg=Q.Jg;U.Lh=!0;z.K && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),U);U.track.Lg.push(U);P=(0,w.Nh)(v.default,this.console,"[1]");Z=Math.ceil(this.Aqa.Ni(R));na=R.Bv(Z);qa=this.u.Vd;Ha=qa.add(na).ef(this.S);z.K && P.trace(("PaddingBranch: ").concat(Z," fragments of ").concat(R.mb(),", ") + ("duration ").concat(na.mb(),", ") + ("c: ").concat(qa.mb(),"-").concat(Ha.mb(),", "));this.u.normalize(qa,Ha,[]);for(Ya=g.N.Ia;Ya.lessThan(na);){Va=Ya.add(R);rb=new n.Laa(O.va,O.ka,U,La,0,R.ef(La).Ba,Wa,P,this.u,this.HYa.bind(this,La,Ya),void 0,Ya.equal(g.N.Ia),Va.fi(na));z.K && P.trace(("PaddingBranch: appended ").concat(rb));this.eI.enqueue(rb);Ya=Va;}this.eI.mF();this.S5b=na;return [2,{duration:na}];}});});};Object.defineProperties(C.prototype,{Lk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Zh:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{mA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Wg:{get:function(){return this.Ap.Cua;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{vO:{get:function(){return this.Ap.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Vn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{S:{get:function(){return this.u.Vd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{qb:{get:function(){return this.u.Vd.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{xb:{get:function(){return this.u.Nf.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{hn:{get:function(){return this.ue.ef(this.S).Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{dy:{get:function(){return this.u.Vd.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{WK:{get:function(){(0,u.assert)(!this.u.u.Fq,"exit zone not supported for padding segments");return g.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{SJ:{get:function(){return this.qA && this.eI?this.qA.ey && this.eI.ey:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{hRa:{get:function(){return !(!this.qA && !this.eI);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{fr:{get:function(){return this.u.Vd.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{TG:{get:function(){return this.u.Nf.add(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{G6:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Jl:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ue:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Aqa:{get:function(){var F;return null !== (F=this.WOa) && void 0 !== F?F:this.u.Nf.wa(this.u.Vd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Dr:{get:function(){return g.N.Ia;},enumerable:!1,configurable:!0}});C.prototype.va=function(){return l.__awaiter(this,void 0,void 0,function(){var F;return l.__generator(this,function(G){switch(G.label){case 0:(D.prototype.va.call(this),G.label=1);case 1:return (G.Oj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.vO]:[3,3]);case 2:(G.Ra(),G.label=3);case 3:return (this.WOa=this.u.Nf.wa(this.u.Vd),[4,this.MUa([k.v.ea,k.v.Y])]);case 4:return (G.Ra(),this.Ap.resolve(),[3,6]);case 5:F=G.Ra();if(!this.Md)throw F;return [3,6];case 6:return [2];}});});};C.prototype.update=function(F){this.Hi=F;};C.prototype.dB=function(F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(F,")"));return F === k.v.ea?[2,this.qA.hma()]:[2,this.eI.hma()];});});};C.prototype.reset=function(){};C.prototype.Jf=function(F){void 0 === F && (F="other");D.prototype.Jf.call(this,F);this.Ua=B.MO;this.WOa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:F});this.events.removeAllListeners();};C.prototype.Y5=function(){return !0;};C.prototype.cf=function(){};C.prototype.z5=function(F){return [k.v.ea,k.v.Y].some(function(G){return G === F;});};C.prototype.Ts=function(){return [];};C.prototype.sL=function(F){var G;return null === (G=this.parent) || void 0 === G?void 0:G.sL(F);};C.prototype.Z4=function(){return [];};C.prototype.IF=function(){};C.prototype.Rn=function(){return this.Aqa.G;};C.prototype.bL=function(){return {};};C.prototype.iT=function(){return this.u.Nf.G;};C.prototype.Sy=function(F,G,E,J){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(M){switch(M.label){case 0:return [4,this.Ap.promise];case 1:return (M.Ra(),this.parent?[4,this.parent.vO]:[3,3]);case 2:(M.Ra(),M.label=3);case 3:return [4,this.MUa(J)];case 4:return (M.Ra(),[2]);}});});};C.prototype.MUa=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E;return l.__generator(this,function(J){switch(J.label){case 0:G=g.N.Ia;if(-1 === F.indexOf(k.v.Y))return [3,2];this.eI.clear();return [4,this.Szb()];case 1:(E=J.Ra(),G=E.duration,J.label=2);case 2:if(-1 === F.indexOf(k.v.ea))return [3,4];this.qA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(G.mb()));return [4,this.Lyb(this.S5b)];case 3:(J.Ra(),J.label=4);case 4:return [2];}});});};C.prototype.pn=function(){return [];};C.prototype.mK=function(F){var G,E;return !!((null === (G=this.Mb) || void 0 === G?0:G.greaterThan(F)) && (null === (E=this.Ab) || void 0 === E?0:E.lessThan(F)));};C.prototype.N4=function(){return this.Aqa;};C.prototype.M$=function(){return !1;};C.prototype.toJSON=function(){var F,G;return {segment:this.u.id,viewableId:this.Hi.J,contentStartPts:null === (F=this.Na) || void 0 === F?void 0:F.G,contentEndPts:null === (G=this.eb) || void 0 === G?void 0:G.G};};C.prototype.vWb=function(){var F,G,E,J,M,L,H;return l.__awaiter(this,void 0,void 0,function(){var N,I,K,O;return l.__generator(this,function(R){switch(R.label){case 0:return (N=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(k.v.Y)) || void 0 === G?void 0:G.Ae.$n)?[3,2]:[4,null === (J=null === (E=this.parent) || void 0 === E?void 0:E.cf(k.v.Y)) || void 0 === J?void 0:J.Ae.zeb];case 1:R.Ra();if(this.Md)return [2,Promise.reject()];R.label=2;case 2:return (N=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.cf(k.v.Y)) || void 0 === L?void 0:L.Ae.$n,(0,u.assert)(N,"Parent of padding branch must have last selected video stream"),I=null === (H=N.track.Yk) || void 0 === H?void 0:H.lx,K=N.track.$q,O=N.Fd,[2,{profile:O,lx:I,$q:K}]);}});});};C.prototype.tWb=function(){var F,G,E,J,M,L;return l.__awaiter(this,void 0,void 0,function(){var H,N,I,K,O;return l.__generator(this,function(R){switch(R.label){case 0:return (H=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(k.v.ea)) || void 0 === G?void 0:G.Ae.$n)?[3,2]:[4,null === (J=null === (E=this.parent) || void 0 === E?void 0:E.cf(k.v.ea)) || void 0 === J?void 0:J.Ae.zeb];case 1:R.Ra();if(this.Md)return [2,Promise.reject()];R.label=2;case 2:return (H=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.cf(k.v.ea)) || void 0 === L?void 0:L.Ae.$n,(0,u.assert)(H,"Parent of padding branch must have last selected audio stream"),N=H.Qf || g.N.Ia,I=-1 !== H.profile.indexOf("heaac")?"heaac":"ddp",K=H.bitrate,O=H.track.$q,[2,{Qf:N,ud:I,bitrate:K,$q:O}]);}});});};C.prototype.HYa=function(F,G){return this.wu.add(G).ef(F).Ba;};return C=l.__decorate([A.wF],C);})(a.aba);b.tIa=a;(0,p.tk)(r.ow,a);},74029:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eUa=void 0;c=a(50954);l=a(42866);f=a(42663);h=a(22494);b.eUa=function(d){var g,m,k,n,p,q,u,t,w,v,y,x;g=d.config;m=d.console;k=d.Wsa;n=d.u;p=d.events;q=d.pH;u=d.Ym;t=d.ue;w=d.Ps;v=d.jf;y=d.Hd;x=d.fI;d=d.pSa;n.J === c.un && g.kF?(p=new f.uIa(n.J,g.lsa),q=l.N.Ia,g=new (a(86787).tIa)(m,n,q,k.e5.bind(k),p,g)):g=new h.Zza(g,m,p,n,q,u,t,w,k.e5.bind(k),v,y,x,d);return g;};},23800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SC=void 0;c=a(15913);l=a(62558);r=(function(){function f(h){this.config=h;this.reset();}f.instance=function(){(0,l.assert)(void 0 !== f.js);return f.js;};f.Lwb=function(h){f.js=new f(h);};f.prototype.push=function(h){this.dh && this.dh.push(h);};f.prototype.Wb=function(){if(this.dh)return (this.dh.Ax(),this.dh.si([.25,.5,.75,.9,.95,.99]).map(function(h){return h?parseFloat(h.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.bDb && this.config.kca && (this.dh=new c.TDigest(this.config.kca.c,this.config.kca.maxc));};return f;})();b.SC=r;},87425:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.kAa=b.pt=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);h=a(22209);d=c.__importDefault(a(89956));g=a(27364);m=c.__importDefault(a(35471));k=a(62558);n=a(29308);p=a(64406);q=a(7881);u=a(97810);t=a(31549);w=a(54790);b.pt=function(v){return v.wa(l.N.Ma(v.jH));};a=(function(v){function y(x,z,A,B,D,C){var F,G;F=this;F=v.call(this) || this;F.Ce=x;F.ng=z;F.Qc=A;F.Z=B;F.X=D;F.Cn=C;F.gQa=!1;F.fOa=!1;F.dR=!1;F.V=h.Zp.nv(F.Ce);F.Pz=F.V.error.bind(F.V);F.rs=F.V.warn.bind(F.V);F.hx=F.V.trace.bind(F.V);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){F.Tw();});F.G4a=new n.aHa(F.Z,F.Ce,F.ng.Kf,F.V);F.reset();return F;}c.__extends(y,v);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.yQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{L2b:{get:function(){return !!this.Qc.uDb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.fPa) || void 0 === z?void 0:z.Qa();x || (this.gx=[]);this.Jfa=this.P0=this.TD=void 0;this.Kz && (this.Kz.Md=!0,this.Kz.iterator.vg(),this.Kz=void 0);this.hJ && (this.hJ.Md=!0,this.hJ.iterator.vg(),this.hJ=void 0);this.hfa=!1;this.yJ=void 0;this.dR=this.yQ=!1;this.TPa(l.N.Ia);null === (B=(A=this.Qc).reset) || void 0 === B?void 0:B.call(A);this.G4a.reset();};y.prototype.uFb=function(){this.P0=!0;};y.prototype.N3=function(){this.fOa=!0;this.Tw();};y.prototype.wC=function(x){this.gQa=x;};y.prototype.Ksb=function(x){this.gx.push(x);this.Tw();};y.prototype.dz=function(){this.Tw();};y.prototype.kSb=function(x){this.Z.mha && void 0 === this.Jfa && this.RNa(x,0);this.Tw();};y.prototype.T7=function(x,z){var A,B,D,C;A=this;void 0 === x && (x=!1);this.yQ || (this.yQ=!0,this.Tw(),!x && this.L2b) || (z && this.Cn && this.Z.bBb?(x=l.N.Ma(this.Z.z3b),z=z.wa(x),x=(0,q.jaa)(this.Cn,z,!0),z=x.qk,x=x.promise,null === (B=this.fPa) || void 0 === B?void 0:B.Qa(),this.fPa=z,x.then(function(){var F,G;A.yQ && (null === (G=(F=A.Qc).endOfStream) || void 0 === G?void 0:G.call(F));})):null === (C=(D=this.Qc).endOfStream) || void 0 === C?void 0:C.call(D));};y.prototype.TPa=function(x){var z;null !== (z=this.Wpb) && void 0 !== z && z.equal(x) || (this.Wpb=x,this.Qc.oab(x.Ba,x.S));};y.prototype.Tw=function(){var x,z,A,B,D,C,F,G;D=this.Z;if(!this.Kz && !this.hJ && this.gx.length)if(this.Qc && !1 !== this.Qc.ready){C=this.gx[0];if(C.aborted)(this.rs("aborted fragment should not appear in the toAppend list:",C.toString(),"complete:",C.complete),this.YQ("@" + m.default.time.Ga() + ", append: removing aborted fragment from toAppend: " + C.toString()),this.gx.shift());else {F=C.stream;G=F.pa;if(F.Lh)if((C.Rx && !this.dR && (null === (z=(x=this.Qc).abb) || void 0 === z?void 0:z.call(x,{J:F.track.pa.J,M1a:F.gi}),this.dR=!0),this.O0b(F,C.index)))(this.P0=!1,this.RNa(F,C.index));else if((x=this.X.iU(G.J),F=this.OLb(F),x || F || !this.hfa && !D.Vxa))if((x=this.r_a(C),this.Ce === d.default.pm.ea && (C.Kk || C.jt || (null === (A=C.Ha) || void 0 === A?0:A.Pn)) && C.Ha && !D.oN && !this.yQ && this.gx.length <= (C.Kk || C.jt?1:2) && x > D.z7 && (null === (B=C.Qy) || void 0 === B || !B.OL)))this.a_b();else {this.hfa || (this.hfa=F);this.gx.shift();try{this.$rb(C);}catch(E){throw (this.V.error(E),E);}}}}else this.YQ("@" + m.default.time.Ga() + ", append: not appending, sourceBuffer not ready");};y.prototype.a_b=function(){var x;x=this;this.Cn && (this.jpa?this.jpa.C1a || this.jpa.Sf():this.jpa=this.Cn.Fx(function(){return x.YNb();},"JIT Appender"));};y.prototype.YNb=function(){var x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:if(1 !== this.gx.length)return [3,3];x=this.gx[0];if(!x.Kk && !x.jt || (null === (B=x.Qy) || void 0 === B?0:B.OL))return [2];z=this.r_a(x);A=this.Z.z7;return z > A?[4,q.Rg.LC(l.N.Ma(z - A))]:[3,2];case 1:(D.Ra(),D.label=2);case 2:return (this.Tw(),[3,0]);case 3:return [2];}});};y.prototype.r_a=function(x){var z;return (null === (z=x.Ab) || void 0 === z?NaN:z.G) - this.X.Nd.G;};y.prototype.O0b=function(x,z){var A;A=x.Jg;(0,k.assert)(A);return 0 === A.length?this.P0=!1:this.P0 || void 0 === this.TD || x.Ub !== this.TD.Ub?!0:1 < A.length?(0,f.uha)(A,function(B){return B.bf <= z;}) !== this.TD.R1a:!1;};y.prototype.OLb=function(x){if(x.mediaType === g.v.ea || !x.gi)return !0;if(void 0 === this.TD)return !1;if(!x.track.WU)return !x.gi;x=x.Jg;(0,k.assert)(x);return !1 === x[this.TD.R1a].lF;};y.prototype.RNa=function(x,z){var A,B,D,C;if(!this.gQa || this.fOa){if(x.Jg && 0 !== x.Jg.length){D=x.Jg.reduce(function(F,G,E){return G.bf <= z?E:F;},0);C=x.Jg[D];this.TD || (null === (B=(A=this.Qc).abb) || void 0 === B?void 0:B.call(A,{J:x.track.pa.J,M1a:x.gi}),this.dR=!0);if(!this.Qc.appendBuffer(C.data,{Le:!0,profile:x.profile,bitrate:x.bitrate,Ub:x.Ub}))throw (this.rs("appendHeader error: " + this.Qc.error),this.YQ("@" + m.default.time.Ga() + ", appendHeader error: " + this.Qc.error),Error("appendHeaderError"));this.YQ("@" + m.default.time.Ga() + ", header appended, streamId: " + x.Ub);this.TD={Ub:x.Ub,R1a:D};this.Apb(x.Ub,D);}this.Tw();}};y.prototype.$rb=function(x){var z,A,B,D,C,F;z=this;D=x.Ata || l.N.Ia;C=x.u;C.Nf && !C.Nf.equal(l.N.vp) && (D=C.Nf.add(D).zh,Infinity === this.ng.duration || this.ng.duration < D) && (this.ng.duration=D);D=void 0 !== x.$v?l.N.Ma(x.$v).add(x.Ata):void 0;C=null === (A=this.gx[0]) || void 0 === A?void 0:A.Ab;A={endOfStream:this.endOfStream || !(null === (B=x.Qy) || void 0 === B || !B.OL),iM:D,dra:C};D=this.G4a.append(x,A);B=D.ci;C=D.mi;A=D.Qp;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(G){return z.emit(G.type,G);});C=x.stream;if(C.ha){F=C.Tn().N8;D=D.wa(F.ef(C.S));}this.TPa(D);B && (x.Kk || x.jt) && x.ci();D=p.jm.vHa;B || (this.Ce === g.v.ea || this.Ce === g.v.Y?D=this.Xrb(x,A):this.Ce === g.v.Ka && (D=this.fsb(x)));switch(D){case p.jm.ll:this.Lmb(x);break;case p.jm.B_:this.Jfa=x;break;case p.jm.mm:this.Fra(x);this.Jfa=x;break;case p.jm.vHa:this.i6a(x,!0);}};y.prototype.Mbb=function(){var x;return m.default.fq.Kf.Eua.gea || !(null === (x=this.ng.Kf) || void 0 === x || !x.Mbb);};y.prototype.Xrb=function(x,z){return this.Mbb()?this.Yrb(x,z):this.Zrb(x,z);};y.prototype.Yrb=function(x,z){var A,B,D;A=this;B=(0,u.eqa)(x);if((z=(z || x.Qp).every(function(C,F){return A.Qc.appendBuffer(C,0 === F?B:void 0);})) && !x.Jna){z=x.fna();D={ka:x,iterator:z,Md:!1};this.Kz=D;t.AsyncIterator.r6(z,function(C){D.Md || (C.done?(A.Kz=void 0,A.Fra(x)):A.Qc.appendBuffer(C.value,B));});z=p.jm.B_;}else z=z?p.jm.mm:p.jm.ll;return z;};y.prototype.Zrb=function(x,z){var A,B,D,C;A=this;B=(0,u.eqa)(x);z || (z=x.Qp);if(x.Jna)D=(D=this.XTa(z,B))?p.jm.mm:p.jm.ll;else {D=x.fna();C={ka:x,iterator:D,Md:!1};this.Kz=C;t.AsyncIterator.r6(D,function(F){C.Md || (F.done?(A.XTa(z,B),A.Kz=void 0,A.Fra(x)):z.push(F.value));});D=p.jm.B_;}return D;};y.prototype.XTa=function(x,z){x=1 < x.length?(0,u.lK)(x):x[0];return this.Qc.appendBuffer(x,z);};y.prototype.fsb=function(x){var z,A,B,D;z=this;(0,k.assert)(x instanceof w.Jaa);A=x.Qp;if(x.Jna){(0,k.assert)(A.every(function(C){return C instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.xWa(x,A);});B=p.jm.mm;}else {B=x.fna();D={ka:x,iterator:B,Md:!1};this.hJ=D;t.AsyncIterator.r6(B,function(C){D.Md || (C.done?(z.hJ=void 0,(0,k.assert)(A.every(function(F){return F instanceof ArrayBuffer;})),z.xWa(x,A)):A.push(C.value));});B=p.jm.B_;}return B;};y.prototype.xWa=function(x,z){var A,B;z=(0,u.lK)(z);z=new Uint8Array(z);z=m.default.Xja(z);(0,k.assert)(z);B=x.Kk && (null === (A=x.Qy) || void 0 === A?void 0:A.OL);x={type:"subtitleData",I:x.Pk,ab:x.Na.G,mf:x.eb.G,hr:x.ccb,t4b:z,endOfStream:B};this.ng.events.emit(x.type,x);};y.prototype.Fra=function(x){var z;void 0 === this.yJ || this.Ce !== d.default.pm.ea || x.Ab.equal(this.yJ) || (this.yJ=void 0);this.YQ("@" + m.default.time.Ga() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Ub + ", pts: " + (null === (z=x.Ab) || void 0 === z?void 0:z.G) + "-" + x.Mb.G);this.i6a(x,!1);};y.prototype.i6a=function(x,z){var A,B,D;x.Kk || x.jt?(this.yJ=z?x.Ab:x.Mb,null === (B=(A=this.Qc).uDb) || void 0 === B?void 0:B.call(A,x.Qy),this.dR=!1,(null === (D=x.Qy) || void 0 === D?0:D.OL) && this.T7(!1,this.yJ)):this.yJ=void 0;x.CR=!0;x.gN();this.Bpb(x);this.Tw();};y.prototype.Lmb=function(x){if(void 0 !== this.Qc.error){if("done" === this.Qc.error)return;this.Pz("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Qc.error));throw this.Qc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Qc.error);this.Pz(x.message);throw x;};y.prototype.Apb=function(x,z){x={type:"headerAppended",mediaType:this.Ce,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.Bpb=function(x){x={type:"requestAppended",mediaType:this.Ce,request:x};this.emit(x.type,x);};y.prototype.YQ=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.kAa=a;},78764:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lAa=void 0;c=a(57055);l=a(27364);f=a(62558);r=(function(){function h(d,g){this.V=d;this.Gnb=g;this.Ju=this.vu=this.Vo=0;this.hga=new Map();}h.prototype.Su=function(d){var g,m,k;g=this;if(!d.Le){m=d.xa;if(0 >= m){k=new c.Qe();k.on(d.events,"updatedBytes",function(n){g.xQa(d,n.TRb - n.esa);k.clear();g.hga.delete(d);});this.hga.set(d,k);}else this.xQa(d,m);}};h.prototype.kr=function(d){var g;if(!d.Le){g=d.xa;0 < g && (this.Vo-=g,d.mediaType === l.v.ea?this.vu-=g:this.Ju-=g,(0,f.assert)(this.Vo === this.vu + this.Ju),(0,f.assert)(0 <= this.Vo),(0,f.assert)(0 <= this.vu),(0,f.assert)(0 <= this.Ju));this.hga.delete(d);}};h.prototype.bTa=function(d,g){var m;(0,f.assert)(this.Vo === this.vu + this.Ju);m=this.Gnb();if(void 0 !== m.total && this.Vo + g > m.total)return !1;m=d === l.v.ea?m.audio:m.video;d=d === l.v.ea?this.vu:this.Ju;return void 0 !== m && d + g > m?!1:!0;};h.prototype.xQa=function(d,g){this.Vo+=g;d.mediaType === l.v.ea?this.vu+=g:this.Ju+=g;(0,f.assert)(this.Vo === this.vu + this.Ju);(0,f.assert)(0 < this.Vo);(0,f.assert)(0 <= this.vu);(0,f.assert)(0 <= this.Ju);};return h;})();b.lAa=r;},59322:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.MYa=b.PYa=b.Wta=b.lia=b.Cca=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(62558);h=a(97810);r=(function(){function g(m,k,n){void 0 === n && (n={});this.config=m;this.GDb=k;this.oh=[];this.kia=new h.ru();this.zSa=new h.ru();this.options=c.__assign({fo:10},n);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.BCb;},enumerable:!1,configurable:!0}});g.prototype.Uma=function(m,k){var n;if(!this.isEnabled)return k();n=this.zGb(m);if(n)return n.value;k=k();this.Zs(m,k);return k;};g.prototype.findIndex=function(m){var k,n,p,q;k=Infinity;n=Infinity;if(this.options.mR || this.options.fN){p=l.default.time.Ga();this.options.fN && (k=p - this.options.fN);this.options.mR && (n=p - this.options.mR);}for(p=0;p < this.oh.length;p++){q=this.oh[p];if(this.options.fN && q.$2a < k){this.oh.splice(p,this.oh.length - p);break;}if(this.options.mR && q.Jn < n)(this.oh.splice(p,1),p--);else if(this.GDb(q.key,m))return p;}return -1;};g.prototype.zGb=function(m){var k;m=this.findIndex(m);if(-1 !== m){k=this.oh[m];this.oh.splice(m,1);this.oh.unshift(k);this.options.fN && (k.$2a=l.default.time.Ga());this.zSa.push(m);this.kia.push(1);return k;}this.kia.push(0);};g.prototype.Zs=function(m,k){this.oh.unshift({key:m,value:k});if(this.options.fN || this.options.mR)(m=l.default.time.Ga(),this.options.fN && (this.oh[0].$2a=m),this.options.mR && (this.oh[0].Jn=m));this.zvb();};g.prototype.zvb=function(){this.oh.length > this.options.fo && this.oh.pop();};g.prototype.clear=function(){this.oh=[];};return g;})();b.Cca=r;d=new WeakMap();b.lia=function(g){void 0 === g && (g="default");return function(m,k,n){var p;p=n.value;n.value=function(q){var u,t,w;u=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(w,"lruCache not defined");return w.Uma(q,function(){return p.call(u,q);});};};};b.Wta=function(g,m,k){d.has(g) || d.set(g,{});d.get(g)[m]=k;};b.PYa=function(g){var m;if(!d.has(g))return [];m=d.get(g);return Object.keys(m).map(function(k){return m[k];});};b.MYa=function(g){return d.has(g)?d.get(g):{};};},97021:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pwb={nt:["minInitVideoBitrate",-Infinity],qy:["maxInitVideoBitrate",Infinity],cV:["minInitAudioBitrate",-Infinity],RU:["maxInitAudioBitrate",Infinity],r7:["minAcceptableVideoBitrate",-Infinity],aV:["minAcceptableVMAF",0],bRb:["minAcceptableVMAFRebufferScalingFactor",0],Mqa:["minAllowedVideoBitrate",-Infinity],cQb:["maxAllowedVideoBitrate",Infinity],yG:["minAllowedVmaf",-Infinity],e4a:["maxAllowedVmaf",Infinity],TN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],V3:["enableResolutionVMAFStreamFilter",!1],Bsa:["percentCapTitlesForResolutionVMAFStreamFilter",100],t9:["resolutionVMAFCappingRuleList",[]],L0a:["ignoreUserFilterOnEmptyResult",!0],QB:["minRequiredBuffer",2E4],x7:["minRequiredAudioBuffer",0],Zq:["minPrebufSize",5800],Oqa:["minCheckBufferingCompleteInterval",200],NWa:["enableMoreFrequentBufferingCompleteCheck",!1],c5a:["minimumBufferingCompleteInterval",1E4],tua:["requireDownloadDataAtBuffering",!1],$0a:["indicatorForDownloadDataAtBuffering","oncomplete"],uua:["requireSetupConnectionDuringBuffering",!1],Pta:["rebufferingFactor",1],Xq:["maxBufferingTime",2E3],Jxa:["useMaxPrebufSize",!0],NB:["maxPrebufSize",4E4],uqa:["maxRebufSize",Infinity],S5:["initialBitrateSelectionCurve",null],e1a:["initSelectionLowerBound",-Infinity],f1a:["initSelectionUpperBound",Infinity],vX:["throughputPercentForAudio",15],Pha:["bandwidthMargin",0],Rha:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],ZRa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,tx:76376,scale:18862.4,gamma:3.0569}],Qha:["bandwidthMarginContinuous",!1],$Ra:["bandwidthMarginForAudio",!0],Gwa:["switchConfigBasedOnInSessionTput",!0],nja:["conservBandwidthMargin",20],pja:["conservBandwidthMarginTputThreshold",6E3],oja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Ubb:["switchAlgoBasedOnHistIQR",!1],Hwa:["switchConfigBasedOnThroughputHistory","iqr"],t4a:["maxPlayerStateToSwitchConfig",-1],I3a:["lowEndMarkingCriteria","iqr"],OEa:["IQRThreshold",.5],z0a:["histIQRCalcToUse","simple"],xs:["bandwidthManifold",{curves:[{min:.05,max:.82,tx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,tx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],UU:["maxTotalBufferLevelPerSession",0],u0a:["highWatermarkLevel",3E4],Acb:["toStableThreshold",3E4],H$:["toUnstableThreshold",0],cwa:["skipBitrateInUpswitch",!1],$xa:["watermarkLevelForSkipStart",8E3],awa:["simulationDurationStrategy","default"],m1b:["simulationFullBufferPercentage",1],a5a:["minSimulationDuration",2E4],vqa:["maxSimulationDuration",3E5],Gxa:["upperThroughputPredictionFactor",1.6],Una:["highStreamRetentionWindow",9E4],Wpa:["lowStreamTransitionWindow",51E4],Wna:["highStreamRetentionWindowUp",5E5],Ypa:["lowStreamTransitionWindowUp",1E5],Vna:["highStreamRetentionWindowDown",6E5],Xpa:["lowStreamTransitionWindowDown",0],Tna:["highStreamInfeasibleBitrateFactor",.5],ly:["lowestBufForUpswitch",9E3],GU:["lockPeriodAfterDownswitch",15E3],aqa:["lowWatermarkLevel",15E3],my:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],bqa:["lowestWaterMarkLevelBufferRelaxed",!1],k7:["mediaRate",1.5],c7:["maxTrailingBufferLen",15E3],Eha:["audioBufferTargetAvailableSize",262144],Oxa:["videoBufferTargetAvailableSize",1048576],B4a:["maxVideoTrailingBufferSize",8388608],f4a:["maxAudioTrailingBufferSize",393216],j4:["fastUpswitchFactor",3],pEb:["fastUpswitchFactorWithoutHeaders",3],oEb:["fastUpswitchFactorForNextSegment",1],sla:["fastDownswitchFactor",3],tG:["maxMediaBufferAllowed",27E4],$ec:["minMediaBufferLen",1E4],Kab:["simulatePartialBlocks",!0],Jab:["simulateBufferFull",!0],qja:["considerConnectTime",!0],mja:["connectTimeMultiplier",1],QOb:["liveDvrSwitchThresholdms",1E4],i4a:["maxDomainFailureWaitDuration",3E4],hXa:["exhaustAllLocationsForFailure",!0],p4a:["maxNetworkErrorsDuringBuffering",20],X6:["maxBufferingTimeAllowedWithNetworkError",6E4],TJ:["alwaysRunUnderflowTimer",!0],tXa:["fastDomainSelectionBwThreshold",2E3],icb:["throughputProbingEnterThreshold",4E4],jcb:["throughputProbingExitThreshold",34E3],y3a:["locationProbingTimeout",1E4],AXa:["finalLocationSelectionBwThreshold",1E4],gcb:["throughputHighConfidenceLevel",.75],hcb:["throughputLowConfidenceLevel",.4],Jpa:["locationStatisticsUpdateInterval",6E4],oPb:["locationSelectorPersistFailures",!0],OWa:["enablePerfBasedLocationSwitch",!1],Gec:["maxRateMaxFragmentGroups",4500],XCb:["enableNginxRateLimit",!1],O7:["nginxSendingRate",4E4],d4a:["maxActiveRequestsSABCell100",2],J9a:["resetActiveRequestsAtSessionInit",!0],T3:["enableHybridPacing",!1],yia:["catchUpMode",!1],tQb:["maxSegHint",4],oua:["requestLevelLogging",!1],ICb:["enableCsprNonPipelined",!1],Q3:["enableCprAudio",!1],R3:["enableCprVideo",!1],GCb:["enableCprAudioNonPipelined",!1],HCb:["enableCprVideoNonPipelined",!0],ZCb:["enablePaceReportLogging",!1],jUb:["paceRateSelectorAlgorithm","default"],kUb:["paceRateSelectorAlgorithmAudio","default"],lUb:["paceRateSelectorAlgorithmNonPipelined","default"],ibb:["staticPacingRateKbps",0],R2:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],D4b:["unpacedFragmentInterval",0],KLb:["ignorePacedRequestStrategy","none"],HV:["pacedThresholdPct",.1],Dka:["effectivePaceRateFactor",1],oYb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],nUb:["pacingTargetBufferStrategy","implicit"],a3b:["targetBufferLevelStddevMultiplier",1],$2b:["targetBufferLevelDurationMs",0],kRb:["minTargetBufferLevelMs",27E4],pwa:["stddevPredictorMultiplier",-.3],qwa:["stddevPredictorUpperMultiplier",2],Y1b:["stddevPredictorSource","deliverytime"],Oia:["ciPredictorSource","throughput-ci"],HWa:["enableInitialTputLogging",!1],GWa:["enableInitialThroughputHistory",!1],E5:["headerRequestSize",4096],Zka:["estimateHeaderSize",!0],cra:["neverWipeHeaderCache",!1],K5b:["useSidxInfoFromManifestForHeaderRequestSize",!1],rUb:["parseAdditionalBoxesMp4Header",!0],vXa:["fastPlayHeaderRequestSize",0],uG:["maxRequestSize",0],dV:["minRequestSize",65536],t7:["minBufferLenForHeaderDownloading",1E4],u1b:["smartHeaderPreDownloading",!1],CCb:["enableAllHeadersPreDownloading",!1],mo:["pipelineEnabled",!0],sqa:["maxParallelConnections",3],G5b:["usePipelineForAudio",!1],F5b:["usePipelineDetectionForAudio",!1],I5b:["usePipelineForText",!0],Rab:["socketReceiveBufferSize",0],p2:["audioSocketReceiveBufferSize",32768],daa:["videoSocketReceiveBufferSize",65536],k3b:["textSocketReceiveBufferSize",32768],Vdb:["usePipelineDetectionForVideo",!1],nRb:["minVideoSocketReceiveBufferSize",65536],Rna:["headersSocketReceiveBufferSize",32768],K0b:["shareDownloadTracks",!0],L0b:["shareOpenRangeTracks",!1],Lbb:["supportOpenRangeRequests",!0],EBb:["disableHeaderDownloadTracks",!1],Qqa:["minTimeBetweenHeaderRequests",void 0],UV:["prebufferTimeLimit",6E4],T4a:["minBufferLevelForTrackSwitch",2E3],$Cb:["enablePenaltyForLongConnectTime",!1],ysa:["penaltyFactorForLongConnectTime",2],Upa:["longConnectTimeThreshold",200],aha:["additionalBufferingLongConnectTime",2E3],bha:["additionalBufferingPerFailure",8E3],gW:["rebufferCheckDuration",6E4],IK:["enableOCSideChannel",!0],sVa:["decryptOCSideChannelMinInterval",1E3],tVa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],ota:["probeRequestTimeoutMilliseconds",3E4],Hfc:["probeRequestConnectTimeoutMilliseconds",8E3],y_:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],cDb:["enableSCByteRangeHints",!1],odb:["updateDrmRequestOnNetworkFailure",!0],z3b:["timeBeforeEndOfStreamBufferMark",6E3],pqa:["maxFastPlayBufferInMs",2E4],hQb:["maxFastPlayContentTimeThresholdMs",112E3],k4a:["maxFastPlayBitThreshold",2E8],g4a:["maxBufferingCompleteBufferInMs",Infinity],cub:["bufferingCompleteOnMemoryLimit",!1],Nqa:["minAudioMediaRequestSizeBytes",0],Rqa:["minVideoMediaRequestSizeBytes",0],eQb:["maxAudioMediaRequestSizeBytes",Infinity],AQb:["maxVideoMediaRequestSizeBytes",Infinity],mQb:["maxMediaRequestSizeBytesInFraction",1],Av:["minAudioMediaRequestDuration",0],ty:["minVideoMediaRequestDuration",0],w7:["minMediaRequestDuration",0],dQb:["maxAudioMediaRequestDuration",Infinity],zQb:["maxVideoMediaRequestDuration",Infinity],a7:["maxMediaRequestDuration",Infinity],gha:["allowFirstRequestAggregation",!1],Tec:["minAudioMediaRequestDurationCache",0],dfc:["minVideoMediaRequestDurationCache",0],cka:["defaultHeaderCacheSize",4],bka:["defaultHeaderCacheDataPrefetchMs",0],H5b:["usePipelineForBranchedAudio",!0],A7:["minimumTimeBeforeBranchDecision",2E3],oRb:["minimumAppendedMediaBeforePlayback",5E3],qQb:["maxRequestsToAttachOnBranchActivation",void 0],z7:["minimumJustInTimeBufferLevel",3E3],$cc:["enableJustInTimeAppends",!1],pRa:["appendPacingFactor",0],dsb:["appendPacingThreshold",3E3],Sbc:["branchEndPtsIntervalMs",250],$dc:["ignorePtsJustBeforeCurrentSegment",!1],iQb:["maxFragsForFittableOnBranching",300],ara:["networkFailureResetWaitMs",2E3],$qa:["networkFailureAbandonMs",6E4],b7:["maxThrottledNetworkFailures",5],C$:["throttledNetworkFailureThresholdMs",200],$pa:["lowThroughputThreshold",400],hla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],y3b:["timeAtEachBitrateRoundRobin",1E4],GZb:["roundRobinDirection","forward"],uLb:["httpsConnectErrorAsPerm",!1],LWa:["enableManagerDebugTraces",!1],R3a:["managerDebugMessageInterval",1E3],Q3a:["managerDebugMessageCount",20],oN:["requireAudioStreamToEncompassVideo",!1],ubb:["ase_stream_selector","optimized"],ftb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],bPb:["liveStreamSelectorAlgorithm","livesimple"],o3b:["throughputDiscountForLive",.8],n3b:["throughputDiscountExponentBC",1.5],YL:["liveTargetBufferDuration",1E4],K6:["liveEdgeCushion",2E3],L6:["liveMaxTemporaryRequestErrorRetries",6],UOb:["liveInitialFetchSizeBytes",1024],$Ob:["liveResyncClockOn404Error",!0],SOb:["liveEndSlateMaxDuration",6E4],P6:["liveSwitchStreamsOnErrorInPipeline",!1],g3b:["temporaryRequestFailureRetryIntervalMs",500],KWa:["enableLiveTemporaryRequestRetries",!0],nqa:["maxAttemptsOnFailure",18],Kka:["enableMaxAttemptsOnFailure",!0],voa:["initBitrateSelectorAlgorithm","default"],cia:["bufferingSelectorAlgorithm","default"],i2b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],QWa:["enableThroughputTraceResearchData",!1],lcb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Pfc:["researchEnvironmentEnabled",!1],eDb:["enableStreamSelectionAugmentData",!1],jtb:["augmentDataNumOfChunks",30],Tja:["ase_dump_fragments",!1],Uja:["ase_location_history",0],mVa:["ase_throughput",0],ksa:["paddingDurationMs",1E3],lsa:["paddingMediaType","padding"],$k:["stallAtFrameCount",void 0],Xab:["stallAtFrameCountAudio",void 0],jqa:["marginPredictor","simple"],Ndb:["useBackupUnderflowTimer",!0],dSb:["noDuplicateUnderflowTimer",!1],ehc:["useManifestDrmHeader",!0],ghc:["useOnlyManifestDrmHeader",!0],bra:["networkMeasurementGranularity","video_location"],RRb:["netIntrStoreWindow",36E3],ifc:["minNetIntrDuration",8E3],Cnb:["fastHistoricBandwidthExpirationTime",10368E3],Wnb:["bandwidthExpirationTime",5184E3],Bnb:["failureExpirationTime",86400],mPa:["historyTimeOfDayGranularity",4],ynb:["expandDownloadTime",!0],xob:["minimumMeasurementTime",500],wob:["minimumMeasurementBytes",131072],ppb:["throughputMeasurementTimeout",2E3],opb:["initThroughputMeasureDataSize",262144],job:["historicBandwidthUpdateInterval",2E3],vbc:["throughputPredictor","ewma"],fva:["secondThroughputEstimator","slidingwindow"],p$a:["secondThroughputMeasureWindowInMs",3E5],ubc:["throughputMeasureWindow",5E3],wbc:["throughputWarmupTime",5E3],tbc:["throughputIQRMeasureWindow",1E3],ebc:["IQRBucketizerWindow",15E3],n4a:["maxIQRSamples",100],W4a:["minIQRSamples",5],qbc:["connectTimeHalflife",10],jbc:["responseTimeHalflife",10],DOa:["historicThroughputHalflife",14400],COa:["historicResponseTimeHalflife",100],BOa:["historicHttpResponseTimeHalflife",100],eEa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],dPa:["minReportedNetIntrDuration",4E3],sbc:["throughputBucketMs",500],hbc:["bucketHoltWintersWindow",2E3],snb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],znb:["experimentalFilter",["throughput-wssl"]],EPa:["reportedFilters",[]],ofa:["filterDefinitionOverrides",{}],mnb:["defaultFilter","throughput-ewma"],nnb:["defaultFilterField","average"],Hpb:["secondaryFilter","throughput-sw"],efa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],kDb:["enableWsslEstimate",!1],Jec:["maxWsslRequestSize",131072],Iec:["maxWsslRequestRatio",.2],Oeb:["wsslAggregationMethod","max"],PWa:["enableSessionHistoryReport",!0],nWa:["earlyStageEstimatePeriod",1E4],a3a:["lateStageEstimatePeriod",3E4],q4a:["maxNumSessionHistoryStored",10],$4a:["minSessionHistoryDuration",3E5],Odc:["highAndStableModelName","baseline"],Zcc:["enableHighAndStablePredictor",!1],afc:["minNumSessionHistory",5],Pbc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Ndc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Pdc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Mga:["addHeaderDataToNetworkMonitor",!0],jwa:["startMonitorOnLoadStart",!1],jua:["reportFailedRequestsToNetworkMonitor",!1],v8:["periodicHistoryPersistMs",0],F9:["saveVideoBitrateMs",0],Zqa:["needMinimumNetworkConfidence",!0],Uha:["biasTowardHistoricalThroughput",!1],tec:["logMemoryUsage",!1],ZG:["probeServerWhenError",!0],yR:["allowSwitchback",!0],a8a:["probeDetailDenominator",100],Y6:["maxDelayToReportFailure",300],Krb:["allowParallelStreaming",!1],Mec:["mediaPrefetchDisabled",!1],Uec:["minBufferLevelToAllowPrefetch",5E3],yN:["seamlessAudio",!1],cgc:["seamlessAudioProfiles",[]],dgc:["seamlessAudioProfilesAndTitles",{}],dva:["seamlessAudioMaximumSyncError",void 0],eva:["seamlessAudioMinimumSyncError",void 0],s1a:["insertSilentFrames",0],Goa:["insertSilentFramesOnSeek",!1],t1a:["insertSilentFramesOnSeekForTitles",[]],wMb:["insertSilentFramesOnSeekCount",3],qdc:["forceDiscontinuityAtTransition",!0],Ggc:["supportAudioResetOnDiscontinuity",void 0],Fgc:["supportAudioEasingOnDiscontinuity",void 0],nCb:["editCompleteFragments",!0],pRb:["minimumAudioFramesPerFragment",1],DR:["applyProfileTimestampOffset",!1],Bm:["applyProfileStreamingOffset",!0],U8:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],ORa:["audioProfilesNonSyncSamples",["xheaac-dash"]],j4b:["truncateEndOfStreamAudio",!1],B5b:["useDpiAssumedAacEncoderDelay",!0],m7:["mediaSourceSupportsNegativePts",!1],s7:["minAudioPtsGap",void 0],btb:["audioOverlapGuardSampleCount",2],bDb:["enableRecordJSBridgePerf",!1],kca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],t3b:["throughputThresholdSelectorParam",0],y5b:["upswitchDuringBufferingFactor",2],Qrb:["allowUpswitchDuringBuffering",!1],qcc:["contentOverrides",void 0],rcc:["contentProfileOverrides",void 0],x0a:["hindsightDenominator",0],w0a:["hindsightDebugDenominator",0],Sdc:["hindsightAlgorithmsEnabled",[]],y0a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],oRa:["appendMediaRequestOnComplete",!1],Vxa:["waitForDrmToAppendMedia",!1],u6b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Qla:["forceAppendHeadersAfterDrm",!1],oVa:["declareBufferingCompleteAtSegmentEnd",!1],QU:["maxActiveRequestsPerSession",void 0],Cpa:["limitAudioDiscountByMaxAudioBitrate",!1],mha:["appendFirstHeaderOnComplete",!0],v$:["strictBufferCapacityCheck",!1],ER:["aseReportDenominator",0],zha:["aseReportIntervalMs",3E5],ssb:["aseReportMaxStreamSelections",400],n3a:["liveReportSendIntervalMs",6E4],Fpa:["liveReportCollectIntervalMs",5E3],cxa:["translateToVp9Draft",!1],gua:["reorderTrakMvex",!1],oX:["switchableAudioProfiles",[]],dtb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Wbb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],gtb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],z4a:["maxStartingVideoVMAF",110],ot:["minStartingVideoVMAF",1],oR:["activateSelectStartingVMAF",!1],N9:["selectStartingVMAFTDigest",-1],AN:["selectStartingVMAFMethod","fallback"],w$a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],JM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Lcc:["disablePtsStartsEvent",!0],X8a:["recordFirstFragmentOnSubBranchCreate",!0],b4a:["markRequestActiveOnFirstByte",!1],o$:["stopOnAllInactiveRequests",!1],yWa:["enableActiveRequestsInFilters",!1],oO:["useNativeDataViewMethods",!0],qsb:["aseDiagnostics",[{pd:"queue-audit",enabled:!0},{pd:"task-audit",enabled:!0},{pd:"trace-ShimSession",enabled:!0},{pd:"trace-engine",enabled:!0},{pd:"trace-RequestPacer",enabled:!0},{pd:"trace-BufferStateTracker",enabled:!0},{pd:"trace-GraphStreamingProcess",enabled:!0},{pd:"trace-AsePlaygraph",enabled:!0},{pd:"playgraph-branch-audit",enabled:!0},{pd:"content-playgraph",enabled:!0},{pd:"trace-CphAsePlaygraph",enabled:!0},{pd:"trace-GraphLocation",enabled:!0},{pd:"cache-ads::gls",enabled:!0},{pd:"cache-content::gls",enabled:!0}]],DCb:["enableAseReporting",!0],Otb:["branchDistanceThreshold",6E4],W6:["maxAllowedOutstandingRequests",4],Pqa:["minStreamableConcurrencyWindow",3E3],vQb:["maxStreamableConcurrencyWindow",Infinity],vwa:["streamableConcurrencyFactor",.3],SR:["bufferingConcurrencyWindow",7800],Yha:["branchCreationThreshold",12E4],S3:["enableDiscontiguousBuffering",!1],Tla:["forceImmediateTransitionTypeForTitles",[]],Sla:["forceImmediateTransitionExitZone",0],tja:["contiguousBufferMultiplier",3],kUa:["contiguousBufferMinimumAudio",1048576],mUa:["contiguousBufferMinimumVideo",8388608],lUa:["contiguousBufferMinimumText",0],UVb:["prefetchBudgetInBytes",0],P8a:["rebufferRiskHalfLife",1E4],S$:["useBufferSizeLimiter",!1],L5b:["useStaticBufferSizeLimiter",!1],XVb:["prefetchWeightBudget",32],Sqa:["minimumDownstreamBranchProbability",.075],Ixa:["useExitZones",!0],YVb:["prefetchWhilePlaying",!0],cWb:["prefetcherSoftReset",!0],yVb:["playgraphDefaultWeight",65520],bBb:["delayNotificationOfEoS",!1],OQb:["memDeadlockShouldCheckMemory",!0],NQb:["memDeadlockOverageThreshold",.9],MQb:["memDeadlockMaxUtilizationPercentage",.5],tVb:["playerPtsPadding",1],Zec:["minFragmentVmaf",void 0],FS:["enableCombinedPlaygraphs",!0],kF:["enableAdPlaygraphs",!0],U3:["enablePrerollForInitialSeek",!1],ila:["excludedContentPlaygraphIds",[]],U_a:["graphSelectorSetAudioRate",!1],jDb:["enableVmafEstimationFromBitrate",!1],xQb:["maxVMAFMappingBitrate",16E3],yQb:["maxVMAFMappingVMAF",110],nvb:["cdndldistEnabled",!1],Py:["segmentFadeDuration",400],J9:["segmentFadeInDuration",-1],K9:["segmentFadeOutDuration",-1],eM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],u9:["retainSbrOnFade",!1],r1a:["insertSilentFrameOnFade",!0],rfc:["optimizeEditedFragments",!1],Sbb:["supportsPtsChanged",!0],BCb:["enableAdLruCaches",!1],FRa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],RCb:["enableLiveRequestLogger",!1],F0a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],s4a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],pYb:["rehydrateSkippableAdBreaks",!0]};b.Lf=b.Pwb;},2362:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81883:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pma=b.Nrb=void 0;b.Nrb=function(a){return a.yN;};b.Pma=function(a,c){return void 0 !== a.s7?a.s7:c && void 0 !== c.s7?c.s7:100;};},39656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gx=void 0;c=a(49730);l=a(39139);f=a(62558);b.Gx=function(h,d,g,m,k,n,p,q){var u;c.K && m.trace("AsePlaygraph.createRequestQueue()");u=l.WC.instance.Gx(h,d.O,!0,!1,{OA:g.OA,ha:k},g);u.Ok.on(u,"networkfailing",function(){var t;c.K && m.trace("requestQueue OnNetworkFailing: ",u);u.qla && ((0,f.assert)(u.rla),null === (t=d.Ox) || void 0 === t?void 0:t.mr(void 0,u.rla,void 0,u.Ig,u.Aj));d.pn();});u.Ok.on(u,"error",function(){q(u.Ig,u.Aj);});u.on("transportreport",function(t){t.Mka=d.CU.KK;n(t);});u.on("mediaRequestComplete",p);u.va();return u;};},39139:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.WC=void 0;c=a(5163);l=c.__importDefault(a(89956));f=a(27364);h=c.__importDefault(a(35471));d=a(28302);r=(function(){function g(m){this.CD=m;this.Bd=[];this.console=new h.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){var m;if(void 0 === g.js){m=a(35471)["default"];g.js=new g(m.tI);}return g.js;},enumerable:!1,configurable:!0}});g.reset=function(){g.js=void 0;};g.prototype.Gx=function(m,k,n,p,q,u){var t;t=u.K0b?this.UEb(n,k,m,u.L0b):-1;-1 === t?(t={track:this.azb(n,p,m,q,u),wi:n,O:k,x8a:m,mC:[],Jn:!1,$E:!1},this.Bd.push(t),this.KXb(t),m=!1):(m=!0,t=this.Bd[t]);m=new d.gLa(this.console,t.track,t.Jn,m);t.mC.push(m);return m;};g.prototype.KXb=function(m){function k(){m.Jn=!0;m.track.removeListener("created",k);}m.track.on("created",k);};g.prototype.B3=function(m){var k,n;m.Hs();k=this.TS(function(p){return p.track === m.track;});if(-1 !== k){if((k=this.Bd[k],1 === k.mC.length))(k.track.Hs(),k.$E=!0);else {n=k.mC.indexOf(m);0 <= n && k.mC.splice(n,1);}}else m.track.Hs();};g.prototype.Cf=function(){this.CD.Cf();};g.prototype.azb=function(m,k,n,p,q){var u,t,w,v,y,x;u=this;w=!1;v=t=!1;y=p.ha;m?n === f.v.Y?(m=1,q.mo?(v=!0,m=q.sqa):q.QU && 2 < q.QU && (v=!0,m=q.QU),t=y?!!q.PX:q.PX || !v,t={type:this.CD.Y,openRange:t,pipeline:v,connections:m,socketBufferSize:q.daa,minRequestSize:q.dV}):n === f.v.ea?(w=q.mo && (q.G5b || k && q.H5b),t=y?!!q.PX:q.PX || !w,t={type:this.CD.ea,openRange:t,pipeline:w,connections:1,socketBufferSize:q.p2,minRequestSize:q.dV}):n === f.v.Ka?(t=y?!!q.PX:q.PX || !q.I5b,t={type:this.CD.Ka,openRange:t,pipeline:q.mo,connections:1,socketBufferSize:q.k3b,minRequestSize:q.dV}):t={type:q.EBb?this.CD.Y:this.CD.qib,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Rna,minRequestSize:q.dV}:t={type:n === f.v.ea?l.default.pm.ea:l.default.pm.Y,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === f.v.ea?q.p2:q.daa,minRequestSize:q.dV};x=new this.CD(t,p);x.mo=v;x.on("transportreport",function(z){var A;A=u.TS(function(B){return B.track === x;});-1 !== A && (A=u.Bd[A],A.mC.length && A.mC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.TS(function(B){return B.track === x;});-1 !== A && (A=u.Bd[A],A.mC.length && A.mC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.TS(function(A){return A.track === x;});-1 !== z && u.Bd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.mo=!1;if(y)x.Sta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.F5b || q.Vdb)q.Vdb && x.config.type === f.v.Y?x.Sta(c.__assign(c.__assign({},x.config),{socketBufferSize:q.nRb,pipeline:!1,openRange:!0,connections:1})):x.Sta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.UEb=function(m,k,n,p){return this.TS(function(q){return !q.$E && (!p && q.track.config.qfc || !m?!q.wi && q.x8a === n:q.wi && q.O === k && q.x8a === n);});};g.prototype.TS=function(m){for(var k=0;k < this.Bd.length;++k){if(m(this.Bd[k]))return k;}return -1;};return g;})();b.WC=r;},28302:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gLa=void 0;c=a(5163);l=a(57055);r=(function(f){function h(d,g,m,k){var n;n=f.call(this) || this;n.V=d;n.track=g;n.Jn=!1;n.Ffa=!1;n.Ok=new l.Qe();n.Ok.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Ok.on(g,"error",function(){n.V.warn("requestQueue got error");n.emit("error");});if(m)(n.Jn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Ok.on(g,"created",function(){n.Jn=!0;n.emit("created");});n.Ffa=k;return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{qla:{get:function(){return this.track.qla;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ig:{get:function(){return this.track.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Aj:{get:function(){return this.track.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rla:{get:function(){return this.track.rla;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});h.prototype.va=function(){var d,g;this.Ffa || (null === (g=(d=this.track).va) || void 0 === g?void 0:g.call(d),this.Ffa=!0);};h.prototype.toString=function(){return this.track.toString();};h.prototype.toJSON=function(){return this.track;};h.prototype.Hs=function(){this.Ok.clear();};return h;})(l.EventEmitter);b.gLa=r;},89956:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(87034);b["default"]={T7b:{qu:0,kac:1,name:["STARTUP","STEADY"]},MZ:{zk:0,jac:1,umb:2,name:["STARTING","STABLE","UNSTABLE"]},pm:{ea:r.v.ea,Y:r.v.Y,Ka:r.v.Ka,name:["AUDIO","VIDEO","TEXT"]},K9b:{ea:r.v.ea,Y:r.v.Y,Ka:r.v.Ka,name:["AUDIO","VIDEO","TEXT"]},Eg:{URL:0,vD:1,LOCATION:2,iu:3,name:["URL","SERVER","LOCATION","NETWORK"]},pl:{HAVE_NOTHING:0,AI:1,zI:2,cP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ou:{B7b:0,m9b:1,P$b:2,l$b:3,J$b:4,Kac:5,r9b:6,J9b:7,qu:8,ll:9,lda:10,ilb:11,Waa:12,pjb:13,ojb:14,Rlb:15,Qlb:16,tjb:17,hmb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},P8b:{iu:0,r8b:1,name:["NETWORK","DECODE"]},hac:{s8b:"delayedSeamless",y9b:"hideLongTransition"}};},49730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},98705:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.OCa=void 0;c=a(5163);l=a(57055);f=c.__importStar(a(17267));h=c.__importDefault(a(35471));d=new h.default.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(89956));m=a(34425);k=a(83386);n=h.default.fq;p=n.fZ;q={};u={};r=[g.default.Eg.iu,!1];a=[g.default.Eg.iu,!0];t=[g.default.Eg.vD,!1];w=[g.default.Eg.vD,!0];v=[g.default.Eg.URL,!0];y=[g.default.Eg.URL,!1];x=[-1,!1];z=[g.default.Eg.vD,!1];q[p.t7b]=t;q[p.UNKNOWN_ERROR]=t;q[p.o$b]=t;q[p.hhb]=t;q[p.uBa]=t;q[p.thb]=t;q[p.lhb]=w;q[p.Agb]=w;q[p.CAa]=z;q[p.AAa]=z;q[p.Bgb]=x;q[p.Cgb]=z;q[p.Dgb]=z;q[p.xgb]=t;q[p.zgb]=t;q[p.BAa]=r;q[p.ygb]=t;q[p.wgb]=z;q[p.e8b]=w;q[p.uib]=z;q[p.SDa]=z;q[p.RDa]=z;q[p.ODa]=z;q[p.PDa]=z;q[p.tib]=v;q[p.$ba]=w;q[p.c_]=v;q[p.aca]=a;q[p.VDa]=a;q[p.bca]=w;q[p.wib]=v;q[p.d_]=z;q[p.TDa]=w;q[p.vib]=w;q[p.ohb]=w;q[p.ihb]=t;q[p.Wlb]=t;q[p.Zgb]=t;q[p.$gb]=t;q[p.ahb]=t;q[p.bhb]=t;q[p.chb]=t;q[p.dhb]=t;q[p.ehb]=t;q[p.fhb]=t;q[p.ghb]=t;q[p.jhb]=t;q[p.khb]=t;q[p.mhb]=t;q[p.nhb]=t;q[p.phb]=t;q[p.qhb]=t;q[p.rhb]=t;q[p.shb]=t;q[p.uhb]=t;q[p.vhb]=t;q[p.Vlb]=z;q[p.TIMEOUT]=r;u[p.CAa]=!0;u[p.SDa]=!0;u[p.RDa]=!0;u[p.PDa]=!0;u[p.uBa]=!0;r=(function(){var m_P;m_P=2;for(;m_P !== 13;){switch(m_P){case 2:A.prototype.Qa=function(){var L2z;L2z=2;for(;L2z !== 1;){switch(L2z){case 2:this.Ok.clear();L2z=1;break;}}};A.prototype.EN=function(B){var Y$C;Y$C=2;for(;Y$C !== 1;){switch(Y$C){case 2:this.d$=B;Y$C=1;break;}}};m_P=5;break;case 5:A.prototype.mr=function(B,D,C,F,G){var N9g,Y,oa,ka,E,J,M,L,H,N,I,K,O,R,v0i,Ca,La,Wa,db,U,ja,ha,za,p74,c4H,Y1C,k99,Q,P,e_z,U89,l5j;N9g=2;for(;N9g !== 33;){switch(N9g){case 35:return;break;case 16:Y=O.AZa(B.stream);N9g=15;break;case 27:(oa=R[0],ka=R[1]);N9g=26;break;case 22:D=O.K_b(D.host,D.port).map(function(na){var b41,qa;b41=2;for(;b41 !== 5;){switch(b41){case 2:return {url:(null === (qa=na.url.stream.kx) || void 0 === qa?void 0:qa.BT(!0)) || "",Pc:na.$b.id,$b:na.$b,stream:na.url.stream,urls:na.$b.urls};break;}}}).filter(function(na){var R8N;R8N=2;for(;R8N !== 1;){switch(R8N){case 2:return "" !== na.url;break;}}});N9g=27;break;case 15:D=O.y_a(B).map(function(na){var y7T;y7T=2;for(;y7T !== 1;){switch(y7T){case 2:return {url:B.url,Pc:na.id,$b:na,stream:Y,urls:na.urls,I:B.Pk};break;}}});N9g=27;break;case 2:var l4v=" : crit";l4v+="ical error cou";l4v+="nt =";l4v+=" ";var A$4=" ";A$4+="o";A$4+="n";A$4+=" ";var m0y=" h";m0y+="tt";m0y+="pC";m0y+="ode ";var u$C="Fa";u$C+="ilu";u$C+="r";u$C+="e ";I=n.fZ.name;I=F?I[F]:void 0;(K=this.config,O=this.Qk);d.warn(u$C + I + m0y + C + A$4 + JSON.stringify(B?B:D) + l4v + this.bv);N9g=3;break;case 3:N9g=F && f.isArray(q[F])?9:34;break;case 26:N9g=K.ZG?25:24;break;case 13:this.a3++;N9g=12;break;case 18:N9g=R !== x?17:33;break;case 17:N9g=B?16:23;break;case 12:var X4M="criticalNe";X4M+="t";X4M+="wor";X4M+="kError";var O4Y="critical";O4Y+="N";O4Y+="etworkError";var Y$y="reques";Y$y+="tE";Y$y+="rr";Y$y+="or";var C4T="r";C4T+="equ";C4T+="estError";var L0L="Treat HTTP_RESPONSE";L0L+="_5XX as S";L0L+="ERVER_THROTTLE error for live streami";L0L+="ng";R=q[F];O.ha && B && (this.config.KWa && F === p.c_ && 404 === C?(B.ao || (B.ao={Rp:0,sN:void 0}),(null === (M=B.ao) || void 0 === M?void 0:M.Rp) < this.config.L6?R=y:(null === (L=B.ao) || void 0 === L?void 0:L.Rp) === this.config.L6 && B.ao.Rp++):F === p.bca && (d.info(L0L),R=z));this.iy={Yx:C,Ig:F,sXa:I,Aj:G};this.events.emit(C4T,{type:Y$y,Yx:C});u[F] && (++this.bv,this.events.emit(O4Y,{type:X4M,Ig:F}));N9g=18;break;case 23:N9g=D?22:21;break;case 25:try{v0i=2;for(;v0i !== 8;){switch(v0i){case 9:za=ha.next();v0i=1;break;case 5:var x7X="e";x7X+="r";x7X+="r";x7X+="o";x7X+="r";var H5D=" Retry";H5D+=" count increas";H5D+="ing ";var f3K="] seg";f3K+="mentId";f3K+=" ";var K1s=" R";K1s+="etry in progress already, skip";K1s+=" up";K1s+="dating retry cou";K1s+="nters";(Ca=za.value,La=Ca.urls,Wa=Ca.url,db=Ca.Pc,U=Ca.stream,ja=Ca.$b);R === z || R === t?this.nta.EWb(Ca,{bRa:db,IX:R,Yx:C,Ig:F,sXa:I,Aj:G}):this.config.KWa && R === y && (null === (H=null === U || void 0 === U?void 0:U.kx) || void 0 === H?0:H.ha) && (null === (N=null === U || void 0 === U?void 0:U.kx) || void 0 === N?void 0:N.$b) === ja.id && B && B.ao?B.ao.sN?d.log(B.mediaType + " " + B.Pk + K1s + B.ao.Rp):(B.ao.Rp++,d.log("[" + B.mediaType + f3K + B.Pk + H5D + B.ao.Rp),U.kx.Qqb(B.Pk || 0)):La.some(function(na){var D2F;D2F=2;for(;D2F !== 5;){switch(D2F){case 2:O.mr(oa,ka,na.url);return oa === g.default.Eg.vD;break;}}});!this.d$ || 0 !== C && void 0 !== C || this.d$.nva(x7X,Wa);v0i=9;break;case 1:v0i=!za.done?5:8;break;case 2:(ha=c.__values(D),za=ha.next());v0i=1;break;}}}catch(na){var sa;sa={error:na};}finally{p74=2;for(;p74 !== 1;){switch(p74){case 2:try{c4H=2;for(;c4H !== 1;){switch(c4H){case 2:za && !za.done && (E=ha.return) && E.call(ha);c4H=1;break;}}}finally{Y1C=2;for(;Y1C !== 5;){switch(Y1C){case 1:throw sa.error;Y1C=5;break;case 2:Y1C=sa?1:5;break;}}}p74=1;break;}}}N9g=33;break;case 21:var T03="Invalid ";T03+="af";T03+="fected for network failure";d.error(T03);N9g=35;break;case 9:N9g=this.Ika?8:12;break;case 24:try{k99=2;for(;k99 !== 13;){switch(k99){case 1:k99=!P.done?5:13;break;case 2:(Q=c.__values(D),P=Q.next());k99=1;break;case 8:k99=R === z && !this.OYb(db)?13:7;break;case 6:var Z8X="e";Z8X+="r";Z8X+="ro";Z8X+="r";!this.d$ || 0 !== C && void 0 !== C || this.d$.nva(Z8X,Wa);k99=14;break;case 7:La.some(function(na){var l7x;l7x=2;for(;l7x !== 5;){switch(l7x){case 2:O.mr(oa,ka,na.url);return oa === g.default.Eg.vD;break;}}});k99=6;break;case 5:Ca=P.value;db=Ca.Pc;La=Ca.urls;Wa=Ca.url;k99=8;break;case 14:P=Q.next();k99=1;break;}}}catch(na){var Z;Z={error:na};}finally{e_z=2;for(;e_z !== 1;){switch(e_z){case 2:try{U89=2;for(;U89 !== 1;){switch(U89){case 2:P && !P.done && (J=Q.return) && J.call(Q);U89=1;break;}}}finally{l5j=2;for(;l5j !== 5;){switch(l5j){case 1:throw Z.error;l5j=5;break;case 2:l5j=Z?1:5;break;}}}e_z=1;break;}}}N9g=33;break;case 8:N9g=this.a3 >= this.config.nqa?7:13;break;case 7:var f19=" consecutive network failure mode";f19+=" i";f19+="n underflow mode";var N$p="Forci";N$p+="ng permanent netwo";N$p+="rk failure after ";d.info(N$p + this.a3 + f19);this.Qk.mr(g.default.Eg.iu,!0);N9g=14;break;case 14:return;break;case 34:var J6p="Unmapped fa";J6p+="ilure";J6p+=" code in J";J6p+="SASE error";J6p+=" director : ";R7xOY.C8s(0);d.error(R7xOY.A_X(F,J6p));N9g=33;break;}}};A.prototype.OYb=function(B){var w4k,D,C,F;w4k=2;for(;w4k !== 7;){switch(w4k){case 8:this.Mwa[B]={Rd:D,count:1};w4k=7;break;case 2:(D=h.default.time.Ga(),C=this.config,F=this.Mwa[B]);w4k=1;break;case 1:w4k=F?5:8;break;case 9:return F.Ly=!0;break;case 5:w4k=F.Rd < this.VL?4:3;break;case 4:(F.Rd=D,F.count=1);w4k=7;break;case 3:w4k=!(F.Rd >= D - C.C$ || F.Ly || (F.Rd=D,++F.count,F.count < C.b7))?9:7;break;}}};A.prototype.BKb=function(B){var A3K,E,J,M,D,C,F,G;A3K=2;for(;A3K !== 7;){switch(A3K){case 9:var j_w="temp";j_w+="oraryNetw";j_w+="o";j_w+="rkError";var G6V="te";G6V+="mpor";G6V+="a";G6V+="ryNetworkEr";G6V+="ror";B || this.events.emit(G6V,{type:j_w,errorCode:E,httpCode:J,nativeCode:M});A3K=8;break;case 3:(E=this.iy.Ig,J=this.iy.Yx,M=this.iy.Aj);A3K=9;break;case 8:F?(this.rN && (clearTimeout(this.rN),this.rN=void 0),this.xTa(),this.nta.reset(),this.Hna({sNb:B,UTb:E,WTb:J,XTb:M})):this.rN || (this.rN=setTimeout(function(){var y76;y76=2;for(;y76 !== 5;){switch(y76){case 2:D.rN=void 0;D.r9();y76=5;break;}}},G.ara));A3K=7;break;case 4:A3K=this.iy?3:9;break;case 2:var B2I=" m";B2I+="s a";B2I+="go";var g08=" last succes";g08+="s";g08+=" wa";g08+="s ";var M9L="Ne";M9L+="twork ";M9L+="ha";M9L+="s failed ";var m_4="tem";m_4+="p";m_4+="o";m_4+="ra";m_4+="rily";var J52="per";J52+="man";J52+="e";J52+="nt";J52+="ly";(D=this,C=h.default.time.Ga() - this.VL,F=B,G=this.config);R7xOY.m_t(1);d.warn(R7xOY.N0G(B?J52:m_4,M9L,C,g08,B2I));!B && C > G.$qa && (F=!0);A3K=4;break;}}};A.prototype.r9=function(){var Z_s,B;Z_s=2;for(;Z_s !== 5;){switch(Z_s){case 2:B=this;this.nTa.lha || this.nTa.Jeb(function(){var v5j;v5j=2;for(;v5j !== 1;){switch(v5j){case 2:B.rN || (B.Qk.r9(),B.Mwa={},B.hB());v5j=1;break;}}});Z_s=5;break;}}};m_P=8;break;case 8:A.prototype.P$=function(B){var T57,D;T57=2;for(;T57 !== 6;){switch(T57){case 2:D=this.config;this.VL=Math.max(B.ji || h.default.time.Ga(),this.VL);this.xTa();this.Ika=!1;this.a3=0;this.Qk.ha && void 0 !== B.Pk && !B.stream.wta(B.Pk) && this.Qk.AZa(B.stream).kx.xYb(B.Pk);D.ZG && this.nta.P$(B);T57=7;break;case 7:var p4u="updatin";p4u+="gLastSuc";p4u+="cessEvent";var l6k="updatingLast";l6k+="Suc";l6k+="ces";l6k+="sEv";l6k+="ent";this.events.emit(l6k,{type:p4u});T57=6;break;}}};A.prototype.wh=function(){var r5S,B,D,C;r5S=2;for(;r5S !== 3;){switch(r5S){case 2:var w_T="m";w_T+="s";var U8c="Setting un";U8c+="derflow timeout in";U8c+=" ";(B=this,D=this.config,C=D.X6);this.VL=Math.max(h.default.time.Ga(),this.VL);!D.Ndb || this.KX || D.dSb || (d.info(U8c + C + w_T),this.KX=setTimeout(function(){var D94;D94=2;for(;D94 !== 4;){switch(D94){case 2:var J3E="F";J3E+="orci";J3E+="n";J3E+="g permanent network failure after ";var C_E="ms, sin";C_E+="ce underfl";C_E+="ow with no ";C_E+="success";R7xOY.C8s(2);d.info(R7xOY.N0G(C_E,J3E,C));B.KX=void 0;B.Qk.mr(g.default.Eg.iu,!0);D94=4;break;}}},C));this.config.Kka && (this.Ika=!0);r5S=3;break;}}};m_P=6;break;case 6:A.prototype.xTa=function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:var G_n="Cleared";G_n+=" un";G_n+="derflow timeout";this.KX && (clearTimeout(this.KX),this.KX=void 0,d.info(G_n));j31=1;break;}}};return A;break;}}function A(B,D,C,F){var Q_V;Q_V=2;for(;Q_V !== 18;){switch(Q_V){case 9:var f3y="1";f3y+="SIYb";f3y+="Zr";f3y+="N";f3y+="JCp9";this.Ok=new l.Qe();f3y;this.nTa=new k.Zda();q[p.ODa]=D.uLb?w:z;Q_V=14;break;case 2:this.Qk=B;this.config=D;this.Hna=C;this.hB=F;Q_V=3;break;case 3:this.events=new l.EventEmitter();Q_V=9;break;case 11:this.Mwa={};this.nta=new m.JKa(B,F,D);this.Ika=!1;this.a3=0;Q_V=18;break;case 14:var d2E="ne";d2E+="tworkFa";d2E+="iled";this.Ok.addListener(this.Qk,d2E,this.BKb.bind(this));this.VL=h.default.time.Ga();this.bv=0;Q_V=11;break;}}}})();b.OCa=r;},59263:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pza=void 0;c=a(5163);l=a(57055);f=c.__importDefault(a(35471)).default.gj;r=(function(h){function d(g){var m;m=h.call(this) || this;m.rPa=g;m.R0=g.groupId;m.b1=new l.Qe();m.b1.on(m,f.xk.LP,m.Rob);m.b1.on(m,f.xk.Cz,m.Yfa);return m;}c.__extends(d,h);d.prototype.PTb=function(g,m,k){f.prototype.open.call(this,g,m,k);};d.prototype.b0b=function(g){this.R0=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.R0;},enumerable:!1,configurable:!0}});d.prototype.Ze=function(){this.b1 && this.b1.clear();f.prototype.Ze.call(this);};d.prototype.Rob=function(g){this.rPa.FWb(g.probed,g.affected);this.Ze();};d.prototype.Yfa=function(g){this.rPa.CWb(g.probed,g.affected);this.Ze();};return d;})(f);b.pza=r;},34425:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JKa=void 0;c=a(62558);l=a(59263);f=a(35471)["default"];new f.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function h(d,g,m){this.JQ=d;this.hB=g;this.config=m;this.Ls={};this.iC={};this.hE=!0;this.groupId=1;}h.prototype.EWb=function(d,g){var m,k,n,p,q,u,t,w,v,y;m=this;k=this.config;n=d.Pc;p=d.stream;q=d.$b.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.li[0];w=!1;v=this.Ls[n];y=f.time.Ga();if(!v)v=this.J0b(n,y,g,d);else if(v.Rd >= y - k.C$)return;v.Ly || (t && q.id === t.id && (d.isPrimary=!0),v.Rd=y,v.Ly=!1,v.error=g,++v.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,D,C;B=x.$b.id;D=B + "-" + n;C=m.iC[D];if(void 0 === C || void 0 === C.Q8)(C && C.fm && clearTimeout(C.fm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.kx) || void 0 === A?0:A.ha)?m.hIb(d.stream.kx,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=m.HUa(x,d,B),m.iC[D]={ia:!1,count:0,Q8:z.xj()},u.push(z.xj()),w=!0);-1 === v.vva.indexOf(B) && v.vva.push(B);}),0 < u.length && (k={ts:f.time.Ga(),es:g.bRa,fc:g.Ig,fn:g.sXa,nc:g.Aj,pb:u,gid:this.groupId},g.Yx && (k.hc=g.Yx),this.pG(k,"errpb")),w && this.groupId++));};h.prototype.HUa=function(d,g,m){var k,n;k=new l.pza(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));k.PTb(d + (-1 !== d.indexOf("?")?"&":"?") + n,g,m);return k;};h.prototype.J0b=function(d,g,m,k){var n;n=this.Ls[d];k=k.$b.location;n || (n=this.Ls[d]={count:0,Rd:g,Ly:!1,error:m,vva:[],pta:{},location:k,I:m.I,bdc:m});return n;};h.prototype.getState=function(d){return this.Ls[d];};h.prototype.bwb=function(d){this.Ls[d]=void 0;};h.prototype.pG=function(d,g){var m;if(this.hE){m={type:"logdata",target:"endplay",fields:{}};m.fields[g]={type:"array",value:d,adjust:["ts"]};this.JQ.EG(m);}};h.prototype.hIb=function(d,g,m){var k;k=void 0 === g || g === d.Tn().ON;return d.BT(k,k?void 0:g,m);};h.prototype.FWb=function(d,g){var m,k,n,p,q,u,t,w,v,y,x,z;m=this;p=this.JQ;q=this.config;u=g.Pc;t=this.Ls[u];if(t){w=d.url;v=this.iC[d.Pc + "-" + u];if(v){y=t.error;v && v.fm && clearTimeout(v.fm);v.ia=!0;v.count=0;v.Q8=void 0;t.pta[d.Pc]=!0;v=this.Ls[d.Pc];if((null === v || void 0 === v?0:v.Ly) && q.yR){p.N9a(d.Pc,v.error.IX[1]);if(this.hE){x={ts:f.time.Ga(),id:d.requestId,servid:g.Pc,gid:d.groupId?d.groupId:-1};this.pG(x,"errst");}this.Ls[d.Pc]=void 0;this.hB();}if(w !== g.url){z=this.iC[u + "-" + u];z && z.ia || (u=null === v || void 0 === v?void 0:v.location,q=Math.min((null === (n=null === (k=null === u || void 0 === u?void 0:u.Wb) || void 0 === k?void 0:k.H5) || void 0 === n?void 0:n.Da) || Math.random() * q.Y6,q.Y6),setTimeout(function(){var A;if(!(!1 !== t.Ly || z && z.ia) && (t.Ly=!0,p.mr(y.IX[0],y.IX[1],g.stream.kx.url,y),m.hE)){A={ts:f.time.Ga(),id:d.requestId,servid:g.Pc,gid:d.groupId?d.groupId:-1};m.pG(A,"erep");}},q));}this.hE && (x={ts:f.time.Ga(),id:d.requestId,result:1,servid:d.Pc,gid:d.groupId?d.groupId:-1},this.pG(x,"pbres"));}}};h.prototype.CWb=function(d,g){var m,k,n,p,q,u,t,w,v,y,x,z,A;m=this;p=this.JQ;q=this.config;u=g.Pc;t=this.Ls[u];w=d.Pc;v=this.iC[w + "-" + u];if(v && t){y=0;v.ia=!1;v.Q8=void 0;t.pta[w]=!1;x=t.vva;if(q.yR && w === u && g.isPrimary){z=t.location;z=(null === (n=null === (k=null === z || void 0 === z?void 0:z.Wb) || void 0 === k?void 0:k.H5) || void 0 === n?void 0:n.Da) || 300 * Math.random();k=Math.min(z * Math.pow(2,v.count),12E4);k+=Math.random() * (1E4 > k?100:1E4);v.fm=setTimeout(function(){var B;v.fm=void 0;B=m.HUa(d.url,g,w);B.b0b(d.groupId);v.Q8=B.xj();},k);}++v.count;if(w === u && (y=0,x.forEach(function(B){!1 === t.pta[B] && y++;}),x.length === y && t.count >= q.b7)){A=t.error;t.Ly=!0;q=g.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.mr(A.IX[0],A.IX[1],B.url,A);m.hE && (B={ts:f.time.Ga(),id:-1,servid:B.$b.id},m.pG(B,"erep"));});}this.hE && (q={ts:f.time.Ga(),id:d.requestId,result:0,servid:d.Pc,gid:d.groupId?d.groupId:-1},this.pG(q,"pbres"));}};h.prototype.P$=function(d){var g,m,k;if(d.url){m=this.JQ;k=m.H_b(d.url);k || (k=null === (g=this.JQ.y_a(d)[0]) || void 0 === g?void 0:g.id);k && (d=this.Ls[k]) && d.Ly && this.config.yR && (m.N9a(d.error.bRa,!1),this.hE && (m={ts:f.time.Ga(),id:-1,servid:k},this.pG(m,"errst")),this.bwb(k),(k=this.iC[k + "-" + k]) && k.fm && clearTimeout(k.fm));}};h.prototype.reset=function(){var d,g,m;d=this.iC;for(m in d){d.hasOwnProperty(m) && (g=d[m + "-" + m]) && g.fm && clearTimeout(g.fm);}this.iC={};this.Ls={};};return h;})();b.JKa=r;},40717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qWa=b.dNb=b.O1a=b.p_a=void 0;c=a(42866);b.p_a=function(l,f){if((l=l.wb.u.Rv) && 0 !== l.length)return (0,c.xc)(l,function(h){return h.Na.G <= f && f < h.eb.G;});};b.O1a=function(l,f){return f.index === l.af.index?!0:(l=l.wb.u.Rv) && 0 !== l.length?l.some(function(h){h=h.Na;return f.Na.FB(h) && h.lessThan(f.eb);}):!1;};b.dNb=function(l,f){return f.index === l.pf.index?!0:(l=l.wb.u.Rv) && 0 !== l.length?l.some(function(h){h=h.eb;return f.Na.lessThan(h) && h.FB(f.eb);}):!1;};b.qWa=function(l,f,h,d){var g,m,k,n,p,q,u,t;l=null === (g=f.Ha) || void 0 === g?void 0:g.start;g=null === (m=f.Ha) || void 0 === m?void 0:m.end;t=m=!1;if((null === d || void 0 === d?0:d.pNb) || (null === d || void 0 === d || !d.bNb) && f.Na.lessThan(h.Na)){if(u=f.Bla(h.Na.G))(u=(null !== (n=null === (k=f.Ha) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + u.Ij,l=Math.max(null !== l && void 0 !== l?l:0,u));u=h.Na.G;m=!0;}if((null === d || void 0 === d || !d.iNb) && f.eb.greaterThan(h.eb)){if(u=f.Bla(h.eb.G))(u=(null !== (q=null === (p=f.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Ij,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.kV=f.index);u=h.eb.G;t=!0;}if(void 0 !== l || void 0 !== g)(f.yi({start:l,end:g}),void 0 !== u && (!f.$v || u > f.$v) && f.FN(u));f.n0b(h.region,m,t);};},41714:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;c=a(5163);l=a(86786);r=(function(){function f(h,d){this.ik=h;this.filter=d;this.j4a=Math.max(h.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.hW=[];this.offset=0;this.aw=this.CC=null;this.filter.reset();this.zX=null;};f.prototype.add=function(h,d,g){var m;m=this.aw;null !== m && g > m && (this.offset+=Math.max(d - m,0),this.aw=null);for((0,l.q1a)(this.hW,[d - this.offset,g - this.offset,h]);this.hW && this.hW.length > this.j4a;){h=c.__read(this.hW.shift(),3);this.filter.add(h[2],h[0],h[1]);}this.zX=null;};f.prototype.get=function(h,d){var g,n;if(!this.zX){this.zX=this.filter.In();try{for(var m=c.__values(this.hW),k=m.next();!k.done;k=m.next()){n=c.__read(k.value,3);this.zX.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}}p=this.aw;return this.zX.get((null === p?h:p) - this.offset,d);};f.prototype.In=function(){var h;h=new f(this.ik,this.filter.In());h.aw=this.aw;h.offset=this.offset;return h;};f.prototype.start=function(h){var d;d=this.aw;null !== d && h > d && (this.offset+=h - d,this.aw=null);this.filter.start(h - this.offset);};f.prototype.stop=function(h){this.aw=null === this.aw?h:Math.min(this.aw,h);this.filter.stop(h - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.j4a + ", " + this.filter.toString() + ")";};return f;})();b.Wya=r;},45762:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PC=void 0;r=(function(){var Y8Q;Y8Q=2;for(;Y8Q !== 9;){switch(Y8Q){case 2:a.prototype.start=function(c){var U1Q;U1Q=2;for(;U1Q !== 1;){switch(U1Q){case 2:this.pg?c < this.pg?(this.bE+=this.pg - c,this.pg=c):this.jb && c > this.jb && (this.jb=this.pg=c):this.jb=this.pg=c;U1Q=1;break;}}};a.prototype.stop=function(c){var w2L;w2L=2;for(;w2L !== 1;){switch(w2L){case 2:this.jb && c > this.jb && (this.bE+=c - this.jb,this.jb=c);w2L=1;break;}}};a.prototype.add=function(c,l,f){var o61;o61=2;for(;o61 !== 4;){switch(o61){case 2:this.start(l);this.stop(f);this.kc+=c;o61=4;break;}}};a.prototype.get=function(){var X7q;X7q=2;for(;X7q !== 1;){switch(X7q){case 2:return {Da:this.bE?Math.floor(8 * this.kc / this.bE):null,VVa:this.bE || 0};break;}}};return a;break;}}function a(){var w67;w67=2;for(;w67 !== 4;){switch(w67){case 2:var g0s="1SI";g0s+="YbZr";g0s+="NJ";g0s+="C";g0s+="p9";this.bE=this.kc=0;this.jb=this.pg=void 0;g0s;w67=4;break;}}}})();b.PC=r;},75265:function(r,b,a){var l,f;function c(h){this.Z={TU:h.maxc || 25,ija:h.c || .5,G6b:h.w || 15E3,Utb:h.b || 5E3};l.call(this,this.Z.G6b,this.Z.Utb);this.aR();}l=a(7977);f=a(15913).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var h;h=this.tt(0);l.prototype.shift.call(this);null !== h && (this.Ve.push(h,1),this.eA=!0);return h;};c.prototype.flush=function(){var h;h=this.get();this.Ve.push(h,1);this.eA=!0;l.prototype.reset.call(this);return h;};c.prototype.get=function(){return this.H_a();};c.prototype.lL=function(){var h;h=this.H_a();return {min:h.min,p10:h.gsa,p25:h.Bp,p50:h.en,p75:h.Cp,p90:h.hsa,max:h.max,centroidSize:h.ovb,sampleSize:h.sampleSize,centroids:h.qj};};c.prototype.H_a=function(){var h;if(0 === this.Ve.size())return null;h=this.Ve.si([0,.1,.25,.5,.75,.9,1]);if(h[2] === h[4])return null;if(this.eA || !this.oh)(this.eA=!1,this.oh={min:h[0],gsa:h[1],Bp:h[2],en:h[3],Cp:h[4],hsa:h[5],max:h[6],si:this.Ve.si.bind(this.Ve),ovb:this.Ve.size(),sampleSize:this.Ve.n,qj:this.VGb(),lL:this.lL.bind(this)});return this.oh;};c.prototype.VGb=function(){var h;if(0 === this.Ve.size())return null;if(!this.eA && this.oh)return this.oh.centroids;h=this.Ve.si([.25,.75]);if(h[0] === h[1])return null;this.Ve.size() > this.Z.TU && this.Ve.Ax();h=this.Ve.Ar(!1).map(function(d){return {mean:d.Pf,n:d.n};});return JSON.stringify(h);};c.prototype.D_a=function(){return this.Ve.summary();};c.prototype.size=function(){return this.Ve.size();};c.prototype.toString=function(){return "btdtput(" + this.LJ + "," + this.zd + "," + this.nj + "): " + this.Ve.summary();};c.prototype.aR=function(){this.Ve=new f(this.Z.ija,this.Z.TU);};r.exports=c;},62012:function(r,b,a){var l,f;function c(h,d,g,m){l.call(this,g,m);this.Du=new f(h);this.vob=d;}l=a(7977);f=a(26208);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var h;h=this.tt(0);l.prototype.shift.call(this);null !== h && this.Du.OQa(h);return h;};c.prototype.flush=function(){var h;h=this.get();this.Du.OQa(h);l.prototype.reset.call(this);return h;};c.prototype.get=function(){var h;h=this.xT();return {sampleSize:this.CT(),Csa:h,jra:h.en?(h.Cp - h.Bp) / h.en:void 0};};c.prototype.CT=function(){return this.Du.CT();};c.prototype.xT=function(){return this.Du.CT() < this.vob?{Bp:void 0,en:void 0,Cp:void 0,sampleSize:void 0,si:void 0}:{Bp:this.Du.dK(25),en:this.Du.dK(50),Cp:this.Du.dK(75),sampleSize:this.Du.CT(),si:this.Du.dK.bind(this.Du)};};c.prototype.toString=function(){return "biqr(" + this.LJ + "," + this.zd + "," + this.nj + ")";};r.exports=c;},62198:function(r,b,a){var f,h,d,g;function c(m,k,n){f.call(this,m,k,n);}function l(m,k){h.call(this,new c(m,k,!1));}f=a(82732);h=a(6694);d=a(53265).CYa;g=a(53265).N_a;c.prototype=Object.create(f.prototype);c.prototype.Da=function(){return Math.floor(8 * d(this.Ad) / this.zd);};c.prototype.Zd=function(){return Math.floor(64 * g(this.Ad) / (this.zd * this.zd));};c.prototype.get=function(){return {Da:this.Da(),Zd:this.Zd(),Vbc:this.Ad.length};};c.prototype.toString=function(){return "bsw(" + this.LJ + "," + this.zd + "," + this.nj + ")";};l.prototype=Object.create(h.prototype);l.prototype.setInterval=function(m){this.tQ.setInterval(m);};r.exports=l;},72245:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NAa=void 0;c=a(45762);r=(function(){var J7N;J7N=2;function l(){var r_J;r_J=2;for(;r_J !== 5;){switch(r_J){case 2:var O5k="1S";O5k+="IYb";O5k+="ZrNJCp9";this.k1={};O5k;r_J=5;break;}}}for(;J7N !== 9;){switch(J7N){case 3:return l;break;case 12:return l;break;case 2:l.prototype.add=function(f,h,d,g){var B8q,m;B8q=2;for(;B8q !== 4;){switch(B8q){case 2:m=this.k1;void 0 === m[g] && (m[g]=new c.PC());m[g].add(f,h,d);B8q=4;break;}}};l.prototype.start=function(f,h){var u66,d;u66=2;for(;u66 !== 4;){switch(u66){case 2:d=this.k1;void 0 === d[h] && (d[h]=new c.PC());d[h].start(f);u66=4;break;}}};l.prototype.stop=function(f,h){var i2V,d;i2V=2;for(;i2V !== 5;){switch(i2V){case 2:d=this.k1;void 0 !== d[h] && d[h].stop(f);i2V=5;break;}}};l.prototype.get=function(){var I$t,f,h,d,g,m,k;I$t=2;for(;I$t !== 8;){switch(I$t){case 2:(f=this.k1,h=Object.keys(f).map(function(n){var u_G;u_G=2;for(;u_G !== 1;){switch(u_G){case 4:return parseInt(n);break;case 2:return parseInt(n);break;}}}),d=[],g=0);I$t=1;break;case 3:g++;I$t=1;break;case 1:I$t=g < h.length?5:9;break;case 9:return d;break;case 5:(m=h[g],k=f[m].get());k && d.push({cdnid:m,avtp:k.Da,tm:k.VVa});I$t=3;break;}}};J7N=3;break;}}})();b.NAa=r;},78632:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bBa=void 0;c=a(5163);l=a(15913);new (c.__importDefault(a(35471)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function f(h){this.config=h;this.jja=h.c;this.rqa=h.Kec;this.HU=h.HU;this.PT=h.PT;this.V5=h.V5;this.U0b=h.ycc;this.SF=h.SF;this.h4a=h.h4a;this.reset();}f.prototype.reset=function(){this.dh=new l.TDigest(this.jja,this.rqa);this.jb=null;};f.prototype.add=function(h,d,g){var m,k,n,u;g=Math.max(g - d,1);h=8 * h / g;if(this.U0b){null === this.jb && (this.jb=d);k=Math.pow(2,(d - this.jb) / this.SF);n=g * k;if(k >= this.h4a){n=new l.TDigest(this.jja,this.rqa);try{for(var p=c.__values(this.dh.Ar()),q=p.next();!q.done;q=p.next()){u=q.value;n.push(u.Pf,u.n / k);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(t)throw t.error;}}this.dh=n;n=g;this.jb=d;}this.dh.push(h,n);}else this.dh.push(h,g);};f.prototype.get=function(){var h;h=this.dh.si([this.HU,this.PT,this.V5]);return {low:h[0] || 0,high:h[1] || 0,initial:h[2] || 0};};f.prototype.In=function(){var h,d,g,n;d=new f(this.config);g=new l.TDigest(this.jja,this.rqa);try{for(var m=c.__values(this.dh.Ar()),k=m.next();!k.done;k=m.next()){n=k.value;g.push(n.Pf,n.n);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (h=m.return) && h.call(m);}finally{if(p)throw p.error;}}d.dh=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.bBa=r;},19253:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KBa=b.Chb=b.Aba=b.fib=b.Dhb=void 0;c=a(5163);l=a(34238);a=(function(){return function(){};})();b.Dhb=a;f=(function(){function h(d,g,m,k,n){this.alpha=d;this.Da=g;this.weight=k;this.lea=m * this.weight;this.AX=n;}h.prototype.In=function(){return new h(this.alpha,this.Da,this.Zd,this.weight,this.AX);};Object.defineProperties(h.prototype,{Zd:{get:function(){return this.weight?this.lea / this.weight:0;},enumerable:!1,configurable:!0}});h.prototype.update=function(d,g,m){var k,n,p,q;k=this.alpha;n=this.weight;p=this.AX;q=k * (d - p);5 < q && (this.weight/=Math.exp(q),this.AX=p=d);d=Math.exp(k * (g - p)) - Math.exp(k * (d - p));g=this.weight+=d;k=this.Da;this.Da=p=k + d * (m - k) / g;this.lea=n?this.lea * (g - d) / n + d * (m - p) * (m - k):0;};return h;})();b.fib=f;r=(function(){var j_g;j_g=2;for(;j_g !== 14;){switch(j_g){case 7:h.prototype.flush=function(){};return h;break;case 4:h.prototype.add=function(d,g,m){var U$u=R7xOY;var r5f,k;r5f=2;for(;r5f !== 7;){switch(r5f){case 9:U$u.m_t(3);this.AH.update(g,m,U$u.A_X(k,d));U$u.C8s(4);this.BH.update(g,m,U$u.A_X(8,d,k));r5f=7;break;case 5:k=this.CC;this.CC=null === k?m:Math.max(k,m);U$u.m_t(5);k=Math.max(U$u.A_X(m,g),1);r5f=9;break;case 2:k=this.Cr;this.Cr=null === k?g:Math.min(k,g);r5f=5;break;}}};h.prototype.get=function(d,g){var L7h=R7xOY;var G5j,m,k,n,p,q,u,t,w,v;G5j=2;for(;G5j !== 16;){switch(G5j){case 17:(q=this.AH,u=this.BH);G5j=20;break;case 6:n=Math.max(n,p);G5j=14;break;case 4:void 0 === g && (g=this.V4a);n >= p && (g=Math.min(g,this.V4a));p=g * q.Da;G5j=8;break;case 14:L7h.C8s(5);q.update(L7h.N0G(k,m),L7h.N0G(d,m,L7h.m_t(5)),L7h.N0G(n,g,L7h.C8s(3)));G5j=13;break;case 5:G5j=(q=new f(q.alpha,q.Da,q.Zd,q.weight,q.AX),u=new f(u.alpha,u.Da,u.Zd,u.weight,u.AX),0 < q.weight && 0 !== g)?4:20;break;case 13:L7h.C8s(5);u.update(L7h.A_X(k,m),L7h.N0G(d,m),0);G5j=20;break;case 10:n=1E-11 < w?Math.max(v / w,n):n + 2 * t / p;G5j=14;break;case 1:G5j=0 < n?5:17;break;case 20:d=q.weight;g=u.weight;return {Da:d?q.Da:null,Zd:d?q.Zd:null,XJ:g?u.Da:null,sO:g?u.Zd:null};break;case 2:(m=this.Cr || 0,k=this.CC || 0,n=d - k,p=this.iRb,q=this.AH,u=this.BH);G5j=1;break;case 8:L7h.C8s(6);var R4s=L7h.N0G(15,178,12,5,9);t=Math.pow(g,R4s) * q.Zd;G5j=7;break;case 7:G5j=0 === t?6:12;break;case 12:(w=new l.k_(p,t).hvb(n),v=p - w[1]);L7h.m_t(7);var b20=L7h.N0G(10,7,10,12,4);w=b20 - w[0];G5j=10;break;}}};h.prototype.toString=function(){var N4Q;N4Q=2;for(;N4Q !== 1;){switch(N4Q){case 4:var x1Q="Deliver";x1Q+="yDi";x1Q+="s";x1Q+="t(";return x1Q.concat(this.SF,")");break;case 2:var P5_="D";P5_+="el";P5_+="ive";P5_+="ryDist(";return P5_.concat(this.SF,")");break;}}};h.prototype.stop=function(){};j_g=7;break;case 2:h.prototype.In=function(d){var h7n;h7n=2;for(;h7n !== 8;){switch(h7n){case 2:d || (d=new h(this.ik));d.Cr=this.Cr;d.CC=this.CC;d.AH=this.AH.In();d.BH=this.BH.In();return d;break;}}};h.prototype.reset=function(){var r_8,d;r_8=2;for(;r_8 !== 3;){switch(r_8){case 2:d=-Math.log(.5) / this.SF;this.AH=new f(d,0,0,0,0);this.BH=new f(d,0,0,0,0);this.Cr=this.CC=null;r_8=3;break;}}};h.prototype.start=function(d){var w6B;w6B=2;for(;w6B !== 1;){switch(w6B){case 2:null === this.Cr && (this.Cr=d);w6B=1;break;}}};j_g=4;break;}}function h(d){var o_Y,g,m;o_Y=2;for(;o_Y !== 7;){switch(o_Y){case 8:this.reset();o_Y=7;break;case 3:this.V4a=g;this.iRb=m;o_Y=8;break;case 2:var u6e="1SI";u6e+="YbZrNJCp";u6e+="9";this.ik=d;u6e;o_Y=5;break;case 5:(g=d.min_b,m=d.min_iv);this.SF=d.hl;o_Y=3;break;}}}})();b.Aba=r;a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);return d;})(a);b.Chb=a;r=(function(h){function d(g){var m;m=h.call(this,g) || this;m.ik=g;return m;}c.__extends(d,h);d.prototype.get=function(){var g,m,k;if(0 === this.AH.weight || 0 === this.BH.weight)return {low:null,high:null,initial:null};switch(this.ik.kM){case "deliverytime":g=this.AH;g=new l.k_(g.Da,g.Zd);(m=this.ik.accuracy,k=this.ik.kQb);return {low:8 / g.Kv(this.ik.PT,m,k),high:8 / g.Kv(this.ik.HU,m,k),initial:8 / g.Kv(this.ik.V5,m,k)};default:return (g=this.BH,g=new l.k_(g.Da,g.Zd),m=this.ik.accuracy,k=this.ik.kQb,{low:g.Kv(this.ik.HU,m,k),high:g.Kv(this.ik.PT,m,k),initial:g.Kv(this.ik.V5,m,k)});}};d.prototype.In=function(){var g;g=new d(this.ik);h.prototype.In.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.ik.HU,this.ik.PT),"])");};return d;})(r);b.KBa=r;},36253:function(r,b,a){var h;function c(d){this.reset();this.j0b(d);}function l(d){this.setInterval(d);this.reset();}function f(d){this.Qz=new l(d);this.Ib=0;this.Gc=null;}h=a(17267);c.prototype.j0b=function(d){this.gJ=Math.pow(.5,1 / d);this.DQ=d;};c.prototype.reset=function(d){d && d.Da && h.sb(d.Da)?d.Zd && h.sb(d.Zd)?(this.zu=this.Ynb,this.Ko=d.Da,this.Lz=d.Zd + d.Da * d.Da):(this.zu=this.Ynb,this.Ko=d.Da,this.Lz=d.Da * d.Da):this.Lz=this.Ko=this.zu=0;};c.prototype.add=function(d){var g;if(h.sb(d)){this.zu++;g=this.gJ;this.Ko=g * this.Ko + (1 - g) * d;this.Lz=g * this.Lz + (1 - g) * d * d;}};c.prototype.dna=function(){var d,g,m;if(0 === this.zu)return {Da:0,Zd:0};d=this.Ko;g=this.Lz;m=1 - Math.pow(this.gJ,this.zu);d/=m;g/=m;m=d * d;return {Da:d,Zd:g > m?g - m:0};};c.prototype.get=function(){var d;d=this.dna();return {Da:Math.floor(d.Da),Zd:Math.floor(d.Zd)};};c.prototype.getState=function(){return 0 === this.zu?null:{a:Number(this.Ko.toPrecision(6)),s:Number(this.Lz.toPrecision(6)),n:this.zu};};c.prototype.Dg=function(d){if(h.Zb(d) || !h.has(d,"a") || !h.has(d,"s") || !h.isFinite(d.a) || !h.isFinite(d.s))return (this.Lz=this.Ko=this.zu=0,!1);this.Ko=d.a;this.Lz=d.s;h.has(d,"n") && h.sb(d.n)?this.zu=d.n:this.zu=16 * this.DQ;return !0;};l.prototype.setInterval=function(d){this.DQ=d;this.gJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.jb=this.pg=null;d && h.isFinite(d.Da)?this.Ko=d.Da:this.Ko=0;};l.prototype.start=function(d){h.Zb(this.pg) && (this.jb=this.pg=d);};l.prototype.add=function(d,g,m){var k,n,p;h.Zb(this.pg) && (this.jb=this.pg=g);this.pg=Math.min(this.pg,g);g=Math.max(m - g,1);k=this.gJ;n=Math.max(m,this.jb);p=n - this.jb;m=n - m;this.Ko=this.Ko * (0 < p?Math.exp(-k * p):1) + 8 * d / g * (1 - Math.exp(-k * g)) * (0 < m?Math.exp(-k * m):1);this.jb=n;};l.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.Ko * Math.exp(-this.gJ * (d - this.jb));d=1 - Math.exp(-this.gJ * (d - this.pg));0 < d && (g/=d);return {Da:Math.floor(g)};};l.prototype.toString=function(){return "ewmav(" + this.DQ + ")";};f.prototype.setInterval=function(d){this.Qz.setInterval(d);};f.prototype.reset=function(d){this.Qz.reset(d);this.Ib=0;this.Gc=null;};f.prototype.start=function(d){!h.Zb(this.Gc) && d > this.Gc && (this.Ib+=d - this.Gc,this.Gc=null);this.Qz.start(d - this.Ib);};f.prototype.add=function(d,g,m){!h.Zb(this.Gc) && m > this.Gc && (this.Ib+=g > this.Gc?g - this.Gc:0,this.Gc=null);this.Qz.add(d,g - this.Ib,m - this.Ib);};f.prototype.stop=function(d){this.Gc=Math.max(h.Zb(this.Qz.jb)?0:this.Qz.jb + this.Ib,h.Zb(this.Gc)?d:Math.min(this.Gc,d));};f.prototype.get=function(d){return this.Qz.get((h.Zb(this.Gc)?d:this.Gc) - this.Ib);};f.prototype.toString=function(){return this.Qz.toString();};r.exports={Hhb:c,o8b:l,Fhb:f};},61739:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x;function c(z){this.config=z;this.onb=z.efa;}l=a(99039).oda;f=a(78632).bBa;h=a(45762).PC;b=a(36253);d=b.Hhb;g=b.Fhb;m=a(78142).Ghb;k=a(19253).Aba;n=a(19253).KBa;p=a(78142).Bmb;q=a(62012);u=a(75265);t=a(65877).wMa;w=a(69615);v=a(81253);y=a(90402).aKa;x=a(41714).Wya;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,D,C,F;B=this.onb[z];D=A[z];C={};B && Object.keys(B).forEach(function(G){C[G]=B[G];});D && Object.keys(D).forEach(function(G){C[G]=D[G];});switch(C.type){case "slidingwindow":F=new l(this.config,new m(C.mw));break;case "discontiguous-ewma":F=new l(this.config,new g(C.mw));break;case "initial-discontiguous-ewma":F=new y(new g(C.mw),C.playerStates);break;case "wssl":F=new p(C.mw,C.max_n);break;case "iqr":F=new q(C.mx,C.mn,C.bw,C.iv);break;case "tdigest":F=new u(C);break;case "ci":F=new l(this.config,new x(C,new f(C)));break;case "discrete-ewma":F=new d(C.hl);break;case "tdigest-history":F=new t(C);break;case "iqr-history":F=new w(C);break;case "avtp":F=new h();break;case "entropy":F=new v(C);break;case "deliverytime":F=new l(this.config,new x(C,new k(C)));break;case "deliverytime-ci":F=new l(this.config,new x(C,new n(C)));}F && (F.type=C.type);return F;};r.exports=c;},63606:function(r,b,a){r.exports={fdc:a(36253),ugc:a(78142),Z7b:a(62198),Aba:a(19253),Y7b:a(62012),$7b:a(75265),kib:a(61739)};},52733:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yHa=void 0;r=a(5163).__importDefault(a(35471));c=a(27364);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(f,h){this.config=f;this.d8=h;this.reset();}l.prototype.reset=function(){this.confidence=c.Bz.HAVE_NOTHING;this.startTime=this.xa=0;};l.prototype.In=function(){var f;f=new l(this.config,this.d8);f.confidence=this.confidence;f.xa=this.xa;f.startTime=this.startTime;return f;};l.prototype.add=function(f,h,d){0 === this.startTime && (this.startTime=h,this.xa=0);this.xa+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Bz.AI);this.confidence < c.Bz.zI && (f > this.config.xob || this.xa > this.config.wob) && (this.confidence=c.Bz.zI);this.confidence < c.Bz.cP && (f > this.config.ppb || this.xa > this.config.opb) && (this.confidence=c.Bz.cP,this.d8());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.yHa=a;},81253:function(r,b,a){var l;function c(f){var h,d;h=f.sw;d=f.mw;this.KJ=h;this.Pea={uhd:f.uhdl,hd:f.hdl};this.nj=Math.max(Math.ceil(1 * h / d),1);this.yob=f.mins || 1;l.call(this,h,d);this.reset();}l=a(7977);new (a(35471)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Ad.map(function(f,h){this.SQa(f,this.cma(h));},this);};c.prototype.Cub=function(){var f,h,d,g,m,k,n,t;f=this.Pea;for(h in f){if(f.hasOwnProperty(h)){d=f[h];g=this.sga[h];m=this.rga[h];if(g.first){k=g.first;n=g.YG;void 0 !== n && (m[k][n]+=1);g.first=void 0;}g=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=m[u][p];}k+=q;g.push(q);}q=-1;if(k > this.yob){for(p=q=0;p < n;p++){if(0 < g[p])for(u=0;u < d;u++){t=m[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=k * Math.log(2);}this.kfa[h]=q;}}return this.kfa;};c.prototype.SQa=function(f,h){var k,n;for(var d=this.nj,g=this.Pea;this.K0.length >= d;){this.K0.shift();}for(;this.L0.length >= d;){this.L0.shift();}this.K0.push(f);this.L0.push(h);f=this.K0.reduce(function(p,q){return p + q;},0);h=this.L0.reduce(function(p,q){return p + q;},0);if(0 < h){f=8 * f / h;for(var m in g){if(g.hasOwnProperty(m)){h=this.sga[m];d=this.rga[m];k=this.mXb(f,g[m]);n=h.YG;void 0 !== n?d[k][n]+=1:h.first=k;h.YG=k;}}}};c.prototype.mXb=function(f,h){for(var d=0;d < h.length && f > h[d];){d+=1;}return d;};c.prototype.shift=function(){this.SQa(this.Ad[0],this.cma(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var f,h,d,g,m,k,n;this.sga={};this.K0=[];this.L0=[];this.rga={};this.kfa={};f=this.Pea;for(h in f){if(f.hasOwnProperty(h)){d=this.rga;g=h;k=void 0;n=Array(k);k=m=f[h].length + 1;for(var p=0;p < k;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[g]=n;this.sga[h]={first:void 0,YG:void 0};this.kfa[h]=0;}}l.prototype.reset.call(this);};r.exports=c;},99039:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.oda=void 0;new (a(35471)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,f){this.config=l;this.filter=f;}c.prototype.In=function(){return new c(this.config,this.filter);};c.prototype.Y0b=function(l,f,h,d){var g,m,k;k=d.gH;if(!k || !k.k6())return !0;switch(this.config.KLb){case "requested":return !1;case "requested-low":return (k=k.Vua(this.config.Dka),k.Z4a() > ((null === (g=d.Gt) || void 0 === g?void 0:g.XV) || 0));case "inferred":k=k.Vua(this.config.Dka);l=k.mqa(l,f,h,this.config.HV);if(!l)break;return k.Z4a() > ((null === (m=d.Gt) || void 0 === m?void 0:m.XV) || 0);case "inferred-strict":if((k=k.Vua(this.config.Dka),k.mqa(l,f,h,this.config.HV)))return !1;}return !0;};c.prototype.add=function(l,f,h,d){this.Y0b(l,f,h,d) && this.filter.add(l,f,h,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.oda=r;},90402:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=void 0;r=(function(){function a(c,l){this.Zj=0;this.filter=c;this.D8=l;this.Zj=0;}a.prototype.PU=function(c){return 0 < this.D8.filter(function(l){var f;return l === (null === (f=c.Gt) || void 0 === f?void 0:f.Ag);}).length;};a.prototype.add=function(c,l,f,h){this.PU(h) && this.filter.add(c,l,f,h);};a.prototype.start=function(c,l){this.filter.start && this.PU(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.PU(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Zj=0;this.filter.reset && this.filter.reset();};a.prototype.Tv=function(c,l){this.PU(l) && (this.Zj+=1,this.filter.Tv && this.filter.Tv(c,l));};a.prototype.Vv=function(c,l,f){this.PU(f) && (this.Zj=Math.max(this.Zj - 1,0),0 === this.Zj && this.stop(c,f),this.filter.Vv && this.filter.Vv(c,f));};return a;})();b.aKa=r;},78142:function(r,b,a){var h;function c(d){this.KJ=d;this.reset();}function l(d){this.nj=new c(d);this.Ib=0;this.Gc=null;}function f(d,g){this.KJ=d;this.UOa=g;this.reset();}h=a(17267);c.prototype.vPa=function(d,g){this.jb+=d;this.jj+=d;this.kc+=g;this.Gi.push({d:d,b:g});};c.prototype.UQ=function(){var d;for(;this.jj > this.KJ;){d=this.Gi.shift();this.kc-=d.b;this.jj-=d.d;}};c.prototype.reset=function(){this.Gi=[];this.jb=null;this.jj=this.kc=0;};c.prototype.setInterval=function(d){this.KJ=d;this.UQ();};c.prototype.start=function(d){h.Zb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,m){h.Zb(this.jb) && (this.jb=g);g > this.jb && this.vPa(g - this.jb,0);this.vPa(m > this.jb?m - this.jb:0,d);this.UQ();};c.prototype.get=function(){return {Da:Math.floor(8 * this.kc / this.jj),Zd:0};};l.prototype.reset=function(){this.nj.reset();this.Ib=0;this.Gc=null;};l.prototype.add=function(d,g,m){!h.Zb(this.Gc) && m > this.Gc && (g > this.Gc && (this.Ib+=g - this.Gc),this.Gc=null);this.nj.add(d,g - this.Ib,m - this.Ib);};l.prototype.start=function(d){!h.Zb(this.Gc) && d > this.Gc && (this.Ib+=d - this.Gc,this.Gc=null);this.nj.start(d - this.Ib);};l.prototype.stop=function(d){this.Gc=h.Zb(this.Gc)?d:Math.min(d,this.Gc);};l.prototype.get=function(){return this.nj.get();};l.prototype.setInterval=function(d){this.nj.setInterval(d);};f.prototype.reset=function(){this.Gi=[];this.kc=this.jj=0;};f.prototype.add=function(d,g,m,k){void 0 !== k && !0 === k && (g=m - g,this.jj+=g,this.kc+=d,this.Gi.push({d:g,b:d}),this.UQ());};f.prototype.UQ=function(){var d;for(;this.jj > this.KJ || this.Gi.length > this.UOa;){d=this.Gi.shift();this.kc-=d.b;this.jj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Da:Math.floor(8 * this.kc / this.jj),Zd:0};};f.prototype.setInterval=function(d,g){this.KJ=d;this.UOa=g;this.UQ();};r.exports={n8b:c,Ghb:l,Bmb:f};},88577:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JHa=b.lib=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(87034);h=a(49730);d=a(40717);g=a(97810);r=(function(){return function(m,k,n,p){this.Z=k;this.ut=p;p="[" + m + "]";n=(0,g.Nh)(l.default,n,p);this.Y4a=m === f.v.Y?k.Rqa:k.Nqa;p=l.default.rT()[m];this.SU=m === f.v.Y?k.AQb:k.eQb;this.SU=Math.min(k.mQb * p,this.SU);h.K && n.trace("This pipeline's buffer size ",p,this.SU);this.w7=(m === f.v.Y?k.ty:k.Av) || k.w7;this.a7=(m === f.v.Y?k.zQb:k.dQb) || k.a7;this.gha=k.gha;};})();b.lib=r;r=(function(m){function k(n,p,q,u){return m.call(this,n,p,q,u) || this;}c.__extends(k,m);k.prototype.tZa=function(n,p,q,u){var t,w,v,y,x,z,A,B,D;void 0 === q && (q=!1);void 0 === u && (u=!1);v=this.ut;y=n.pa.Joa();x=v.af.index;z=v.pf.index;A=p === x;B=p === z;if(!B || A && v.af.Ha){if(A){D=n.mZa(v.af);D.FN(v.af.$v);B && (v.af.Ha || v.pf.Ha) && D.yi({start:null === (t=D.Ha) || void 0 === t?void 0:t.start,end:null === (w=v.pf.Ha) || void 0 === w?void 0:w.end});}else D=n.Sn(p);}else (D=n.mZa(v.pf),D.FN(v.pf.$v));D.kV=p + 1;if(t=(0,d.p_a)(v,v.el))(h.K && v.hx("getFragmentForRequest pts:",v.el,"in region:",t,"previous region:",v.rpa),w=void 0 === v.rpa || v.rpa !== t.region,(0,d.qWa)(v.V,D,t,{bNb:A,iNb:B,pNb:w}));B && (D.$3a(),D.q0b(v.wb.u));A && D.ZPb();A=n.La.ur;if(!(D.kV === p || null !== A && void 0 !== A && A.P1a(p) || y || !this.gha && D.Ha || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < n.La.length && p < q && (D.xa < this.Y4a || D.ve.G < this.w7) && (1 === D.stream.Jg.length || this.Zub(n,p));++p){u=n.Sn(p);if(null === A || void 0 === A?0:A.P1a(p))break;if((0,d.O1a)(v,u))break;if(D.ve.add(u.ve).G > this.a7)break;if(D.xa + u.xa > this.SU)break;D.dha(u);D.kV=p + 1;h.K && v.hx("getFragmentForRequest: extended fragment startPts:",D.Na.G,"to duration:",D.ve.G,"size:",D.xa,"min request size:",this.Y4a,"max request size:",this.SU,"min request duration:",this.w7,"max request duration:",this.a7,"edit:",D.Ha);}h.K && v.hx("getFragmentForRequest(" + p + ") returning:",D,"stream:",D.stream,"firstRequestInRegion:",D.Mla,"lastRequestInRegion:",D.jt,"nextIndex:",D.kV);return D;};k.prototype.Zub=function(n,p){return !n.Jg.some(function(q){return p === q.bf;});};return k;})(r);b.JHa=r;},61765:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.UWa=b.VK=b.Ms=b.U4=void 0;c=a(35195);l=a(27364);f=a(62558);h=a(22209);b.U4=function(d,g){return d.Qx(g,void 0,!0);};b.Ms=function(d,g,m,k,n,p){var q,u,t,w;h.Zp.nv(d);if(m.ha){g=m.S;q=m.Tn();n=q.ON;p=q.ve.ef(g);q=n + Math.floor(k / p.G);d === l.v.ea && (q=Math.max(n,q - 1));d=p.Bv(q - n);k=d.add(p);return new c.$p(m,void 0,{index:q,qb:d.Ba,xb:k.Ba,S:g,offset:0,xa:0});}(0,f.assert)(m.La,"findFirstFragment called without stream fragments");u=m.La;k=Math.max(m.La.cm(0),k);d === l.v.ea && !p && g.Bm && !g.DR && m.Qf && (k=Math.max(m.La.cm(0),k + m.Qf.G));q=(0,b.U4)(u,k);t=m.Sn(q);if(t.eb.G < k)return t;w=t.ZEb(k);w?(0 < w.Ij && t.yi({start:w.Ij}),d !== l.v.ea || g.m7 || (0 > w.ye && t.yi({start:w.Ij}),w.ye < (g.Bm && !g.DR && m.Qf?Math.floor(m.Qf.G):0) && t.yka())):k >= t.eb.G && q < u.length - 1 && (t=m.Sn(q + 1));d === l.v.Y && n && t.eb.G === n && q < u.length - 1 && (t=m.Sn(q + 1));d === l.v.ea && !t.Ha && (g.s1a || g.nCb) && p && t.yi({});t.FN(k);return t;};b.VK=function(d,g,m,k,n,p){var q,u;h.Zp.nv(d);if(m.ha)return (n=g=q=Infinity,d=m.S,void 0 !== k && Infinity !== k && (q=m.Tn(),g=q.ON,n=q.ve.ef(d),q=g + Math.floor(k / n.G),0 === k % n.G && (q=Math.max(g,q - 1)),k=n.Bv(q - g),n=k.add(n),g=k.Ba,n=n.Ba),new c.$p(m,void 0,{index:q,qb:g,xb:n,S:d,offset:0,xa:0}));q=m.La;void 0 === k && (k=q.mf);if(n && (n=n.PEb(m,k,d,g,p)))return n;n=q.ca;p=k?k + (0,b.UWa)(d,n,g.oN,g.yN):q.JS(q.length - 1);q=q.Qx(p,void 0,!0);n=m.Sn(q);0 === q || n.Na.G !== k || d !== l.v.Y && g.oN || (--q,n=m.Sn(q));p=d === l.v.Y?p:k;if(p < n.eb.G){u=n.Bla(p);u && 0 !== u.Ij?n.yi({end:u.Ij}):d === l.v.ea && (u || p < n.Na.G) && 0 !== q?n=m.Sn(q - 1):d !== l.v.Y || m.OMb && !u || 0 === q || (n=m.Sn(q - 1));}d === l.v.ea && !n.Ha && g.s1a && n.yi();n.FN(k);return n;};b.UWa=function(d,g,m,k){var n;return d === l.v.Y || k?0:m?null !== (n=null === g || void 0 === g?void 0:g.G) && void 0 !== n?n:0:g?-g.G:0;};},58628:function(r,b,a){var l,f,h,d,g,m;function c(k,n){return k - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.oib=b.wF=void 0;l=a(5163);f=a(49730);h=l.__importDefault(a(35471));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).mib;b.wF=function(k,n){var p;if(!d)return k;p=new m(k.name,n);return (function(q){function u(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.pYa=p.fzb(t);return t;}l.__extends(u,q);return u;})(k);};m=(function(){function k(n,p){this.name=n;this.kja=p;this.rB=[];this.AMb=0;}Object.defineProperties(k,{console:{get:function(){g || (g=new h.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});k.prototype.fzb=function(n){var p,q;if(d){p=this.kja;p || (p=k.console);if(!n.pYa && "undefined" !== typeof nrdp){n={type:this.name,id:this.AMb++};this.rB.push(n.id);q=JSON.stringify(n);q=nrdp.pYa(q,(function(u,t,w,v){u.rB.splice(u.rB.indexOf(t),1);u.rB=u.rB.sort(c);for(var y=[],x=0;x < u.rB.length && 5 > x;x++){y.push(u.rB[x]);}null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(w,"/").concat(t,". ") + ("").concat(u.rB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,n.id,n.type,p));f.K && p && p.info("Creating tagged instance",n);return q;}}};return k;})();b.oib=m;},14386:function(r,b,a){var l,f,h,d,g,m,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,f.U4a)(function(q){return q.yy;}),p).yy;}Object.defineProperties(b,{__esModule:{value:!0}});b.qDa=void 0;l=a(5163);f=a(42866);h=a(72072);d=a(27364);g=a(33285);m=l.__importDefault(a(35471));k=a(2663);r=(function(){function n(p,q){this.V=p;this.config=q;this.X2a=0;this.fh=new g.tu({fo:10,dn:this,source:"GraphStreamingProcess"});}n.prototype.p6a=function(p,q){var u,t,w,v,y,x,z,A,B,F,G,E,J,M;w=!1;v=[];if(0 < q.length){y=this.C1b(q);x=y.some(function(H){return 1 === (0,k.HSa)(H) && (0,d.Xn)(H.jf);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var D=l.__values(y),C=D.next();!C.done;C=D.next()){F=C.value;if(F.zB && (!B || F.groupId === B))if(F.Lk)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.m2a(p,null !== (t=F.PF) && void 0 !== t?t:1);E=(0,h.N8a)(G.reason);E && (A[F.mediaType]=E,(0,f.d2)(z,F));if(G.result){J=c(z,F);if(this.Jvb(F,x,J)){M=F.s2a();this.Ppa(v,F,M.reason);M.Mh && (this.X2a=m.default.time.Ga());if(w=M.Mh)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.V.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=F.groupId);}else if((this.Ppa(v,F,"concurrencyCheck"),!E))break;}else this.Ppa(v,F,G.reason);}}}catch(H){var L;L={error:H};}finally{try{C && !C.done && (u=D.return) && u.call(D);}finally{if(L)throw L.error;}}}this.fh.us({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.X2a});return w;};n.prototype.C1b=function(p){return this.AWb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.j2b;});};n.prototype.AWb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,k.GSa)(q.config,u,q.V),j2b:u};});};n.prototype.Ppa=function(p,q,u){this.fh.enabled && p.push(this.QJb(u,q));};n.prototype.QJb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.jf,currentPlayerMs:q.Cq,pathCompletePlayerMs:q.yy,streamingPlayerMs:q.yr};};n.prototype.Jvb=function(p,q,u){return this.config.SR && (q || (0,d.Xn)(p.jf))?this.Kvb(p,u):this.Lvb(p,u);};n.prototype.Mvb=function(p){return p.yr <= p.yy;};n.prototype.Lvb=function(p,q){return p.yr - (p.Cq > q?p.Cq:q) <= Math.max(this.config.Pqa,Math.min((p.yy - p.Cq) * this.config.vwa,this.config.vQb));};n.prototype.Kvb=function(p,q){var u,t;if(void 0 === this.config.SR)return !0;u=this.config.SR;t=p.Cq + u;return p.yr <= t?!0:this.Mvb(p) && q >= t && p.yr - q < u;};l.__decorate([(0,g.Sb)({methodName:"onRequestOpportunity",ak:!0})],n.prototype,"p6a",null);return n;})();b.qDa=r;},2663:function(r,b,a){var p,q,u;function c(t){return t.yr - t.Cq;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function f(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function h(t,w){var v,y,x,z,A;v=w.ita;y=w.hta;x=w.ZV;if(0 === w.$g.length)return {T1:!1};z=w.$g[0];w=z.uf;A=z.mB;z=z.duration;if(!A || 1 === x)return {T1:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(v < y)return {T1:!1};y=v - y;v=x + y / z * (1 - x);z-=y;A=A * (1 - v) / (1 - x);t=w * v / x * l(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {T1:!0,Crb:t};}function d(t){var w,v,y,x,z;w=t.iF;v=t.xbb;y=t.Oy;x=t.yr;z=t.Cq;t=t.UXa;(0,q.assert)(void 0 !== v);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=v - t - x,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1)):(z=v - x,0 >= z?t=v / w:(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.P8a;return m(w) * Math.exp(-t * c(w));}function m(t){var w;return (null !== (w=t.PF) && void 0 !== w?w:1) * t.$g.reduce(function(v,y){var x;x=y.mB;return v * (y.uf + (void 0 === x?0:x));},1);}function k(t){var w,v,y,x;if(0 === t.$g.length)return 0;v=0;if(1 > t.ZV){v=t.ita;y=t.hta;x=null !== (w=t.$g[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(x,v - (y - x)));}return t.$g.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function n(t){return t.$g.filter(function(w){return !w.mB;}).reduce(function(w,v){return w * v.uf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.sia=b.HSa=b.Rub=b.GSa=b.Vub=void 0;p=a(27364);q=a(62558);u=a(49730);b.Vub=c;b.GSa=function(t,w,v){var y,x,z,A,B,D,C,F;if(!t.S3 || (0,p.Xn)(w.jf))return g(t,w);x=t.P8a;t=c(w);z=k(w);A=n(w);B=h(x,w);D=B.T1;B=B.Crb;B=void 0 === B?1:B;C=1 > w.Oy?d(w):1;F=(null !== (y=w.PF) && void 0 !== y?y:1) * A * l(x,t - z) * B * C * w.$g.filter(function(G,E){return G.mB && (0 < E || !D);}).reduce(function(G,E){var J,M;J=E.mB;M=E.duration;M=void 0 === M?0:M;J=void 0 === J?0:J;E=E.uf * l(x,M) + J * f(x,M);return G * E;},1);u.K && (null === v || void 0 === v?void 0:v.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.Oy,", ") + ("pssp: ").concat(w.ZV,", ") + ("streamingDuration: ").concat(w.xbb,", ") + ("duration: ").concat(w.iF,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(w.$g)," => ").concat(F)));return F;};b.Rub=g;b.HSa=m;b.sia=n;},93161:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.CRb=b.platform=b.Lf=b.EDb=b.jIb=b.uT=b.nL=b.HPb=b.vG=b.n7=b.Bb=b.v=b.pz=b.Yc=b.cJ=b.ru=b.Dx=b.aQ=b.Th=b.qc=b.BP=b.su=b.fQ=b.gq=b.N=void 0;c=a(5163);l=a(42866);Object.defineProperties(b,{N:{enumerable:!0,get:function(){return l.N;}}});Object.defineProperties(b,{gq:{enumerable:!0,get:function(){return l.gq;}}});c.__exportStar(a(75564),b);c.__exportStar(a(43434),b);c.__exportStar(a(2362),b);f=a(42186);Object.defineProperties(b,{fQ:{enumerable:!0,get:function(){return f.fQ;}}});Object.defineProperties(b,{su:{enumerable:!0,get:function(){return f.su;}}});Object.defineProperties(b,{BP:{enumerable:!0,get:function(){return f.BP;}}});c.__exportStar(a(56742),b);c.__exportStar(a(52E3),b);c.__exportStar(a(7881),b);c.__exportStar(a(60763),b);c.__exportStar(a(25850),b);c.__exportStar(a(93860),b);h=a(13043);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return h.qc;}}});Object.defineProperties(b,{Th:{enumerable:!0,get:function(){return h.Th;}}});d=a(85177);Object.defineProperties(b,{aQ:{enumerable:!0,get:function(){return d.aQ;}}});g=a(93514);Object.defineProperties(b,{Dx:{enumerable:!0,get:function(){return g.Dx;}}});m=a(97810);Object.defineProperties(b,{ru:{enumerable:!0,get:function(){return m.ru;}}});k=a(92141);Object.defineProperties(b,{cJ:{enumerable:!0,get:function(){return k.cJ;}}});n=a(27364);Object.defineProperties(b,{Yc:{enumerable:!0,get:function(){return n.Yc;}}});Object.defineProperties(b,{pz:{enumerable:!0,get:function(){return n.pz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return n.v;}}});Object.defineProperties(b,{Bb:{enumerable:!0,get:function(){return n.Bb;}}});Object.defineProperties(b,{n7:{enumerable:!0,get:function(){return n.n7;}}});Object.defineProperties(b,{vG:{enumerable:!0,get:function(){return n.vG;}}});b.HPb=function(q){b.platform.goa(q);};b.nL=function(q){b.platform.goa(q);return Promise.resolve().then(function(){return c.__importStar(a(82181));}).then(function(u){return u.nL();});};b.uT=function(q,u){b.platform.goa(q);return Promise.resolve().then(function(){return c.__importStar(a(49550));}).then(function(t){return t.uT(u);});};b.jIb=function(){return a(71866);};r=c.__importDefault(a(89956));b.EDb=r.default;r=a(97021);b.Lf=r.Lf;r=c.__importDefault(a(35471));b.platform=r.default;p=a(65656);b.CRb=function(){return {Co:p.Co};};},43434:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9998:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(28578),b);},28578:function(r,b,a){var g,m,k,n,p,q,u,t,w;function c(v){var y,x,z;v=v.parent;y=!1;if(v && v.children){x={};x[t.ql]=[];x[t.yk]=[];x[t.TEMPORARY]=[];z=v.children;z.forEach(function(A){A && x[A.$e].push(A);});0 < x[t.ql].length || (x[t.yk].length === z.length?v.$e !== t.yk && (v.$e=t.yk,u.error("PERM failing :",n.default.Eg.name[v.Qm] + " " + v.id),y=!0):(v.$e === t.ql && (v.$e=t.TEMPORARY,u.error("TEMP failing :",n.default.Eg.name[v.Qm] + " " + v.id),y=!0),x[t.TEMPORARY].forEach(function(A){A.$e=t.ql;})),y && c(v));}}function l(v){var y;if((v=v.parent) && 0 < v.children.length && v.$e !== t.ql){y={};y[t.ql]=[];y[t.yk]=[];y[t.TEMPORARY]=[];v.children.forEach(function(x){x && y[x.$e].push(x);});0 < y[t.ql].length && (v.$e=t.ql,l(v));}}function f(v){return v.$e !== t.ql;}function h(v){switch(v.$e){case t.ql:return "OK";case t.yk:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(v,y){if(v.$e === t.TEMPORARY || v.$e === t.yk && y)v.$e=t.ql;v.children && v.children.forEach(function(x){x && d(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.OFa=void 0;g=a(5163);m=g.__importStar(a(17267));r=a(57055);k=a(27364);n=g.__importDefault(a(89956));p=g.__importDefault(a(35471));q=a(62558);u=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(v){v[v.ql=0]="OK";v[v.TEMPORARY=1]="TEMPORARY";v[v.yk=2]="PERMANENT";})(t || (t={}));(function(v){v[v.qu=0]="STARTUP";v[v.Elb=1]="REBUFFER";})(w || (w={}));a=(function(v){var m53;m53=2;for(;m53 !== 23;){switch(m53){case 10:y.prototype.Qa=function(){var Y59;Y59=2;for(;Y59 !== 1;){switch(Y59){case 2:this.config.oPb && this.UUb();Y59=1;break;}}};y.prototype.VWb=function(x){function z(E){var g$8;g$8=2;for(;g$8 !== 1;){switch(g$8){case 2:Object.keys(E).forEach(function(J){var w1J,M,L;w1J=2;for(;w1J !== 9;){switch(w1J){case 2:M=E[J];D.add(J);w1J=5;break;case 4:var w49="L";w49+="I";w49+="V";w49+="E";L=B.streams[J];B.streams[J]=L?g.__assign(g.__assign({},L),M):{id:J,bitrate:M.bitrate,yb:null,type:M.mediaType,clear:M.gi?!1:!0,Qq:!0,urls:[],nO:{},li:[],kx:M,Epa:B.ha?w49:void 0};w1J=9;break;case 14:w1J=M?7:5;break;case 5:w1J=M?4:9;break;}}});g$8=1;break;}}}var a9H,A,B,D,X8A,C,F,r7J,R11,R9v;a9H=2;for(;a9H !== 4;){switch(a9H){case 2:(B=this,D=new Set());try{X8A=2;for(;X8A !== 3;){switch(X8A){case 1:X8A=!F.done?5:3;break;case 2:(C=g.__values(x),F=C.next());X8A=1;break;case 7:X8A=~F.done?8:8;break;case 4:F=C.next();X8A=1;break;case 5:z(F.value);X8A=4;break;}}}catch(E){var G;G={error:E};}finally{r7J=2;for(;r7J !== 1;){switch(r7J){case 2:try{R11=2;for(;R11 !== 1;){switch(R11){case 2:F && !F.done && (A=C.return) && A.call(C);R11=1;break;}}}finally{R9v=2;for(;R9v !== 5;){switch(R9v){case 1:throw G.error;R9v=5;break;case 9:throw G.error;R9v=9;break;case 2:R9v=G?1:5;break;}}}r7J=1;break;}}}Object.keys(this.streams).forEach(function(E){var D3u;D3u=2;for(;D3u !== 1;){switch(D3u){case 2:D.has(E) || delete B.streams[E];D3u=1;break;}}});a9H=4;break;}}};y.prototype.g8a=function(x,z,A){var X2A,B;X2A=2;for(;X2A !== 5;){switch(X2A){case 2:B=this;z.streams.forEach(function(D){var y8E;y8E=2;for(;y8E !== 1;){switch(y8E){case 2:B.h8a(x,D.downloadable_id,D,A);y8E=1;break;}}});X2A=5;break;}}};y.prototype.MWb=function(x,z){var s_B,A;s_B=2;for(;s_B !== 4;){switch(s_B){case 2:var C_w="no";C_w+="n";C_w+="e";s_B=C_w !== x.id?1:4;break;case 9:s_B="" != x.id?2:8;break;case 1:var w0s="imsc1";w0s+=".";w0s+="1";var s62="i";s62+="m";s62+="s";s62+="c1.";s62+="1";A=x.downloadableIds[s62];(x=x.ttDownloadables[w0s]) && A && this.h8a(k.v.Ka,A,x,z);s_B=4;break;}}};m53=17;break;case 24:return y;break;case 2:g.__extends(y,v);y.prototype.Ks=function(){var j2N;j2N=2;for(;j2N !== 1;){switch(j2N){case 2:return f(this.ko);break;case 4:return f(this.ko);break;}}};y.prototype.H_b=function(x){var i1v;i1v=2;for(;i1v !== 5;){switch(i1v){case 1:return x.parent.id;break;case 2:i1v=(x=this.urls[x]) && x.parent?1:5;break;}}};y.prototype.y_a=function(x){var o70,z,A,c5r,B,D,C,i2e,s0X,w9B;o70=2;for(;o70 !== 4;){switch(o70){case 2:A=[];try{c5r=2;for(;c5r !== 9;){switch(c5r){case 1:c5r=!D.done?5:9;break;case 2:(B=g.__values(Object.keys(this.urls)),D=B.next());c5r=1;break;case 3:D=B.next();c5r=1;break;case 5:C=this.urls[D.value];C.url === x.stream.url && A.push(C.$b);c5r=3;break;case 6:c5r=~D.done?8:5;break;}}}catch(G){var F;F={error:G};}finally{i2e=2;for(;i2e !== 1;){switch(i2e){case 2:try{s0X=2;for(;s0X !== 1;){switch(s0X){case 2:D && !D.done && (z=B.return) && z.call(B);s0X=1;break;}}}finally{w9B=2;for(;w9B !== 5;){switch(w9B){case 2:w9B=F?1:5;break;case 3:w9B=F?8:8;break;case 1:throw F.error;w9B=5;break;}}}i2e=1;break;}}}o70=5;break;case 5:return A;break;case 7:return A;break;}}};m53=3;break;case 3:y.prototype.AZa=function(x){var T3B;T3B=2;for(;T3B !== 1;){switch(T3B){case 2:for(var z in this.streams){if(this.streams[z].kx === x){return this.streams[z];}}T3B=1;break;}}};y.prototype.P1=function(x,z,A){var x49,B,D,C,F,G;x49=2;for(;x49 !== 26;){switch(x49){case 2:B=this;void 0 === A && (A=n.default.ou.tjb);x.locations.forEach(function(E){var u$V,J,M,L,H;u$V=2;for(;u$V !== 7;){switch(u$V){case 2:J=E.key;u$V=1;break;case 1:u$V=B.li[J]?5:4;break;case 5:(B.li[J].ec=E.rank,B.li[J].level=E.level,B.li[J].weight=E.weight);u$V=7;break;case 4:(M=[],L=B.yp.get(J),H=B.ko);E={id:J,Qm:n.default.Eg.LOCATION,$e:t.ql,ec:E.rank,level:E.level,weight:E.weight,Mv:void 0,parent:H,children:M,nk:M,streams:{},Wb:L};B.li[E.id]=E;H.children.push(E);u$V=7;break;}}});x49=4;break;case 4:this.c1=p.default.time.Ga();this.WB.sort(function(E,J){var p6r;p6r=2;for(;p6r !== 1;){switch(p6r){case 2:return E.level - J.level || E.ec - J.ec;break;}}});x.servers.forEach(function(E){var s2s,J,M,L;s2s=2;for(;s2s !== 14;){switch(s2s){case 2:J=E.id;s2s=1;break;case 1:s2s=B.nk[J]?5:4;break;case 5:B.nk[J].ec=E.rank;s2s=14;break;case 4:M=B.li[E.key];s2s=3;break;case 3:s2s=M?9:14;break;case 9:L=[];E={id:J,Qm:n.default.Eg.vD,$e:t.ql,Mv:void 0,parent:M,children:L,urls:L,name:E.name,type:E.type,ec:E.rank,location:M};B.nk[E.id]=E;M.children.push(E);s2s=14;break;}}});x49=8;break;case 8:var k1H="L";k1H+="I";k1H+="VE";var u$4="L";u$4+="I";u$4+="VE";(C=x.dg,F=x.zj);(0,q.assert)(this.ha && u$4 === C && !!F || !this.ha && k1H !== C && !F);this.ha && (this.cPb=F.OSb);x49=14;break;case 14:G=!0;z && (G=!1,this.VWb(z));x49=12;break;case 12:x.audio_tracks.forEach(function(E){var O2Y;O2Y=2;for(;O2Y !== 1;){switch(O2Y){case 2:B.g8a(k.v.ea,E,G);O2Y=1;break;}}});x.video_tracks.forEach(function(E){var n0D;n0D=2;for(;n0D !== 1;){switch(n0D){case 2:B.g8a(k.v.Y,E,G);n0D=1;break;}}});null === (D=x.timedtexttracks) || void 0 === D?void 0:D.forEach(function(E){var C9n;C9n=2;for(;C9n !== 1;){switch(C9n){case 4:B.MWb(E,G);C9n=8;break;case 2:B.MWb(E,G);C9n=1;break;}}});x=this.WB.filter(function(E){var J5f,J;J5f=2;for(;J5f !== 4;){switch(J5f){case 2:J=E.nk.every(function(M){var V2B;V2B=2;for(;V2B !== 1;){switch(V2B){case 4:R7xOY.C8s(8);var u_3=R7xOY.A_X(126,16,14,2233);return u_3 != M.urls.length;break;case 2:return 0 === M.urls.length;break;}}});J && (E.nk.forEach(function(M){var M1T;M1T=2;for(;M1T !== 1;){switch(M1T){case 2:B.nk[M.id]=void 0;M1T=1;break;}}}),B.li[E.id]=void 0,E.parent=void 0,E.children.length=0,E.streams={});return !J;break;}}});x.forEach(function(E){var v35;v35=2;for(;v35 !== 1;){switch(v35){case 2:E.nk.sort(function(J,M){var q6J;q6J=2;for(;q6J !== 1;){switch(q6J){case 2:return J.ec - M.ec;break;case 4:return J.ec + M.ec;break;}}});v35=1;break;}}});this.WB=x;this.ko.children=x;x49=16;break;case 16:this.tC=null;this.CN=A;this.dump();x49=26;break;}}};y.prototype.Cdb=function(x,z,A){var K9O,E,J,F,G,B,D,C;K9O=2;for(;K9O !== 16;){switch(K9O){case 18:var D8k="(empty";D8k+=" stream l";D8k+="ist)";var m7x="Did";m7x+=" not f";m7x+="ind a";m7x+=" URL for ANY ";m7x+="stream...";var w3L="netwo";w3L+="r";w3L+="k";w3L+="Failed";var q83="Network ha";q83+="s failed, ";q83+="not updating stream s";q83+="election";z.forEach(function(M,L){var w7A,H;w7A=2;for(;w7A !== 5;){switch(w7A){case 2:var m_V=" K";m_V+="b";m_V+="p";m_V+="s";m_V+=")";var W25=" ";W25+="(";var L_V="]";L_V+=" ";var p7F="F";p7F+="a";p7F+="ilin";p7F+="g stream [";H=M.id;J.some(function(N){var l_O,I,K;l_O=2;for(;l_O !== 8;){switch(l_O){case 1:l_O=!I?5:4;break;case 2:I=N.streams[H];l_O=1;break;case 4:K=I.li[0];void 0 === M.P8 && (M.P8=K.id,M.mta=I.nO[K.id][0].$b.id);return I.nO[N.id].some(function(O){var Z31,R;Z31=2;for(;Z31 !== 20;){switch(Z31){case 14:M.qr=O.$b.type;Z31=13;break;case 3:var q4P="loc";q4P+="a";q4P+="tionfa";q4P+="ilover";var X_G="se";X_G+="r";X_G+="v";X_G+="erf";X_G+="ailover";var Q4x="per";Q4x+="f";Q4x+="or";Q4x+="m";Q4x+="ance";var x7T="u";x7T+="n";x7T+="kn";x7T+="ow";x7T+="n";R=x7T;M.location !== N.id && (D.ZG?M.ipa=N.id === K.id:R=N !== J[0] && C && I.Epa !== A?"" + n.default.ou.hmb:N !== J[0]?"" + n.default.ou.Waa:void 0 === M.location?"" + n.default.ou.qu:m.ii(M.P2a) || M.P2a === N.id?m.ii(M.V2a) || M.V2a === O.$b.id?Q4x:X_G:q4P,M.location=N.id,M.Kpa=N.level,M.Ht=R);M.url=O.url;M.$b=O.$b.id;M.NW=O.$b.name;Z31=14;break;case 4:return !1;break;case 5:Z31=f(O) || C && !O.M6.some(function(Y){var C$3=R7xOY;var X0k;X0k=2;for(;X0k !== 1;){switch(X0k){case 4:C$3.m_t(9);return C$3.N0G(Y,A);break;case 2:C$3.C8s(10);return C$3.A_X(Y,A);break;}}})?4:3;break;case 1:return (O.$b.$e === t.TEMPORARY && (M.$e=t.TEMPORARY),D.ZG && M.$b === O.$b.id && O.$b.Mv && (M.Mv=O.$b.Mv),!1);break;case 2:Z31=f(O.$b)?1:5;break;case 13:C && (I.Epa=A);M.Wb=D.Uha?N.Wb.confidence >= n.default.pl.zI || F.confidence < E?N.Wb:F:F.confidence === n.default.pl.HAVE_NOTHING || N.Wb.confidence >= n.default.pl.zI?N.Wb:F;D.GWa && !M.Wb.$T && (M.Wb.$T=N.Wb.$T);Z31=10;break;case 10:return !0;break;}}});break;case 5:return !1;break;}}})?(M.jB=!1,M.$e=void 0,M.Qq && ++G):M.$e && M.$e === t.TEMPORARY?B.ko.$e=t.TEMPORARY:M.jB || (u.warn(p7F + L + L_V + H + W25 + M.bitrate + m_V),M.dwb(),M.jB=!0);w7A=5;break;}}});return f(this.ko)?(u.warn(q83),this.I7=!0,this.emit(w3L,this.ko.$e === t.yk),!1):G?!0:(u.warn(m7x + (z.length?"":D8k)),this.mr(n.default.Eg.iu,!0),!1);break;case 9:K9O=f(this.ko)?8:7;break;case 7:E=n.default.pl.AI;D.Zqa && (E=n.default.pl.zI);this.Ic.location && F.confidence >= E && (x=this.li[this.Ic.location]) && (x.Wb=F);K9O=13;break;case 10:J=this.tC;K9O=20;break;case 13:m.Zb(this.tC) && (this.tC=this.a5b());K9O=12;break;case 4:(F=this.Ic.get(),G=0);p.default.Cs && p.default.Cs(x);K9O=9;break;case 11:return (this.mr(n.default.Eg.iu,!1),!1);break;case 20:K9O=!J.length?19:18;break;case 19:return (this.mr(n.default.Eg.iu,!1),!1);break;case 12:K9O=!this.tC?11:10;break;case 8:return !1;break;case 2:(B=this,D=this.config,C=!1);this.ha && void 0 !== A && A !== this.JOa && (void 0 === this.KOa || p.default.time.Ga() - this.KOa > D.QOb) && (this.JOa=A,this.KOa=p.default.time.Ga(),C=!0);C && (this.tC=null);K9O=4;break;}}};y.prototype.K_b=function(x,z){var R4f,A,B;R4f=2;for(;R4f !== 4;){switch(R4f){case 2:(A=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.urls,function(D,C){var l6r,J,F,G,E;l6r=2;for(;l6r !== 13;){switch(l6r){case 7:D.urls.some(function(M){var h4e;h4e=2;for(;h4e !== 5;){switch(h4e){case 3:h4e=M.url != C?9:6;break;case 2:h4e=M.url === C?1:5;break;case 1:return (J=M,!0);break;}}});J && A.push({url:J,$b:D});l6r=13;break;case 5:l6r=F && 4 === F.length?4:13;break;case 1:F=C.match(B);l6r=5;break;case 2:D=D.$b;l6r=1;break;case 8:l6r=m.xg(E) && m.xg(F) && E === x && F == z?7:13;break;case 4:var R1h="8";R1h+="0";var D9T="4";D9T+="4";D9T+="3";(G="s" === F[1],E=F[2]);F=F[3];F.length || (F=G?D9T:R1h);l6r=8;break;}}});return A;break;}}};y.prototype.mr=function(x,z,A,B){var W1q,G,h1V,J,D,C,F,E,E_I;W1q=2;for(;W1q !== 42;){switch(W1q){case 3:W1q=F !== D.$e?9:42;break;case 4:W1q=D?3:43;break;case 12:W1q=E?11:27;break;case 28:W1q=44;break;case 29:W1q=h1V === t.ql?24:28;break;case 27:var c_C=" : w";c_C+="as";c_C+=" ";G.call(A,x + (z.length?"/" + z.join("/"):"") + c_C + h(D));W1q=26;break;case 20:z.unshift(J.id + "(" + J.name + ")");W1q=19;break;case 19:E=E.parent;W1q=12;break;case 9:A=u;G=A.warn;W1q=7;break;case 35:var P9X="net";P9X+="w";P9X+="orkFa";P9X+="iled";var k3B="Emi";k3B+="tting networkFai";k3B+="led, permanent =";F > C && (u.warn(k3B,F === t.yk),this.emit(P9X,F === t.yk));W1q=34;break;case 26:h1V=D.$e;W1q=h1V === t.yk?25:30;break;case 16:W1q=E_I === n.default.Eg.URL?15:19;break;case 17:z.unshift(E.id);W1q=19;break;case 18:W1q=E_I === n.default.Eg.LOCATION?17:16;break;case 43:var u3R="Unable to find";u3R+=" fa";u3R+="ilur";u3R+="e entity for URL ";R7xOY.C8s(0);u.warn(R7xOY.A_X(A,u3R));W1q=42;break;case 5:D=D.parent;W1q=1;break;case 1:W1q=D && D.parent && D.Qm !== x?5:4;break;case 31:this.dump();W1q=42;break;case 25:return;break;case 10:J=E;W1q=20;break;case 13:E=D;W1q=12;break;case 2:(D=x !== n.default.Eg.iu && A?this.urls[A]:this.ko,C=this.ko.$e,F=z?t.yk:t.TEMPORARY);W1q=1;break;case 44:var d8u="Inval";d8u+="id fa";d8u+="ilure ";d8u+="state";throw Error(d8u);W1q=24;break;case 7:var A2u=" ";A2u+="a";A2u+="t";A2u+=" ";var s6t=" fa";s6t+="ilure";s6t+=" reported for ";var X96="T";X96+="E";X96+="M";X96+="P";var j7d="P";j7d+="E";j7d+="R";j7d+="M";x=(z?j7d:X96) + s6t + n.default.Eg.name[x] + A2u;z=[];W1q=13;break;case 24:D.$e=F;c(D);this.I7=this.I7 || f(this.ko);F=this.ko.$e;W1q=35;break;case 34:this.tC=null;this.CN=n.default.ou.ll;B && (this.CN=n.default.ou.ilb,D.Mv=B);W1q=31;break;case 11:E_I=E.Qm;W1q=E_I === n.default.Eg.vD?10:18;break;case 30:W1q=h1V === t.TEMPORARY?24:29;break;case 15:var l0s="<url ";l0s+="f";l0s+="or ";z.unshift(l0s + E.stream.bitrate + ">");W1q=19;break;}}};m53=14;break;case 17:y.prototype.h8a=function(x,z,A,B){var M4L,C,D;M4L=2;for(;M4L !== 10;){switch(M4L){case 6:this.NWb(D,A.urls);M4L=14;break;case 5:B="";D=0;M4L=3;break;case 11:return;break;case 7:this.streams[D.id]=D;M4L=6;break;case 12:M4L=!D && !B?11:6;break;case 3:C=null;M4L=9;break;case 14:m.Is(D.nO,function(F){var a7$;a7$=2;for(;a7$ !== 1;){switch(a7$){case 2:F.sort(function(G,E){var k0L;k0L=2;for(;k0L !== 1;){switch(k0L){case 2:return G.$b.ec - E.$b.ec;break;}}});a7$=1;break;}}});D.li=D.li.sort(function(F,G){var F0S;F0S=2;for(;F0S !== 1;){switch(F0S){case 2:return F.level - G.level || F.ec - G.ec;break;}}});M4L=10;break;case 1:M4L=m.ii(D) && B?5:12;break;case 2:D=this.streams[z];M4L=1;break;case 9:var h77="LI";h77+="V";h77+="E";var z93="n";z93+="o";z93+="n";z93+="e";z93+="-";x !== k.v.Ka && (B=A.content_profile,D=A.bitrate,x === k.v.Y && (C=A.vmaf));D={id:z,bitrate:D,yb:C,type:x,profile:B,clear:0 === B.indexOf(z93),Qq:!0,urls:[],nO:{},li:[],Epa:this.ha?h77:void 0};M4L=7;break;}}};y.prototype.NWb=function(x,z){var m97,A;m97=2;for(;m97 !== 5;){switch(m97){case 2:A=this;z.forEach(function(B){var G2t,D,C,F,G,E;G2t=2;for(;G2t !== 14;){switch(G2t){case 2:(D=B.url,C=A.urls[D],F=A.nk[B.cdn_id]);A.ha && (G=B.liveOcaCapabilities);G2t=5;break;case 5:G2t=F?4:14;break;case 4:m.ii(C) && (C={id:D,Qm:n.default.Eg.URL,$e:t.ql,Mv:void 0,parent:F,children:[],url:D,$b:F,stream:x,M6:G},A.urls[D]=C,F.children.push(C));E=F.location;x.urls.push(C);0 === x.li.filter(function(J){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 4:return J.id == E.id;break;case 2:return J.id === E.id;break;}}}).length && x.li.push(E);E.streams[x.id]=x;(B=x.nO[E.id])?B.push(C):x.nO[E.id]=[C];G2t=14;break;}}});m97=5;break;}}};y.prototype.a5b=function(){var X8I,B,x,z,A;X8I=2;for(;X8I !== 6;){switch(X8I){case 4:B=p.default.time.Ga();X8I=3;break;case 5:return null;break;case 1:X8I=0 === A.length?5:4;break;case 9:(A.forEach(function(D){var F27;F27=2;for(;F27 !== 1;){switch(F27){case 2:D.id !== x.Ic.location && (D.Wb=x.yp.get(D.id));F27=1;break;}}}),this.c1=B);X8I=8;break;case 3:X8I=null === this.c1 || this.c1 + z.Jpa < B?9:8;break;case 8:A.sort(function(D,C){var W5I;W5I=2;for(;W5I !== 1;){switch(W5I){case 2:return D.level - C.level || D.ec - C.ec;break;}}});return A;break;case 2:(x=this,z=this.config,A=this.WB.filter(function(D){var s3V;s3V=2;for(;s3V !== 1;){switch(s3V){case 2:return !f(D) && 0 !== D.level;break;}}}));X8I=1;break;}}};y.prototype.TYb=function(x){var L1I,z;L1I=2;for(;L1I !== 4;){switch(L1I){case 1:this.IWb=x;this.WB.forEach(function(A){var q9F;q9F=2;for(;q9F !== 1;){switch(q9F){case 2:A.id !== z && A.Wb && A.Wb.confidence > n.default.pl.AI && (A.Wb.confidence=n.default.pl.AI);q9F=1;break;}}});L1I=4;break;case 2:z=this.Ic.location;L1I=1;break;}}};y.prototype.UUb=function(){var b3x,x;b3x=2;for(;b3x !== 5;){switch(b3x){case 2:x=this;this.I7 || this.WB.forEach(function(z){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:z.$e === t.TEMPORARY && x.yp.fail(z.id,p.default.time.Ga());m$r=1;break;}}});b3x=5;break;}}};y.prototype.dump=function(){};m53=24;break;case 14:y.prototype.N9a=function(x,z){var y$Z;y$Z=2;for(;y$Z !== 3;){switch(y$Z){case 1:(d(x,z),l(x));y$Z=5;break;case 5:this.tC=null;this.CN=n.default.ou.lda;y$Z=3;break;case 8:y$Z=(x=this.nk[x])?6:8;break;case 2:y$Z=(x=this.nk[x])?1:5;break;}}};y.prototype.r9=function(){var o8j;o8j=2;for(;o8j !== 1;){switch(o8j){case 2:d(this.ko,!1);o8j=1;break;}}};y.prototype.EG=function(x){var g8S,z;g8S=2;for(;g8S !== 5;){switch(g8S){case 2:null === (z=this.Kob) || void 0 === z?void 0:z.call(this,x);g8S=5;break;}}};y.prototype.wh=function(){var L4L;L4L=2;for(;L4L !== 1;){switch(L4L){case 2:this.TYb(w.Elb);L4L=1;break;}}};m53=10;break;}}function y(x,z,A,B,D,C){var R6L,F;R6L=2;for(;R6L !== 25;){switch(R6L){case 19:F.tC=null;R6L=18;break;case 2:F=v.call(this) || this;F.Ic=A;F.yp=B;F.config=D;R6L=3;break;case 18:var m1T="1S";m1T+="IYbZrN";m1T+="JCp9";var O0p="LI";O0p+="V";O0p+="E";F.CN=n.default.ou.qu;A=x.zj;F.ha=O0p === x.dg && !!A;F.P1(x,z,n.default.ou.qu);m1T;return F;break;case 6:var f_L="n";f_L+="et";f_L+="w";f_L+="or";f_L+="k";F.nk={};F.urls={};F.streams={};F.WB=[];F.I7=!1;F.ko={id:f_L,Qm:n.default.Eg.iu,$e:t.ql,Mv:void 0,parent:void 0,children:F.WB};F.c1=null;R6L=19;break;case 3:var N6S="L";N6S+="I";N6S+="V";N6S+="E";F.Kob=C;F.JOa=N6S;F.IWb=w.qu;F.li={};R6L=6;break;}}}})(r.EventEmitter);b.OFa=a;},1104:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.FP=void 0;c=a(42866);l=a(62558);f=a(27364);r=(function(){function h(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(m){return g.vxa(m);});}Object.defineProperties(h.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lta:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});h.prototype.get=function(d){switch(d){case f.v.Y:return this.video;case f.v.ea:return this.audio;case f.v.Ka:return this.text;}};h.prototype.every=function(d){return this.items.every(d);};h.prototype.some=function(d){return this.items.some(d);};h.prototype.forEach=function(d){this.items.forEach(d);};h.prototype.find=function(d){return (0,c.xc)(this.items,d);};h.prototype.reduce=function(d,g){return this.items.reduce(d,g);};h.prototype.filter=function(d){return new h(this.items.filter(d));};h.prototype.replace=function(d,g){var m;m=this.items.indexOf(d);(0,l.assert)(-1 < m);(0,l.assert)(d.mediaType === g.mediaType);this.items[m]=g;this.vxa(g);};h.prototype.add=function(d){this.items.push(d);this.vxa(d);};h.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.Yvb(d.mediaType);return !0;};h.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};h.prototype.vxa=function(d){switch(d.mediaType){case f.v.Y:this.video=d;break;case f.v.ea:this.audio=d;break;case f.v.Ka:this.text=d;}};h.prototype.Yvb=function(d){switch(d){case f.v.Y:this.video=void 0;break;case f.v.ea:this.audio=void 0;break;case f.v.Ka:this.text=void 0;}};return h;})();b.FP=r;},50625:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cza=void 0;c=a(42866);l=a(81883);r=(function(){function f(h,d,g,m){this.config=d;this.Kf=g;this.console=m;this.ca=h.ca;}f.prototype.append=function(h,d){var g,m,k,n,p,q,u,t,w,v,y,x,z;if(h.ci)return h;m=!1;k=(0,l.Pma)(this.config,this.Kf);n=h.ka;p=h.offset;q=h.uf;u=h.mi;t=n.Mb;w=n.Ab;v=n.jt;v=n.Kk || v;if(!h.ka.Ha || !v || q)return h;y=n.eb.wa(n.Na);v=Math.floor(y.Ni(this.ca));x=null !== (g=d.dra) && void 0 !== g?g:t.wa(this.ca.Bv(2));t=x.wa(w);g=v;z=!1;d.dra && (d=this.ESa(y,t,t),g=d.Jj,z=d.F5a);k=x.wa(c.N.Ma(k));w=c.N.max(k.wa(w),c.N.Ia);z || (w=this.ESa(y,w,t),g=w.Jj,w.F5a && (--g,this.ca.Bv(g)));g < (this.config.pRb || 1)?m=!0:0 < v - g && h.ka.O3(v - g);return {ka:n,offset:p,uf:q,ci:m,mi:u};};f.prototype.ESa=function(h,d,g){var m;h=c.N.min(h,d);h=Math.floor(h.Ni(this.ca));d=this.ca.Bv(h);g=g.wa(d);m=0 < h && g.lessThan(c.N.wy);return {Jj:h,Zfc:d,vdc:g,F5a:m};};return f;})();b.Cza=r;},3973:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Raa=void 0;c=a(42866);l=a(49730);r=(function(){function f(h){this.console=h;}f.prototype.append=function(h){var d,g,m,k,n,p;if(h.ci)return h;d=h.ka;g=h.offset;m=h.mi;k=d.Na;n=d.eb;p=k.add(g);g=n.add(g);p=this.UL && p.wa(this.UL);this.UL=g;if(void 0 === p || p.equal(c.N.Ia))return h;h.mi=m || [];d={stream:d.Ub,pts:k.G,gap:p.G};h.mi.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return h;};return f;})();b.Raa=r;},33507:function(r,b,a){var f,h,d,g,m,k;function c(n,p,q,u,t,w){var v,y,x,z,A,B,D;if(void 0 !== n.f$ || void 0 !== n.Yva || n.Js || n.Pn){v=n.end - n.start;y=Array(v);x=n.Js;z=n.pXa?n.pXa - 1:0;A=n.qXa?n.qXa - 1:0;B=Math.min(v,Math.max(n.f$ || 0,w && x && !z?1:0));n=Math.min(v - B,Math.max(n.Yva || 0,w && p && !A?1:0));w=Math.floor(u.Ni(q));q=Math.max(0,Math.min(v - B - n,x?Math.max(0,w - z):0));D=Math.max(0,Math.min(v - B - n - q,p?Math.max(0,w - A):0));q=B + q;u=v - n - D;A=A?0:Math.max(0,w + 1 - D);w=(1 - t) / (w + 1);for(D=0;D < v;++D){y[D]=D < B?-Infinity:D >= v - n?-Infinity:x && D < q?l(t + (D - B + z) * w):p && D >= u?l(1 - (D - u + A + 1) * w):0;}return y;}}function l(n){return 20 * Math.log(n) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.Dza=void 0;f=a(5163);h=a(36418);d=a(42866);g=a(97810);m=a(62558);k=a(27364);r=a(60513);r=(function(n){var i12;i12=2;for(;i12 !== 9;){switch(i12){case 2:f.__extends(p,n);p.prototype.Ha=function(q,u){var l16,t,v,y,x,w;l16=2;for(;l16 !== 33;){switch(l16){case 14:return {ia:!1};break;case 17:x=q.Ha.start;l16=16;break;case 2:var o2g="AudioMediaFragm";o2g+="entEditor [${fragment.mediaType}]: ";o2g+="Attempt to edit append";o2g+="ed fragment";void 0 === u && (u=!0);t=[];(0,m.assert)(!q.CR,o2g);l16=4;break;case 24:l16=!y?23:22;break;case 35:y && 1 < w.length && (y=null === y || void 0 === y?void 0:y.concat(w.slice(1)));return {ia:!0,mi:t,Qp:y};break;case 6:l16=0 >= q.ve.Ba?14:13;break;case 15:q=this.qCb(q,y?(0,g.lK)(y):w[0],x,u);y=q.ia;x=q.bo;v=q.data;l16=24;break;case 8:l16=!(w[0] instanceof ArrayBuffer)?7:6;break;case 23:return {ia:y};break;case 21:y=v;l16=35;break;case 12:(v=this.pCb(q,w[0],u),y=v.ia,x=v.bo);v=v.data;l16=10;break;case 20:return {ia:y};break;case 13:l16=0 < q.Ha.start || q.Ha.f$ || q.Ha.Js?12:16;break;case 16:l16=q.Ha.end !== q.Ns || q.Ha.Yva || q.Ha.Pn?15:35;break;case 22:x && t.push(x);l16=21;break;case 4:l16=!q.Ha?3:9;break;case 3:return {ia:!0};break;case 19:x && t.push(x);y=v;l16=17;break;case 9:w=q.Qp;l16=8;break;case 10:l16=!y?20:19;break;case 7:return {ia:!0};break;}}};p.prototype.pCb=function(q,u,t){var f0$,w;f0$=2;for(;f0$ !== 6;){switch(f0$){case 3:f0$=!(q.Ha.start || w || q.Ha.Js || t)?9:8;break;case 9:return {ia:!0};break;case 8:var l9V=" ";l9V+="edit";l9V+=" fa";l9V+="ile";l9V+="d";var M2L="]";M2L+=":";M2L+=" ";var v_T="Audi";v_T+="oMediaFrag";v_T+="men";v_T+="tEditor [";t=c(q.Ha,t,q.ca,this.J9,this.eM,this.config.r1a);return (u=new h.Sr(this.E7,q.stream,u).i9a({Ij:q.Ha.start,S:q.AG,nx:t,Aua:!1,iH:this.config.u9,rG:l(this.eM)}))?{ia:!0,bo:q.w9a(w),data:u.ka}:(this.console.error(v_T.concat(q.mediaType,M2L).concat(q.toString(),l9V)),{ia:!1});break;case 2:void 0 === t && (t=!0);(0,m.assert)(q.Ha);w=q.Ha.f$;t=!(!q.Ha.Pn || !t);f0$=3;break;}}};i12=4;break;case 4:p.prototype.qCb=function(q,u,t,w){var J$9,v;J$9=2;for(;J$9 !== 14;){switch(J$9){case 3:w=!(!q.Ha.Pn || !w);J$9=9;break;case 8:return {ia:!0};break;case 7:var j_M=" edit";j_M+=" faile";j_M+="d";var x8x="]";x8x+=":";x8x+=" ";var t7e="AudioMed";t7e+="iaFragm";t7e+="en";t7e+="tEditor [";w=c(q.Ha,w,q.ca,this.K9,this.eM,this.config.r1a);return (u=new h.Sr(this.E7,q.stream,u).p9a({Ij:q.Ha.end - t,S:q.AG,nx:w,Aua:!1,iH:this.config.u9,rG:l(this.eM)}))?{ia:!0,bo:q.w9a(v),data:u.ka}:(this.console.error(t7e.concat(q.mediaType,x8x).concat(q.toString(),j_M)),{ia:!1});break;case 2:void 0 === t && (t=0);void 0 === w && (w=!0);(0,m.assert)(q.Ha);v=q.Ha.Yva;J$9=3;break;case 9:J$9=q.Ha.end === q.Ns && !v && !q.Ha.Js && !w?8:7;break;}}};return p;break;}}function p(q,u,t){var d3q,w;d3q=2;for(;d3q !== 6;){switch(d3q){case 3:w.J9=d.N.Ma(0 <= u.J9?u.J9:u.Py);w.K9=d.N.Ma(0 <= u.K9?u.K9:u.Py);w.eM=Math.pow(10,(u.eM[t] || -44) / 20);return w;break;case 2:var B_t="1SIYbZr";B_t+="NJC";B_t+="p9";B_t;w=n.call(this,q,k.v.ea) || this;w.console=q;w.config=u;d3q=3;break;}}}})(r.Pca);b.Dza=r;},56764:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(49730);r=(function(){function l(f){this.console=f;}l.prototype.append=function(f,h){var d,g,m,k,n,p,q;if(f.ci)return f;d=!1;g=f.ka;m=f.offset;k=f.uf;f=f.mi;h=h.iM;n=g.Mb;if(this.Yl && n.lessThan(this.Yl.Mb)){p=this.Yl.iM.wa(g.Ab);q=g.Mb.wa(this.Yl.iM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.mb()) + (", discard error: ").concat(q.mb())),d=!0);}this.Yl=(g.Kk || g.jt) && h?{iM:h,Mb:n}:void 0;return {ka:g,offset:m,uf:k,ci:d,mi:f};};return l;})();b.Eza=r;},36304:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;r=(function(){function a(c){this.vW=!1;this.j1b=c.wMb;}a.prototype.append=function(c){c.ka.Ha && (c.ka.r0b(this.vW?0:this.j1b),this.vW=!0);return c;};return a;})();b.bFa=r;},60513:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pca=void 0;c=a(5163).__importDefault(a(35471));b.Pca=(function(){return function(l,f){this.console=l;this.mediaType=f;this.E7=new c.default.Console("MP4","media|asejs");};})();},29308:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.aHa=void 0;c=a(42866);l=a(27364);f=a(62558);h=a(66649);d=a(33446);g=a(99548);m=a(35559);k=a(55142);n=a(36304);p=a(50625);q=a(56764);u=a(33507);t=a(3973);w=a(91659);r=(function(){function v(y,x,z,A){this.config=y;this.mediaType=x;this.Kf=z;this.console=A;}v.prototype.append=function(y,x){var z,A,B,D,C,F;void 0 === this.track?this.Coa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.ca),(0,f.assert)(y.stream.track.ca),this.track=y.stream.track);(0,f.assert)(void 0 !== this.ip);D={ka:y,offset:null !== (z=y.Ata) && void 0 !== z?z:c.N.Ia,uf:this.config.yN,ci:!1};D=this.ip.reduce(function(G,E){return E.append(G,x);},D);C=D.ka;z=D.offset;F=D.ci;D=D.mi;D=void 0 === D?[]:D;C.Ha && ((0,f.assert)(y.Ha,"Fragments must be marked for edit at request time"),y.yi(C.Ha));if(F || !this.Bqa)return {offset:z,ci:F};y=this.Bqa.Ha(y,!(null === (B=null === (A=y.u) || void 0 === A?void 0:A.u) || void 0 === B || !B.Pn));A=y.ia;B=y.mi;y=y.Qp;Array.prototype.push.apply(D,void 0 === B?[]:B);return {offset:z,ci:!A,mi:D,Qp:y};};v.prototype.reset=function(){this.ip=this.track=void 0;};v.prototype.Coa=function(y){var x,z;this.track=y.track;this.mediaType === l.v.ea?this.Bqa=new u.Dza(this.console,this.config,y.profile):y.XMb && (this.Bqa=new w.oNa(this.console,this.config));this.ip=[];if(this.mediaType === l.v.ea){this.config.yN && this.ip.push(new g.xLa(this.config,y.track,this.console));z=this.ria(y);z.equal(c.N.Ia)?this.config.Bm && y.Qf && this.Goa(y.pa.J) && this.ip.push(new n.bFa(this.config)):this.ip.push(new h.Tda(z));this.config.m7 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.mb(),", ") + ("").concat(null === (x=y.Qf) || void 0 === x?void 0:x.mb())),this.ip.push(new m.xHa(this.config,y,this.console)));this.qNb()?(this.config.$k || this.ip.push(new p.Cza(y,this.config,this.Kf,this.console)),this.config.yN && this.ip.push(new t.Raa(this.console)),this.ip.push(new d.LHa(this.config,y,this.console)),this.c1b(y) && ((0,f.assert)(y.ca),this.ip.push(this.Twb(y.Qf || c.N.Ia,y.ca,z)))):(this.ip.push(new q.Eza(this.console)),this.config.yN && this.ip.push(new t.Raa(this.console)));}};v.prototype.Goa=function(y){return this.config.Goa || this.config.t1a && -1 !== this.config.t1a.indexOf(y);};v.prototype.ria=function(y){return h.Tda.ria(this.config,y.Qf,this.Kf,this.console);};v.prototype.qNb=function(){return !this.config.oN;};v.prototype.c1b=function(y){return this.config.j4b && this.config.Bm && !!y.Qf;};v.prototype.Twb=function(y,x,z){return new k.YMa(y.wa(z),x,this.console);};return v;})();b.aHa=r;},35559:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xHa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function h(d,g,m){var k;this.console=m;this.vW=!1;(0,l.assert)(g.ca,"NegativePtsGuard: stream.frameDuration must exist.");this.ca=g.ca;this.Bm=d.Bm;this.Qf=null !== (k=g.Qf) && void 0 !== k?k:c.N.Ia;}h.prototype.append=function(d){var g,m,k,n,p;if(this.vW || d.ci)return d;g=d.ka;m=d.offset;k=d.uf;d=d.mi;if(g.Ha){n=g.Na.wa(this.Bm?this.Qf:c.N.Ia).add(m);if(n.lessThan(c.N.Ia)){p=Math.ceil(n.Bv(-1).Ni(this.ca));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Qf.mb(),", ") + ("request content start ").concat(g.Na.mb(),", ") + ("current timestamp offset ").concat(m.mb()," => ") + ("firstPlatformTimestamp ").concat(n.mb(),"."));g.yka(p);}}this.vW=!0;return {ka:g,offset:m,uf:k,ci:!1,mi:d};};return h;})();b.xHa=r;},33446:function(r,b,a){var l,f,h,d;function c(g){return ("").concat(g.toString()," (nrdp: ").concat(g.jH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.LHa=void 0;l=a(42866);f=a(87425);h=a(49730);d=a(62558);r=(function(){function g(m,k,n){this.console=n;this.offset=l.N.Ia;this.Qf=m.Bm?k.Qf:void 0;(0,d.assert)(k.ca);this.ca=k.ca;}g.prototype.append=function(m){var k,n,p,q;if(m.ci)return m;k=m.ka;n=m.offset;p=m.uf;q=m.mi;void 0 !== this.M2a && ((0,d.assert)(void 0 !== this.qpa),k.Na.add(m.offset).equal(this.M2a)?(m=this.Oub(k,n.add(this.offset)).G - this.qpa,0 > m?this.offset=this.offset.add(l.N.wy):0 === m?this.offset.lessThan(l.N.Ia) && (this.offset=this.offset.add(l.N.wy)):1 === m?this.offset.greaterThan(l.N.Ia) && (this.offset=this.offset.wa(l.N.wy)):this.offset=this.offset.wa(l.N.wy)):this.offset=l.N.Ia);this.qpa=this.Nub(k,n.add(this.offset)).G;this.M2a=k.eb.add(n);return {ka:k,offset:n.add(this.offset),uf:p,ci:!1,mi:q};};g.prototype.Oub=function(m,k){var n,p;m=this.YQa(m.Na);n=(0,f.pt)(m).add((0,f.pt)(k));p=m.add(k).wa(n);h.K && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(k) + ", start rounding error: " + (0,f.pt)(m).toString() + ", offset rounding error: " + (0,f.pt)(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.mb() + ", (" + m.jH + k.jH + "ms), last fragment end nrdp: " + this.qpa);return p;};g.prototype.Nub=function(m,k){var n,p,q;n=this.ca;m=this.YQa(m.eb);p=(0,f.pt)(m.wa(n)).add((0,f.pt)(n)).add((0,f.pt)(k));q=m.add(k).wa(p);h.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.wa(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + (0,f.pt)(m.wa(n)).toString() + ", frame duration rouding error: " + (0,f.pt)(n).toString() + ", offset rounding error: " + (0,f.pt)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.mb() + ", (" + m.wa(n).jH + n.jH + k.jH + "ms)");return q;};g.prototype.YQa=function(m){return this.Qf?m.wa(this.Qf):m;};return g;})();b.LHa=r;},66649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Tda=void 0;c=a(42866);l=a(49730);r=(function(){function f(h){this.Qf=h;}f.ria=function(h,d,g,m){var k;k=c.N.Ia;d && (g=null === g || void 0 === g?void 0:g.Jcc,h.B5b && void 0 !== g && 0 <= g?(h=new c.N(g,48E3),k=d.add(h),l.K && m.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(h) + (" for ASE applied offset of ").concat(k,"."))):h.DR && (k=d));return k;};f.prototype.append=function(h){var d,g,m;d=h.uf;g=h.ci;m=h.mi;return {ka:h.ka,offset:h.offset.add(this.Qf),uf:d,ci:g,mi:m};};return f;})();b.Tda=r;},99548:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xLa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function h(d,g,m){this.config=d;this.console=m;this.Wu=c.N.Ia;(0,l.assert)(g.ca);this.ca=g.ca;g=g.Lg[0].profile;this.y7=this.AIb(g,this.ca);this.e7=this.tIb(g,this.ca);this.A5=-1 !== d.ORa.indexOf(g);}h.prototype.append=function(d,g){var m,k,n,p,q;if(d.ci)return d;m=d.ka;k=d.offset;n=d.mi;n=void 0 === n?[]:n;d=d.uf;p=g.iM;g=g.dra;if(this.Asa){q=this.vRb(m,this.Asa);m.Ha && !this.A5 && this.Lha(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),m.yka(1),this.Wu=q):(this.Wu=q.add(this.ca),this.WRa(this.Wu) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.Ab.mb() + " error would be " + this.Wu.mb() + " (editing " + (m.Ha?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:m.Ub,pts:m.Na.G}}}}),this.Wu=c.N.Ia,d=!1));this.Asa=void 0;}if(m.Kk || m.jt)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ha || !g && m.jt || (q=this.wRb(m,p,g),g && this.A5 && q.fi(this.ca)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),m.O3(2)):q.fi(c.N.Ia) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),m.O3(1))),this.Asa=p);(0,l.assert)(this.WRa(this.Wu));this.UL=m.Mb;return {ka:m,offset:k.add(this.Wu),uf:d,ci:0 === m.MZb,mi:n.length?n:void 0};};h.prototype.wRb=function(d,g,m){var k;if(m)k=this.Wu.add(d.Mb.wa(m)).wa(this.ca);else (k=d.Mb.wa(g),k=this.Wu.add(k).wa(this.ca));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Mb.mb() + ", splice " + g.mb() + ", next start " + (null === m || void 0 === m?void 0:m.mb()) + ", error " + k.add(this.ca).mb() + ", error with frame drop " + k.mb() + ", is" + (this.Lha(k)?"":" not") + " within bounds of [" + this.y7.mb() + " and " + this.e7.mb() + ")");return k;};h.prototype.vRb=function(d,g){var m;(0,l.assert)(this.UL);m=this.Wu.add(this.UL.wa(d.Ab)).wa(this.ca);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Ab.mb() + ", splice " + g.mb() + ", last fragment end: " + this.UL.mb() + ", error " + m.add(this.ca).mb() + ", error with frame drop " + m.mb() + ", is" + (this.Lha(m)?"":" not") + " within bounds of [" + this.y7.mb() + " and " + this.e7.mb() + ")");return m;};h.prototype.Lha=function(d){return d.lessThan(this.e7) && d.fi(this.y7);};h.prototype.WRa=function(d){return d.lessThan(this.e7.add(c.N.wy)) && d.fi(this.y7.wa(c.N.wy));};h.prototype.tIb=function(d,g){return "object" === typeof this.config.dva && void 0 !== this.config.dva[d]?(d=new c.N(this.config.dva[d],1E3).ef(g.S).add(new c.N(1,g.S)),c.N.min(g,d)):g;};h.prototype.AIb=function(d,g){var m;if("object" === typeof this.config.eva && void 0 !== this.config.eva[d]){m=g.Ni(-2);d=new c.N(this.config.eva[d],1E3).ef(g.S).wa(new c.N(1,g.S));return c.N.max(m,d);}return new c.N(-12,1E3);};return h;})();b.xLa=r;},55142:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;c=a(42866);l=a(49730);r=(function(){function f(h,d,g){this.Qf=h;this.ca=d;this.console=g;}f.prototype.append=function(h,d){var g,m,k,n,p,q;g=h.ka;m=h.offset;k=h.uf;n=h.mi;h=h.ci;if(!h){p=d.endOfStream;d=d.iM;if(p && d){p=g.Na.wa(this.Qf).add(m);q=g.eb.wa(this.Qf).add(m);d=d.wa(c.N.wy);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.mb() + "-" + q.mb() + " vs media splice point at " + d.mb());p.add(this.ca).fi(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h=!0):q.fi(d) && (d=Math.ceil(q.wa(d).Ni(this.ca)),g.Ha?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.O3(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ka:g,offset:m,uf:k,ci:h,mi:n};};return f;})();b.YMa=r;},91659:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oNa=void 0;c=a(5163);l=a(36418);f=a(62558);h=a(97810);d=a(83350);r=a(60513);g=a(93161);a=(function(m){function k(n,p){var q;q=m.call(this,n,g.v.Y) || this;q.console=n;q.config=p;return q;}c.__extends(k,m);k.prototype.Ha=function(n){var p,q,u,t,w,v,y;if(!(n.Ha && n instanceof d.Qaa))return {ia:!0};p=n.Qp;if(!(p[0] instanceof ArrayBuffer))return {ia:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,l.Oz)(t.getUint32(u.byteLength + 4)));w=0 < n.Ha.start;t=n.Ha.end < n.Ns;if(!w && !t)return {ia:!0};if(w){w=new l.Sr(this.E7,n.stream,u);v=w.i9a(n.Ha.start,n.S);}if(t && !1 !== v){w=new l.Sr(this.E7,n.stream,v?(0,h.lK)(v.ka):u);y=w.p9a(n.Ha.end - n.Ha.start,n.S);}u=(n=t?y:v)?n.ka:[u];q=this.yrb(v,y,q);u.push((0,l.LB)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ia:!0,Qp:u};};k.prototype.yrb=function(n,p,q){n && ((0,f.assert)(void 0 !== n.Np),(0,f.assert)(void 0 !== n.jN),q-=n.Np);p && ((0,f.assert)(void 0 !== p.Np),(0,f.assert)(void 0 !== p.jN),q-=p.Np,n && (0,f.assert)(void 0 !== n.Np));return q;};return k;})(r.Pca);b.oNa=a;},59012:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oDa=void 0;c=a(62558);l=a(60580);r=(function(){function f(){this.global=new l.GP();this.UG={};}f.prototype.add=function(h,d){(0,c.assert)(void 0 === this.UG[h],"Cannot add new memory object for playgraph");this.UG[h]=d;this.global.add(d.Aq);this.global.add(d.uS);};return f;})();b.oDa=r;},60580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GP=void 0;c=a(27364);r=(function(){function l(){this[c.v.ea]=0;this[c.v.Y]=0;this[c.v.Ka]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.v.ea] + this[c.v.Y] + this[c.v.Ka];},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this[c.v.ea]+=Math.max(f[c.v.ea] || 0,0);this[c.v.Y]+=Math.max(f[c.v.Y] || 0,0);this[c.v.Ka]+=Math.max(f[c.v.Ka] || 0,0);};l.prototype.Pga=function(f,h){this[f]+=Math.max(h || 0,0);};return l;})();b.GP=r;c.v.ea;c.v.Y;c.v.Ka;},92523:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;c=a(60580);r=(function(){function l(){this.Aq=new c.GP();this.uS=new c.GP();}Object.defineProperties(l.prototype,{total:{get:function(){var f;f=new c.GP();f.add(this.Aq);f.add(this.uS);return f;},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this.Aq.add(f.Aq);this.uS.add(f.uS);};l.prototype.Pga=function(f,h,d){(d?this.uS:this.Aq).Pga(f,h);};return l;})();b.lKa=r;},30923:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Aa=void 0;r=a(5163);c=a(23800);l=r.__importDefault(a(71866));f=r.__importDefault(a(24021));h=r.__importDefault(a(76733));d=a(62558);g=a(38509);m=r.__importDefault(a(35471));b.$Aa=(function(){function n(p,q,u){var t;t=this;this.yp=new l.default(p,u);this.iV=new f.default(p);this.Ic=new h.default(this.iV,this.yp,p);new g.e0(m.default.p3,q,p);c.SC.Lwb(p);p.v8 && setInterval(function(){t.yp.save();t.iV.save();},p.v8);}n.Uma=function(p,q,u){void 0 === k?(n.config=p,n.kcb=u,k=new n(p,q,u)):((0,d.assert)(n.config === p),(0,d.assert)(n.kcb === u));return k;};n.reset=function(){n.config=void 0;k=n.kcb=void 0;};return n;})();},23360:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(46211),b);r.__exportStar(a(76498),b);r.__exportStar(a(27009),b);r.__exportStar(a(33163),b);r.__exportStar(a(92011),b);r.__exportStar(a(62470),b);r.__exportStar(a(71973),b);r.__exportStar(a(65915),b);r.__exportStar(a(1002),b);r.__exportStar(a(6389),b);r.__exportStar(a(42199),b);r.__exportStar(a(8760),b);r.__exportStar(a(39381),b);r.__exportStar(a(72072),b);r.__exportStar(a(89212),b);r.__exportStar(a(87034),b);r.__exportStar(a(67510),b);r.__exportStar(a(32139),b);r.__exportStar(a(35874),b);r.__exportStar(a(99814),b);r.__exportStar(a(75816),b);r.__exportStar(a(72213),b);r.__exportStar(a(16571),b);r.__exportStar(a(66759),b);r.__exportStar(a(22492),b);r.__exportStar(a(4087),b);r.__exportStar(a(46733),b);r.__exportStar(a(14450),b);r.__exportStar(a(30162),b);r.__exportStar(a(14157),b);r.__exportStar(a(33629),b);r.__exportStar(a(63110),b);r.__exportStar(a(73103),b);r.__exportStar(a(55730),b);r.__exportStar(a(17810),b);r.__exportStar(a(73808),b);r.__exportStar(a(50982),b);r.__exportStar(a(39273),b);r.__exportStar(a(8512),b);r.__exportStar(a(16469),b);r.__exportStar(a(84071),b);r.__exportStar(a(70669),b);r.__exportStar(a(91898),b);},76498:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27009:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33163:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92011:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46211:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62470:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Yc=b.Xn=void 0;(function(c){c[c.Wr=0]="STOPPED";c[c.Pe=1]="BUFFERING";c[c.sl=2]="REBUFFERING";c[c.rm=3]="STREAMING";c[c.h0=4]="TRACK_SWITCH";})(a || (a={}));b.Yc=a;b.Xn=function(c){return c === a.Pe || c === a.sl || c === a.h0;};},71973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pz=void 0;r=b.pz || (b.pz={});r[r.xH=0]="skipped";r[r.Drb=1]="adjustment";},1002:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6389:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},42199:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39381:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},70669:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16469:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27364:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(23360),b);},72072:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.k2b=b.N8a=b.Ota=void 0;b.Ota=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.N8a=a;b.k2b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.$g)," sp:").concat(c.Oy," ") + ("pssp:").concat(c.ZV," ") + ("state:").concat(c.jf," path-complete:").concat(c.yy," ") + ("streaming:").concat(c.yr," current:").concat(c.Cq);};},89212:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87034:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vG=b.n7=b.wz=b.v=void 0;c=a(60328);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.wz=[c.v.ea,c.v.Y];b.n7=function(l,f,h){l=l || f?f?[c.v.Y]:[c.v.ea]:[c.v.ea,c.v.Y];h && l.push(c.v.Ka);return l;};b.vG=function(l){return l === c.v.ea?"audio":l === c.v.Y?"video":l === c.v.Ka?"text":"unknown";};},32139:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},35874:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},99814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bz=void 0;r=b.Bz || (b.Bz={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.AI=1]="HAVE_SOMETHING";r[r.zI=2]="HAVE_MINIMUM";r[r.cP=3]="HAVE_ENOUGH";},75816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},72213:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16571:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bb=b.Usa=void 0;c=a(62470);(function(f){f[f.zk=0]="STARTING";f[f.Pe=1]="BUFFERING";f[f.sl=2]="REBUFFERING";f[f.me=3]="PLAYING";f[f.X_=4]="STOPPING";f[f.Wr=5]="STOPPED";f[f.Uh=6]="PAUSED";})(l || (l={}));b.Bb=l;b.Usa=function(f){return f === c.Yc.Pe?l.Pe:f === c.Yc.sl?l.sl:f === c.Yc.h0?l.Pe:f === c.Yc.rm?l.me:l.zk;};},17810:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32769),b);r.__exportStar(a(65376),b);r.__exportStar(a(74071),b);r.__exportStar(a(48248),b);r.__exportStar(a(59680),b);r.__exportStar(a(29730),b);r.__exportStar(a(89394),b);r.__exportStar(a(84631),b);},32769:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89394:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59680:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84631:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22492:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46733:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4087:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14450:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30162:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8760:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14157:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33629:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},91898:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63110:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jq=void 0;r=b.jq || (b.jq={});r[r.Pkb=0]="PLAYGRAPH_CHANGED";r[r.Qkb=1]="PLAYGRAPH_UNCHANGED";r[r.$jb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Olb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.eib=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.dib=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Plb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.cfb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.rjb=8]="LOSS_OF_POSITION";},73808:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(48425),b);r.__exportStar(a(38294),b);},48425:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38294:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8512:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sr=b.Hw=b.Co=b.LB=b.c0=void 0;c=a(5163);l=a(36418);Object.defineProperties(b,{Hw:{enumerable:!0,get:function(){return l.Hw;}}});Object.defineProperties(b,{Sr:{enumerable:!0,get:function(){return l.Sr;}}});Object.defineProperties(b,{LB:{enumerable:!0,get:function(){return l.LB;}}});Object.defineProperties(b,{c0:{enumerable:!0,get:function(){return l.c0;}}});f=c.__importDefault(a(35471));r=(function(h){function d(g,m,k,n,p){return h.call(this,d.console,g,m,k,n,p) || this;}c.__extends(d,h);Object.defineProperties(d,{console:{get:function(){return this.V || (this.V=new f.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.Co);b.Co=r;},97119:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kba=void 0;r=a(5163);c=a(72245);l=a(27364);new (r.__importDefault(a(35471)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var H5h;H5h=2;function f(h){var C3h;C3h=2;for(;C3h !== 4;){switch(C3h){case 5:var B_B="1SIYb";B_B+="Z";B_B+="rNJCp";B_B+="9";B_B;C3h=4;break;case 7:"";C3h=2;break;case 2:this.moa=h;this.Mx={};C3h=5;break;}}}for(;H5h !== 7;){switch(H5h){case 2:f.prototype.reset=function(){var x9p;x9p=2;for(;x9p !== 1;){switch(x9p){case 2:this.DC=new c.NAa();x9p=1;break;}}};f.prototype.Tv=function(h,d){var C98;C98=2;for(;C98 !== 1;){switch(C98){case 2:d.tj && (this.moa?this.DC.start(h,d.tj):d.type === l.v.Y && (this.Mx[d.tj]?this.Mx[d.tj].XX+=1:this.Mx[d.tj]={tj:d.tj,XX:1,n4:!1},this.ldb(h)));C98=1;break;}}};f.prototype.Vv=function(h,d){var c50,g;c50=2;for(;c50 !== 9;){switch(c50){case 7:c50=d.tj?2:7;break;case 1:c50=this.moa?5:4;break;case 4:g=this.Mx[d.tj];d.type === l.v.Y && g && (--g.XX,0 === g.XX && (g.n4 && this.DC.stop(h,d.tj),g.n4=!1,delete this.Mx[d.tj]),this.ldb(h));c50=9;break;case 2:c50=d.tj?1:9;break;case 5:this.DC.stop(h,d.tj);c50=9;break;case 6:c50=this.moa?4:6;break;}}};f.prototype.QJ=function(h,d,g,m){var X5k;X5k=2;for(;X5k !== 1;){switch(X5k){case 2:m.tj && (this.moa?this.DC.add(h,d,g,m.tj):this.pR === m.tj && this.DC.add(h,d,g,m.tj));X5k=1;break;}}};H5h=3;break;case 3:f.prototype.Wm=function(){var N2_;N2_=2;for(;N2_ !== 1;){switch(N2_){case 4:return this.DC.get();break;case 2:return this.DC.get();break;}}};f.prototype.ldb=function(h){var K$B,d,g;K$B=2;for(;K$B !== 5;){switch(K$B){case 2:(d=Object.keys(this.Mx).map(function(m){var X0O;X0O=2;for(;X0O !== 1;){switch(X0O){case 2:return parseInt(m);break;case 4:return parseInt(m);break;}}}),g=this.Mx[d[0]]);1 === d.length && !1 === g.n4?(this.DC.start(h,g.tj),this.pR=g.tj):1 < d.length && this.pR && (d=this.Mx[this.pR],this.DC.stop(h,this.pR),d.n4=!1,this.pR=void 0);K$B=5;break;}}};return f;break;}}})();b.Kba=a;},69615:function(r,b,a){var l;function c(){this.vm=void 0;this.aA=0;}l=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.aA && this.vm?{p25:this.vm.Bp,p50:this.vm.en,p75:this.vm.Cp,c:this.aA}:null;};c.prototype.Dg=function(f){if(!(!l.Zb(f) && l.has(f,"p25") && l.has(f,"p50") && l.has(f,"p75") && l.has(f,"c") && l.isFinite(f.p25) && l.isFinite(f.p50) && l.isFinite(f.p75) && l.isFinite(f.c)))return (this.vm=void 0,this.aA=0,!1);this.vm={Bp:f.p25,en:f.p50,Cp:f.p75};this.aA=f.c;};c.prototype.get=function(){return {Csa:this.vm,Jj:this.aA};};c.prototype.set=function(f,h){this.vm=f;this.aA=h;};c.prototype.reset=function(){this.vm=void 0;this.aA=0;};c.prototype.toString=function(){return "IQRHist(" + this.vm + "," + this.aA + ")";};r.exports=c;},71866:function(r,b,a){var d,g,m,k,n,p;function c(q){var u;u=q.ofa;this.Z=q;this.Nz=g.pl.HAVE_NOTHING;this.efa=q.efa;q=new n(q);this.fR=q.create("throughput-location-history",u);this.T0=q.create("throughput-location-history",u);this.y1=q.create("throughput-location-history",u);this.z1=q.create("throughput-location-history",u);this.x1=q.create("throughput-location-history",u);this.fx=q.create("respconn-location-history",u);this.Xw=q.create("respconn-location-history",u);this.w1=q.create("throughput-tdigest-history",u);this.U0=q.create("throughput-iqr-history",u);this.G0=q.create("throughput-location-history",u);this.I0=q.create("throughput-location-history",u);this.H0=q.create("throughput-location-history",u);this.J0=q.create("throughput-location-history",u);this.jb=null;}function l(q,u,t,w,v){this.hs=new c(v);this.Dn=[];this.uob=m.time.Ga() - Date.now() % 864E5;this.fs=null;this.Z=v;for(q=0;q < w;++q){this.Dn.push(new c(v));}}function f(q,u,t){return d.has(q,u)?q[u]:q[u]=t;}function h(q,u){var t;this.Z=q;this.aQa=u;this.HDb();this.QD=new c(this.Z);this.iob();t=q.Uja;t && (t={confidence:g.pl.cP,ob:{Da:parseInt(t,10),Zd:0},Zk:{Da:0,Zd:0},H5:{Da:0,Zd:0}},this.get=function(){return t;});}d=a(17267);g=a(89956)["default"];b=a(97810);m=a(35471)["default"];k=b.mDa;n=a(63606).kib;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.pl.HAVE_NOTHING};c.prototype.tE=function(q,u){this.Nz=u;this.fR.add(q);this.w1.add(q);this.jb=m.time.Ga();};c.prototype.rE=function(q){this.T0.add(q);};c.prototype.uE=function(q){this.y1.add(q.initial);this.z1.add(q.low);this.x1.add(q.high);};c.prototype.aI=function(q,u){this.U0.set(q,u);};c.prototype.lA=function(q){this.fx.add(q);};c.prototype.kA=function(q){this.Xw.add(q);};c.prototype.RJ=function(q){this.G0.add(q.Da);this.I0.add(q.Zd);this.H0.add(q.XJ);this.J0.add(q.sO);};c.prototype.getState=function(){var q,u,t,w,v,y,x,z,A,B,D,C,F,G;q=this.fR.getState();u=this.T0.getState();t=this.y1.getState();w=this.z1.getState();v=this.x1.getState();y=this.fx.getState();x=this.Xw.getState();z=this.U0.getState();A=this.w1.getState();B=this.G0.getState();D=this.I0.getState();C=this.H0.getState();F=this.J0.getState();if(d.Zb(q) && d.Zb(y) && d.Zb(x))return null;G={c:this.Nz,t:m.time.Vqa(this.jb)};d.Zb(q) || (G.tp=q);d.Zb(u) || (G.itp=u);d.Zb(t) || (G.tcii=t);d.Zb(w) || (G.tcil=w);d.Zb(v) || (G.tcih=v);d.Zb(y) || (G.rt=y);d.Zb(x) || (G.hrt=x);d.Zb(z) || (G.iqr=z);d.Zb(A) || (G.td=A);d.Zb(B) || (G.dta=B);d.Zb(D) || (G.dtv=D);d.Zb(C) || (G.dtta=C);d.Zb(F) || (G.dttv=F);return G;};c.prototype.Dg=function(q){var u;u=m.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.pl.cP || q.t > u || !this.fR.Dg(q.tp))return (this.Nz=g.pl.HAVE_NOTHING,this.fs=this.jb=null,this.fR.Dg(null),this.fx.Dg(null),this.Xw.Dg(null),!1);this.Nz=q.c;this.jb=m.time.ura(q.t);this.fx.Dg(d.has(q,"rt")?q.rt:null);this.Xw.Dg(d.has(q,"hrt")?q.hrt:null);this.T0.Dg(d.has(q,"itp")?q.itp:null);this.y1.Dg(d.has(q,"tcii")?q.tcii:null);this.z1.Dg(d.has(q,"tcil")?q.tcil:null);this.x1.Dg(d.has(q,"tcih")?q.tcih:null);this.G0.Dg(d.has(q,"dta")?q.dta:null);this.I0.Dg(d.has(q,"dtv")?q.dtv:null);this.H0.Dg(d.has(q,"dtta")?q.dtta:null);this.J0.Dg(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.U0.Dg(q.iqr);d.has(q,"td") && this.w1.Dg(q.td);return !0;};c.prototype.get=function(){var q,u,t,w,v,y,x,z,A,B,D;q=this.Z;if(d.Zb(this.jb))return p;u=(m.time.Ga() - this.jb) / 1E3;u > q.Wnb?this.Nz=g.pl.HAVE_NOTHING:u > q.Cnb && (this.Nz=Math.min(this.Nz,g.pl.AI));q=this.fR.get();t=this.T0.get();w=this.y1.get().Da;v=this.z1.get().Da;y=this.x1.get().Da;x=this.fx.get();z=this.Xw.get();A=this.U0.get();B=this.w1.get();D={Da:this.G0.dna().Da,Zd:this.I0.dna().Da,XJ:this.H0.get().Da,sO:this.J0.get().Da};u={Cl:u,confidence:this.Nz,ob:q,$T:t,"throughput-ci":{initial:w,low:v,high:y},Zk:x,H5:z,uB:A,dh:B,Lm:D};q && (u.Pgc=k.prototype.Kv.bind(q));x && (u.Rfc=k.prototype.Kv.bind(x));z && (u.Wdc=k.prototype.Kv.bind(z));return u;};c.prototype.time=function(){return this.jb;};l.prototype.ae=function(){return ((m.time.Ga() - this.uob) / 1E3 / 3600 / (24 / this.Dn.length) | 0) % this.Dn.length;};l.prototype.getState=function(){var q;q={g:this.hs.getState(),h:this.Dn.map(function(u){return u.getState();})};d.Zb(this.fs) || (q.f=m.time.Vqa(this.fs));return q;};l.prototype.Dg=function(q){var u,t;if(!this.hs.Dg(q.g))return !1;u=this.Dn.length;t=!1;this.Dn.forEach(function(w,v){t=!w.Dg(q.h[v * q.h.length / u | 0]) || t;});this.fs=d.has(q,"f")?m.time.ura(q.f):null;return t;};l.prototype.tE=function(q,u){this.hs.tE(q,u);this.Dn[this.ae()].tE(q,u);this.fs=null;};l.prototype.rE=function(q){this.hs.rE(q);this.Dn[this.ae()].rE(q);this.fs=null;};l.prototype.uE=function(q){this.hs.uE(q);this.Dn[this.ae()].uE(q);this.fs=null;};l.prototype.aI=function(q,u){this.hs.aI(q,u);this.Dn[this.ae()].aI(q,u);};l.prototype.lA=function(q){this.hs.lA(q);this.Dn[this.ae()].lA(q);};l.prototype.kA=function(q){this.hs.kA(q);this.Dn[this.ae()].kA(q);};l.prototype.RJ=function(q){this.hs.RJ(q);this.Dn[this.ae()].RJ(q);};l.prototype.fail=function(q){this.fs=q;};l.prototype.get=function(){var q,u;if(!d.Zb(this.fs)){if((m.time.Ga() - this.fs) / 1E3 < this.Z.Bnb)return {confidence:g.pl.HAVE_NOTHING,Ks:!0};this.fs=null;}q=this.Dn[this.ae()].get();u=this.hs.get();q=q.confidence >= u.confidence?q:u;q.Ks=!1;return q;};l.prototype.time=function(){return this.hs.time();};h.prototype.rOa=function(q,u){var t;t=this.Z;q=f(this.EQ,q,{});return f(q,u,new l(t.DOa || 14400,t.COa || 100,t.BOa || 100,t.mPa || 4,t));};h.prototype.iob=function(){var q,u;q=m.storage.get("lh");u=m.storage.get("gh");q && this.Mpb(q);u && this.Lpb(u);};h.prototype.Nnb=function(){var q;q={};d.Is(this.EQ,function(u,t){d.Is(u,function(w,v){f(q,t,{})[v]=w.getState();},this);},this);return q;};h.prototype.Lpb=function(q){this.QD.Dg(q);};h.prototype.Mpb=function(q){var u,t;u=null;t=this.Z;d.Is(q,function(w,v){d.Is(w,function(y,x){var z;z=new l(t.DOa || 14400,t.COa || 100,t.BOa || 100,t.mPa || 4,t);z.Dg(y)?(f(this.EQ,v,{})[x]=z,u=!0):d.Zb(u) && (u=!1);},this);},this);};h.prototype.save=function(){var q;q=this.Nnb();m.storage.set("lh",q);m.storage.set("gh",this.QD.getState());this.aQa && this.aQa.zva(this.QD.getState());};h.prototype.HDb=function(){this.EQ={};this.pJ=this.aOa="";this.Vj=null;};h.prototype.V9=function(q){this.aOa=q;this.Vj=null;};h.prototype.U9=function(q){this.pJ=q;this.Vj=null;};h.prototype.PD=function(){d.Zb(this.Vj) && (this.Vj=this.rOa(this.aOa,this.pJ));return this.Vj;};h.prototype.tE=function(q,u){this.PD().tE(q,u);this.QD.tE(q,u);};h.prototype.rE=function(q){this.PD().rE(q);this.QD.rE(q);};h.prototype.uE=function(q){this.PD().uE(q);this.QD.uE(q);};h.prototype.aI=function(q,u){q && q.Bp && q.en && q.Cp && (this.PD().aI(q,u),this.QD.aI(q,u));};h.prototype.lA=function(q){this.PD().lA(q);};h.prototype.kA=function(q){this.PD().kA(q);};h.prototype.RJ=function(q){this.PD().RJ(q);};h.prototype.fail=function(q,u){this.rOa(q,this.pJ).fail(u);};h.prototype.get=function(q,u){var t,w,v,y;q=(q=this.EQ[q])?q[this.pJ]:null;t=null;if(q && (t=q.get(),t.confidence > g.pl.HAVE_NOTHING))return t;if(!1 === u)return p;w=t=null;v=!1;y=null;d.Is(this.EQ,function(x){d.Is(x,function(z,A){var B;if(!v || A == this.pJ){B=z.get();B && (!w || w <= B.confidence) && (!y || w < B.confidence || y < z.time()) && (w=B.confidence,v=A == this.pJ,y=z.time(),t=B);}},this);},this);return t?t:p;};r.exports=h;},24021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(35471));new l.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");a=(function(){function f(h){this.config=h;this.load();}f.prototype.save=function(){var h;h=this.getState();l.default.storage.set("nh",h);};f.prototype.y1a=function(h,d){this.wwa && (d > this.dN && (this.EH+=d - this.dN,this.dN=d),-1 === this.B6 || h > this.B6) && (h=d - h,this.GL.push([this.EH - h,h]),this.trim(),this.B6=d);};f.prototype.trim=function(){var h;h=this.EH - this.config.RRb;this.GL=this.GL.filter(function(d){return d[0] > h;});};f.prototype.load=function(){var h;h=l.default.storage.get("nh");this.Dg(h) || (this.dN=l.default.time.Ga(),this.EH=0,this.wwa=!1,this.B6=-1,this.GL=[]);};f.prototype.Dg=function(h){if(!(h && c.has(h,"t") && c.has(h,"s") && c.has(h,"i") && c.sb(h.t) && c.sb(h.s) && c.isArray(h.i)))return !1;this.dN=l.default.time.ura(1E3 * h.t);this.EH=1E3 * h.s;this.wwa=!1;this.GL=h.i.map(function(d){return [1E3 * d[0],d[1]];});this.B6=-1;return !0;};f.prototype.getState=function(){return this.wwa?{t:l.default.time.now() / 1E3 | 0,s:(this.EH + (l.default.time.Ga() - this.dN)) / 1E3 | 0,i:this.GL.map(function(h){return [h[0] / 1E3 | 0,h[1]];})}:{t:l.default.time.Vqa(this.dN) / 1E3 | 0,s:this.EH / 1E3 | 0,i:this.GL.map(function(h){return [h[0] / 1E3 | 0,h[1]];})};};return f;})();b["default"]=a;},76733:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=c.__importStar(a(17267));r=a(57055);f=c.__importDefault(a(7977));h=c.__importDefault(a(61739));d=a(52733);g=a(99039);m=a(97119);k=a(64981);n=a(35471)["default"];p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(w,v,y){var x;x=u.call(this) || this;x.Uo={};x.WQ=0;x.Xz=0;x.iQ=[];x.xf=0;x.pbc=!1;x.Z=y;x.iOa=new h.default(y);x.zQ=new m.Kba(!0);x.hQ=new m.Kba(!1);y.ZCb && (x.EJ=new k.rIa(x.Z));x.reset();x.cPa=w;x.Vj=v;x.EOa=n.ko.name();x.Vj.U9(x.EOa);n.events.on("networkchange",x.rTb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.rTb=function(w){this.EOa=w;this.Vj.U9(w);};Object.defineProperties(t.prototype,{yp:{get:function(){return this.Vj;},enumerable:!1,configurable:!0}});t.prototype.rdb=function(){var w;if(!this.tga){w=this.I_a();this.Vj.tE(w.default.Da,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Da && this.Vj.rE(w["initial-throughput-ewma"].Da);w["throughput-ci"] && this.Vj.uE(w["throughput-ci"]);w.deliverytime && this.Vj.RJ(w.deliverytime);this.Vj.aI(w.uB?w.uB.Csa:void 0,w.uB?w.uB.OZb:void 0);l.Zb(this.Gc) || (this.tga=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.pg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Uo.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zj:{get:function(){return this.dJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cqb:{get:function(){return this.iQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{jOb:{get:function(){return this.HOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});t.prototype.hnb=function(){var w,v,y,x;w=this.Z;v=w.snb.concat(w.znb);y=w.ofa;x=this.iOa;v=v.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});v.confidence=new g.oda(w,new d.yHa(w,this.d8.bind(this)));return v;};t.prototype.reset=function(){var w,v,y,x;w=this.Z.ofa;v=this.iOa;y=this.Z;this.UD=null;this.Uo=this.hnb();if(this.Z.QWa){x=this.Z.lcb;this.Uo.u3b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.zQ.reset();this.hQ.reset();this.fx=v.create("respconn-ewma",w);this.Xw=v.create("respconn-ewma",w);this.EJ && this.EJ.reset();this.cqb=this.rdb.bind(this);this.E1=void 0;this.Yw=this.Gc=this.pg=null;this.B1=0;y.J9a && (this.Xz=this.WQ=this.dJ=0,this.iQ=[]);};t.prototype.V9=function(w){var v;v=this.Uo;if(w !== this.UD){l.ii(this.E1) || (clearInterval(this.E1),this.E1=void 0);l.Zb(this.UD) && (this.B1=0,this.pg=null);if(!l.Zb(w)){for(var y in v){v[y] && v[y].reset && v[y].reset();}this.fx.reset();this.Xw.reset();}l.Zb(this.pg) || (this.B1+=(l.Zb(this.Gc)?n.time.Ga():this.Gc) - this.pg);this.Gc=this.pg=null;this.UD=w;this.Vj.V9(w);}};t.prototype.U9=function(w){this.Vj.U9(w);};t.prototype.QJ=function(w,v,y,x){var z,A;this.HOa=Math.max(this.HOa || 0,y);this.Xz-=w;z=this.Z;A=this.Uo;if(!0 === x.yO)(x=A["throughput-wssl"]) && x.add(w,v,y,!0);else if(l.ii(v))p.warn("addDataReceived called with undefined start time");else {this.EJ && this.EJ.QJ(w,v,y,x);z.ynb && 10 > y - v?v=y - 10:0 === y - v && (v=y - 1);this.zQ.QJ(w,v,y,x);this.hQ.QJ(w,v,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,v,y,x);}l.Zb(this.pg) && (this.pg=v,this.Gc=null,this.tga=!1);l.Zb(this.Gc) || (v > this.Gc && (this.pg+=v - this.Gc),this.Gc=null,this.tga=!1);l.Zb(this.Yw) || (v - this.Yw > z.dPa?this.cPa.y1a(this.Yw,v):y - v > z.dPa && this.cPa.y1a(v,y));this.Yw=this.Yw?Math.max(y,this.Yw):y;}};t.prototype.lA=function(w){this.fx.add(w);this.Vj.lA(w);};t.prototype.kA=function(w){this.Xw.add(w);this.Vj.kA(w);};t.prototype.start=function(w,v){var y;l.Zb(this.Yw) && !l.Zb(this.Gc) && (this.Yw=w);y=this.Uo;if(this.Z.jwa)for(var x in y){y[x] && y[x].start && y[x].start(w,v);}};t.prototype.stop=function(w,v){var y,x;y=this.Uo;for(x in y){y[x] && y[x].stop && y[x].stop(w,v);}this.Gc=l.Zb(this.Gc)?w:Math.min(this.Gc,w);this.Yw=null;};t.prototype.flush=function(){var w,v;w=this.Uo;for(v in w){w[v] && w[v].flush && w[v].flush();}};t.prototype.AHb=function(){var w,v;w=this.Uo.adc;if(w){v=w.Cub();w.reset();}return v;};t.prototype.I_a=function(){var w,v,y,x,z,A,B,D;w=n.time.Ga();v=this.Uo;y=this.Z;x=y.mnb;z=y.nnb;A=y.Hpb;B={};for(D in v){v[D] && v[D].get && (B[D]=v[D].get(w,this.Xz),"iqr" === v[D].type && (B.uB=B[D]),"tdigest" === v[D].type && (B.dh=B[D]),"wssl" === v[D].type && (B.yO=B[D]));}B.cdnavtp=this.zQ.Wm();B.activecdnavtp=this.hQ.Wm();B.default=x && B[x] && z && void 0 !== B[x][z]?{Da:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.fva && "none" !== A && (B.q$a=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Vma=function(){return this.EJ?this.EJ.Vma():void 0;};t.prototype.get=function(){var w,v,y,x,z,A;w=this.I_a();v=w.default;y=this.fx.get();x=this.Xw.get();z=this.Z;if(w.q$a){A=w.q$a;v=l.sb(v.Da) && l.sb(A.Da) && v.Da > A.Da && 0 < A.Da?A:v;}w.ob=v;w.$T=w["initial-throughput-ewma"];!z.kDb || !v || l.Zb(v.Da) || isNaN(v.Da) || !w.yO || l.Zb(w.yO.Da) || isNaN(w.yO.Da) || ("max" === z.Oeb?w.ob.Da=Math.max(w.yO.Da,v.Da):"sum" === z.Oeb && (w.ob.Da+=w.yO.Da));w.Zk=y;w.H5=x;this.Z.QWa && (v=this.Z.lcb,w.Tgc=this.Uo.u3b.get(v.fillS,v.fillHl));v=this.B1 + (l.Zb(this.pg)?0:(l.Zb(this.Gc)?n.time.Ga():this.Gc) - this.pg);w.time=v;return w;};t.prototype.ZJb=function(){var w,v,y;w={};v=this.get();if(v.confidence && v["throughput-ewma"]){w.aseavtp=Number(v["throughput-ewma"].Da).toFixed(2);w.asevartp=Number(v["throughput-ewma"].Zd).toFixed(2);if(v.uB){y=v.uB.Csa;!y || void 0 === y.Cp || void 0 === y.Bp || void 0 === y.en || isNaN(y.Cp || 0) || isNaN(y.Bp) || isNaN(y.en) || (w.aseniqr=0 < y.en?Number((y.Cp - y.Bp) / y.en).toFixed(2):-1,w.aseiqr=Number(y.Cp - y.Bp).toFixed(2),w.asemedtp=Number(y.en).toFixed(2));w.iqrsamples=v.uB.OZb;}v.dh && v.dh.lL && (w.tdigest=v.dh.lL());}return w;};t.prototype.Tv=function(w,v){var y,x,z;y=v.requestId;1 === ++this.dJ && this.emit("active",w);if(this.Z.yWa){x=this.Uo;for(z in x){x[z] && x[z].Tv && x[z].Tv(w,v);}}this.Z.o$ && this.start(w,v);y && (this.Z.o$ || this.start(w,v),this.iQ.push(y));this.Xz+=v.xa || 0;this.zQ.Tv(w,v);this.hQ.Tv(w,v);};t.prototype.ZYb=function(){++this.WQ;};t.prototype.Vv=function(w,v,y){var x,z,A;x=y.requestId;v && --this.WQ;--this.dJ;this.Xz=Math.max((this.Xz || 0) - ((y.xa || 0) - (y.bytesReceived || 0)),0);this.Z.J9a && (this.dJ=Math.max(this.dJ,0),this.WQ=Math.max(this.WQ,0));if(this.Z.yWa){z=this.Uo;for(A in z){z[A] && z[A].Vv && z[A].Vv(w,v,y);}}this.Z.o$ && this.stop(w,y);0 === this.dJ && (this.Z.o$ || this.stop(w,y),this.emit("inactive",w));x && (v=this.iQ.indexOf(x),0 <= v && this.iQ.splice(v,1));this.zQ.Vv(w,y);this.hQ.Vv(w,y);};t.prototype.d8=function(){this.rdb();this.E1=setInterval(this.cqb,this.Z.job);};return t;})(r.EventEmitter);b["default"]=a;},7033:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.EHa=b.Qg=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));f=a(62558);h=a(23800);d=a(27364);g=r.__importDefault(a(76733));(function(k){k[k.$t=0]="CREATED";k[k.OPENED=1]="OPENED";k[k.DO=2]="ACTIVE";k[k.Sj=3]="RECEIVING";k[k.mm=4]="COMPLETE";k[k.Yp=5]="ABORTED";})(m=b.Qg || (b.Qg={}));a=(function(){function k(n,p,q,u,t,w,v,y,x,z){this.stream=n;this.Xf=p;this.properties=t;this.listener=v;this.config=x;this.console=z;this.HD=0;this.Ua=m.$t;this.request=new l.default.fq(q,u,this.rJb(t,y));this.offset=w.offset;this.kc=w.xa;this.id=this.RHb();this.Hab=t.VW;this.gH=t.gH;this.Gt=t.Gt;this.responseType=void 0 === t.responseType?l.default.fq.Kf && !l.default.fq.Kf.Eua.gea?0:1:t.responseType;this.Ok=this.Gsb();this.mediaType === d.v.Ka || !x.Mga && t.Le || (this.Ic=g.default.instance());}Object.defineProperties(k.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xa:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ji:{get:function(){return this.request.ji;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ig:{get:function(){return this.request.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oF:{get:function(){return this.request.oF;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Aj:{get:function(){return this.request.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{eF:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{m8:{get:function(){return this.Ua >= m.OPENED && this.Ua < m.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Ua >= m.DO && this.Ua < m.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rta:{get:function(){return this.Ua === m.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Ua === m.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.Ua === m.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});k.prototype.open=function(){if(this.Ua !== m.$t || !this.request.open(this.Xf,{start:this.offset,end:this.offset + this.kc - 1},this.responseType,{},void 0,void 0,this.Hab,this.stream.qr,this.stream.ha?this.stream.pa.CU.KK:void 0))return !1;this.Ua=m.OPENED;return !0;};k.prototype.nX=function(n){this.Xf=n;return this.state >= m.OPENED && this.state < m.mm?this.request.nX(n):!0;};k.prototype.abort=function(){var n;if(this.aborted)return !0;this.active && (null === (n=this.Ic) || void 0 === n?void 0:n.Vv(l.default.time.Ga(),this.Rta,this.AT()));this.Ua=m.Yp;this.request.abort();return !0;};k.prototype.Ze=function(){var n,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.m8;q=this.active;this.abort();this.listener.BV(this,q,p);}null === (n=this.Ok) || void 0 === n?void 0:n.clear();this.request.Ze();};k.prototype.getResponseHeader=function(n,p){return this.request.getResponseHeader(n,p);};k.prototype.getAllResponseHeaders=function(n){return this.request.getAllResponseHeaders(n);};k.prototype.aHb=function(){var n,p;n=this.getResponseHeader("content-range",!1);if(n){p=n.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + n);p=n.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + n);return p;}};k.prototype.gN=function(){this.request.gN();};k.prototype.xj=function(){return this.request.xj();};k.prototype.wM=function(){var n,p;if(this.Ua === m.OPENED){this.Ua=m.DO;p=this.request.ji || this.request.loadTime;h.SC.instance().push(l.default.time.Ga() - p);!this.config.b4a && (null === (n=this.Ic) || void 0 === n?void 0:n.Tv(p,this.AT()));this.listener.CM(this);this.timestamp=p;}};k.prototype.e8=function(){var n,p,q,u;if(!(this.Ua >= m.Sj)){this.Ua=m.Sj;u=this.request.ji || this.request.Gla;h.SC.instance().push(l.default.time.Ga() - u);this.config.b4a && (null === (n=this.Ic) || void 0 === n?void 0:n.Tv(u,this.AT()));null === (p=this.Ic) || void 0 === p?void 0:p.ZYb();n=this.request.AW;this.request.connect && n.length && (null === (q=this.Ic) || void 0 === q?void 0:q.lA(n[0]));this.timestamp=u;this.listener.BM(this);0 === this.kc && this.i5b(this.request.uo);this.TWb();}};k.prototype.GG=function(){var n;if(!(this.Ua > m.Sj)){this.Ua=m.Sj;n=this.request.ji;h.SC.instance().push(l.default.time.Ga() - n);n=this.Era(!0);this.listener.DM(this,n);}};k.prototype.vM=function(){var n,p,q;if(!this.aborted){p=this.request.ji;h.SC.instance().push(l.default.time.Ga() - p);q=this.Era(!0);null === (n=this.Ic) || void 0 === n?void 0:n.Vv(p,this.Rta,this.AT());this.Ua=m.mm;this.listener.cr(this,q);this.Ze();}};k.prototype.eTb=function(){this.listener.bsa(this);};k.prototype.$m=function(){var n;if(!this.complete && !this.aborted && "number" === typeof this.request.Ig){n=this.request.ji;h.SC.instance().push(l.default.time.Ga() - n);this.Era(this.config.jua && void 0 === this.request.status);this.listener.CV(this);}};k.prototype.Era=function(n){var p,q,u,t;p=this;u=this.request.ji;t=this.request.bytesReceived - this.HD;n && this.Ic && (void 0 !== this.timestamp && 0 < t && this.Ic.QJ(t,this.timestamp,u,this.AT()),null === (q=this.request.AW) || void 0 === q?void 0:q.forEach(function(w){return p.Ic.kA(w);}));this.timestamp=u;this.HD=this.request.bytesReceived;return t;};k.prototype.i5b=function(n){var p;p=this.kc;this.kc=n;this.listener.DV(this,this.kc,p);};k.prototype.TWb=function(){var n;if(this.stream.ha){n=this.request.getResponseHeader("X-TCP-Info",!0);this.stream.zUb(n);}else this.request.getAllResponseHeaders(!0);};k.prototype.AT=function(){return {requestId:this.id,tj:this.stream.$b,type:this.mediaType,gH:this.gH,xa:this.kc,bytesReceived:this.request.bytesReceived,Gt:this.Gt};};k.prototype.RHb=function(){var n;n=(n=this.stream)?n.toString():this.url;this.kc && (n+=",range " + this.offset + "-" + (this.offset + this.kc - 1));return n;};k.prototype.Gsb=function(){var n,p,q;n=this;p=new c.Qe();q=l.default.fq.xk;p.on(this.request,q.OHa,function(){return n.wM();});p.on(this.request,q.NHa,function(){return n.e8();});p.on(this.request,q.PHa,function(){return n.GG();});p.on(this.request,q.LP,function(){return n.vM();});p.on(this.request,q.I$b,function(){return n.eTb();});p.on(this.request,q.Cz,function(){return n.$m();});return p;};k.prototype.rJb=function(n,p){return {mediaType:this.mediaType,Ub:this.stream.Ub,bitrate:this.stream.bitrate,Pc:this.stream.$b,et:!n.Le,I:p.id,config:this.config};};k.prototype.toString=function(){return "ID: " + this.request.xj() + " " + this.id;};k.prototype.toJSON=function(){return {requestId:this.request.xj(),id:this.id};};return k;})();b.EHa=a;},64981:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rIa=void 0;c=a(27364);l=a(45762);r=(function(){var t3H;t3H=2;for(;t3H !== 3;){switch(t3H){case 2:f.prototype.reset=function(){var j1c;j1c=2;for(;j1c !== 4;){switch(j1c){case 2:this.wW=[0,0];this.uo=[0,0];this.GV=[0,0];j1c=4;break;}}};f.prototype.QJ=function(h,d,g,m){var N5J,k,n;N5J=2;for(;N5J !== 8;){switch(N5J){case 2:this.uo[m.type]+=h;N5J=5;break;case 5:N5J=(null === (k=m.gH) || void 0 === k?0:k.k6())?4:3;break;case 4:(this.wW[m.type]+=h,this.P6a.add(h,d,g),this.isa[m.type].add(h,d,g));N5J=3;break;case 3:N5J=(null === (n=m.gH) || void 0 === n?0:n.mqa(h,d,g,this.HV))?9:8;break;case 9:this.GV[m.type]+=h;N5J=8;break;}}};f.prototype.Vma=function(){var N$1;N$1=2;for(;N$1 !== 1;){switch(N$1){case 2:return {bytesRequestedPacingVideo:this.wW[c.v.Y],bytesRequestedPacingAudio:this.wW[c.v.ea],estimatedBytesPacedVideo:this.GV[c.v.Y],estimatedBytesPacedAudio:this.GV[c.v.ea],bytestotalVideo:this.uo[c.v.Y],bytestotalAudio:this.uo[c.v.ea],pacedAvtpVideo:this.isa[c.v.Y].get().Da,pacedAvtpAudio:this.isa[c.v.ea].get().Da,pacedAvtp:this.P6a.get().Da};break;}}};return f;break;}}function f(h){var a5R;a5R=2;for(;a5R !== 7;){switch(a5R){case 2:var i14="1SIYbZrN";i14+="JCp";i14+="9";this.wW=[0,0];this.uo=[0,0];this.GV=[0,0];i14;a5R=3;break;case 3:this.HV=h.HV;this.isa=[new l.PC(),new l.PC()];this.P6a=new l.PC();a5R=7;break;}}}})();b.rIa=r;},65877:function(r,b,a){var l,f;function c(h){this.Z={TU:h.maxc || 25,ija:h.c || .5,IXb:h.rc || "none",SF:h.hl || 7200};this.aR();this.xpb=this.Z.IXb;this.DQ=this.Z.SF;this.Nea=Math.exp(Math.log(2) / this.DQ);this.Nea=Math.max(this.Nea,1);this.C0=1;}l=a(17267);f=a(15913).TDigest;new (a(35471)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var h;if(0 === this.Ve.size())return null;h=this.Ve.si([.25,.75]);if(h[0] === h[1])return null;this.Ve.size() > this.Z.TU && this.Ve.Ax();h=this.Ve.Ar(!1).reduce((function(d,g){l.sb(g.Pf) && l.sb(g.n) && d.push({mean:g.Pf,n:g.n / this.C0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(h)};};c.prototype.Dg=function(h){var d;if(l.Zb(h) || !l.has(h,"tdigest") || !l.xg(h.tdigest))return !1;try{d=JSON.parse(h.tdigest);}catch(g){return !1;}d.forEach(function(g){l.isFinite(g.n) || (g.n=1);});h=d.map(function(g){return {Pf:g.mean,n:g.n};});this.C0=1;this.Ve.Gta(h);void 0 === this.Ve.si(0) && this.aR();};c.prototype.get=function(){var h,d;h=this.Ve;d=h.si([0,.1,.25,.5,.75,.9,1]);return {min:d[0],gsa:d[1],Bp:d[2],en:d[3],Cp:d[4],hsa:d[5],max:d[6],qj:h.Ar(!1)};};c.UIb=function(h){var d;d=new c({});l.Zb(h) || l.ii(h) || !l.isArray(h.qj) || (d.Ve.Gta(h.qj),void 0 === d.Ve.si(0) && d.aR());h=d.Ve.si([.25,.75]);return h[0] === h[1]?null:function(g){return d.Ve.si(g);};};c.prototype.add=function(h){var d;d=1;"ewma" === this.xpb && (this.C0=d=this.C0 * this.Nea);this.Ve.push(h,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Ve.summary() + ")";};c.prototype.aR=function(){this.Ve=new f(this.Z.ija,this.Z.TU);};r.exports={wMa:c};},38509:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.e0=void 0;c=a(62558);b.e0=(function(){function f(h,d,g){g.kF && (l=new (a(8604).dMa)(h,d));}f.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return f;})();},7460:function(r,b,a){var f,h,d,g;function c(m,k,n,p,q){var u,t;n=null !== (u=k.af) && void 0 !== u?u:k.track.Ms(m,n.G,void 0,q);m=null !== (t=k.pf) && void 0 !== t?t:k.track.VK(m,null === p || void 0 === p?void 0:p.G,k.$k);return [!k.Wg(),n,m];}function l(m,k){var D,C;for(var n=[],p=0,q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=k.pf.index,v=k.track.vo,y=0,x=k.af.Na,z=k.af.eb.G > q[0],A=z,B=k.af.index;B <= w;++B){D=!1;if(q){C=v.get(B);z && (C.Na.G >= t?(z=!1,++p >= m.length?t=u=q=void 0:(q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(n.push(new g.T_(y,x,C.Na)),x=C.Na,D=!0));!z && q && C.eb.G > u && (z=!0,D=C.Na,(C=k.track.YF.Sn(B).NXa(u)) && 0 !== C.Ij && (D=h.N.Ma(C.ye)),n.push(new g.T_(y,x,D)),x=D,D=!0);}D && ++y;}n.push(new g.T_(y,x,k.pf.eb));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.aQb=b.a4a=b.N5a=b.K5a=b.fua=void 0;f=a(5163);h=a(42866);d=a(27364);g=a(61978);b.fua=function(m,k,n){var p,q,u;u=k.get(d.v.ea);k=k.get(d.v.Y);k=null === k || void 0 === k?void 0:k.track.VK(m,null === n || void 0 === n?void 0:n.G,k.$k);return [null === u || void 0 === u?void 0:u.track.VK(m,null !== (q=null === (p=null === k || void 0 === k?void 0:k.eb) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === n || void 0 === n?void 0:n.G,u.$k),k];};b.K5a=function(m,k,n,p,q){var u,t,w,v,y,x,z,A;u=k.get(d.v.ea);t=k.get(d.v.Y);k=k.get(d.v.Ka);w=f.__read(t?c(m,t,n,p,q):[!1],3);v=w[0];y=w[1];w=w[2];x=f.__read(u?c(m,u,v && void 0 !== (null === y || void 0 === y?void 0:y.Na)?y.Na:n,void 0 !== (null === w || void 0 === w?void 0:w.eb)?w.eb:p,q):[!1],3);z=x[0];A=x[1];x=x[2];p=f.__read(k?c(m,k,n,p,q):[!1],3);m=p[0];n=p[1];p=p[2];z && (null === u || void 0 === u?void 0:u.aU(A,x));v && (null === t || void 0 === t?void 0:t.aU(y,w));m && (null === k || void 0 === k?void 0:k.aU(n,p));return [z,v,m];};b.N5a=function(m,k,n){return k.track.Ms(m,n.G,void 0,!0).Na;};b.a4a=function(m,k,n){var p;p=k.u;if(!p.Fq || 0 === p.Fq.length)return [];m=p.Fq.map(function(q){return [p.sa + q[0],p.sa + q[1]];});return l(m,n.lta);};b.aQb=l;},40115:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.pJa=void 0;c=a(5163);l=a(27364);f=a(7460);h=a(62558);r=(function(){function d(g){var m,k,n,p,q,u,t;m=g.console;k=g.config;n=g.pa;p=g.bC;q=g.u;u=g.Na;t=g.eb;g=g.splice;this.YT=this.jK=!1;this.console=m;this.config=k;this.bC=p;this.pa=n;this.u=q;this.Na=u;this.eb=t;this.splice=g;this.dMb();}d.prototype.va=function(g){if(this.jK)throw Error("Cannot call init() after cleanup");if(this.YT)throw Error("Cannot call init() twice");this.YT=!0;this.m6a=g;this.pa.events.addListener("onHeaderFragments",this.YSa);this.fha() && this.mra();};d.prototype.normalize=function(){if(this.jK)throw Error("Cannot call normalize() after cleanup");if(this.YT)throw Error("Cannot call init() / normalize() twice");this.YT=!0;(0,h.assert)(this.fha());return this.mra();};d.prototype.kN=function(g,m){(0,h.assert)(this.YT,"expected to be called init() before renormalize");this.u=g;this.eb=m;g=(0,f.fua)(this.config,this.bC,this.eb);this.M5a();return g;};d.prototype.Ze=function(){this.jK || (this.jK=!0,this.m6a=void 0,this.pa.events.removeListener("onHeaderFragments",this.YSa));};d.prototype.dMb=function(){var g;g=this;this.YSa=function(){g.jK || g.fha() && g.mra();};};d.prototype.mra=function(){var g,m,k;if(this.jK)return {tS:!1,KA:!1};m=this.gSb();k=!1;this.u && !this.u.Ap && (k=this.M5a());null === (g=this.m6a) || void 0 === g?void 0:g.call(this,m,k);this.Ze();return {tS:m,KA:k};};d.prototype.fha=function(){return this.bC.every(function(g){return g.track.Lh;});};d.prototype.gSb=function(){var g,m;g=c.__read((0,f.K5a)(this.config,this.bC,this.Na,this.eb,this.splice),2);m=g[0];return g[1] || void 0 === this.bC.get(l.v.Y) && m;};d.prototype.M5a=function(){var g,m,k;(0,h.assert)(this.u,"missing segment");g=this.bC.lta;m=(0,f.N5a)(this.config,g,this.u.Vd);if(void 0 === m || void 0 === g.eb)return !1;g=g.eb;k=this.config.Ixa && "lazy" === this.u.Xd?(0,f.a4a)(this.console,this.u,this.bC):[];this.u.normalize(m,g,k);return !0;};return d;})();b.pJa=r;},35471:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={goa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},60763:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fda=void 0;c=a(5163);r=(function(l){function f(h,d){h=l.call(this,h) || this;h.Wka=d;h.name="PlaybackError";return h;}c.__extends(f,l);f.tNb=function(h){return h && h.message && h.stack && h.Wka?"PlaybackError" === (null === h || void 0 === h?void 0:h.name):!1;};return f;})(Error);b.Fda=r;},26967:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Maa=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(42866);d=a(97810);g=a(62558);m=a(7881);r=a(88801);k=a(39886);n=a(58628);p=a(18650);q=a(72938);u=a(13353);t=a(54037);w=r.Jv.$ja;a=(function(v){function y(x,z,A){var B;B=v.call(this) || this;B.X=x;B.Ef=z;B.nq=A;B.AS=[];B.re=void 0;B.AQ=new l.Qe();B.Tz=void 0;B.Yz=void 0;B.Lfa=void 0;B.AQ.on(B.X,"underflow",B.wh.bind(B));B.qQ=new u.VJa(x);B.AQ.on(B.X,"skipped",B.xV.bind(B));B.AQ.on(B.X,"playing",B.Pra.bind(B));B.AQ.on(B.X,"playbackEnding",B.Ora.bind(B));B.bx=new m.ZP(B.qQ,B.V,"player");B.Zxa=new d.ru();x.MSa && x.Sf && (B.Ny=new t.yLa(B,x,B.V));return B;}c.__extends(y,v);Object.defineProperties(y.prototype,{kl:{get:function(){var x;return null === (x=this.re) || void 0 === x?void 0:x.kl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gC:{get:function(){var x;return (null === (x=this.re) || void 0 === x?void 0:x.gC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Va:{get:function(){var x,z;return null !== (z=null === (x=this.re) || void 0 === x?void 0:x.op()) && void 0 !== z?z:[];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{R2a:{get:function(){return this.Lfa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Aa:{get:function(){var x;return null === (x=this.re) || void 0 === x?void 0:x.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qa:{get:function(){return this.qQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qRa:{get:function(){var x,z;return !!((null === (x=this.re) || void 0 === x?0:x.uH) && (null === (z=this.Sq) || void 0 === z?0:z.Zh));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uH:{get:function(){var x,z;return null !== (z=null === (x=this.re) || void 0 === x?void 0:x.uH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.Pra=function(x){var z;this.Lfa=this.Uk(null !== (z=x.ye) && void 0 !== z?z:this.X.Gd);(0,g.assert)(this.Lfa,"Should have a location");};y.prototype.Ora=function(x){var z;if(this.Qd){x=this.Uk(x.ye || this.X.Gd,!0);(0,g.assert)(x,"Playback ending at position outside playgraph");z=this.QF(x);(0,g.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.ye));};y.prototype.T$a=function(x){-1 === this.AS.indexOf(x) && this.AS.push(x);this.re && this.re.uV(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.S$a=function(x){x=this.AS.indexOf(x);-1 !== x && this.AS.splice(x,1);};y.prototype.iU=function(x){var z;return -1 !== this.AS.indexOf(x) || !(null === (z=(0,h.xc)(this.Va,function(A){return A.Vn && A.pa.J === x;})) || void 0 === z || !z.pa.Zu);};y.prototype.wC=function(x){var z;null === (z=this.re) || void 0 === z?void 0:z.wC(x);};y.prototype.NX=function(x){var z;null === (z=this.re) || void 0 === z?void 0:z.NX(x);};y.prototype.reset=function(){var x,z;this.Zxa=new d.ru();v.prototype.reset.call(this);this.Yz=void 0;null === (x=this.re) || void 0 === x?void 0:x.reset();null === (z=this.Ny) || void 0 === z?void 0:z.reset();};y.prototype.zua=function(x){this.qN([x]);};y.prototype.qN=function(x){var z,A;z=this;x.forEach(function(B){var D;v.prototype.zua.call(z,B);null === (D=z.Ny) || void 0 === D?void 0:D.jZb(B);});null === (A=this.re) || void 0 === A?void 0:A.qN(x);};y.prototype.yA=function(){var x;null === (x=this.re) || void 0 === x?void 0:x.yA();};y.prototype.pause=function(x){this.CH(x);v.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Ef);};y.prototype.resume=function(x){var z;null === (z=this.re) || void 0 === z?void 0:z.resume(x);v.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Ef);};y.prototype.Qa=function(){this.Tz=this.C5()?this.Un():void 0;this.re && this.jka(this.re.Aa);this.qQ.Qa();this.bx.Qa();this.AQ.clear();v.prototype.Qa.call(this);};y.prototype.BF=function(){var x,z;if(null === (x=this.re) || void 0 === x?0:x.yWb){x=this.X.Gd;if(this.qa.hi){if(this.Yz){if(this.Yz.greaterThan(x))return (x=this.Yz.wa(x),this.Zxa.push(x.G),this.Yz);if(this.Va.length){z=this.re.rOb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Dc:{clockdrift:{type:"count"}}}),this.Yz);}}this.Yz=x;}return x;}return v.prototype.BF.call(this);};y.prototype.oL=function(){var x;x=this.X.playbackRate;void 0 === x && (x=v.prototype.oL.call(this));return x;};y.prototype.C5=function(){return !!this.Tz || v.prototype.C5.call(this);};y.prototype.Un=function(){return this.Tz?this.Tz:v.prototype.Un.call(this);};y.prototype.GF=function(){var x;return null === (x=this.re) || void 0 === x?void 0:x.lOb;};y.prototype.jka=function(x){var z;(0,g.assert)(x === this.Aa);null === (z=this.re) || void 0 === z?void 0:z.Qa();this.re=void 0;};y.prototype.m2=function(x,z){var A,B;this.Tz=void 0;A=v.prototype.m2.call(this,x,z);if(A){B=new p.Bza(x,this,this.V,x.config,this.nq,this.events,this.Ef,this.bx,this.Ny,this.Vz,this.Sz,this.mJ,null === z || void 0 === z?void 0:z.kl,null === z || void 0 === z?void 0:z.gC);null === z || void 0 === z?void 0:z.AM();this.re=B;this.CH(this.HM);this.Ny && (z=x.Sv.pJb(k.hea),z || (z=new k.hea(),x.Xe(z)),this.Ny.lYb(z));}return A;};y.prototype.AM=function(){var x;null === (x=this.re) || void 0 === x?void 0:x.AM();};y.prototype.Ska=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.re;(0,g.assert)(A);x.forEach(function(B){return A.wDb(B);});};y.prototype.WW=function(){var x;null === (x=this.re) || void 0 === x?void 0:x.WW();};y.prototype.bi=function(x){var z,A,B;if(!this.re)return !1;z=this.eT(x);if(!z)return !1;A=z.u;B=f.N.Ma(this.nq.A7);return A.Nf.wa(B).lessThan(x) || !z.mK(x)?!1:this.re.bi(x);};y.prototype.wh=function(){var x,z,A;if(null === (x=this.Aa) || void 0 === x?0:x.yj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Nd;(0,g.assert)(this.Aa);x=this.Uk(A,!0);(0,g.assert)(x);null === (z=this.re) || void 0 === z?void 0:z.wh();z=this.eT(A);null === z || void 0 === z?void 0:z.pa.wh();this.Aa.wh(x);}};y.prototype.xV=function(){this.Yz=void 0;};y.prototype.gma=function(){var x;return null === (x=this.re) || void 0 === x?void 0:x.gma();};y.prototype.CH=function(x){var z;null === (z=this.re) || void 0 === z?void 0:z.CH(x);};y.prototype.axa=function(x){(0,g.assert)(this.Aa && this.re);return v.prototype.axa.call(this,x);};y.prototype.V8=function(){(0,g.assert)(this.re);this.re.V8();};c.__decorate([w.return.Zha(),w.return.dm],y.prototype,"Un",null);c.__decorate([w.return.Zha(),w.return.W7],y.prototype,"GF",null);return y=c.__decorate([n.wF],y);})(q.Kda);b.Maa=a;},18650:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Bza=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(42866);d=a(57903);g=c.__importDefault(a(35471));m=a(89755);k=a(27364);n=a(87425);p=a(97810);q=a(7881);u=a(62558);t=a(53412);w=a(8190);v=a(56405);r=(function(){function y(x,z,A,B,D,C,F,G,E,J,M,L,H,N){var I;I=this;this.Aa=x;this.X=z;this.V=A;this.Z=B;this.nq=D;this.gb=C;this.Ef=F;this.Hd=G;this.Ny=E;this.Vz=J;this.Sz=M;this.mJ=L;this.SQ=N;this.v0=!1;this.lOa=new p.OLa();this.Xfa=this.$Sb.bind(this);this.Zfa=this.CTb.bind(this);this.Yr=new m.OC(this.V);this.hR=H || new w.yea(this.V,x);this.zzb();this.Vh && (this.npb=this.E4(this.eJb()),this.ZNa());this.Qo=G.Fx(function(){return I.Ptb();},"branchPruner");this.An=new l.Qe();this.An.on(this.gb,"segmentPresenting",function(){return c.__awaiter(I,void 0,void 0,function(){var K;return c.__generator(this,function(O){switch(O.label){case 0:return (this.gob=this.X.Un(),null !== (K=this.Z.FRa) && void 0 !== K && K.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(O.Ra(),this.gb.emit("requestGarbageCollection",{time:g.default.time.Ga(),type:"requestGarbageCollection"}),O.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{kl:{get:function(){return this.hR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gC:{get:function(){var x;x=new Map();this.Vh.forEach(function(z){x.set(z.mediaType,z.SM);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lOb:{get:function(){return this.gob;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uH:{get:function(){return this.Vh.every(function(x){return x.uH;});},enumerable:!1,configurable:!0}});y.prototype.Ptb=function(){var x,z,A,B,D,C;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.Yr.RTa)return [3,2];x=c.__read(this.Yr.DX(),1);z=x[0];A=z.u.T1a && (null === (C=this.nq.HN) || void 0 === C?void 0:C.G) || 0;B=z.G6 || z.Mb;D=B.add(f.N.Ma(A + 1E3));return [4,q.Rg.Ut(D)];case 1:return (F.Ra(),this.q8a(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{yWb:{get:function(){var x;return !(null === (x=this.npb) || void 0 === x || !x.Yq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rOb:{get:function(){return this.v0?f.N.max.apply(f.N,c.__spreadArray([],c.__read(this.Vh.map(function(x){var z;return null === (z=x.Nsb) || void 0 === z?void 0:z.Q2a;}).filter(h.Q7)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.wC=function(x){this.Vh.forEach(function(z){z.wC(x);});};y.prototype.$Sb=function(){var x;this.Qo.Sf();x=this.Vh.filter(function(z){return z.LMb;}).map(function(z){return z.mediaType;});this.CH(x);this.resume(x);};y.prototype.CTb=function(x){var z,A,B;x=x.wb;z=this.op();A=z.indexOf(x);if(-1 !== A && !z.slice(0,A).some(function(D){return !D.Zh;})){B=x.Jl;B && B.greaterThan(this.mJ.value) && (x.Zh && A < z.length - 1 && (B=f.N.max(B,z[A + 1].Jl || f.N.tRb)),this.mJ.set(B));}};y.prototype.wDb=function(x){(0,u.assert)(-1 === this.Yr.DX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.Xfa);x.events.on("requestComplete",this.Zfa);x.Jl && this.op().every(function(z){return z.Zh;}) && this.mJ.set(x.Jl);this.Yr.enqueue(x);this.Qo.state === q.Ak.complete && this.Qo.Sf();x.u.tX && this.Yr.mF();this.v0 || this.iFb(x);};y.prototype.uV=function(x){this.Vh.forEach(function(z){z.uV(x);});};y.prototype.NX=function(x){var z,A,B,D;z=this;A=!1;B=this.Vh.map(function(C){return C.mediaType;});this.Aa.Q_a().some(function(C){return C.ha;}) || (B=B.filter(function(C){return C !== k.v.Ka;}));D=(0,h.sq)(B,x);D.forEach(function(C){var F;F=z.ng.sourceBuffers;F=(0,h.xc)(F,function(G){return G.mediaType === C;});(0,u.assert)(F);z.ng.removeSourceBuffer(F);F=z.E4(C);(0,u.assert)(F);F.reset();F.Qa();(0,h.d2)(z.Vh,F);(0,h.d2)(D,C);A=!0;});x=(0,h.sq)(x,B);if(!this.xR(this.ng,x))throw (this.cE("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.ng.error);x.forEach(function(C){var F;F=z.ng.sourceBuffers;F=(0,h.xc)(F,function(G){return G.mediaType === C;});(0,u.assert)(F);F=z.GUa(z.ng,F);z.Vh.push(F);A=!0;});A && this.ZNa();};y.prototype.reset=function(){this.Vh.forEach(function(x){x.reset();});this.v0=!1;this.lOa.removeAllListeners();this.yA();};y.prototype.zua=function(x){this.qN([x]);};y.prototype.qN=function(x){var z;z=this;x.forEach(function(A){A=z.E4(A);null === A || void 0 === A?void 0:A.reset(!1,x);});};y.prototype.yA=function(){var x;x=this;this.Yr.DX().forEach(function(z){z.events.ar("branchEdited",x.Xfa);z.events.ar("requestComplete",x.Zfa);});this.Yr.clear();this.Qo.Sf();};y.prototype.V8=function(){var x;x=this;this.Yr.DX().filter(function(z){return z.SJ;}).forEach(function(z){return x.q8a(z);});};y.prototype.resume=function(x){this.Vh.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.CH=function(x){this.Vh.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.WW=function(){this.Vh.forEach(function(x){return x.WW();});};y.prototype.wh=function(){this.V.trace("attached-player: onUnderflow");};y.prototype.AJb=function(){return this.Yr.getIterator();};y.prototype.UHb=function(){return this.op()[0];};y.prototype.op=function(){return this.Yr.DX();};y.prototype.xR=function(x,z){var A,B;A=!0;B=x.sourceBuffers;z.forEach(function(D){(0,h.xc)(B,function(C){return C.mediaType === D;}) || x.addSourceBuffer(D) || (A=!1);});A || this.V.warn("Error adding sourceBuffer:",x.error);return A;};y.prototype.zzb=function(){var x,z;x=this;this.CJ("createMediaSourceStart");if(this.nq.Nma)z=this.nq.Nma();else (z=new g.default.MediaSource(this.X.X),z.Kf || (z.Kf=g.default.MediaSource.Kf));if(1 !== z.readyState)this.cE("exception in init","NFErr_MC_StreamingInitFailure");else {this.CJ("createMediaSourceEnd");this.ng=z;if(!this.xR(z,this.Ef))throw (this.cE("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);this.XNa={};this.Aa.Xe(new t.OAa(this.XNa,this.Z));this.Vh=z.sourceBuffers.filter(function(A){return 0 <= x.Ef.indexOf(A.mediaType);}).map(function(A){return x.GUa(z,A);});}};y.prototype.GUa=function(x,z){var A,B,D,C;A=this;x=new n.kAa(z.mediaType,x,z,this.Z,this.X,this.Hd);x.addListener("error",function(F){return A.cE(F.errorstr);});x.addListener("logdata",function(F){return A.gb.emit("logdata",F);});x.addListener("managerdebugevent",function(F){A.gb.emit("managerdebugevent",F);});C=null === (B=this.SQ) || void 0 === B?void 0:B.get(z.mediaType);B=new d.mza(x,z.mediaType,this,this.Z,this.V,this.X,this.nq,this.Hd,this.kl,this.Ny,C);if(z.mediaType === k.v.Y)B.on("drmNeeded",function(F){return A.gb.emit("drmNeeded",F);});C || (null === (D=B.SM) || void 0 === D?void 0:D.orb(new v.iba(this.XNa[z.mediaType]={},this.V,this.X,x,this.X.events,this.nq,this.Hd)));return B;};y.prototype.q8a=function(x){var z;(0,u.assert)(x.SJ,"Attempted to prune branch that has not been fully appended");this.Yr.remove(x);x.events.removeListener("branchEdited",this.Xfa);x.events.removeListener("requestComplete",this.Zfa);x.Jf("pruned");(null === (z=this.Z.FRa) || void 0 === z?0:z.branchPruned) && this.gb.emit("requestGarbageCollection",{time:g.default.time.Ga(),type:"requestGarbageCollection"});};y.prototype.Qa=function(){this.Tfa.clear();this.Qea.clear();this.Vh.forEach(function(x){return x.Qa();});this.nq.Nma || this.ng.Hs();this.yA();this.Qo.Qa();this.An.clear();};y.prototype.bi=function(x){return this.Vh.every(function(z){return z.bi(x);});};y.prototype.AM=function(){this.Vh.forEach(function(x){return x.BUa();});this.hR=new w.yea(this.V,this.Aa);};y.prototype.gma=function(){return {rXb:this.op(),nVb:this.Vh};};y.prototype.iFb=function(x){var z;z=this;this.v0=!0;x.Bd.forEach(function(A){var B;B=z.E4(A.mediaType);if(void 0 !== B)z.lOa.once(A.Kla,function(D){return B.kFb(D);});});if(x.Na)this.wWa();else x.events.once("branchNormalized",function(){return z.wWa();});};y.prototype.wWa=function(){var x;x=this.UHb();x && ((0,u.assert)(x.Ab),this.gb.emit("ptsChanged",{initialTimestamp:x.Ab,forcedTimestamp:void 0}));};y.prototype.E4=function(x){return (0,h.xc)(this.Vh,function(z){return z.mediaType === x;});};y.prototype.eJb=function(){return -1 !== this.Ef.indexOf(k.v.Y)?k.v.Y:k.v.ea;};y.prototype.CJ=function(x){x={type:"startEvent",event:x,time:g.default.time.Ga()};this.gb.emit(x.type,x);};y.prototype.cE=function(x,z){this.Aa.tf(x,void 0,z);};y.prototype.ZNa=function(){var x;x=this;this.Tfa && this.Tfa.clear();this.Tfa=f.gq.Eeb(this.Vh.map(function(z){return z.Yq;}),function(z){return z.every(function(A){return A;});},function(z){return x.Vz.set(z);});this.Qea && this.Qea.clear();this.Qea=new f.cda(this.Vh.map(function(z){return z.y6;}),function(z){return f.N.min.apply(f.N,c.__spreadArray([],c.__read(z),!1));},function(z){x.Sz.set(z);},f.N.Ma(-Infinity));};return y;})();b.Bza=r;},56405:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iba=void 0;c=a(5163);l=a(57055);f=a(62558);h=a(49730);d=0;r=(function(g){function m(k,n,p,q,u,t,w,v){n=g.call(this,("cdnList").concat(d++),n,p,q,u,t,w,"cdnList",v) || this;n.rg=k;n.va();return n;}c.__extends(m,g);m.prototype.va=function(){var k;k=this;this.QQ=new l.Qe();this.QQ.on(this.ub.X,"skipped",function(n){k.Gu && ((null === n || void 0 === n?0:n.uWb) && k.cS(n.uWb),k.Gu=void 0);});this.QQ.on(this.ub.X,"paused",function(){k.Gu && k.ub.Qd && k.cS(k.ub.Nd);});this.QQ.on(this.ub.X,"underflow",function(){k.Gu && k.ub.Qd && k.cS(k.ub.Nd);});};m.prototype.Vu=function(k,n,p){this.QQ.clear();g.prototype.Vu.call(this,k,n,p);this.va();};m.prototype.close=function(){h.K && this.console.trace("close");g.prototype.close.call(this);this.QQ.clear();};m.prototype.x1b=function(k,n){var p;p=this;this.Gu && this.cS(k);return this.HXa(n).map(function(q){return p.rg[q];});};m.prototype.e9a=function(k){var n;n=this;this.HXa(k).forEach(function(p){delete n.rg[p];});};m.prototype.HXa=function(k){var n;n=this;return Object.keys(this.rg).filter(function(p){return n.rg[p].O === ("").concat(k);});};m.prototype.Yq=function(k){var n,p,q;n=k.stream;p=k.Pc;q=k.Ab;k=k.Mb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== k);h.K && this.console.trace(("Media appended ").concat(q.mb(),"-").concat(k.mb()));this.Qga({stream:n,Pc:p},q,k);};m.prototype.p6=function(k,n){return k.stream === n.stream && k.Pc === n.Pc;};m.prototype.KHb=function(k){var n,p;p=k.Br;k=p.Pc;p=null === (n=p.stream.pa.W.xA) || void 0 === n?void 0:n.Ep;return ("").concat(k,"::").concat(p);};m.prototype.Gka=function(k,n){h.K && this.console.trace(("Presenting event for ( ").concat(k.Br.stream.id,", ").concat(k.Br.Pc," )") + (" at ").concat(n.mb()));this.Gu?this.cS(n):this.sQ=n;this.Gu=k;};m.prototype.cS=function(k){var n,p,q,u,t,w,v,y,x;(0,f.assert)(this.Gu);if(null === (n=this.Mja) || void 0 === n?0:n.lessThan(k))k=this.Mja;t=this.Gu;n=this.rg;w=t.Br;v=w.stream;w=w.Pc;y=null === (p=v.NU) || void 0 === p?void 0:p.Nm;p=k.wa(this.sQ || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=v.pa.W.xA) || void 0 === q?void 0:q.Ep;q=v.track.O;t=this.KHb(t);n=(u=(n[t] || (n[t]={Gm:w,Ep:x,O:q,fF:{}})).fF)[y] || (u[y]={bitrate:v.bitrate,Tb:y,mediaType:v.mediaType,totalTime:0,yb:v.yb});n.totalTime=Math.max(n.totalTime + p,0);}this.sQ=k;};m.prototype.clone=function(k,n){n=void 0 === n?{}:n;k=new (n.Dgc || m)(k,this.STb,this.ub,this.a2,this.events,this.nq,this.Kd,n.priority);this.lwb(k);k.Gu=this.Gu;k.sQ=this.sQ;h.K && k.console.trace("Cloning",{Cbc:k.gk.length});return k;};m.prototype.reset=function(){g.prototype.reset.call(this);this.sQ=void 0;};m.prototype.q6=function(k){return ("(").concat(k.stream.Ub,", ").concat(k.Pc,")");};return m;})(a(1168).I_);b.iba=r;},91829:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WCa=void 0;c=a(5163);l=a(49730);f=a(7881);r=(function(){function h(d,g,m){this.Kd=d;this.cRb=g;this.V=m;}Object.defineProperties(h.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});h.prototype.waitUntil=function(d){var g;d=(0,f.jaa)(this.Kd,d,!0);g=d.promise;this.mqb=d.qk;return g;};h.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Mla)return [3,2];m=g.Ab.wa(this.cRb);l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(m.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(m)];case 1:(k.Ra(),l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),k.label=2);case 2:return [2,d];}});});};h.prototype.reset=function(){var d;null === (d=this.mqb) || void 0 === d?void 0:d.Qa();};return h;})();b.WCa=r;},37096:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(5163);l=a(36418);f=a(42866);r=(function(){function h(d){this.V=d;}Object.defineProperties(h.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});h.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,k,n,p,q,u,t,w,v,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.ha && (m=g.vJb(),m instanceof ArrayBuffer && (k=new l.Co(this.V,g.stream,m,["moof"],!0,{ssa:!0}),n=k.parse(),n.st && (p=k.Sm("moof"),q=p.Sm("traf"),u=q.Sm("trun"),t=q.Sm("tfdt"),w=g.stream.Tn().N8,v=u.rd,y=t.CE,x=n.La.S,z=new f.N(y,x),A=this.oq?z.wa(this.oq.Atb):void 0,this.V.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:w.G,mediaTimestampMs:z.wa(w).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:v,url:g.url}),this.oq={Atb:z}))));return [2,d];});});};h.prototype.reset=function(){this.oq=void 0;};return h;})();b.HFa=r;},54037:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(5163);l=a(42866);f=a(57055);h=a(49730);d=a(27364);g=c.__importDefault(a(35471));m=a(97810);k=a(62558);r=(function(){function n(p,q,u){var t;t=this;this.ub=p;this.X=q;this.pending=new Map();this.listeners=new f.Qe();this.lra=!1;this.FKb=function(w){t.R9a(function(){h.K && t.V.debug("cancelling playback ending");w.cancel();});};this.R9a=function(w){var v,y,x,z,D,C,F;if(t.pending.size){h.K && t.V.trace("playback ending, restarting player");x={};z=(v={},v[d.v.ea]=void 0,v[d.v.Y]=void 0,v[d.v.Ka]=void 0,v);try{for(var A=c.__values(t.pending.entries()),B=A.next();!B.done;B=A.next()){D=c.__read(B.value,2);C=D[0];F=D[1];x[C]=F.to.stream.Vm();F.from.I && (z[C]=F.from.I);}}catch(E){var G;G={error:E};}finally{try{B && !B.done && (y=A.return) && y.call(A);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();h.K && t.V.debug("Restarting player",x);t.X.Sf(x,z).then(function(){var E,J;null === (E=t.WE) || void 0 === E?void 0:E.resolve();h.K && t.V.debug("Restart completed");null === (J=t.n$a) || void 0 === J?void 0:J.lrb();t.reset();});}};this.listeners.addListener(q,"playbackEnding",this.FKb);this.V=(0,m.Nh)(g.default,u,"SEAMLESSMANAGER");h.K && this.V.debug("construct");}n.prototype.Qa=function(){h.K && this.V.debug("destruct");this.pending.clear();this.listeners.clear();};n.prototype.lYb=function(p){this.n$a=p;};n.prototype.z6b=function(p){var q,u;0 === this.pending.size && ((0,k.assert)(void 0 === this.WE,"SeamlessManager: No pending transitions, but a wait is deferred"),this.WE=new l.rz());(0,k.assert)(this.WE,"SeamlessManager: deferred is undefined");(0,k.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);h.K && this.V.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.ub.Ef.length && !this.lra){u=this.yNb();if(u.I7a)return (h.K && this.V.trace(("seamless transition possible at ").concat(p.timestamp.mb())),this.WE.resolve(),this.reset(),Promise.resolve());h.K && this.V.trace(("starting non-seamless transition at ").concat(p.timestamp.mb()));null === (q=this.n$a) || void 0 === q?void 0:q.krb(u.info);if(!this.P1b())return (h.K && this.V.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.WE.resolve(),this.reset(),Promise.resolve());}return this.WE.promise;};n.prototype.jZb=function(p){h.K && this.V.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};n.prototype.reset=function(){h.K && this.V.debug("resetting");this.lra=!1;this.WE=void 0;this.pending.clear();};n.prototype.yNb=function(){var p,q,u,v,y,x,z,A,B,D,C,F,G,E;try{for(var t=c.__values(this.pending.entries()),w=t.next();!w.done;w=t.next()){v=c.__read(w.value,2);y=v[0];x=v[1];if(x.from){z=x.from.stream;A=x.to.stream;if(z.track === A.track)h.K && this.V.debug("Seamless deemed possible due to same track",{mediaType:y});else {B=z.Vm();D=A.Vm();C=void 0;F=this.ub.Uk(x.timestamp);C=x.from.I && 0 > this.ub.y6.value.G?{I:x.from.I,offset:l.N.Ma(0)}:this.ub.Uk(x.zWb);G=this.X.MSa({mediaType:y,TXa:x.TXa,from:B,to:D,$Fb:C,M3b:F});E=G.reason;if(!G.MSa)return (h.K && this.V.debug("Non-seamless transition; details:",{reason:E,mediaType:y,from:B,to:D}),{I7a:!1,info:{uBb:null !== (q=x.to.I) && void 0 !== q?q:"unk",F1b:null !== (u=x.from.I) && void 0 !== u?u:"unk",vVb:x.timestamp,reason:E}});h.K && this.V.debug("Seamless deemed possible",{reason:E,mediaType:y,from:B,to:D,$Fb:C,M3b:F});}}}}catch(M){var J;J={error:M};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(J)throw J.error;}}return {I7a:!0};};n.prototype.P1b=function(){this.lra=!0;this.ub.Yq.value?(h.K && this.V.trace("Signaling EOS for upcoming restart"),this.ub.WW()):(h.K && this.V.trace("Signaling immediate restart"),this.R9a());return !0;};return n;})();b.yLa=r;},77029:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zLa=void 0;c=a(5163);l=a(49730);r=(function(){function f(h,d,g){this.Ny=h;this.Ce=d;this.V=g;this.Z0=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(h){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(m){switch(m.label){case 0:if(h.done)return [3,3];g=h.value.value;if(!this.oq || !g.Rx || g.stream.pa === this.oq.stream.pa || this.oq.Ab === g.Ab && this.oq.XYb === g.index)return [3,2];l.K && this.V.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.u.id);return [4,this.Ny.z6b({mediaType:g.mediaType,TXa:this.Z0,to:{stream:g.stream,I:g.u.id},from:{stream:this.oq.stream,I:this.oq.I},timestamp:g.Ab,zWb:null === (d=this.oq) || void 0 === d?void 0:d.Ab})];case 1:(m.Ra(),m.label=2);case 2:(this.Z0=!1,this.oq={XYb:g.index,stream:g.stream,Ab:g.Ab,I:g.u.id},m.label=3);case 3:return [2,h];}});});};f.prototype.qTb=function(h,d){void 0 === h && (h=[]);void 0 === d && (d=[]);l.K && this.V.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.Z0 || (this.Z0=-1 !== d.indexOf(this.Ce));(null === h || void 0 === h?0:h.length) && h.length !== d.length && (this.oq=void 0);};f.prototype.reset=function(){};return f;})();b.zLa=r;},1918:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sIa=void 0;c=a(5163);l=a(49730);f=a(62558);h=a(7881);r=(function(){function d(g,m,k,n){var p;p=this;this.Kd=g;this.mUb=m;this.jsa=k;this.V=n;g.qa.on("stopStart",function(){return p.kwb();});l.K && this.V.trace(("PacingThrottler: pacingFactory=").concat(m,", pacingThreshold=").concat(k.mb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.kwb=function(){var g,m;m=this.Kd.qa;this.kK=m.hi?m.currentTime:void 0;this.BR=this.US=void 0;l.K && this.V.trace(("PacingThrottler: clock reset ").concat(null === (g=this.kK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var m;g=(0,h.jaa)(this.Kd,g,!0);m=g.promise;this.y6b=g.qk;return m;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];m=g.value.value;(0,f.assert)(m.Ab);k=this.Kd.qa;if(!this.US || !this.BR)return [3,10];if(!this.BR.greaterThan(this.jsa))return [3,8];if(!this.kK)return [3,5];n=m.Ab.wa(this.kK).wa(this.jsa);p=this.kK.add(n.Ni(this.mUb));if(!p.lessThan(m.Ab))return [3,3];if(!p.greaterThan(k.currentTime))return [3,2];l.K && this.V.trace(("PacingThrottler: waiting until ").concat(p.mb()," for mediaRequest @") + ("").concat(m.Ab.mb(),", ") + ("current time ").concat(k.currentTime.mb(),", ") + ("clock start time ").concat(this.kK.mb(),", ") + ("distance ").concat(n.mb()));return [4,this.waitUntil(p)];case 1:(q.Ra(),q.label=2);case 2:return [3,4];case 3:(l.K && this.V.warn("PacingThrottler: invalid schedule time " + ("").concat(p.mb()," for mediaRequest ") + ("@").concat(m.Ab.mb(),", ") + ("current time ").concat(k.currentTime.mb(),", ") + ("clock start time ").concat(this.kK.mb(),", ") + ("distance ").concat(n.mb())),q.label=4);case 4:return [3,7];case 5:n=m.Ab.wa(this.US);if(!n.greaterThan(this.jsa))return [3,7];l.K && this.V.trace(("PacingThrottler: (buffering) waiting until ").concat(this.US.G,"ms") + (" for mediaRequest @").concat(m.Ab.G,"ms, ") + ("current time ").concat(k.currentTime.G));return [4,this.waitUntil(this.US)];case 6:(q.Ra(),q.label=7);case 7:return [3,9];case 8:(this.BR=this.BR.add(m.ve),q.label=9);case 9:return [3,11];case 10:(this.US=m.Ab,this.BR=m.ve,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.y6b) || void 0 === g?void 0:g.Qa();};return d;})();b.sIa=r;},14895:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.vda=void 0;c=a(5163);l=a(42866);f=a(62558);h=a(49730);d=a(95971);r=(function(g){function m(k){var n;n=g.call(this) || this;n.Aa=k;n.SQ=new Map();n.Va=[];n.qQ=new d.d0({hi:!1,currentTime:function(){return n.Qd?n.Nd:l.N.vp;},speed:1});return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{qa:{get:function(){return this.qQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kl:{get:function(){return this.hR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gC:{get:function(){return this.SQ;},enumerable:!1,configurable:!0}});m.prototype.m2=function(k,n){var p;p=!this.Aa;p && (this.Aa=k,this.bfa=(null === n || void 0 === n?0:n.Qd)?n.Nd:void 0,this.hR=null === n || void 0 === n?void 0:n.kl,this.SQ=n?n.gC:new Map(),null === n || void 0 === n?void 0:n.AM());return p;};m.prototype.AM=function(){this.SQ=this.hR=void 0;};m.prototype.yA=function(){this.Va=[];this.bfa=void 0;};m.prototype.jka=function(k){h.K && (0,f.assert)(this.Aa === k);this.Aa=void 0;this.yA();};m.prototype.Ska=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.Va).push.apply(k,c.__spreadArray([],c.__read(n),!1));};m.prototype.BF=function(){return this.bfa?this.bfa:g.prototype.BF.call(this);};m.prototype.iU=function(){return !1;};m.prototype.wC=function(){};m.prototype.CH=function(){};m.prototype.V8=function(){this.Va=this.Va.filter(function(k){return k.SJ?(k.Jf("pruned"),!1):!0;});};m.prototype.Qa=function(){g.prototype.Qa.call(this);this.gC.forEach(function(k){return k.close();});};return m;})(a(72938).Kda);b.vda=r;},72938:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Kda=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(62558);d=a(27364);r=a(88801);g=c.__importDefault(a(35471));m=a(49730);k=a(97810);n=r.Jv.$ja;a=(function(){function p(){this.HM=[];this.Vz=new f.gq(!1);this.Sz=new f.gq(f.N.Ma(-Infinity));this.mJ=new f.gq(f.N.Ma(-Infinity));this.events=new l.EventEmitter();this.V=new g.default.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hd:{get:function(){return this.bx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{R2a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.oL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qRa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yq:{get:function(){return this.Vz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{y6:{get:function(){return this.Sz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jl:{get:function(){return this.mJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qd:{get:function(){return this.rp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nd:{get:function(){return this.BF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hg:{get:function(){var q,u;q=this.Nd;u=this.Uk(q,!1);m.K && (0,h.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lMb:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sq:{get:function(){return this.rp?this.Va[this.Va.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ey:{get:function(){var q,u;q=this.Nd;u=this.eT(q);(0,h.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rp:{get:function(){return 0 < this.Va.length;},enumerable:!1,configurable:!0}});p.prototype.T$a=function(){};p.prototype.S$a=function(){};p.prototype.bi=function(){return !1;};p.prototype.C5=function(){return 0 < this.Va.length;};p.prototype.Un=function(){(0,h.assert)(0 < this.Va.length,"Could not find presenting branch. Player has no branches.");return this.Ey;};p.prototype.Z_a=function(q){return -1 !== this.Va.indexOf(q);};p.prototype.m2=function(){return void 0 !== this.Aa?!1:!0;};p.prototype.AM=function(){};p.prototype.Qa=function(){};p.prototype.QF=function(q){var u,t,w;u=this.Va.filter(function(v){return v.u.id === q.I;});if(0 !== u.length){t=this.BF();w=new f.N(Infinity,1);u.forEach(function(v){v=v.fr.add(q.offset);t.xK(v).lessThan(t.xK(w)) && (w=v);});return w;}};p.prototype.LT=function(q){var u,t,w,v,y,x,z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:u=this.Va.filter(function(F){return F.u.id === q.I;});if(0 === u.length)return [2,void 0];t=this.BF();C.label=1;case 1:(C.Oj.push([1,6,7,8]),w=c.__values(u),v=w.next(),C.label=2);case 2:if(v.done)return [3,5];y=v.value;x=y.fr.add(q.offset);z=t.xK(x);return [4,{Jp:x,xK:z}];case 3:(C.Ra(),C.label=4);case 4:return (v=w.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.Ra(),B={error:A},[3,8]);case 7:try{v && !v.done && (D=w.return) && D.call(w);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.Uk=function(q,u){var t,w,v;void 0 === u && (u=!1);t=this.eT(q,u);if(t){w=t.u;u=w.id;v=w.duration;q=f.N.min(q.wa(w.Vd.add(t.ue)),v || f.N.vp);return {I:u,offset:q};}};p.prototype.NX=function(){};p.prototype.reset=function(){this.yA();};p.prototype.zua=function(){};p.prototype.qN=function(){};Object.defineProperties(p.prototype,{uH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=d.wz);this.HM=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.HM);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=d.wz);q.forEach(function(t){t=u.HM.indexOf(t);-1 !== t && u.HM.splice(t,1);});};p.prototype.axa=function(q){var u;(0,h.assert)(this.Aa);(0,h.assert)(q !== this);this.CH();u=q.m2(this.Aa,this);u && (this.V8(),q.pause(this.HM),q.Ska.apply(q,c.__spreadArray([],c.__read(this.Va),!1)),this.jka(this.Aa));return u;};p.prototype.BF=function(){return this.BZa();};p.prototype.BZa=function(){var q,u;m.K && (0,h.assert)(this.rp,"Attempted to get initial time before any branches were queued");u=c.__read(this.Va,1)[0];m.K && (0,h.assert)(u);return null !== (q=u.Ab) && void 0 !== q?q:u.dy;};p.prototype.oL=function(){return 1;};p.prototype.GF=function(){};p.prototype.eT=function(q,u){var t;void 0 === u && (u=!1);if(this.rp){t=this.BZa();return q.lessThan(t)?this.Va[0]:(0,k.Cla)(this.Va,q) || (u?this.Sq:void 0);}};p.prototype.bHb=function(){var q,u,v,y,x,z,A,B;u={};try{for(var t=c.__values(this.Va),w=t.next();!w.done;w=t.next()){v=w.value;y=void 0;x=void 0;z=v.bL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!v.Zh)break;}}catch(C){var D;D={error:C};}finally{try{w && !w.done && (q=t.return) && q.call(t);}finally{if(D)throw D.error;}}return u;};c.__decorate([n.return.vh(),n.return.W7],p.prototype,"R2a",null);c.__decorate([n.return.vh()],p.prototype,"Hg",null);c.__decorate([n.return.Zha(),n.return.dm],p.prototype,"Un",null);c.__decorate([c.__param(0,n.vh())],p.prototype,"QF",null);c.__decorate([c.__param(0,n.vh())],p.prototype,"LT",null);c.__decorate([n.return.vh()],p.prototype,"Uk",null);return p;})();b.Kda=a;},13353:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VJa=void 0;c=a(57055);l=a(42866);f=a(27364);r=a(55011);a=(function(){function h(d){this.X=d;this.Ifa=!1;this.bPa=new c.Qe();this.jYb();}h.prototype.jYb=function(){var d,g;d=this;g=this.bPa;g.on(this.X,"paused",function(){return d.j8();});g.on(this.X,"playing",function(){return d.j8(!0);});g.on(this.X,"underflow",function(){return d.j8();});g.on(this.X,"skipped",function(){return d.xV();});g.on(this.X,"clockAdjusted",function(){return d.tV();});g.on(this.X,"playbackRateChanged",function(){return d.wTb();});};Object.defineProperties(h.prototype,{currentTime:{get:function(){return this.VPa || this.X.Gd || l.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hi:{get:function(){return this.Ifa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{speed:{get:function(){var d;return null !== (d=this.X.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});h.prototype.j8=function(d){void 0 === d && (d=!1);d !== this.Ifa && (this.VPa=(this.Ifa=d)?void 0:this.X.Gd);this.emit("stopStart",{type:"stopStart"});};h.prototype.xV=function(){this.VPa=void 0;this.tV(f.pz.xH);};h.prototype.tV=function(d){void 0 === d && (d=f.pz.Drb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};h.prototype.wTb=function(){this.emit("speedChanged",{type:"speedChanged"});};h.prototype.Qa=function(){this.j8();this.bPa.clear();};return h;})();b.VJa=a;(0,r.tk)(c.EventEmitter,a);},1168:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.I_=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(97810);d=a(49730);g=a(7881);m=c.__importDefault(a(35471));k=f.N.Ma(1E3);r=(function(){function n(p,q,u,t,w,v,y,x,z,A){var B,D;this.SFb=p;this.STb=q;this.a2=t;this.events=w;this.nq=v;this.Jcb=x;this.priority=z;this.gk=[];this.console=(0,h.Nh)(m.default,q,("PresentationTracker [").concat(this.SFb,"] ").concat(this.Jcb,"]"));this.tsa=k.add(f.N.Ma(null !== (D=null === (B=v.HN) || void 0 === B?void 0:B.G) && void 0 !== D?D:0));this.listeners=new l.Qe();this.Ssa=new l.Qe();this.gE=!A;this.Kzb(y);this.dab(u,y,t);}n.prototype.dab=function(p,q,u){var t;t=this;this.a2=u;this.listeners.clear();this.Ssa.clear();this.ub=p;this.Kd=q;this.Ssa.on(p.X,"skipped",this.xV.bind(this));this.listeners.on(u,"requestAppended",function(w){return t.Yq(w.request);});this.events=p.events;this.EK.WSa(q);this.dW.WSa(q);};n.prototype.Kzb=function(p){var q;q=this;this.EK=p.Fx(function(){return q.yCb();},"Presentation Emit",this.priority);this.dW=p.Fx(function(){return q.fXb();},"Presentation Prune");};n.prototype.xV=function(){this.trace(("skipped, scheduler clock ").concat(this.Kd.qa.currentTime.mb()));this.gE=!0;this.EK.Sf();};n.prototype.yCb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(d.K && this.console.trace("Starting emit job"),this.XG=this.$Rb(this.gE),p=this.z5a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.q6(p.Br)) + (" at player time ").concat(p.timestamp.mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb()));return [4,g.Rg.Ut(p.timestamp)];case 2:t.Ra();this.trace(("executing task for ").concat(this.q6(p.Br)) + (" for player time ").concat(p.timestamp.mb()) + (", scheduler clock: ").concat(this.Kd.qa.currentTime.mb()) + (", actual player time: ").concat(this.ub.Nd) + (", first item: ").concat(this.gE));q=this.gE?this.ub.Nd:p.timestamp;u=this.gE;this.gE=!1;this.bVa=p;this.XG++;this.Mja=(p=this.z5a())?p.timestamp:this.hG;try{this.Gka(this.bVa,q,u);}catch(w){this.console.error(("Error in ").concat(this.Jcb," emit, continuing"),w);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (d.K && this.console.trace("Ending emit job"),[2]);}});};n.prototype.z5a=function(){if(void 0 !== this.XG)return this.gk[this.XG];};n.prototype.$Rb=function(p){var q,u,w;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.XG) && void 0 !== q?q:0;t < this.gk.length;t++){q=this.gk[t];w=f.N.Ma(null !== (u=this.nq.tVb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.ub.Nd.add(w)))return p && 0 < t?t - 1:t;}return Math.max(this.gk.length - 1,0);};n.prototype.fXb=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.gk.length))return [3,2];p=c.__read(this.gk,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Br) + (" at player time ").concat(this.tsa.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb()));return [4,g.Rg.Ut(this.tsa.add(q.timestamp))];case 1:return (u.Ra(),this.trace(("executing pruning task for ").concat(q.Br) + (" at player time ").concat(this.tsa.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb())),this.gk.shift(),this.XG && this.XG--,[3,0]);case 2:return [2];}});};n.prototype.Vu=function(p,q,u){this.dab(p,q,u);};n.prototype.reset=function(){this.gk=[];d.K && this.trace("reset");this.gE=!0;this.hG=void 0;this.XG=0;this.dW.Sf();this.EK.Sf();};n.prototype.close=function(){d.K && this.trace("close()");this.Ssa.clear();this.EK.Qa();this.dW.Qa();this.listeners.clear();this.gk=[];};n.prototype.bi=function(p){var q;d.K && this.trace(("canSkip() ").concat(p));if(0 === this.gk.length)return (d.K && this.trace("canSkip false, no media sequence"),!1);q=this.gk[0];return q.timestamp.greaterThan(p)?(d.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.hG || this.hG.lessThan(p)?(d.K && this.trace(("canSkip false, later than last appended at ").concat(this.hG)),!1):!0;};n.prototype.trace=function(p){d.K && this.console.trace(p);};n.prototype.Qga=function(p,q,u){var t;u && (this.hG=u);t=this.gk.length?this.gk[this.gk.length - 1]:void 0;if(void 0 === t || !this.p6(t.Br,p))return (this.gk.push({Br:p,timestamp:q}),this.EK.state === g.Ak.complete && this.EK.Sf(),this.dW.state === g.Ak.complete && this.dW.Sf(),!0);t === this.bVa && (this.Mja=u);return !1;};n.prototype.p6=function(p,q){return p === q;};n.prototype.lwb=function(p){p.gk=c.__spreadArray([],c.__read(this.gk),!1);p.hG=this.hG;};return n;})();b.I_=r;},55759:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.HKa=void 0;c=a(5163);l=a(42866);f=a(27364);h=a(83241);d=a(16962);r=(function(){function g(m,k,n,p,q,u,t,w){this.mediaType=m;this.console=k;this.ub=n;this.a2=p;this.Nn=q;this.Qsa=u;this.Kd=t;this.dA=[];this.mediaType === f.v.Y && this.dA.push(new d.JLa(m,k,n,p,q,u,t,w,2));this.dA.push(new h.kMa(m,k,n,p,q,u,t,"stream",1,null === w || void 0 === w?void 0:w.N0a()));}g.prototype.Vu=function(m,k,n){this.ub=m;this.Kd=k;this.a2=n;this.YH.forEach(function(p){return p.Vu(m,k,n);});};g.prototype.orb=function(m){this.dA.push(m);};g.prototype.$Eb=function(m){return (0,l.xc)(this.dA,function(k){return k instanceof m;});};g.prototype.reset=function(){this.dA.forEach(function(m){return m.reset();});};g.prototype.close=function(){this.dA.forEach(function(m){return m.close();});};g.prototype.bi=function(m){return c.__read(this.dA,1)[0].bi(m);};Object.defineProperties(g.prototype,{YH:{get:function(){return this.dA;},enumerable:!1,configurable:!0}});return g;})();b.HKa=r;},16962:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.JLa=void 0;c=a(5163);l=a(42866);f=a(49730);h=a(62558);r=(function(d){function g(m,k,n,p,q,u,t,w,v){m=d.call(this,m,k,n,p,q,u,t,"segment",v,null === w || void 0 === w?void 0:w.N0a()) || this;m.kl=w;return m;}c.__extends(g,d);g.prototype.Yq=function(m){var k,n,p,q,u,t,w,v,y;q=m.Ab;u=m.Mb;t=m.Na;w=m.bitrate;v=m.yb;(0,h.assert)(void 0 !== q);y=null === (k=this.ub.Uk(q)) || void 0 === k?void 0:k.I;(0,h.assert)(void 0 !== y);this.E6=m={I:y,lFb:m.Rx,Na:t,geb:w,yb:v,wWb:null === (n=this.E6) || void 0 === n?void 0:n.geb,xWb:null === (p=this.E6) || void 0 === p?void 0:p.yb};this.Qga(m,q,u) && f.K && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};g.prototype.p6=function(m,k){return m.I === k.I && !k.lFb;};g.prototype.Gka=function(m,k,n){var p,q,u,t,w,v;p=m.Br;q=p.I;u=p.geb;t=p.wWb;w=p.yb;p=p.xWb;v=this.ub.Uk(k);(0,h.assert)(void 0 !== v);f.K && this.trace(("emitSegmentPresentingEvent @ ").concat(m.timestamp.G,"ms for segment ").concat(q));v.I !== q && (f.K && this.console.warn("player position:",v,"not equal to trackedElement:",q),v={I:q,offset:l.N.Ia});m={type:"segmentPresenting",playerTimestamp:k,position:v,seek:n};if(this.kl){if(q=this.kl.Oma(q))(q.destvbitrate=u,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);m.metrics=q;}f.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(m)));this.events.emit(m.type,m);};g.prototype.reset=function(){d.prototype.reset.call(this);this.E6=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.E6=void 0;};g.prototype.q6=function(m){return m.I;};return g;})(a(1168).I_);b.JLa=r;},83241:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kMa=void 0;c=a(5163);l=a(49730);f=a(62558);r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.Yq=function(g){var m,k,n;m=g.stream;k=g.Ab;n=g.Mb;g=g.Na;(0,f.assert)(void 0 !== k,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Qga({stream:m,Na:g},k,n) && l.K && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(k.G,"ms"));};d.prototype.p6=function(g,m){return g.stream === m.stream;};d.prototype.Gka=function(g,m){var k,n,p,q;p=g.Br.stream;q=this.ub.Uk(m);(0,f.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:m,position:q,trackIndex:null === (k=null === p || void 0 === p?void 0:p.track) || void 0 === k?void 0:k.pE,streamIndex:null === p || void 0 === p?void 0:p.Kt,stream:p,manifest:null === (n=p.pa) || void 0 === n?void 0:n.W,contentStartTimestamp:g.Br.Na});};d.prototype.q6=function(g){return ("").concat(g.stream.Ub,"@").concat(g.Na.mb());};return d;})(a(1168).I_);b.kMa=r;},8190:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yea=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(35471));f=a(27364);h=a(95711);a=(function(){function d(g,m){this.V=g;this.lj=m;}d.prototype.zH=function(g,m,k,n,p){var q,u;void 0 === p && (p=!1);q=g.u;u=this.Hnb(q);this.kE={startTime:l.default.time.Ga(),H1b:g,G1b:k.G,P3:m,Xd:this.fIb(n,m),$3b:this.aKb(n,p),YAb:p,uf:n,hTa:u,YRb:this.GIb(q,k)};};d.prototype.N0a=function(){return !!this.kE;};Object.defineProperties(d.prototype,{P3:{get:function(){var g;return null === (g=this.kE) || void 0 === g?void 0:g.P3;},enumerable:!1,configurable:!0}});d.prototype.Oma=function(g){var m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M;if(this.kE && 0 !== Object.keys(this.kE.hTa).length && g === this.kE.P3){v=this.kE;y=v.hTa;x=v.YRb;z=v.YAb;A=v.uf;B=v.H1b;D=v.G1b;C=v.startTime;F=v.Xd;v=v.$3b;this.kE=void 0;G=this.tfa(g).aia;E=this.AGb(B.u.id,g,y);G=this.QOa(E.weight,G);J={};for(M in y){M !== g && (J[M]=y[M].details);}y=l.default.time.Ga() - C;C=A?0:y;M={offset:c.N.Ma(this.FJb(B,D,A,z)),I:B.u.id};D={offset:c.N.Ma(D),I:B.u.id};x={segment:g,destPosition:{I:g,offset:c.N.Ia},srcsegment:B.u.id,srcTransitionPosition:M,srcStartPosition:D,srcsegmentduration:B.FX.G,srcoffset:M.offset.G,seamlessRequested:A,atRequest:E,atTransition:G,discard:J,transitionType:F,transitionTypeAtRequest:v,delayToTransition:this.iHb(y,A,z),durationOfTransition:C,nextExitPositionAtRequest:x};z=null !== (k=null === (m=this.lj.ga.M[g]) || void 0 === m?void 0:m.type) && void 0 !== k?k:"content";m=null !== (p=null === (n=this.lj.ga.M[B.u.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";g=null !== (u=null === (q=this.lj.ga.M[g]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (w=null === (t=this.lj.ga.M[B.u.id]) || void 0 === t?void 0:t.J) && void 0 !== w?w:void 0;g && q && g !== q && (x.auxMidType=z,x.auxSrcmidType=m,x.auxMid=g,x.auxSrcmid=q);return x;}};d.prototype.AGb=function(g,m,k){var n,p,q;q={};(k=k[m])?q=k.details:((0,h.assert)(this.lj),q.weight=null === (p=null === (n=this.lj.ga.M[g].next) || void 0 === n?void 0:n[m]) || void 0 === p?void 0:p.weight);return q;};d.prototype.iHb=function(g,m,k){var n;k || (n=m?g:0);return n;};d.prototype.GIb=function(g,m){var k,n,p;n=g.Vd.add(m);null === (k=g.Rv) || void 0 === k?void 0:k.some(function(q){n.lessThan(q.Na) && (p=q.Na.G);});return p;};d.prototype.FJb=function(g,m,k,n){return k || n?g.FX.G:m;};d.prototype.fIb=function(g,m){return g?"seamless":this.tfa(m).$_a?"reset":"long";};d.prototype.aKb=function(g,m){return g || m?"lazy":"immediate";};d.prototype.Hnb=function(g){var m,k;m=this;k={};g.vy.forEach(function(n){var p,q;p=g.aSb[n];q=m.tfa(n).aia;k[n]={details:m.QOa(p,q)};});return k;};d.prototype.tfa=function(g){var m,k;g=this.lj.fT(g);m=0 < g.length?g[0]:void 0;g=null === m || void 0 === m?void 0:m.bL();if(!m || !g)return {$_a:!1,aia:{Z$:0,J1:0,TX:0,nR:0}};k=m.z5(f.v.ea) && !g.J1;m=m.z5(f.v.Y) && !g.Z$;return {$_a:!k && !m,aia:g};};d.prototype.QOa=function(g,m){return {weight:g,vbuflmsec:m.Z$,abuflmsec:m.J1,vbuflbytes:m.TX,abuflbytes:m.nR};};return d;})();b.yea=a;},45331:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,La,Wa,db,U,ja;function c(sa){var Q;Q={};sa.forEach(function(P){P.mediaType !== k.v.Ka && (Q[P.mediaType]=P.Vm());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.Naa=void 0;l=a(5163);f=a(57055);h=a(50954);d=a(42866);g=a(42866);m=a(85668);k=a(27364);n=a(9225);p=a(74029);q=a(47870);u=l.__importDefault(a(35471));t=a(62558);w=a(14895);v=a(7881);y=a(42186);x=a(83386);z=a(13043);A=a(66709);B=a(95971);D=a(48641);C=a(34848);F=a(33285);G=l.__importDefault(a(76733));E=a(48154);J=a(88985);M=a(99384);L=a(97810);H=a(58726);N=a(124);I=a(90468);K=a(41054);O=a(16236);R=a(84975);Y=a(10814);oa=a(98468);ka=a(21690);ha=a(58730);za=a(60857);Ca=a(63037);La=a(43603);Wa=a(56844);db=a(45609);U=a(22486);ja=a(88801).Jv.$ja;r=(function(){function sa(Q,P,Z,na,qa,Ha,Ya,Va,rb,mb){this.lj=Q;this.hQa=P;this.config=Z;this.id=na;this.ps=Ha;this.sj=Ya;this.Uvb=Va;this.wl=mb;this.rJ=!1;this.eJ=void 0;this.ala=[];this.Ih=this.Ta=void 0;this.Vrb="2.0";this.h1a=this.m1=this.wm=this.Qfa=void 0;this.Ua=m.km.CLOSED;this.rfa=!0;this.f2=!1;this.LH=this.$X=this.zE=void 0;this.lSa=new f.Qe();this.NA=0;this.t$=!1;this.fMb();this.console=new u.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.fh=new F.tu({fo:10,dn:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.Cva(Q);this.Va=new R.dKa();this.tg=new db.fKa(this.console);this.Fna=new N.pDa(this.config,d.N.Ma(this.config.c7),{parent:function(Fb){return Fb.wT();},next:this.IIb.bind(this)},this.events,this.console);this.u$=new q.mMa(this.console,this.events);this.QR={nB:Z.UU || Infinity};this.X=new w.vda(this);this.Hd=new v.ZP(this.X.qa,this.console,"playgraph",1);this.jMb();this.kf=new Y.mAa(this.console,Z,qa,this.events,this,this.Xp);this.z2=new ha.$za(this.Hd,this.Xp,this.config,this.Lj.bind(this),this.jf,this.console);this.b8=this.kf.b8.bind(this.kf);this.yV=this.kf.yV.bind(this.kf);this.k8=this.kf.k8.bind(this.kf);this.U7=this.U7.bind(this);this.V7=this.V7.bind(this);this.pH=this.pH.bind(this);this.Sv=new z.$da(Z);this.bMb();this.Sv.Xe(new D.Qw(this.kf.fh));this.Sv.Xe(new C.rJa(this.VIb.bind(this)));this.Sv.Xe(new D.Qw(this.fh));this.Sv.Xe(new E.cKa(this.Va,this));this.Sv.Xe(new M.GFa(this));this.vbb=new Wa.lMa(this,this.console,rb);this.S6=new J.dGa(this.Xp,this.console,this.events);this.Cm=new U.hKa(this.g9.bind(this));this.Iva((0,y.oK)(this.config),(0,y.nK)());}Object.defineProperties(sa.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Nq:{get:function(){return !(this.X instanceof w.vda);},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Sc:{get:function(){return this.eJ;},set:function(Q){this.eJ=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{vMb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{weight:{get:function(){return this.hQa;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Ah:{get:function(){(0,t.assert)(this.Oq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.wm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{r$a:{get:function(){(0,t.assert)(this.Oq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.KT(this.Ah).zq;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{jf:{get:function(){return this.kf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{yj:{get:function(){return this.kf.yj;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Oq:{get:function(){return void 0 !== this.wm;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Hg:{get:function(){return this.X.Qd?this.X.Hg:this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Nd:{get:function(){var Q,P;return this.X.Qd?this.X.Nd:null !== (P=null === (Q=this.wm) || void 0 === Q?void 0:Q.Jp) && void 0 !== P?P:this.r$a;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{etb:{get:function(){return this.Omb;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{faa:{get:function(){return this.iqb;},enumerable:!1,configurable:!0}});sa.prototype.jMb=function(){this.Xp=new v.ZP(new B.d0({hi:!0,currentTime:function(){return d.N.Ma(u.default.time.Ga());},speed:1}),this.console,"wallclock");};sa.prototype.bMb=function(){var Q;Q=this;(0,La.tUa)({kf:this.kf,Xp:this.Xp},v.Rg.LC(d.N.Ma(this.config.UV)),function(){Q.X.Qd && Q.X.Ey && (Q.kf.state.value === k.Yc.sl || Q.kf.state.value === k.Yc.Pe) && Q.XD(Q.X.Ey);},"buffering");};sa.prototype.fMb=function(){var Q;Q=this;this.Fv=function(P){var Z,na,qa;na=Q.navigator.Pd(P.position.I);if((na=Q.Rma(na)) && Q.X.Qd){qa=(0,L.Cla)(Q.X.Va.filter(function(Ha){return Ha.u.id === P.position.I;}),P.playerTimestamp,{OTa:!0});qa && (null === (Z=Q.X.kl) || void 0 === Z?void 0:Z.zH({u:qa.u,get FX() {return qa.eb.wa(qa.u.Vd);}},na,Q.Hg.offset,!0,!1));}Q.Cm.start();};this.uV=function(){Q.sj("onDrmReady");};this.pTb=function(P){P=P.newValue;Q.rJ || (Q.rJ=P);};};sa.prototype.open=function(){this.rfa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Ua !== m.km.CLOSED)return !1;this.Ua=m.km.OPEN;return !0;};sa.prototype.Qa=function(){this.Xp.Qa();this.Hd.Qa();this.Ua !== m.km.CLOSED && (this.Jf(),this.Cm.Qa(),this.kf.stop(),this.Ua=m.km.CLOSED,this.Nq || this.X.Qa(),this.S6.Qa());};sa.prototype.wvb=function(Q,P,Z){Q=(0,oa.$ka)(this.Va,this.pH.bind(this),Q,P,Z).XSa;return this.LSa(Q);};sa.prototype.Sy=function(Q,P,Z){var na,qa,Ha,Ya,Va,rb,mb;na=this;qa=this.zE;Ha=this.$X;Ya=this.LH;this.zE=Q;this.$X=P;this.LH=Z;P=(0,oa.$ka)(this.Va,this.pH.bind(this));Va=P.XSa;Q=P.Qtb;P=P.Grb;if(0 === Va.length)return !0;if(!this.LSa(Va))return (this.zE=qa,this.$X=Ha,this.LH=Ya,!1);rb=this.Hg;this.X.qN(Va);this.X.NX(P);mb=this.KT(rb).zq;Q.forEach(function(Fb){var Kb;Kb=Fb.wb;Kb.Sy(Fb.Bd,rb.I === Kb.u.id?mb:void 0,void 0 !== na.Va.e5(Kb),Va);});this.kf.LTb(rb,Q[0].Bd);return !0;};sa.prototype.nK=function(Q){return (0,y.nK)(this.config,Q);};sa.prototype.oK=function(Q){return (0,y.oK)(this.config,Q);};sa.prototype.tT=function(Q,P){var Z,na;Z=this.navigator.Pd(Q);na=this.navigator.Pd(P);return {T5b:Z.XKb(P),RR:P !== Q && this.Va.has(P) && this.Va.op(P)[0].Wg,c3:na.Vd.G,ira:this.Rma(Z)};};sa.prototype.Lj=function(Q,P,Z,na){var qa,Ha,Ya,Va;qa=this;void 0 === na && (na=!0);if(!P)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(na && this.tg.get(Q))Z || this.tg.set(Q,P);else {Ya=this.fT(Q)[0];Va=this.navigator.Pd(Q);this.Hg.I === Q && Ya && (null === (Ha=this.X.kl) || void 0 === Ha?void 0:Ha.zH({u:Ya.u,get FX() {return Ya.eb.wa(Ya.u.Vd);}},P,this.Hg.offset,na,Z));na || (Q={offset:d.N.Ia,I:P},this.wm={position:Q,Wg:!0,fdb:Q});Z?this.tg.V_b(Va.id,P):this.tg.set(Va.id,P);this.Cm.start();na && Va.Rv && 0 < Va.Rv.length && ((0,t.assert)(Ya),Ya.M$(Va.Rv) && this.fT(P).forEach(function(rb){return qa.ew(Ya,rb);}));na || this.kf.i8(this.Ah);}};sa.prototype.LSa=function(Q){var P,Z;if(0 === Q.length)return !0;if(this.X.uH && this.X.y6.value.wa(this.X.Nd).lessThan(d.N.Ma(5E3)))return !1;Q=this.X.Va;if(!Q.length)return !0;Z=null === (P=Q[0]) || void 0 === P?void 0:P.pa.J;return !Q.some(function(na){return na.pa.J !== Z;});};sa.prototype.ew=function(Q,P){var Z;Z=this;Q=Q.Mb.wa(P.u.Vd);P.ew(Q);this.Va.XGb(P).forEach(function(na){return Z.ew(P,na);});};sa.prototype.bj=function(Q){this.navigator.bj(Q);this.Cm.start();};sa.prototype.Iva=function(Q,P){this.Omb=Q;this.iqb=P;this.state === m.km.rm && this.sj("setStreamFilters");};sa.prototype.Uqb=function(Q){(0,t.assert)(-1 === this.ala.indexOf(Q),"Attempted to add the same evaluation hook twice");this.ala.push(Q);};sa.prototype.p0b=function(Q){this.ps.JYb(Q);};sa.prototype.sC=function(Q,P){this.H9(Q,P);};sa.prototype.H9=function(Q,P,Z){var na,qa,Ha,Ya,Va;Ha=this.ga;Ya=(0,H.feb)(Ha,Q);if(Ya.PL){Va=this.UZb(Ha,Q,P);if(void 0 === Va)this.tf(("Invalid seekPosition after sanitization to ").concat(Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ya.reason),null === (na=Ha.M[Q.I]) || void 0 === na?void 0:na.J);else if(void 0 === this.zE || void 0 === this.$X)this.tf("No track selectors available");else if((na=!(this.Nq && this.X.rp) && (0,H.T_a)(null === (qa=this.wm) || void 0 === qa?void 0:qa.fdb,Va),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:na}),!na)){this.m1=Z;this.Oq?(this.zH(Va),this.rTa(Q)):this.Va.empty && Z && (Z=this.X.GF()) && (this.zH(Va,Z),this.rTa(Q));Q=this.GZa();try{this.Jf(!0);this.Wvb();this.wm={position:Va,fdb:Va,Wg:!1,Jp:P};this.h1a=P?P.wa(this.r$a):d.N.Ia;this.kf.i8();this.Ua=m.km.rm;this.Cm.start();}finally{Q.release();}}}else this.tf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ya.reason),null === (Va=Ha.M[Q.I]) || void 0 === Va?void 0:Va.J);};sa.prototype.zH=function(Q,P){var Z,na,qa;qa=this.navigator.Pd(null !== (Z=null === P || void 0 === P?void 0:P.u.id) && void 0 !== Z?Z:this.Hg.I);null === (na=this.X.kl) || void 0 === na?void 0:na.zH({u:qa,FX:qa.duration},Q.I,P?P.ue:this.Hg.offset,!1);};sa.prototype.rTa=function(Q){var P,Z;if((null === (P=this.X.GF()) || void 0 === P?void 0:P.u.id) === Q.I){if((this.tg.Xvb(Q.I),!this.tg.get(Q.I) && this.X.rp)){Q=this.X.Va;Z=this.X.GF();Z && (Q=(0,g.xc)(Q,function(na){return na.parent === Z;})) && this.tg.set(Z.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.tg.Qia();};sa.prototype.GZa=function(){var Q,P;Q=this;P=this.Va.filter(function(Z){return Z.u.J !== h.un;}).map(function(Z){return Q.ps.po(Z.u.J).nG;});return new x.sca(function(){P.forEach(function(Z){return Z.release();});},this.console).Lu();};sa.prototype.Jf=function(Q){var P,Z,na;na=this.Q_a();this.Va.reset();if(!Q && (this.tg.Qia(),na.length))try{for(var qa=l.__values(na),Ha=qa.next();!Ha.done;Ha=qa.next()){Ha.value.c9a();}}catch(Va){var Ya;Ya={error:Va};}finally{try{Ha && !Ha.done && (P=qa.return) && P.call(qa);}finally{if(Ya)throw Ya.error;}}this.Hd.Sf();this.X.reset();this.wm=void 0;this.z2.reset();null === (Z=this.lSa) || void 0 === Z?void 0:Z.clear();this.Ua === m.km.rm && (this.Ua=m.km.OPEN);};sa.prototype.fT=function(Q){return this.Va.op(Q);};sa.prototype.wh=function(Q){this.kf.wh(Q);(0,t.assert)(this.X.Sq,"Must have an appended branch on underflow");this.X.qRa && this.kf.yj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Rn(this.Nd),this.kf.Em("complete",Q.fO,Q.gO));this.z2.Zwa(this.X.Sq,this.Nd);this.sj("onUnderflow");this.events.emit("underflow");};sa.prototype.Xe=function(Q){this.Sv.Xe(Q);};sa.prototype.Vu=function(Q){this.Xe(new A.dLa(Q));return this.Lsb(Q);};sa.prototype.Lsb=function(Q){var P;P=this.X;if(!this.X.axa(Q))return (this.tf("player in use"),!1);this.X=Q;this.Hd.GRa(this.X.qa);this.X.events.on("segmentPresenting",this.Fv);this.X.events.on("drmReady",this.uV);this.X.Yq.addListener(this.pTb);Q=this.yIb();0 < Q.length && this.X.NX(Q);this.events.emit("playerChanged",{type:"playerChanged",old:P,"new":this.X});return !0;};sa.prototype.KT=function(Q){var P,Z;P=Q.offset;Z=this.navigator.Pd(Q.I);Q=Z.J;P=Z.Vd.add(P);return {J:Q,zq:P};};sa.prototype.Uk=function(Q,P){var Z,na,qa,Ha;Ha=this.X.Uk(Q);if(void 0 !== Ha)return Ha;if(null === (na=null === (Z=this.wm) || void 0 === Z?void 0:Z.Jp) || void 0 === na?0:na.equal(Q))return null !== (qa=this.m1) && void 0 !== qa?qa:this.Ah;Z=this.X.Sq;return (0,H.Uk)(Q,{Aa:this,mMb:Z && ({id:Z.u.id,m_b:Z.fr})},P);};sa.prototype.QF=function(Q,P){void 0 === P && (P=!1);Q=this.LT(Q,P).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Jp);};sa.prototype.LT=function(Q,P){var Z,na,qa,Ha,Ya,Va,rb,mb,Fb,Kb,Ta,bb,ib;void 0 === P && (P=!1);return l.__generator(this,function(pb){switch(pb.label){case 0:(Z=this.X.LT(Q),na=Z.next(),pb.label=1);case 1:return na.done?[3,3]:[4,na.value];case 2:return (pb.Ra(),na=Z.next(),[3,1]);case 3:if(!P)return [2];qa={};Ha=this.Hg;this.Nq && this.X.Qd && (rb=this.X.Sq) && (Ha={offset:d.N.Ia,I:rb.u.id},Ya=rb.Mb.wa(this.X.Nd),Va=rb.u);Ya || (Va=this.navigator.Pd(Ha.I),Ya=Va.Vd.add(Ha.offset).wa(Va.Nf));(0,t.assert)(Va,"Current segment should be defined by here");mb=this.Nd;if(Va.u.Cb && Va.id !== Q.I)return [3,6];if(Va.id !== Q.I)return [3,5];Fb=Q.offset.wa(Ha.offset);return [4,{xK:Fb,Jp:mb.add(Fb)}];case 4:(pb.Ra(),pb.label=5);case 5:return [2];case 6:(Kb=this.navigator.Pd(Va.u.Cb),Ta=this.navigator.z2a(Kb),bb=Ta.next(),pb.label=7);case 7:if(bb.done)return [3,11];ib=bb.value;if(qa[ib.id])return [3,11];qa[ib.id]=!0;if(ib.id !== Q.I)return [3,9];Fb=Q.offset.add(Ya);return [4,{xK:Fb,Jp:mb.add(Fb)}];case 8:return (pb.Ra(),[2]);case 9:(Ya=Ya.add(ib.duration),pb.label=10);case 10:return (bb=Ta.next(),[3,7]);case 11:return [2];}});};sa.prototype.h$a=function(Q){return (0,H.Sua)(this.ga,Q);};sa.prototype.UZb=function(Q,P,Z){var na,qa;na=(0,H.Sua)(Q,P);qa=d.N.Ma(1E4);if(!na || !Z || Z.greaterThan(qa))return na;Q=P.offset.add(d.N.Ma(Q.M[P.I].sa));Z=Z.wa(Q);if(Z.fi(d.N.Ia))return na;qa=d.N.max(d.N.Ia,Q.wa(qa)).add(Z);if(qa.fi(d.N.Ia))return na;qa=na.offset.add(qa);return {I:na.I,offset:qa};};sa.prototype.Ms=function(Q,P){var Z;Q="string" === typeof Q?{J:this.ga.M[Q].J,zq:d.N.Ma(P)}:Q;if(Q.J !== h.un){P=this.ps.po(Q.J);try{return null === (Z=P.pa) || void 0 === Z?void 0:Z.Ms(this.config,Q.zq.G);}finally{P.nG.release();}}};sa.prototype.b5=function(){return (0,za.GYa)(this.Va,this.a6.bind(this));};sa.prototype.a6=function(Q){Q=this.Va.e5(Q);return void 0 === Q || Q.Zh && this.a6(Q);};sa.prototype.a5=function(){return this.QR.nB;};sa.prototype.wHb=function(Q){return (0,Ca.C_a)(this.Va,Q);};sa.prototype.Rn=function(Q){var P,Z,na;P=this;this.Va.rF(function(qa){var Ha,Ya;Ha=qa.iT(k.v.ea);Ya=qa.iT(k.v.Y);if(qa.u.tX || !P.Va.Kna(qa) || !qa.Zh){if(!Z || Ha < Z)Z=Ha;if(!na || Ya < na)na=Ya;}return qa.Zh;});return {fO:Z?Math.max(Z - Q.G,0):0,gO:na?Math.max(na - Q.G,0):0};};sa.prototype.zF=function(){var Q,P,Z,na;Z=this.Oq?this.Rn(this.Nd):{fO:0,gO:0};na=G.default.instance().get();return {totalabuflmsecs:Z.fO,totalvbuflmsecs:Z.gO,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (P=Number(0 < na.confidence) && (null === (Q=na.ob) || void 0 === Q?void 0:Q.Da)) && void 0 !== P?P:0};};sa.prototype.tL=function(){var Q,P,Z,na,qa,Ha,Ya,Va;Q=this;if(this.Rq())return (this.fh.us({isStreamingFailureReported:!0}),[]);Z=this.Va.size;this.fh.us({branchCount:Z});if(!this.Oq || 0 === Z)return [];na=this.Nd;qa=this.Hg;Ha=[];Z=this.navigator.Pd(this.Hg.I);Ya=Z.duration;Va=this.tg.get(Z.id)?1:null !== (P=Z.Oy) && void 0 !== P?P:1;P=this.Va.reduce(function(rb,mb,Fb){var Kb,Ta,bb,ob,Bb,Eb;bb=mb.Z4();try{for(var ib=l.__values(bb),pb=ib.next();!pb.done;pb=ib.next()){ob=pb.value;if(!ob.dt()){Bb=("p").concat(Q.id,"-").concat(Fb,"-").concat(null === (Ta=mb.Ab) || void 0 === Ta?void 0:Ta.G);Eb=Q.OJb(ob);rb.push(Q.Izb(ob,Eb.G,Bb,Ya.G,Va,na.G,qa));}!ob.zB() && Q.fh.enabled && Ha.push({segmentId:ob.I,isDoneStreaming:ob.dt(),isNormalized:ob.Wg(),needsHeaderRequest:ob.track.hV});}}catch(Pb){var Lb;Lb={error:Pb};}finally{try{pb && !pb.done && (Kb=ib.return) && Kb.call(ib);}finally{if(Lb)throw Lb.error;}}return rb;},[]);this.fh.us({nonStreamables:Ha});return P;};sa.prototype.OJb=function(Q){var P;P=Q.wT();if(this.config.S3 && P && this.navigator.TKb(P.wb.u,Q.I))return Q.Jl;for(;P && !P.usa;){Q=P;P=P.wT();}return Q.Jl;};sa.prototype.IIb=function(Q){var P;if(!Q.wb.Md){P=Q.wb.u.u.Cb;if(P)return (P=l.__read(this.Va.op(P),1)[0],null === P || void 0 === P?void 0:P.IF(Q.mediaType));}};sa.prototype.MTb=function(Q){var P,Z;if(!this.u$.Rq()){P=void 0;Z=this.X.Hg;Z && (P=this.navigator.Pd(Z.I).J);this.tf("BufferingStateTracker: Temporary failure while buffering",P,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Ig,null === Q || void 0 === Q?void 0:Q.Yx,null === Q || void 0 === Q?void 0:Q.Aj);}};sa.prototype.tf=function(Q,P,Z,na,qa,Ha,Ya){void 0 === Ya && (Ya=!1);"string" === typeof Q?this.u$.tf(Q,Z,{networkErrorCode:na,httpCode:qa,nativeCode:Ha,viewableId:P,temporaryFailure:Ya}):this.u$.PYb(Q);return !0;};sa.prototype.gxa=function(Q,P){P=this.X4(P,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:P});};sa.prototype.X4=function(Q,P){void 0 !== Q && this.S6.xOb(Q);P=this.Sv.Qi(Q,P);Q === z.qc.Oi && (Q=this.zF(),P.vbuflmsec=Q.totalvbuflmsecs,P.abuflmsec=Q.totalabuflmsecs,P.vbuflbytes=Q.vbuflbytes,P.abuflbytes=Q.abuflbytes);return P;};sa.prototype.mdb=function(Q){this.QR=Q;this.sj("updateBudget");};sa.prototype.Rq=function(){return this.u$.Rq();};sa.prototype.Hdb=function(Q){Q !== this.weight && (this.hQa=Q,this.events.emit("weightUpdated"));};sa.prototype.St=function(Q){var P,Z,na,qa,Ha,Ya,mb,Fb,Kb,Ta,bb,ib,pb,ob,Bb,Eb;na=(0,O.DSa)(this.ga,Q);qa=na.iN;Ha=na.tvb;Ya=na.A4b;if([na.$ga,qa,Ha].every(function(Pb){return !Pb.length;}))return (this.Cva(Q),this.Cm.start(),{ia:!0,reason:k.jq.Qkb});if(0 === Ha.length && 0 === Ya.length && this.Nq && this.X.Qd)return {ia:!1,reason:k.jq.$jb};if(this.X.Va.some(function(Pb){return -1 < qa.indexOf(Pb.u.id);}))return {ia:!1,reason:k.jq.Olb};if(this.Oq && !this.X.Qd && -1 < qa.indexOf(this.Ah.I))return {ia:!1,reason:k.jq.rjb};if(this.Oq)try{for(var Va=l.__values(Ha),rb=Va.next();!rb.done;rb=Va.next()){mb=rb.value;Fb=this.ga.M[mb];Kb=Fb.sa;Ta=Fb.ta;bb=Fb.J;ib=Q.M[mb];pb=ib.ta;ob=ib.sa;Bb=ib.J;if(this.Hg.I === mb && pb !== Ta){if(!pb)return {ia:!1,reason:k.jq.Plb};Eb=d.N.Ma(pb - ob);if(null === (Z=this.Hg.offset) || void 0 === Z?0:Z.greaterThan(Eb))return {ia:!1,reason:k.jq.cfb};}if(Kb !== ob)return {ia:!1,reason:k.jq.dib};if(bb !== Bb)return {ia:!1,reason:k.jq.eib};}}catch(Pb){var Lb;Lb={error:Pb};}finally{try{rb && !rb.done && (P=Va.return) && P.call(Va);}finally{if(Lb)throw Lb.error;}}this.Cva(Q);this.Cm.start();return {ia:!0,reason:k.jq.Pkb};};sa.prototype.aB=function(Q){Q=this.fT(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Ts()) && 0 !== Q.length)return d.N.min.apply(d.N,l.__spreadArray([],l.__read(Q.map(function(P){return P.aB();})),!1));};sa.prototype.Cva=function(Q){var P;P={type:"playgraphUpdating",VSb:this.lj,SRb:Q};this.lj=Q;this.navigator?this.navigator.update(Q):this.navigator=new K.mKa(Q);this.qKb=(0,O.fUa)(this.navigator);this.q5b();this.events.emit("playgraphUpdating",P);};sa.prototype.q5b=function(){var Q,P,Z,na,qa;Z=this.X && this.Nq && this.X.Qd?this.Hg:void 0;if(Z){na=this.navigator.Pd(Z.I);Z=null === (Q=this.X.kl) || void 0 === Q?void 0:Q.P3;if((Q=this.Rma(na)) && Q !== Z && this.X.rp){qa=this.X.Ey;null === (P=this.X.kl) || void 0 === P?void 0:P.zH({u:qa.u,get FX() {return qa.eb.wa(qa.u.Vd);}},Q,this.Hg.offset,!0,!1);}}};sa.prototype.zV=function(Q,P){this.q9a(Q);Q.QK.addListener("criticalNetworkError",this.b8);Q.QK.addListener("temporaryNetworkError",this.yV);Q.QK.addListener("updatingLastSuccessEvent",this.k8);Q.events.addListener("liveEventTimesUpdated",this.U7);Q.events.addListener("liveLoggingInfoUpdated",this.V7);Q.ha && Q.KWb();this.Ua === m.km.rm && P && this.k$a();};sa.prototype.Yra=function(Q){0 === this.Va.filter(function(P){return P.Vn && P.pa === Q;}).length && this.q9a(Q);};sa.prototype.q9a=function(Q){Q.QK.removeListener("criticalNetworkError",this.b8);Q.QK.removeListener("temporaryNetworkError",this.yV);Q.QK.removeListener("updatingLastSuccessEvent",this.k8);Q.events.removeListener("liveEventTimesUpdated",this.U7);Q.events.removeListener("liveLoggingInfoUpdated",this.V7);};sa.prototype.wQa=function(Q){var P;(0,t.assert)(Q.Wg,"expected branch to be normalized on addBranchToPlayer");this.X.rp || (null === (P=this.wm) || void 0 === P?0:P.Wg) || this.hFb(Q);this.kf.Axa(Q.Bd);this.X.rp && (P=this.X.Sq) && this.tg.clear(P.u.id);this.X.Ska(Q);this.z2.Zwa(Q,this.Nd);};sa.prototype.hFb=function(Q){(0,t.assert)(Q.Na,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.wm,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.wm.Wg,"Seek position should not already be normalized on first branch normalization");this.wm=l.__assign(l.__assign({},this.wm),{position:{I:Q.u.id,offset:Q.Na.wa(Q.u.Vd)},Wg:!0});this.kf.R_b(this.wm.position,Q.Bd.filter(function(P){return P.mediaType === k.v.ea;})[0]);};sa.prototype.Wvb=function(){var Q;this.z2.reset();this.X.yA();this.wm=void 0;null === (Q=this.lSa) || void 0 === Q?void 0:Q.clear();};sa.prototype.Izb=function(Q,P,Z,na,qa,Ha,Ya){var Va,rb,mb,Fb;Va=this;Fb=null !== (mb=null === (rb=Q.wb.Ab) || void 0 === rb?void 0:rb.G) && void 0 !== mb?mb:Q.wb.dy.G;rb=Q.AC.G;mb=this.tg.get(Q.I)?1:Q.wb.u.Oy;return {identifier:Q.I,mediaType:Q.mediaType,$g:Q.$g,jf:this.jf.value,yy:P,yr:rb,Cq:Ha,UXa:Q.WK.G,ita:Ya.offset.G,hta:na,ZV:qa,Oy:mb,iF:Q.wb.ve.G,xbb:Math.max(rb - Fb,0),zB:Q.zB(),dt:Q.dt(),Lk:Q.Lk,groupId:Z,m2a:function(Kb,Ta){Kb=Va.vbb.bvb(Kb,Q.mediaType,1 > Ta || !Q.wb.Md && !Va.a6(Q.wb));1 === Ta && "global" === (0,k.Ota)(Kb.reason) && Va.kf.kTb(Q.mediaType,Va.Rn(Va.Nd));return Kb;},s2a:function(){var Kb,Ta,bb,ib,pb,ob,Bb,Eb,Lb,Pb,Xb,Ib,Ob;ib=Q.mediaType;pb=Va.Fna.s_b(Va.jf.value,Va.Nd,Q.AC,Q.wbb,Va.X.playbackRate,Q,ib === k.v.ea?Va.etb:Va.faa,Va.f2);ob=pb.stream;Bb=pb.ZW;Eb=pb.EL;Lb=pb.Gt;Pb=pb.Gv;Xb=pb.reason;Ib=pb.KEb;pb=pb.t_b;if(!ob)return {Mh:!1,reason:Xb || "selectLocationsAndStream"};if(Va.jf.value === k.Yc.rm && Q.wb && Q.wb.pa.Ql && !Q.wb.pa.WU && !Va.X.iU(Q.wb.pa.J)){Xb=Q.AC.G - Va.Nd.G;if(!Q.wb.pa.np && Xb > Va.config.g4a)return {Mh:!1,reason:"maxBufferingCompleteBufferInMs"};if(!ob.gi && ob.mediaType === k.v.Y && Xb >= Va.config.pqa)return {Mh:!1,reason:"maxFastPlayBufferInMs"};}Xb=k.v.Y;if(null === (Kb=Q.wb) || void 0 === Kb?0:Kb.Bd.every(function(Qb){return Qb.mediaType === k.v.ea;}))Xb=k.v.ea;Va.kf.yj && ib === Xb && Va.kf.c0b(Q.cl.v_b,ob.bitrate,Eb);Va.X_b(Q.wb.u,Bb);Kb=null === (Ta=Q.wb.Dr) || void 0 === Ta?void 0:Ta.G;Ta=Q.Ucb(ob,Pb,Lb);if(Ta.Mh){Va.rfa && (Va.CJ("firstDriveStreaming"),Va.rfa=!1);if(0 < Va.NA){Ob=null === (bb=Q.wb.Dr) || void 0 === bb?void 0:bb.G;Kb && Ob && (Va.NA-=Kb - Ob,0 >= Va.NA && Va.k$a());}Va.events.emit("requestIssued",{type:"requestIssued",mediaType:ib,result:pb,streamList:Ib});}else "exceedsLiveEdge" === Ta.reason && (null === (Ob=Va.Qfa) || void 0 === Ob?void 0:Ob.Qa(),Va.Qfa=Va.Xp.EA(v.Rg.LC(ob.Tn().ve),function(){Va.Qfa=void 0;Va.sj("liveEdgeRetry");}));return Ta;}};};sa.prototype.X_b=function(Q,P){var Z;Z=this;P.forEach(function(na){na.pa.W_b(na,Q,function(){var qa,Ha;(0,t.assert)(Z.Oq,"Speculative header callback after streaming is cancelled");qa=Z.Nd.G;Ha=qa + Z.config.t7;return {$g:[],jf:Z.kf.state.value,yy:Ha,yr:Ha,Cq:qa};});});};sa.prototype.k$a=function(){var Q;Q=this;this.Cm.iaa(U.iD.xw,function(){return Q.Cm.start();});};sa.prototype.g9=function(){var Q,P,Z,na,qa;Q=this;if(this.Ua === m.km.rm){P=this.Hg;Z=this.X.Va;na=this.Va.fKb();qa=l.__read(Z,1)[0];P=qa?this.navigator.Pd(qa.u.id):this.navigator.Pd(P.I);Z=Z.map(function(Ha){return {id:Ha.u.id,duration:Ha.Mb.wa(Ha.Ab).G};});na=(0,I.g9)(this.console,this.qKb,P,na,this.tg,Z,d.N.Ma(this.config.Otb),this.config.Sqa,d.N.Ma(this.config.Yha));Z=na.vua;this.NA=na.NA || 0;na=this.ala.reduce(function(Ha,Ya){return Ya(Ha);},Z);this.Va.O4b(na,function(Ha,Ya){var Va,rb;rb=Q.navigator.Pd(Ha);Ha=Ha === Q.Ah.I?Q.Ah.offset:Ha === (null === (Va=Q.m1) || void 0 === Va?void 0:Va.I)?Q.m1.offset:d.N.Ia;Va=rb.Vd.add(Ha);return Q.l4b(rb,Va,Ya);}).iN.forEach(function(Ha){Ha.Jf("aborted");});this.Z8a();this.aTa();this.Cm.iaa(U.iD.xw,function(){var Ha;(null === (Ha=Q.Va.root()) || void 0 === Ha?0:Ha.Vn) && Q.sj("reevaluateBranches");Q.Cm.$U(U.iD.UP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};sa.prototype.Q_a=function(){return (0,g.tha)(this.Va.filter(function(Q){return Q.Vn;}).map(function(Q){return Q.pa;}));};sa.prototype.Z8a=function(){var Q,P;Q=this;if(this.Ua === m.km.rm){if(!this.X.Sq){P=l.__read(this.Va.op(this.Ah.I),1)[0];(null === P || void 0 === P?0:P.Wg) && this.wQa(P);}if(this.X.Sq)for(;;){P=this.vZa(this.X.Sq.u);if(!P)break;P=l.__read(this.Va.op(P).filter(function(Z){return Z.parent === Q.X.Sq;}),1)[0];if(!P)break;if(null === P || void 0 === P || !P.Wg)break;else if(this.X.Z_a(P))break;this.wQa(P);}}};sa.prototype.Rma=function(Q){var P,Z,na,qa;if(this.X.rp){P=this.X.Ey;Z=!1;na=this.X.Va.filter(function(Ha){Z || (Z=Ha === P);return Z;});qa=(0,g.Uu)(na,function(Ha){return Ha.u.id === Q.id;});if(na=na[qa + 1])return na.u.id;}return this.vZa(Q);};sa.prototype.vZa=function(Q){var P;P=this.tg.get(Q.id);if(void 0 !== P)return P;Q=this.navigator.oHb(Q);if(1 === Q.length)return Q[0].id;};sa.prototype.aTa=function(){var Q;Q=this.Va.empty || 0 !== this.qGb();Q || this.t$?Q && this.t$ && (this.t$=!1):(this.kf.yj && (Q=this.Rn(this.Nd),this.kf.Em("complete",Q.fO,Q.gO)),this.Nob(),this.t$=!0);};sa.prototype.qGb=function(){return this.Va.filter(function(Q){return !Q.Zh;}).length;};sa.prototype.XD=function(Q){this.a6(Q) && this.kf.Jia(this.Nd,this.X.playbackRate,Q,{Iia:this.Fna.Iia.bind(this.Fna,this.vbb)});};sa.prototype.bTb=function(Q,P){var Z,na;Z=this;if(P.didNormalizeSegment){na=ka.ELa.nKb(Q);(0,t.assert)(na,"Segment should be normalized");Promise.resolve().then(function(){return Z.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:P.segmentContentStart,normalizedEnd:P.branchContentEnd,viewableContentEnd:na.reb,viewableEarliestContentEnd:na.seb,media:c(Q.Bd)});});}Promise.resolve().then(function(){Z.Z8a();});this.sj("branchNormalized");};sa.prototype.cTb=function(){this.aTa();};sa.prototype.aTb=function(){this.Cm.start();};sa.prototype.Uzb=function(Q,P){var Z;Z=this;return new n.bAa(Q.J,this.ps.po.bind(this.ps),function(na,qa,Ha){Z.state !== m.km.CLOSED && (Z.zV(qa,Ha),Z.Cm.iaa(U.iD.UP,function(){na.Md || Z.Mob(na,qa,P);}));},this.Yra.bind(this));};sa.prototype.l4b=function(Q,P,Z){var na,qa;if(this.Uvb(Q,P))throw Error("Not implemented");na=this.Uzb(Q,!Z);qa=Z?Z.Mb.wa(P):this.h1a || d.N.Ia;Q=(0,p.eUa)({config:this.config,console:this.console,u:Q,events:this.events,pH:this.pH,Ym:P,ue:qa,Ps:this.eAb.bind(this),jf:this.jf,Hd:this.Hd,fI:na,pSa:this.wl,Wsa:this.Va});this.s2b(Q,!!Z);return Q;};sa.prototype.eAb=function(){return this.Nd.G;};sa.prototype.s2b=function(Q,P){var Z,na;Z=this;na=new f.Qe();na.addListener(Q.events,"needsRequest",function(){var qa;qa=Z.Va.root();qa && !qa.Vn || Z.sj("branchNeedsHeader");});na.addListener(Q.events,"branchNormalized",this.bTb.bind(this,Q));na.addListener(Q.events,"lastRequestIssued",this.aTb.bind(this,Q));na.addListener(Q.events,"branchStreamingComplete",this.cTb.bind(this,Q));na.addListener(Q.events,"checkBufferingProgress",this.XD.bind(this,Q));na.addListener(Q.events,"branchDestroyed",function(qa){na.clear();Z.Va.contains(Q) && (Z.Va.yYb(Q),Z.Cm.start());"aborted" === qa.reason && (Z.X.Z_a(Q) || Z.Cm.iaa(U.iD.xw,function(){return Z.Lob(Q.u.id);}));});P || (this.CJ("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){Z.CJ("createDlTracksEnd");}));};sa.prototype.VIb=function(Q){if(this.X.Qd)return this.X.Ey.cf(Q);};sa.prototype.pH=function(Q,P,Z,na){P=[[k.v.ea,null !== P && void 0 !== P?P:this.zE,"audio_tracks"],[k.v.Y,null !== Z && void 0 !== Z?Z:this.$X,"video_tracks"]].map(function(qa){var Ha,Ya;Ha=l.__read(qa,3);Ya=Ha[0];qa=Ha[1];Ha=Ha[2];if(Q.W && ((0,t.assert)(qa,("Expected mediaType ").concat(Ya," track selector to be defined")),Ya=Q.W[Ha],qa=qa.BN(Q.W,Ya),void 0 !== qa))return Q.getTrackById(Ya[qa].jO);}).filter(g.Q7);Z=na || this.LH;Q.W && Z && (na=Q.W.timedtexttracks,Z=Z.BN(Q.W,na),void 0 !== Z && 0 <= Z && (na=Q.getTrackById(na[Z].id)) && P.push(na));return P;};sa.prototype.yIb=function(){var Q;Q=new Set();this.Va.map(function(P){return P.Bd;}).forEach(function(P){return P.forEach(function(Z){return Q.add(Z.mediaType);});});return Array.from(Q).sort();};sa.prototype.U7=function(Q){var P,Z,na,qa;P=this;Z=Q.pa;na=Q.startTime;qa=Q.endTime;this.Va.filter(function(Ha){return Ha.Vn && Ha.pa === Z;}).forEach(function(Ha){Ha={type:"liveEventTimesUpdated",I:Ha.u.id,startTime:na,endTime:qa};P.events.emit(Ha.type,Ha);});};sa.prototype.V7=function(Q){var P,Z,na,qa;P=this;Z=Q.pa;na=Q.mediaType;qa=Q.info;this.Va.filter(function(Ha){return Ha.Vn && Ha.pa === Z;}).forEach(function(Ha){Ha={type:"liveLoggingInfoUpdated",I:Ha.u.id,mediaType:na,info:qa};P.events.emit(Ha.type,Ha);});};sa.prototype.Mob=function(Q,P,Z){(0,t.assert)(Q.Bd.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.ue.G,maxBitrates:{audio:P.cM[k.v.ea],video:P.cM[k.v.Y]},media:c(Q.Bd),initial:Z};this.events.emit(Q.type,Q);};sa.prototype.Lob=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};sa.prototype.Nob=function(){var Q;Q={type:"streamerEnd",time:u.default.time.Ga()};this.events.emit(Q.type,Q);};sa.prototype.CJ=function(Q){Q={type:"startEvent",event:Q,time:u.default.time.Ga()};this.events.emit(Q.type,Q);};l.__decorate([ja.return.vh()],sa.prototype,"Ah",null);l.__decorate([(0,F.Sb)({methodName:"checkCanSetTracks",return:!0})],sa.prototype,"wvb",null);l.__decorate([(0,F.Sb)({methodName:"setTracks",return:!0})],sa.prototype,"Sy",null);l.__decorate([(0,F.Sb)({methodName:"setNextSegment",rq:!0})],sa.prototype,"Lj",null);l.__decorate([(0,F.Sb)({methodName:"seekStreaming"}),l.__param(0,ja.vh())],sa.prototype,"sC",null);l.__decorate([(0,F.Sb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,ja.vh()),l.__param(2,ja.vh()),l.__param(2,ja.W7)],sa.prototype,"H9",null);l.__decorate([ja.return.iUa(),l.__param(0,ja.vh())],sa.prototype,"KT",null);l.__decorate([ja.return.vh()],sa.prototype,"Uk",null);l.__decorate([l.__param(0,ja.vh())],sa.prototype,"QF",null);l.__decorate([l.__param(0,ja.vh())],sa.prototype,"LT",null);l.__decorate([ja.return.vh(),l.__param(0,ja.vh())],sa.prototype,"h$a",null);l.__decorate([l.__param(0,ja.iUa()),l.__param(0,ja.I())],sa.prototype,"Ms",null);l.__decorate([(0,F.Sb)({methodName:"getStreamables",ak:!0})],sa.prototype,"tL",null);l.__decorate([(0,F.Sb)({methodName:"updatePlaygraphMap",return:!0})],sa.prototype,"St",null);return sa;})();b.Naa=r;},93867:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.wya=b.oQa=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(42866);d=a(42866);g=a(27364);m=c.__importDefault(a(35471));k=a(93514);n=a(7881);p=a(49730);q=a(97810);b.oQa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(w,v){this.J=w;this.Rc=v;this.sW=!1;this.I1=new f.AbortController();}t.isEqual=function(w,v){return v.J === w.J && v.Rc === w.Rc;};return t;})();r=(function(){function t(w,v,y,x,z,A){var B;B=this;this.ps=w;this.Aa=y;this.Deb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();v.events.addListener("adBreakComplete",function(){B.qcb=B.Deb.qa.currentTime;});this.console=(0,q.Nh)(m.default,A,"AdBreakHydrator");}t.prototype.$Zb=function(w){c.__awaiter(this,void 0,void 0,function(){var v,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:v=w.map(function(D){return new u(D.J,D.Rc);});y=(0,d.ITa)(this.items,v,u.isEqual);this.items=y.result;y.aua.forEach(function(D){var C;null === (C=D.I1) || void 0 === C?void 0:C.abort();});p.K && this.console.log("Evaluated schedule",{zbc:y.xrb.length,aua:y.aua.length,Y7a:y.Y7a.length,jfc:y.result.length});x=this.items.filter(function(D){return !D.sW;}).map(function(D){return A.Yi(D);});if(!(0,g.Xn)(this.Aa.jf.value))return [3,5];z=this.items.map(function(D){return A.ps.po(D.J).nG;});B.label=1;case 1:return (B.Oj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Ra(),[3,4]);case 3:return (z.forEach(function(D){return D.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Ra(),B.label=7);case 7:return [2];}});});};t.prototype.Yi=function(w){var v;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{ihc:w.J,Tbc:w.Rc.oj}),null === (v=w.I1) || void 0 === v?void 0:v.abort(),y=new f.AbortController(),w.I1=y,x=(0,k.Dx)(this.Aa.ga,w.J,h.N.Ma(w.Rc.fk)),z=(0,f.wha)(y.signal),D.label=1);case 1:return (D.Oj.push([1,,5,6]),[4,Promise.race([this.Rra(y.signal).then(function(){return "rebuffer";}),Promise.all([this.v6b(z),this.x6b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=D.Ra();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{Ubc:w.Rc.oj,fk:w.Rc.fk});w.sW=!0;return [4,this.oXb(w.Rc.Ho.ph,w.J,y.signal)];case 3:(D.Ra(),D.label=4);case 4:return [3,6];case 5:return (w.I1 === y && (B=this.items.indexOf(w),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.Rra=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,h.gq.D6b([this.Aa.jf],function(v){v=c.__read(v,1)[0];return (0,g.Xn)(v);},w)];});});};t.prototype.v6b=function(w){var v;v=this;return this.qcb && this.config.F0a?new Promise(function(y){var x,z;x=v.qcb.add(h.N.Ma(v.config.F0a));z=v.Deb.EA(n.Rg.Ut(x),y,"hydratorWaitTask");w.then(function(){return z.Qa();});}):Promise.resolve();};t.prototype.x6b=function(w,v){var y,x;y=this;if(!this.config.s4a)return Promise.resolve();x=h.N.Ma(this.config.s4a);return new Promise(function(z){var A,B;A=y.Aa.QF(w,!0);B=y.Aa.Hd.EA(n.Rg.Ut(A.wa(x)),z,"waitJitHydrateAdBreak");v.then(function(){return B.Qa();});});};t.prototype.oXb=function(w,v,y){var x,z,A,B,D,C;return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J,M,L,H,N,I,K;return c.__generator(this,function(O){switch(O.label){case 0:(F=this.ps.po(v),G=F.nG,O.label=1);case 1:return (O.Oj.push([1,4,5,6]),[4,F.fz]);case 2:return (O.Ra(),[4,this.ps.Uv({ph:w,J:v})]);case 3:return (E=O.Ra(),y.aborted || (J=E.K1,M=E.Aha,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=E.K1.Ye) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",ph:w,K1:J,Aha:M})),[3,6]);case 4:L=O.Ra();if(!y.aborted){if(H=null === (z=L.Wka) || void 0 === z?void 0:z.context)if((N=null !== (A=H.type) && void 0 !== A?A:H.type,I=null !== (B=H.error) && void 0 !== B?B:H.error,"adBreakHydration" === N && (K=null !== (C=null !== (D=I.edgeCode) && void 0 !== D?D:I.code) && void 0 !== C?C:I.code,-1 !== b.oQa.indexOf(K))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(K,", ") + ("parentViewableId: ").concat(v,", ") + ("adBreakToken: ").concat(w)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",ph:w,vd:v}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",ph:w,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.wya=r;},22474:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xya=void 0;c=a(5163);l=c.__importDefault(a(35471));f=a(40376);r=(function(){function h(d,g,m,k,n){this.Aa=d;this.Hd=g;this.events=m;this.Rc=k;this.console=n;this.Wo=0;k.s2 && l.default.ping && l.default.ping(k.s2);}Object.defineProperties(h.prototype,{pxa:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});h.prototype.Cra=function(d,g,m,k,n){this.Pu && (this.Pu.Qa(),this.Pu=void 0);this.Pu=new f.SLa(this.Aa,this.Hd,this.events,this.Rc,d,g,m,k,n,this.console);};h.prototype.Z7=function(d){this.Pu && (this.Pu.Qa(),this.Pu=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Rc.Cga.complete),{vh:d,qE:this.Rc.Pt,oj:this.Rc.oj}));this.Rc.Pna=!0;}catch(g){this.console.error("Impression error event",g);this.Wo++;}};h.prototype.jv=function(){var d;return {ad:null === (d=this.Pu) || void 0 === d?void 0:d.jv(),errors:this.Wo};};return h;})();b.xya=r;},3005:function(r,b,a){var l,f,h,d,g,m,k,n;function c(p){return null === p || void 0 === p?void 0:p.ce.map(function(q){return q.Ye;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.yya=void 0;l=a(5163);f=a(57055);h=a(50954);d=a(42866);g=a(49730);m=a(62558);k=a(9630);n=a(12445);r=(function(){function p(q,u,t,w){this.config=q;this.console=u;this.Ta=t;this.Lc=w;this.Qu={};this.D6=!1;this.events=new f.EventEmitter();this.Ta.Uqb(this.PDb.bind(this));}Object.defineProperties(p.prototype,{uMb:{get:function(){return this.Ta.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ce:{get:function(){return this.Fn.qR;},enumerable:!1,configurable:!0}});p.prototype.va=function(q,u,t){this.Fn=new k.Qya(q,u);this.sR=new n.Nya(this.Fn,this.console,this.Ta,this.Lc);this.NJ=t;};p.prototype.wL=function(){var q;q=this;return !!(0,d.xc)(Object.keys(this.ce),function(u){return 0 < q.ce[u].length;});};p.prototype.i8=function(q){var u,t,w;u=this.Lc.Vg;(0,m.assert)(u,"Could not get graph location service");if(0 < this.Fn.Dxa){t=this.DA(this.Lc.ga);u=u.deb(this.Lc.ga,t);this.Fn.reset();}w=this.sR.rRa(q,u,t);q=w.Ah;u=w.TA;this.T2a=w.H8;g.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));w=(null !== t && void 0 !== t?t:this.Ta.ga).M[q.I];this.D6=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {Ah:q,TA:u,K7:t};};p.prototype.zV=function(q,u){var t,w;t=this.xYa(q);w=this.Qu[q.O];this.Qu[q.O]=t;if(w=w !== t && (null === w || void 0 === w?void 0:w.ce.length) !== (null === t || void 0 === t?void 0:t.ce.length)){if(null === t || void 0 === t?0:t.ce)(this.Fn.N_b(q.O,t.ce),this.sR.gab(),g.K && this.console.trace("Received ad metadata for",{pa:q.O,Mqb:c(t)}));if(u && this.i0a(u)){if(this.Bab(u))return l.__assign({$Qa:w},this.wdb(u,"viewableReceived"));g.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Ta.rJ,",\n                        enablePrerollForInitialSeek ").concat(this.Ta.config.U3));}}return {$Qa:w,Exa:u};};p.prototype.Ara=function(q,u,t){var w;w=this.xYa(q);(0,m.assert)(w,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Qu[q.O]=w;this.Fn.Ara(q.O,u);this.sR.gab();g.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{pa:q.O,Mqb:c(w)});if(t)return this.wdb(t,"adBreakHydration");};p.prototype.Bra=function(q,u){this.Fn.Bra(q,u);};p.prototype.zNb=function(){return !this.Ta.X.rp && this.Ta.yj;};p.prototype.wdb=function(q,u){var t,w,v,y,x;g.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Lc.Vg;(0,m.assert)(t,"Could not get graph location service");w=this.DA(this.Lc.ga);t=t.deb(this.Lc.ga,w);v=this.sR.rRa(q,t,w);y=v.Ah;v=v.TA;this.D6=!1;x=w.M[y.I];x || (x=this.Ta.ga.M[y.I]);this.D6=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Qt(y);g.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(v),",\n            didAppendData: ").concat(this.Ta.rJ,",\n            enablePrerollForInitialSeek ").concat(this.Ta.config.U3,",\n            reason: ").concat(u));return {Exa:t,TA:v,K7:w};};p.prototype.DA=function(q){var u,t,w;u=this;t=q;w=Object.keys(q.M).map(function(v){return ("").concat(q.M[v].J);});Object.keys(this.Qu).forEach(function(v){var y,x;if(-1 !== w.indexOf(v)){y=u.Qu[v];if(y){x=y.ce.map(function(z,A){z=u.ce[v][A];return z.Mq || z.Ye.reduce(function(B,D,C){return D.kU?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[C],!1):B;},[]);});y=(0,h.rUa)(parseInt(v),y,x,u.config.ksa);t=(0,h.Fqa)(t,y);}}});return t;};p.prototype.i0a=function(q){return !!this.Qu[this.Lc.ga.M[q.I].J];};p.prototype.xYa=function(q){if(q.Am && (q=q.Am,q.ce.length))return q;};p.prototype.xka=function(q){this.Fn.xka(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.Qva=function(q,u,t){var w;return this.sR.Qva(q,u,t,null === (w=this.uMb) || void 0 === w?void 0:w.xe);};p.prototype.PDb=function(q){var u,t,w,v,y,x,z;u=this;if(!this.wL())return q;t=!0;w=[];v=[];x=this.Ta.vMb.ga;q.rF(function(A,B){var D,C,F,G;if(!(B || !A.u.T1a || u.zNb() && u.Bab(u.Ta.Ah)))return (u.console.trace("Hydration: Not checking root segment"),!0);C=x.M[A.u.id];(0,m.assert)(C,"Hydration: Segment must be present in innermost playgraph");F=C.J;if(C.type && -1 < ["ad","padding"].indexOf(C.type))t=!1;else if(C.Rb){G=u.Ta.ga.M[C.Rb];G && G.J !== C.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(C.J,", ") + ("main content viewableId: ").concat(G.J)),F=G.J);}if((C=u.Fn.wYa(F,C.sa)) && !C.Mq)if(C.KSa && !C.wg){if(C.IN)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (D=null === B || void 0 === B?void 0:B.wb) || void 0 === D?void 0:D.duration,u.D6 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(A);if(t && 0 === v.length || y === B)(v.push({J:F,Rc:C}),y=B);return !1;}}else t=!1;return !0;});w.forEach(function(A){return q.remove(A);});this.NJ.$Zb(v);if(this.config.pYb && q.root){z=x.M[q.root.u.id];(z=this.Fn.wYa(z.J,z.sa)) && z.IN && (z.IN=!1);}return q;};p.prototype.Bab=function(q){var u,t,w;t=this.Ta.rJ;(w=0 === q.offset.G) || (t?(t=this.T2a,w=null === (u=this.Ta.X.GF()) || void 0 === u?void 0:u.u.id,q=t && t.bGb === w && t.to.I === q.I && t.to.offset.G === q.offset.G?this.T2a.MKb:!0):q=this.Ta.config.U3,w=q);return w;};return p;})();b.yya=r;},43003:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zya=void 0;c=a(42866);r=(function(){function l(f,h){this.ss=f;this.We=h;}l.prototype.Hna=function(f){var h;h=this;return this.ss.X.Va.some(function(d){return d.u.u.J === f && d.hRa;})?!1:(0,c.xc)(Object.keys(this.We.Qu),function(d){if(d=h.We.Qu[d])return (0,c.xc)(d.ce,function(g){return g.Ye && (0,c.xc)(g.Ye,function(m){return m.id === f;});});})?(this.We.xka(f),!0):!1;};return l;})();b.zya=r;},2976:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bya=void 0;c=a(57055);l=a(13043);r=(function(){function f(h,d,g){var m;m=this;this.We=d;this.An=new c.Qe();this.zp="adHydratorAudit";this.pd="adHydratorAuditor";this.enabled=!0;this.An.on(h.events,"adBreakPresenting",function(k){m.state.sQa.push(k.presentingInfo.Rc.PJ.G_b);});this.An.on(g.events,"adBreakHydrated",function(){m.state.qQa++;});this.An.on(g.events,"adBreakHydrationFailed",function(){m.state.pQa++;});this.An.on(g.events,"adBreakHydrationSkipped",function(){m.state.tQa++;});this.state={qQa:0,pQa:0,tQa:0,sQa:[]};}f.prototype.Qi=function(h){h=h.Si;if(this.We.wL() && h === l.qc.Oi)return {adBreaksPresentedSequence:this.state.sQa,adBreaksHydratedCount:this.state.qQa,adBreaksFailedHydratedCount:this.state.pQa,adBreaksSkippedCount:this.state.tQa};};f.prototype.Qa=function(){this.An.clear();};return f;})();b.Bya=r;},66814:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cya=void 0;c=a(57055);l=a(13043);r=(function(){function f(h,d,g){var k;function m(n){var p,q;(p=k.state.Fga)[q=n.event] || (p[q]=0);k.state.Fga[n.event]++;}k=this;this.We=d;this.hoa=g;this.An=new c.Qe();this.zp="adImpressionAudit";this.pd="adImpressionAuditor";this.enabled=!0;this.An.on(h.events,"adPresenting",function(){return k.state.aRa++;});this.An.on(h.events,"adBreakPresenting",function(){return k.state.rQa++;});this.An.on(g.events,"adEvent",m);this.An.on(g.events,"adBreakEvent",m);this.state={rQa:0,Fga:{},aRa:0};}f.prototype.Qi=function(h){h=h.Si;if(this.We.wL() && h === l.qc.Oi)return {presented:{breaks:this.state.rQa,ads:this.state.aRa},events:this.state.Fga,logger:this.hoa.jv()};};f.prototype.Qa=function(){this.An.clear();};return f;})();b.Cya=r;},71168:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Fya=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));f=a(97810);h=a(62558);d=a(49730);g=a(22474);a=(function(){function m(k,n,p,q){this.Ta=n;this.Hd=p;this.Wo=0;this.events=new c.EventEmitter();this.console=(0,f.Nh)(l.default,q,"IMPRESSION");k.events.addListener("adBreakPresenting",this.a8.bind(this));k.events.addListener("adBreakComplete",this.Z7.bind(this));k.events.addListener("adPresenting",this.Cra.bind(this));}Object.defineProperties(m.prototype,{WT:{get:function(){return !!this.Al;},enumerable:!1,configurable:!0}});m.prototype.a8=function(k){this.Al && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Al.Z7(k.Rm.position),this.Wo+=this.Al.pxa,this.Al=void 0);(0,h.assert)(k.Rm.Rc,"Ad break must be defined for ad break presenting");this.Al=new g.xya(this.Ta,this.Hd,this.events,k.Rm.Rc,this.console);};m.prototype.Z7=function(k){var n,p,q;q=k.Rm.Rc || (null === (n=this.Al) || void 0 === n?void 0:n.Rc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Al?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.oj," is ") + ("").concat(q.Ye.length?"not ":"","empty, ") + ("has ").concat(q.Mq?"":"not ","played"):"no ad break"));if(0 === (null === (p=k.Rm.Rc) || void 0 === p?void 0:p.Ye.length))((0,h.assert)(!this.Al,"Received ad break complete for empty ad break during ad break"),k.Rm.Rc.l0b(),this.a8(k));else if(!this.Al)return;this.Al.Z7(k.Rm.position);this.Wo+=this.Al.pxa;this.Al=void 0;};m.prototype.Cra=function(k){var n,p,q;(0,h.assert)(this.Al,"Expect to be in ad break when ad presenting is received");(0,h.assert)(this.Al.Rc === k.Rm.Rc,"Expect to be in correct ad break when ad presenting is received");p=this.Ta.fT(k.Rm.position.I)[0];q=k.Rm.Jp;this.Al.Cra(k.Rm.gf,null === p || void 0 === p?void 0:p.pa,k.Rm.position.I,q,null !== (n=null === p || void 0 === p?void 0:p.Ab) && void 0 !== n?n:q);};m.prototype.jv=function(){var k;return {"break":null === (k=this.Al) || void 0 === k?void 0:k.jv(),errors:this.Wo};};return m;})();b.Fya=a;},53997:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Gya=void 0;c=a(3005);l=a(83981);f=a(53875);h=a(71168);d=a(43003);g=a(66814);m=a(93867);k=a(2976);r=(function(){function n(p,q,u,t,w,v){this.M1=v;this.ONa=new c.yya(q,p,u,t);this.kpb=new l.Oya(u,t,this.We);this.ZD=new f.UJa(this,u,p);this.Cfa=new h.Fya(this.ZD,u,u.Hd,p);this.NNa=new m.wya(w,this.ZD,t,t.Xp,q,p);u.Sv.Xe(new g.Cya(this.ZD,this.We,this.Cfa));u.Sv.Xe(new k.Bya(this.ZD,this.We,this.NNa));this.ONa.va(this.Cfa.events,this.ZD.events,this.NJ);this.Hmb=new d.zya(u,this.We);}Object.defineProperties(n.prototype,{We:{get:function(){return this.ONa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{PM:{get:function(){return this.kpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{x7a:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hoa:{get:function(){return this.Cfa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kqb:{get:function(){return this.Hmb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{NJ:{get:function(){return this.NNa;},enumerable:!1,configurable:!0}});n.prototype.bi=function(p){return this.ZD.bi(p);};return n;})();b.Gya=r;},78085:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eS=void 0;c=a(5163);l=a(50164);f=a(46250);h=a(45894);d=a(88801);g=a(81134);b.eS=function(m,k,n){var p,q,u,t,w;p=c.__assign({Tba:f.Sba},m).Tba;q=k.TV[5];u=(0,h.Sra)(function(){return w;});q.DQa(u.po);m=new l.$ca();t={Vg:void 0,Lc:void 0,Ta:void 0,Foa:m,c3a:"ads"};t.Vg=new p(function(){return t.Lc.ga;},m,k.TV[2],"Ads:");w=new g.Lya(t,u.Fbb,d.Jv.Jua.tN,q);p=k.jha;k.jha=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Ta=n(k);t.Lc=d.Jv.xta(t.Ta,w,function(){return t;},p);w.va();m.va(t.Ta);m.f9();return t.Lc;};},81134:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Lya=void 0;c=a(5163);l=a(57055);f=a(49730);h=a(23710);d=a(33285);g=a(62558);r=a(61341);m=a(83386);k=a(53997);a=(function(n){function p(q,u,t,w){q=n.call(this,q,u,t,"AdsPlaygraphHost",!1) || this;q.ps=w;q.eJ=void 0;q.Psa=new l.Qe();q.B3a=new m.Zda();q.M1=new l.EventEmitter();return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{Lc:{get:function(){return this.Xk.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ss:{get:function(){var q;q=this.DA(this.Lc.ga);if(q !== this.Lc.ga)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sc:{get:function(){return this.eJ;},enumerable:!1,configurable:!0}});p.prototype.va=function(){var q;q=this;n.prototype.va.call(this);this.Xk.Ta.Xe(new h.Mya(this.Xk));this.eJ=new k.Gya(this.V,this.Z,this.Ta,this.Lc,this.ps,this.M1);this.Xk.Ta.Sc=this.eJ;this.Sc.NJ.events.on("adBreakHydrated",function(u){return q.b8a(u);});this.Sc.NJ.events.on("adBreakHydrationFailed",function(u){return q.tf(u.error);});this.Sc.NJ.events.on("adBreakHydrationSkipped",function(u){return q.JWb(u);});};p.prototype.jC=function(q){var u,t,w,v,y;w=n.prototype.jC.call(this,q);if(w){(0,g.assert)(this.Sc,"missing manager");q=this.Sc.We.zV(q,null === (u=this.zL) || void 0 === u?void 0:u.Ah);u=q.Exa;v=q.TA;y=q.K7;q.$Qa && this.WM(y,u,null === (t=this.zL) || void 0 === t?void 0:t.Jp,v);}return w;};p.prototype.b8a=function(q){var u,t,w;w=q.Aha;q=w.zLb(q.K1,q.ph);(0,g.assert)(this.Sc,"missing manager");q && ((w=this.Sc.We.Ara(w,q,null === (u=this.zL) || void 0 === u?void 0:u.Ah))?(u=w.TA,this.WM(w.K7,w.Exa,null === (t=this.zL) || void 0 === t?void 0:t.Jp,u)):this.WM());};p.prototype.JWb=function(q){this.Sc.We.Bra(q.vd.toString(),q.ph);this.WM();};p.prototype.tf=function(q,u,t,w,v,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Sc.Kqb.Hna(u));z?this.WM():A=this.Xk.Ta.tf(q,u,t,w,v,y,x);return A;};p.prototype.sC=function(q,u){var t,w,v,y,x;t=this;this.Gva(q,u);w=this.Lc.Hd.qa;this.Psa.clear();this.Psa.addListener(w,"stopStart",function(){w.hi && (t.zL=void 0,t.Psa.clear());});if(this.Sc.We.i0a(q)){f.K && this.V.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));v=this.Sc.We.i8(q);y=v.Ah;x=v.TA;if(v=v.K7)(f.K && this.V.trace("ads::seekStreaming: ads playgraph was updated"),this.WM(v,q,u));f.K && this.V.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Ta.H9(y,u,x);}else this.Ta.sC(q,u);};p.prototype.WM=function(q,u,t,w){var v;v=this;this.B3a.lha || this.B3a.Jeb(function(){v.Uta(q,v.Lc.ga,u,t,w);v.M1.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.DA=function(q){return this.Sc.We.DA(q);};p.prototype.Jf=function(q){n.prototype.Jf.call(this,q);this.zL=void 0;};p.prototype.Gva=function(q,u){this.zL={Ah:q,Jp:u};};c.__decorate([(0,d.Sb)({methodName:"ads::processViewableResponse"})],p.prototype,"jC",null);c.__decorate([(0,d.Sb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"b8a",null);c.__decorate([(0,d.Sb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"tf",null);c.__decorate([(0,d.Sb)({methodName:"ads::seekStreaming"})],p.prototype,"sC",null);c.__decorate([(0,d.Sb)({methodName:"ads::cancelStreaming"})],p.prototype,"Jf",null);return p;})(r.Mda);b.Lya=a;},12445:function(r,b,a){var l,f,h,d;function c(g,m){var k;k=m && g.M[m];if(k)return "content" !== k.type?c(g,k.Cb):m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Nya=void 0;l=a(42866);f=a(49730);h=a(62558);d=a(83981);r=(function(){function g(m,k,n,p){this.Fn=m;this.console=k;this.Ta=n;this.Lc=p;}g.prototype.gab=function(){this.i1=void 0;};g.prototype.rRa=function(m,k,n){var p,q,u,t,w,v,y,x,z;void 0 === n && (n=this.Ta.ga);q=this.Fn.qR[this.Lc.ga.M[m.I].J];u=k.LA(m);t=u;w=n.M[u.I];if(0 === u.offset.G)v=this.bna(n,q,u);else {"padding" === w.type && (u={I:w.Cb,offset:l.N.Ia});y=null === (p=this.Ta.X.GF()) || void 0 === p?void 0:p.u.id;if(y)x=y;else (p=c(n,n.xe),this.Ta.X.rp || !this.Ta.yj || this.Ta.rJ || p !== u.I?x=p:v=this.bna(n,q,k.LA({I:m.I,offset:l.N.Ia})));!v && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),v=this.cJb(x,u,n));}if(v)if(v.I){t={I:v.I,offset:l.N.Ia};z=u;}else this.i1=v.Rc;m={MKb:!!v,bGb:x,to:u};return z || "ad" !== w.type?{Ah:t,TA:z,H8:m}:{Ah:u,TA:u,H8:m};};g.prototype.Qva=function(m,k,n,p){if(this.i1)return (k=this.i1,this.i1=void 0,k);if((m=this.Fn.qR[m]) && m.length)if(n && k.I === p && k.offset.equal(l.N.Ia)){if((k=m[0],0 === k.fk && 0 === k.Ye.length && !k.Mq && !k.Pna))return k;}else if(!n)return this.vma(k.I,m);};g.prototype.cJb=function(m,k,n){var p,t,w;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(m," to ").concat(JSON.stringify(k)));if(n){p=this.Fn.qR[this.Lc.ga.M[n.M[k.I].Rb].J];n=n.M;m=n[m].Cb;for(var q=void 0,u=void 0;m;){t=n[m];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.vma(m,p);w && (u={Rc:w});}if(m === k.I)return (k=u && !u.I || q && "content" !== q?u:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(k)),k);"ad" === t.type && "ad" !== q && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(m)),q=(0,d.yF)(m),(0,h.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:m,Rc:p[null === q || void 0 === q?void 0:q.oj]});q=t.type;m=t.Cb;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.bna=function(m,k,n){var p,q;p=m.M;n=n.I;q=p[n].type;if("padding" === q)return this.bna(m,k,{I:p[n].Cb,offset:l.N.Ia});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",n);if("ad" === q)return (m=(0,d.yF)(n),(0,h.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:n,Rc:k[null === m || void 0 === m?void 0:m.oj]});if("content" === q){if(k=this.vma(n,k))return {Rc:k};}else f.K && (0,h.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.vma=function(m,k){m=(0,d.YYa)(m);(0,h.assert)(m,"Should have contentInfo from segment name");if(0 < m.jUa && (k=k[m.jUa - 1],0 === k.Ye.length && !k.Mq && !k.Pna))return k;};return g;})();b.Nya=r;},83981:function(r,b,a){var l,f,h;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {L1:parseInt(g[2]),oj:parseInt(g[1]),dG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {oj:parseInt(d[4]),dG:!0,IV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.YYa=b.yF=b.Oya=void 0;l=a(42866);f=a(25850);h=a(88873);r=(function(){function d(g,m,k){this.ss=g;this.Lc=m;this.We=k;}d.prototype.wGb=function(g){for(var m,k,n=c(null === g || void 0 === g?void 0:g.I),p=this.ss.ga,q,u=p.M[g.I],t=u,w=[g.I],v=this.Lc.ga.M[t.Rb].J;t && t.Rb === u.Rb && t.J !== v;){w.push(t.Cb);t=p.M[t.Cb];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.ss.ga.M[g.I];p=this.ss.ga.M[p];g=(null !== (m=g.ta) && void 0 !== m?m:Infinity) - g.sa;m=(null !== (k=p.ta) && void 0 !== k?k:Infinity) - p.sa;return {start:(null === n || void 0 === n?0:n.dG)?new h.Kaa(f.nI.start,g):void 0,end:(null === q || void 0 === q?0:q.dG)?new h.Kaa(f.nI.end,m):void 0};};Object.defineProperties(d.prototype,{Dy:{get:function(){if(this.ss.X.Qd)return this.tGb(this.ss.X.Hg);},enumerable:!1,configurable:!0}});d.prototype.tGb=function(g){var m,k,n;k=c(g.I);if(k){n=null === (m=this.Lc.Vg) || void 0 === m?void 0:m.Qt(g);m=this.We.ce[this.Lc.ga.M[n.I].J][k.oj];n=this.wGb(g);n=new h.bza(m,n.start,n.end);for(var p=this.ss.ga,q=p.M[g.I],u=q,t=-g.offset.G,w=this.Lc.ga.M[u.Rb].J;u && u.Rb === q.Rb && u.J !== w;){t+=u.ta - u.sa;u=p.M[u.Cb];}p=l.N.Ma(t);q=p.wa(n.IS.duration);k.dG && ("end" === k.IV?q=l.N.Ia:(u=n.l$.duration.wa(g.offset),q=q.wa(u)));n={Rc:n,progress:{Fqb:m.duration.wa(q),Hqb:1 - Math.max(0,q.G) / m.duration.G,Iqb:n.duration.wa(p),Jqb:1 - Math.max(0,p.G) / n.duration.G},position:g,index:k.oj};p=this.ss.ga.M[g.I];p=p.ta - p.sa;g=g.offset.G / p;k.dG?n.Q6a={oUb:g,msa:k.IV,o8:l.N.Ma(p)}:n.jA={gf:m.Ye[k.L1],uQa:g,index:k.L1};return n;}};d.prototype.vGb=function(g,m){var k,n;k=g.I;n=this.mKb(g);if(k=c(k))return (g=this.We.ce[n][k.oj],k.dG?{Rc:g,IV:k.IV}:{Rc:g,gf:g.Ye[k.L1]});if(g=this.We.Qva(n,g,m))return {Rc:g};};d.prototype.yF=function(g){return c(g);};d.prototype.mKb=function(g){var m,k;k=this.Lc;g=null === (m=k.Vg) || void 0 === m?void 0:m.Qt(g);return k.ga.M[g.I].J;};return d;})();b.Oya=r;b.yF=c;b.YYa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {jUa:parseInt(d[1])};};},9630:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;c=a(42866);l=a(62558);f=a(88873);r=(function(){function h(d,g){var m;m=this;this.Dxa=0;this.uu={};this.Gmb=1;d.on("adEvent",function(k){return m.XSb(k);});g.on("adBreakPresenting",function(k){return m.a8(k);});}Object.defineProperties(h.prototype,{qR:{get:function(){return this.uu;},enumerable:!1,configurable:!0}});h.prototype.N_b=function(d,g){this.uu[d]=g.map(function(m,k){return new f.cza(m,k);});};h.prototype.Ara=function(d,g){var m;m=this;this.uu[d].some(function(k){if(k.Ho.ph === g.ph)return (k.yLb(g,m.Gmb++),!0);});};h.prototype.Bra=function(d,g){this.uu[d].some(function(m){if(m.Ho.ph === g)return m.IN=!0;});};h.prototype.reset=function(){this.Dxa=0;};h.prototype.XSb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.uu).some(function(m){var k,n,p;m=null !== (k=(p=g.uu)[m]) && void 0 !== k?k:p[m]=[];(0,l.assert)(void 0 !== d.oj,"complete event should have an adBreakIndex");return null === (n=m[d.oj].Ye) || void 0 === n?void 0:n.some(function(q){return q.id == d.W.O?(q.Mq=!0,g.Dxa++,!0):!1;});});};h.prototype.a8=function(d){var g;g=this;Object.keys(this.uu).forEach(function(m){var k,n;(null !== (k=(n=g.uu)[m]) && void 0 !== k?k:n[m]=[]).forEach(function(p){p !== d.Rm.Rc && p.aBb();});});};h.prototype.xka=function(d){var g;g=this;Object.keys(this.uu).forEach(function(m){g.uu[m].forEach(function(k){k.Ye.forEach(function(n){n.id == d && (n.kU=!0);});});});};h.prototype.wYa=function(d,g){return (d=this.qR[d]) && (0,c.xc)(d,function(m){return m.fk === g;});};return h;})();b.Qya=r;},67979:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bza=b.Kaa=b.cza=void 0;c=a(42866);l=a(92128);f=a(31372);r=(function(){function d(g,m,k){var n,p;void 0 === k && (k=NaN);this.Ho=g;this.oj=m;this.PPa=k;this.IN=this.yOa=this.zOa=this.wfa=!1;this.DD=null !== (p=null === (n=g.Ye) || void 0 === n?void 0:n.map(function(q){return new f.Gaa(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{fk:{get:function(){return this.Ho.fk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pt:{get:function(){return this.Ho.Pt;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{s2:{get:function(){return this.Ho.s2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{G_b:{get:function(){return this.PPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cga:{get:function(){return this.Ho.Cga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){return this.DD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.DD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ye.reduce(function(g,m){return g.add(m.endTime.wa(m.startTime));},c.N.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hNb:{get:function(){return this.Mq || !this.KSa && !this.yOa?this.DD.every(function(g){return g.Mq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mq:{get:function(){return this.DD.length?this.DD.every(function(g){return g.Mq;}):this.wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KSa:{get:function(){return !this.wg && !!this.Ho.ph;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wg:{get:function(){return !!this.Ho.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pna:{get:function(){return this.zOa;},set:function(g){g && (this.zOa=!0);},enumerable:!1,configurable:!0}});d.prototype.l0b=function(){this.Ye.length || (this.wfa=!0);};d.prototype.yLb=function(g,m){var k,n;this.Ho=g;this.DD=null !== (n=null === (k=this.Ho.Ye) || void 0 === k?void 0:k.map(function(p){return new f.Gaa(p);})) && void 0 !== n?n:[];this.yOa=!0;this.PPa=m;this.IN=!1;};d.prototype.aBb=function(){this.Ho.ph && (this.wfa=this.Mq,this.Ho.Ye=void 0,this.DD=[],this.IN=!1);};return d;})();b.cza=r;h=(function(){function d(g,m){this.msa=g;this.rnb=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Ma(this.rnb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{vra:{get:function(){return this.Pob || (this.Pob=new d(l.nI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{zSb:{get:function(){return this.Oob || (this.Oob=new d(l.nI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Kaa=h;r=(function(){function d(g,m,k){this.PJ=g;this.UPa=m || h.vra;this.unb=k || h.vra;}Object.defineProperties(d.prototype,{l$:{get:function(){return this.UPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{IS:{get:function(){return this.unb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YKb:{get:function(){return this.UPa !== h.vra || this.IS !== h.zSb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.PJ.duration.add(this.l$.duration).add(this.IS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{o8:{get:function(){return this.l$.duration.add(this.IS.duration);},enumerable:!1,configurable:!0}});return d;})();b.bza=r;},31372:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gaa=void 0;c=a(42866);r=(function(){function l(f){this.gf=f;this.kU=this.Mq=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.gf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.N.Ma(this.gf.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.N.Ma(this.gf.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hA:{get:function(){return this.gf.hA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{D$:{get:function(){return this.gf.D$;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$s:{get:function(){return this.gf.$s;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XN:{get:function(){return this.gf.XN;},enumerable:!1,configurable:!0}});return l;})();b.Gaa=r;},88873:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(31372),b);r.__exportStar(a(67979),b);r.__exportStar(a(63755),b);},53875:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.UJa=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(49730);d=c.__importDefault(a(35471));g=a(97810);m=a(62558);r=(function(){function k(n,p,q){var u;u=this;this.Sc=n;this.Ta=p;this.mfa=new l.Qe();this.Dfa=!1;this.V=(0,g.Nh)(d.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Ta.events.on("playerChanged",this.y7a.bind(this));this.y7a();this.Sc.M1.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.We.events.on("adSegmentDropped",function(t){u.YSb(t);});}Object.defineProperties(k.prototype,{WT:{get:function(){return this.Dfa;},enumerable:!1,configurable:!0}});k.prototype.bi=function(n){var p;if(!this.Ta.Nq)return (h.K && this.V.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Ta.X;if(!p.eT(n))return (h.K && this.V.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);h.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p.Nd.mb()," -> ").concat(n.mb()));n=n.greaterThan(p.Nd)?(0,g.vla)(p.Va,p.Nd,n):(0,g.vla)(p.Va,n,p.Nd);p=!n.some(function(q){return "content" !== q.u.u.type;});h.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Ab.G,"..").concat(q.Ab.G);})));return p;};Object.defineProperties(k.prototype,{We:{get:function(){return this.Sc.We;},enumerable:!1,configurable:!0}});k.prototype.y7a=function(){var n,p;n=this;this.V.trace("Player changed",this.Ta.Nq);this.mfa.clear();if(this.Ta.Nq){p=this.Ta.X;this.mfa.addListener(p.events,"segmentPresenting",function(q){return n.Fv(q);});this.mfa.addListener(p.events,"playbackEnding",function(q){return n.Ora(q);});}};k.prototype.Fv=function(n){var p,q,u,t,w;p=this.PM.vGb(n.position,!!n.seek);if(p){q=p.Rc;u=p.gf;h.K && this.V.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.PM.Dy;w={Jp:n.playerTimestamp,position:n.position,Rc:q};this.WT || (q.Ye.length?this.Gqb(t,w):q.wg || u?this.iA(n.playerTimestamp,n.position,q):h.K && this.V.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Bl(t,w,u);}!this.WT || p && "end" !== p.IV || this.iA(n.playerTimestamp,n.position);this.WT && !p && this.nQa(n.position);};k.prototype.Ora=function(n){this.WT && this.YMb(n.position) && (this.iA(n.playerTimestamp,n.position),this.nQa(n.position));};k.prototype.Gqb=function(n,p){(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");h.K && this.V.trace("Emitting adBreakPresenting");this.Dfa=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,Rm:p});};k.prototype.Bl=function(n,p,q){h.K && this.V.trace("Emitting adPresenting");(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,Rm:c.__assign(c.__assign({},p),{gf:q})});};k.prototype.iA=function(n,p,q){h.K && this.V.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Rm:{Jp:n,position:p,Rc:q}});};k.prototype.nQa=function(n){this.Dfa=!1;h.K && this.V.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};k.prototype.dma=function(n){var p,q,u,t;p=this;q={gsb:[],result:{}};u=this.We.Qu;t=Object.keys(u).filter(function(w){return u[w];});if(null === n || void 0 === n?0:n.ueb)t=t.filter(function(w){var v;return -1 !== (null === (v=n.ueb) || void 0 === v?void 0:v.indexOf(w));});q.gsb=t;t.forEach(function(w){var v,y,x;y=null === (v=u[w]) || void 0 === v?void 0:v.ce;if(y){v=p.EEb(w,y);x=p.We.ce[w];q.result[("").concat(w)]=v.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].hNb});});}});return q;};Object.defineProperties(k.prototype,{PM:{get:function(){return this.Sc.PM;},enumerable:!1,configurable:!0}});k.prototype.EEb=function(n,p){var q,u;q=[];u=[];this.We.ce[n].forEach(function(t){return t.Ye.forEach(function(w){w.kU && -1 === u.indexOf(w.id) && u.push(w.id);});});p.forEach(function(t){var w,v;t=c.__assign({},t);v=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=v;q.push(t);});return q;};k.prototype.YSb=function(n){var p,q,u,t;p=this;q=n.adId;u=this.We.Qu;n=Object.keys(u).filter(function(w){return u[w];});t=this.Ta.ga.M;n.forEach(function(w){var v,y;null === (y=null === (v=u[w]) || void 0 === v?void 0:v.ce) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ye) || void 0 === A?void 0:A.forEach(function(B,D){B.id === q && (B=(0,f.xc)(Object.keys(t),function(C){C=p.PM.yF(C);return !C || C.dG?!1:D === C.L1 && z === C.oj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Pt,reason:"network_error",sev:"error",segmentId:B});});});});};k.prototype.YMb=function(n){var p;p=this.Ta.navigator;return (n=p.Pd(n.I)) && !p.PKb(n);};return k;})();b.UJa=r;},40376:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;c=a(5163);l=a(42866);f=a(42866);h=a(93161);d=a(27364);g=a(49730);m=a(56405);k=a(62558);n=a(7881);r=(function(){function p(q,u,t,w,v,y,x,z,A,B){var D;D=this;this.Aa=q;this.Hd=u;this.events=t;this.Rc=w;this.gf=v;this.Hga=y;this.N1=x;this.Dqb=z;this.tR=A;this.console=B;this.bm=h.platform.time.now();this.YH=new Map();this.Wo=0;(0,k.assert)(y.W,"Presenting ad should have a manifest");this.vQa=u.Fx(function(){return D.U3b();},"impressionLogging");this.Aa.X.gC.forEach(function(C,F){(C=C.$Eb(m.iba)) && D.YH.set(F,C);});}Object.defineProperties(p.prototype,{pxa:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});p.prototype.Qa=function(){this.vQa.Qa();};p.prototype.U3b=function(){var q,u,t,w,v,y,x,z,A,B,D,C,F,G,E;return c.__generator(this,function(J){switch(J.label){case 0:(g.K && this.console.trace("AdImpressionLogger: starting at",this.tR.mb()),q=this.gf,this.sTa(),u=0,t=this.tR,w=this.tR.add(q.endTime),v=this.Dqb,J.label=1);case 1:(J.Oj.push([1,,12,13]),(0,k.assert)(null === (F=q.hA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.hA.start,u,t,!1),(0,k.assert)(q.D$,"Timed event info should be defined"),J.label=2);case 2:(J.Oj.push([2,7,8,9]),y=c.__values(q.D$),x=y.next(),J.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.tR.add(l.N.Ma(z.Pwa));g.K && this.console.trace(("AdImpressionLogger[").concat(this.N1,"]: waiting for ").concat(z.Pwa,"ms timed event") + (" at ").concat(t.mb()));return [4,n.Rg.Ut(t)];case 4:(J.Ra(),v=t,this.emit(z,z.Pwa,t,!1),J.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=J.Ra(),D={error:A},[3,9]);case 8:try{x && !x.done && (C=y.return) && C.call(y);}finally{if(D)throw D.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;g.K && this.console.trace(("AdImpressionLogger[").concat(this.N1,"]: waiting for end of ad at ").concat(t.mb()));return [4,n.Rg.Ut(t)];case 10:(J.Ra(),v=t,J.label=11);case 11:return [3,13];case 12:this.Aa.X.Qd && (v=this.Aa.X.Nd);if(v.fi(w))((0,k.assert)(null === (G=q.hA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.hA.complete,q.endTime.G,w,!0));else if(null === (E=q.hA) || void 0 === E?0:E.stop)(B=v.wa(this.tR).G,this.emit(q.hA.stop,B,v,!0));this.sTa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,w){g.K && this.console.trace(("AdImpressionLogger[").concat(this.N1,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.mb()));u={I:this.N1,offset:l.N.Ma(u)};t=this.Xma(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{vh:u,Iv:t,W:this.Hga.W,bm:this.bm,ogc:w?h.platform.time.now():-1,qE:this.Rc.Pt,oj:this.Rc.oj,XN:this.gf.XN,$s:this.gf.$s}));}catch(v){this.console.error("Impression error event",v);this.Wo++;}};p.prototype.Xma=function(q){var u,t,w;u=this.Hga.W.O;t=c.__read(this.i_a(q,this.YH.get(d.v.ea),u),2);w=t[0];t=t[1];q=c.__read(this.i_a(q,this.YH.get(d.v.Y),u),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.i_a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.x1b(q,t)) || [];q=(0,f.flatten)(q.map(function(w){return Object.keys(w.fF).map(function(v){v=w.fF[v];return {Tb:v.Tb,duration:v.totalTime,Gm:w.Gm};});}));u=q.reduce(function(w,v){return w + v.duration;},0);g.K && this.console.trace("Getting playtime journal",{O:t,Afc:q.length,totalTime:u});return [q,u];};p.prototype.sTa=function(){var q,u,t;t=this.Hga.W.O;null === (q=this.YH.get(d.v.ea)) || void 0 === q?void 0:q.e9a(t);null === (u=this.YH.get(d.v.Y)) || void 0 === u?void 0:u.e9a(t);};p.prototype.jv=function(){return {ad:this.vQa.jv(),errors:this.Wo};};return p;})();b.SLa=r;},18679:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.eS=void 0;c=a(5163);l=a(50164);f=a(46250);h=a(88801);d=a(45894);b.eS=function(g,m,k){var n,p,q,u,t;n=m.TV;p=m.jha;g=c.__assign({Tba:f.Sba},g).Tba;q=n[5];n=(0,d.Sra)(function(){return t;});q.DQa(n.po);k=k(m);q=new l.$ca();q.va(k);u={Vg:void 0,Lc:void 0,Ta:k,Foa:q,c3a:"content"};u.Vg=new g(function(){return u.Lc.ga;},q,m.TV[2]);t=new d.hBa(u,n.Fbb,h.Jv.Jua.tN);u.Lc=h.Jv.xta(k,t,function(){return u;},p);return u.Lc;};},45894:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Sra=b.hBa=void 0;c=a(5163);l=a(50954);f=a(53405);h=a(33285);d=a(62558);r=(function(g){function m(k,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,k,n,p,q,!0) || this;q.Xk=k;q.u6a=n;q.b$a=p;k.Ta.Xe(new f.iBa(q));return q;}c.__extends(m,g);m.prototype.jC=function(k){var n,p;n=g.prototype.jC.call(this,k);if(n){p=k.W.Jm;p && !this.y0 && (this.$ea.us({applyingContentPlaygraph:!0}),this.y0=p,this.Snb=this.Vwb(k.W),this.Uta());}return n;};Object.defineProperties(m.prototype,{g0a:{get:function(){return this.Snb;},enumerable:!1,configurable:!0}});m.prototype.DA=function(k){if(this.y0)return (k=c.__assign(c.__assign({},k),{M:c.__assign({},k.M)}),(0,l.Fqa)(k,this.y0.ga));};m.prototype.Vwb=function(k){var n,p;n=k.cp;p=k.iB;return !(!n || !n.some(function(q){return q.iB !== p;}));};Object.defineProperties(m.prototype,{Jm:{get:function(){var k;return null === (k=this.y0) || void 0 === k?void 0:k.ga;},enumerable:!1,configurable:!0}});c.__decorate([(0,h.Sb)({methodName:"processViewableResponse"})],m.prototype,"jC",null);return m;})(a(61341).Mda);b.hBa=r;b.Sra=function(g){var m;m=[];return {po:function(k,n){var p,q,u,t,w,v,y;u=k.J;t=k.rW;w=g();if(w.Kha && w.Kha !== u){v=null === (p=null === t || void 0 === t?void 0:t.Hf) || void 0 === p?void 0:p.bc;p=null === (q=null === t || void 0 === t?void 0:t.Hf) || void 0 === q?void 0:q.vd;q=w.bc;t=w.Kha;(0,d.assert)(t,"did not receive parent viewable id");t={Hf:{bc:null !== v && void 0 !== v?v:q,vd:null !== p && void 0 !== p?p:t}};}w.Ta.console.trace("In wrapped request viewable",u,t);y=n(c.__assign(c.__assign({},k),{rW:t}));m.forEach(function(x){return x({J:u,fz:y.fz});});return y;},Fbb:function(k){m.push(k);}};};},96855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sja=void 0;c=a(88801);l=a(65316);b.sja=function(f,h){var d;f=h(f);d=new l.YJa(f,c.Jv.Jua.tN);return c.Jv.xta(f,d,function(){return d.Xk;});};},19332:function(r,b,a){var l,f,h,d;function c(g,m){return m && !Array.isArray(m) && -1 === m.fXa.indexOf(g)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Bja=void 0;l=a(5163);r=a(57055);f=a(91795);h=a(28445);d=(function(g){function m(k,n){var p;p=g.call(this) || this;p.UPb=k;p.p1a=n;p.nfa={};return p;}l.__extends(m,g);m.prototype.emit=function(k){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.prototype.emit.call(this,k,this.UPb(k,n[0]));};m.prototype.subscribe=function(k){var n,p;n=this;if(!this.listeners(k).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,l.__spreadArray([k],l.__read(q),!1));};this.nfa[k]=p;this.p1a.addListener(k,p);}};m.prototype.addListener=function(k,n){this.subscribe(k);g.prototype.addListener.call(this,k,n);return this;};m.prototype.removeListener=function(k,n){g.prototype.removeListener.call(this,k,n);n=this.nfa[k];!this.listeners(k).length && n && (this.p1a.removeListener(k,n),this.nfa[k]=void 0);return this;};m.prototype.on=function(k,n){this.addListener(k,n);return this;};m.prototype.ar=function(k,n){this.removeListener(k,n);return this;};m.prototype.once=function(k,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(k,p);return this;};m.prototype.L8=function(k,n){this.subscribe(k);g.prototype.L8.call(this,k,n);};m.prototype.V7a=function(k,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.L8(k,p);};return m;})(r.EventEmitter);b.Bja=function(g,m,k,n){return new d(function(p,q){var u,t;t=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return u.length?(0,h.x9)(g,q,k,{rules:u,dm:!1,hha:!0},f.gu.sxa,t):q;},m);};},46250:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Sba=void 0;c=a(5163);l=a(50954);f=a(42866);h=c.__importDefault(a(35471));d=a(33285);g=a(58726);m=a(62558);k=a(89847);n=a(49730);p=a(59322);r=(function(){function q(u,t,w,v){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.$w=u;this.x0=t;this.config=w;this.console=new h.default.Console("GRAPHLOCATIONSERVICE");this.fh=new d.tu({dn:this,source:(v || "") + "GraphLocation",console:this.console});(0,p.Wta)(this,"d",new p.Cca(w,y));(0,p.Wta)(this,"u",new p.Cca(w,y));"temp" !== v && (null === (z=this.x0.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.PYa)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.$w();},enumerable:!1,configurable:!0}});q.prototype.deb=function(u,t){return new q(function(){return u;},{nV:t,rxa:t},this.config,"temp");};q.prototype.LA=function(u){var t,w,v;n.K && this.console.trace("downConverting",u);t=this.parent;w=this.x0;v=w.nV;if(t === w.rxa)return u;if(v.M[u.I])return (t.M[u.I] || n.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);w=(0,g.Pia)(u,t);u=(0,l.eeb)(t,v,{offset:w.O2.G,u:u.I});u={offset:w.Ln.add(f.N.Ma(u.offset)),I:u.u};n.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Qt=function(u){var t,w,v;n.K && this.console.trace("upConverting",u);t=this.parent;w=this.x0;v=w.nV;if(t === w.rxa)return u;if(t.M[u.I])return (v.M[u.I] || n.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);w=(0,g.Pia)(u,v);u=(0,l.LTa)(t,v,{offset:w.O2.G,u:u.I});u={offset:w.Ln.add(f.N.Ma(u.offset)),I:u.u};n.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.dIb=function(u){var t;t=(0,l.WYa)(this.parent,this.x0.nV,{u:u.I,offset:u.offset.G});t=(0,k.O2a)(t);(0,m.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Sb)({methodName:"downConvertPosition",ak:!0,rq:!0,return:!0}),(0,p.lia)("d")],q.prototype,"LA",null);c.__decorate([(0,d.Sb)({methodName:"upConvertPosition",ak:!0,rq:!0,return:!0}),(0,p.lia)("u")],q.prototype,"Qt",null);return q;})();b.Sba=r;},88801:function(r,b,a){var h,d,g,m,k,n,p,q,u;function c(t,w){var v,y,x,z;z=t.Lc.ga.M[w];z && z.Rb && t.Lc.Sc && (z=Number(z.Rb.replace(":main","")),(w=(0,p.yF)(w)) && (x=null === (y=null === (v=t.Lc.Sc.We.ce[z]) || void 0 === v?void 0:v[w.oj]) || void 0 === y?void 0:y.Pt));return x;}function l(t,w,v,y){var x;return w === k.gu.wS?(w=d.N.Ia,(null === y || void 0 === y?void 0:y.ggc) === u.end && (w=d.N.Ma(null !== (x=v.Lc.ga.M[t].ta) && void 0 !== x?x:0),(0,g.assert)(0 < w.G,"EndTime must be non null")),v.Vg.LA({offset:w,I:t}).I):v.Vg.Qt({offset:d.N.Ia,I:t}).I;}function f(t,w,v){return w === k.gu.sxa?v.Vg.Qt(t):v.Vg.LA(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Jv=void 0;h=a(5163);d=a(42866);g=a(62558);r=a(93079);m=a(74251);k=a(91795);n=a(93514);p=a(83981);q=a(36479);a=(0,m.a$a)();a=(0,r.wSa)()({Z3a:"combinedPlaygraph",tN:{vh:a()({map:f,rx:q.b2a}),Qd:a()({map:function(t,w,v,y){var x;x=(null === y || void 0 === y?0:y.Sp)?(0,q.V4)(t,y.Sp):t.position;w=f(x,w,v);t=(0,q.T2)(t,null === y || void 0 === y?void 0:y.Sp);(null === y || void 0 === y?0:y.Sp)?(0,q.X$a)(t,y.Sp,w):t.position=w;return t;},rx:function(t,w,v){return (null === v || void 0 === v?0:v.Sp)?(0,q.V4)(t,v.Sp):(0,q.Qd)(t);}}),cya:a()({map:function(t,w,v,y){if(w === k.gu.wS)return t.inner;w=(0,q.T2)(t,null === y || void 0 === y?void 0:y.Sp);w.inner || (w.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).mib && (w.gctag=void 0));return w;},rx:function(t,w,v){return (null === v || void 0 === v?0:v.Sp)?"object" === typeof (0,q.V4)(t,v.Sp):"object" === typeof t;}}),I:a()({map:l,rx:q.f2a}),IW:a()({map:function(t,w,v,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;w=l(z,w,v,y);return t.I?h.__assign(h.__assign({},t),{I:w}):h.__assign(h.__assign({},t),{segmentId:w});},rx:q.k0a}),iUa:a()({map:function(t,w,v){w === k.gu.wS?(t=(0,n.Dx)(v.Lc.ga,t.J,t.zq,{o$a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=v.Vg.LA(t),w=t.I,t=t.offset,w=v.Ta.ga.M[w],v=w.J,w=w.sa,t=d.N.Ma(w).add(t)):(t=(0,n.Dx)(v.Ta.ga,t.J,t.zq,{o$a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=v.Vg.Qt(t),w=t.I,t=t.offset,w=v.Lc.ga.M[w],v=w.J,w=w.sa,t=d.N.Ma(w).add(t));return {zq:t,J:v};},rx:q.L1a}),Zha:a()({rx:q.I1a,map:function(t,w,v){var y,x,z,A,B;if(w === k.gu.wS){w={I:t.u.id,offset:d.N.Ia};z=v.Vg.LA(w);w=v.Ta.ga.M[z.I];v=v.Lc.ga.M[t.u.id];A=w.ta;B=w.sa;A=null !== (y=A && A - B) && void 0 !== y?y:0;v=t.ue.add(d.N.Ma(w.sa - v.sa));return {ue:v,TG:t.fr.add(d.N.Ma(A)),fr:t.fr,u:{id:z.I,Vd:d.N.Ma(w.sa),Nf:d.N.Ma(null !== (x=w.ta) && void 0 !== x?x:0)}};}w={I:t.u.id,offset:d.N.Ia};x=v.Vg.Qt(w);B=v.Foa.nV;w=B.M[t.u.id];z=v.Lc.ga.M[x.I];y=d.N.Ma(null !== (A=z.ta && z.ta - z.sa) && void 0 !== A?A:0);z.ta && Infinity !== z.ta || (A=v.Vg.dIb(x),B=B.M[A],B.ta && (y=v.Vg.Qt({I:A,offset:d.N.Ma(B.ta - B.sa)}).offset));A=t.fr.wa(x.offset);B=A.add(y);v=t.ue.add(d.N.Ma(z.sa - w.sa));t=d.N.Ma(z.sa);w=y.add(t);return {ue:v,TG:B,fr:A,u:{id:x.I,Vd:t,Nf:w}};}}),ktb:a()({rx:function(t){return "segmentPresenting" === t.type;},map:function(t,w,v){var y;t=(0,q.T2)(t);if(w=t.metrics){y=c(v,w.destPosition.I);void 0 !== y && (t.metrics.adBreakLocationMs=y);y=c(v,w.srcStartPosition.I);void 0 !== y && (t.metrics.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.Qbc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Jv=a;},32837:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z7a=void 0;b.z7a={"*":{fXa:["logdata"],rules:[{Hj:function(a){return a.cya;}}]},segmentPresenting:[{Hj:function(a){return a.cya;},config:{Sp:["metrics"]}},{Hj:function(a){return a.Qd;}},{Hj:function(a){return a.Qd;},config:{Sp:["metrics","srcStartPosition"]}},{Hj:function(a){return a.Qd;},config:{Sp:["metrics","srcTransitionPosition"]}},{Hj:function(a){return a.Qd;},config:{Sp:["metrics","destPosition"]}},{Hj:function(a){return a.ktb;}}],streamPresenting:[{Hj:function(a){return a.Qd;}}],segmentAppended:[{Hj:function(a){return a.IW;}}]};},65316:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YJa=void 0;c=a(5163);l=a(33285);f=a(97810);h=c.__importDefault(a(35471));d=a(19332);g=a(32837);r=(function(){function m(k,n){var p;p=this;this.bU=k;this.events=(0,d.Bja)(function(){return p.Xk;},this.bU.events,n,g.z7a);this.Xnb=(0,f.Nh)(h.default,this.bU.console,"PLAYERHOST");new l.tu({fo:10,dn:this,source:"PlayerHost",console:this.Xnb});}m.prototype.Via=function(){this.Xk=void 0;};m.prototype.Eva=function(k){this.Xk=k;};c.__decorate([(0,l.Sb)({methodName:"clearProxyPlaygraphContext"})],m.prototype,"Via",null);c.__decorate([(0,l.Sb)({methodName:"setProxyPlaygraphContext"})],m.prototype,"Eva",null);return m;})();b.YJa=r;},43247:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B7a=void 0;b.B7a={"*":{fXa:["logdata"],rules:[{Hj:function(a){return a.cya;}}]},locationSelected:[{Hj:function(a){return a.IW;}}],segmentComplete:[{Hj:function(a){return a.IW;}}],segmentStarting:[{Hj:function(a){return a.IW;}}],serverSwitch:[{Hj:function(a){return a.IW;}}],streamSelected:[{Hj:function(a){return a.Qd;}}]};},61341:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Mda=void 0;c=a(5163);l=a(42866);f=a(42866);h=a(48641);d=a(33285);g=a(27364);m=a(62558);k=a(49730);n=a(57206);p=a(69287);q=a(19332);u=a(43247);r=(function(){function t(w,v,y,x,z){var A;void 0 === x && (x="CphAsePlaygraph");void 0 === z && (z=!0);A=this;this.Xk=w;this.u6a=v;this.b$a=y;this.T3b=x;this.Vnb=new n.Vda();z && this.va();this.u6a(function(B){var D;D=B.fz;return c.__awaiter(A,void 0,void 0,function(){var C;return c.__generator(this,function(F){switch(F.label){case 0:return [4,D];case 1:return (C=F.Ra(),this.jC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Ta:{get:function(){return this.Xk.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ih:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vg:{get:function(){return this.Xk.Vg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Ta.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Z:{get:function(){return this.Ta.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{g0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.va=function(){var w,v,y;w=this;v=this.Xk;this.$ea=new d.tu({fo:10,dn:this,source:this.T3b,console:this.V});this.events=(0,q.Bja)(function(){return v;},v.Ta.events,this.b$a,u.B7a);this.lj=v.Ta.ga;y=v.Vg;v.Ta.Xe(new h.Qw(this.$ea));v.Ta.Xe(new h.Qw(v.Vg.fh));v.Ta.Xe(new p.GAa(("").concat(v.c3a,"::gls"),y));v.Ta.events.on("playgraphUpdating",function(){w.Xk.Foa.f9();});};t.prototype.Vu=function(w){var v,y,x;x=null !== (v=this.X) && void 0 !== v?v:this.Ta.X;this.X=w;w.Eva && w.Eva(this.Xk);(v=this.Xk.Ta.Vu(null !== (y=w.bU) && void 0 !== y?y:w))?(this.X=w,x !== w && x.Via && x.Via()):this.X=x;return v;};t.prototype.Uta=function(w,v,y,x,z){(w=null !== w && void 0 !== w?w:this.DA(null !== v && void 0 !== v?v:this.lj)) && this.sTb(w,this.g0a,y,x,z);};t.prototype.sTb=function(w,v,y,x,z){var A,B,D,C,F,G,E;A=this.Xk.Lc;B=A.X;C=A.ga;if(D=y?y:A.Nq && B.Qd?B.Hg:A.Oq?A.Ah:void 0){F=this.Ta.ga.M[D.I];F && F.Rb && (D=this.Vg.Qt(D));}A.config.u6b && v && B.wC(!0);v=A.GZa();k.K && this.V.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(C)));k.K && this.V.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(w)));this.Vnb.set(w,!0);C=this.Ta.St(w);try{if(!C.ia || D && !B.Qd && !A.Oq || y && z)if(((0,m.assert)(!B.qa.hi,"Player is not paused:" + g.jq[C.reason]),A.Jf(!0),this.Ta.St(w),D)){G=this.Vg.LA(D);E=w.M[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Cb,offset:l.N.Ia});this.Gva(D,x);this.Ta.H9(G,x,z);B.resume();}}finally{v.release();}};t.prototype.St=function(w){var y,x,z;function v(){y.lj=w;}y=this;z=null !== (x=this.DA(w)) && void 0 !== x?x:w;try{return (this.Ta.events.V7a("playgraphUpdating",v),this.Ta.St(z));}finally{this.Ta.events.removeListener("playgraphUpdating",v);}};Object.defineProperties(t.prototype,{bc:{get:function(){return this.SNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Kha:{get:function(){var w,v,y,x;w=this;y=Object.keys(this.Ta.ga.M);if(y=(0,f.xc)(y,function(z){return !!w.Ta.ga.M[z].Rb;})){y=this.Ta.ga.M[y].Rb;x=this.ga.M[y];return null !== (v=null === x || void 0 === x?void 0:x.J) && void 0 !== v?v:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.jC=function(w){var v,y,x,z;y=w.W;x=y.bc;y=y.Jm;z=null !== (v=this.Z.ila) && void 0 !== v?v:[];if(y && z.some(function(A){return A == w.O;}))return (v=("").concat(w.O," was excluded from content playgraph"),this.$ea.us(v),k.K && this.V.trace(v),!1);x && !this.SNa && (this.SNa=x);return !0;};t.prototype.Jf=function(w){this.Ta.Jf(w);};t.prototype.Gva=function(){};c.__decorate([(0,d.Sb)({methodName:"attachPlayer"})],t.prototype,"Vu",null);c.__decorate([(0,d.Sb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"Uta",null);c.__decorate([(0,d.Sb)({methodName:"processViewableResponse"})],t.prototype,"jC",null);c.__decorate([(0,d.Sb)({methodName:"cancelStreaming"})],t.prototype,"Jf",null);return t;})();b.Mda=r;},36479:function(r,b,a){var l;function c(f,h){var d,g;d=l.__assign({},f);g=l.__read(null !== h && void 0 !== h?h:[],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(h=h.concat(),h.shift(),d[g]=c(f,h)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.X$a=b.T2=b.V4=b.I1a=b.L1a=b.f2a=b.k0a=b.b2a=b.Qd=void 0;l=a(5163);b.Qd=function(f){return !(null === f || void 0 === f || !f.position);};b.b2a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.k0a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.f2a=function(f,h){return "string" === typeof f && !(!h.Lc.ga.M[f] && !h.Ta.ga.M[f]);};b.L1a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.zq);};b.I1a=function(f){return !(null === f || void 0 === f || !f.ue);};b.V4=function(f,h){var d;d=f;h.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.T2=c;b.X$a=function(f,h,d){for(var g=0;g < h.length - 1 && f;g++){f=f[h[g]];}return f?(f[h[h.length - 1]]=d,!0):!1;};},58730:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.$za=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(97810);h=a(7881);d=a(49730);g=a(27364);m=r.__importDefault(a(35471));a=(function(){function k(n,p,q,u,t,w){this.Kd=n;this.Xp=p;this.config=q;this.ZSb=u;this.jf=t;this.console=w;this.lfa=new c.Qe();this.console=(0,f.Nh)(m.default,w,"BranchDecisionMaker");}k.OGb=function(n){var p;return null !== (p=n.Mb) && void 0 !== p?p:n.TG;};k.HHb=function(n){var p,q;p=n.u;q=n.rM;return p.Cb?p.Cb:q.length?q[0]:n.vy[0];};k.prototype.Zwa=function(n,p){var q,u,t,w;q=this;t=n.u;d.K && this.console.trace(("tracking ").concat(n.u.id));this.reset();if(t.tX || 1 >= t.vy.length && (null === (u=t.Rv) || void 0 === u || !u.length))d.K && this.console.trace(("").concat(n.u.id," does not need tracking"));else {w=this.Fub(n);u=w.ava;p=p.lessThan(w.NLb);d.K && this.console.trace(("tracking ").concat(n.u.id),{I:t.id,zcc:p,$fc:null === u || void 0 === u?void 0:u.G});this.ZZb(t,p?u:void 0);if(p)this.lfa.on(n.events,"branchEdited",function(){q.Zwa(n,q.Kd.qa.currentTime);});}};k.prototype.qTa=function(){var n;null === (n=this.nVa) || void 0 === n?void 0:n.Qa();this.nVa=void 0;};k.prototype.reset=function(){this.qTa();this.lfa.clear();};k.prototype.Fub=function(n){var p,q;n=k.OGb(n);p=l.N.Ma(this.config.A7);q=l.N.Ma(this.config.oRb + this.config.z7);p=n.wa(p);return {NLb:(0,g.Xn)(this.jf.value)?n.wa(q):p,ava:p};};k.prototype.ZZb=function(n,p){var q;q=this;this.qTa();this.nVa=p?this.Kd.EA(h.Rg.Ut(p),function(){return q.O3a(n);},"scheduled branch decision"):this.Xp.EA(h.Rg.A6b,function(){return q.O3a(n);},"immediate branch decision");};k.prototype.O3a=function(n){var p;this.lfa.clear();p=k.HHb(n);d.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(n.id,", decision is ").concat(p));this.ZSb(n.id,p,!0);};return k;})();b.$za=a;},10814:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mAa=void 0;c=a(5163);l=a(42866);f=c.__importDefault(a(35471));h=a(27364);d=a(62558);g=a(33285);m=a(7881);r=(function(){function k(n,p,q,u,t,w,v){var y;void 0 === v && (v=500);y=this;this.V=n;this.config=p;this.Ic=q;this.events=u;this.Vka=t;this.Kd=w;this.eub=v;this.jta=this.dia=0;this.o7=[];this.RK={bv:0};this.state=new l.gq(h.Yc.Wr);this.fh=new g.tu({fo:10,dn:this,source:"BufferStateTracker",VQa:function(){return {isBuffering:y.yj,alwaysRunUnderflowTimer:y.config.TJ};}});}Object.defineProperties(k.prototype,{bv:{get:function(){return this.RK.bv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yj:{get:function(){return (0,h.Xn)(this.state.value);},enumerable:!1,configurable:!0}});k.prototype.Axa=function(n){var p;p=this;Array.isArray(n) || (n=[n]);n.forEach(function(q){q.mediaType === h.v.ea && (p.rSa=c.__assign(c.__assign({},p.rSa),{audio:{trackId:q.trackId,trackIndex:q.WH}}));});};k.prototype.i8=function(n){this.set(h.Yc.Wr);this.gwa(n,h.Yc.Pe);};k.prototype.b8=function(){this.RK.bv++;};k.prototype.yV=function(n){this.config.TJ || void 0 === this.iy && this.yj && this.Gja();this.iy={Yx:n.httpCode,Ig:n.errorCode,Aj:n.nativeCode};};k.prototype.k8=function(){this.iy=void 0;this.config.TJ || this.C3();};k.prototype.wh=function(n){this.yj || (this.gwa(n,h.Yc.sl),this.yj && (this.iy || this.config.TJ) && this.Gja());};k.prototype.LTb=function(n,p){this.state.value !== h.Yc.Pe && this.gwa(n,h.Yc.h0);this.Axa(p);};k.prototype.kTb=function(n,p){var q;q=this;this.config.cub && this.yj && (-1 === this.o7.indexOf(n) && this.o7.push(n),2 === this.o7.length && Promise.resolve().then(function(){q.yj && void 0 !== q.Yv && q.Em("memoryLimit",p.fO,p.gO);}));};k.prototype.R_b=function(n,p){(0,d.assert)(this.state.value === h.Yc.Pe && void 0 === this.Yv);this.Yv=n;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.WH}),this.Axa(p));};k.prototype.c0b=function(n,p,q){(0,d.assert)(this.yj);this.zoa=null !== n && void 0 !== n?n:this.zoa;this.ZT=null !== p && void 0 !== p?p:this.ZT;void 0 === this.EL?this.EL=q:void 0 !== (null === q || void 0 === q?void 0:q.reason) && (this.EL.reason=q.reason);};k.prototype.Em=function(n,p,q){var u;(0,d.assert)(this.yj && void 0 !== this.Yv && void 0 === this.D2 && void 0 === this.Y$ && void 0 === this.G1);this.D2=n;this.Y$=p;this.G1=q;this.gp=100;this.Uia();this.C3();null === (u=this.Kia) || void 0 === u?void 0:u.Qa();this.state.value === h.Yc.sl && (this.jta=f.default.time.Ga());this.tCb();this.set(h.Yc.rm);this.G1=this.Y$=this.D2=this.EL=this.ZT=this.zoa=this.Yv=void 0;};k.prototype.stop=function(){var n;this.set(h.Yc.Wr);this.Uia();this.C3();null === (n=this.Kia) || void 0 === n?void 0:n.Qa();};k.prototype.Jia=function(n,p,q,u){var t,w,v,y,x,z,A,B,D,C;t=this;(0,d.assert)(this.yj);null === (w=this.Kia) || void 0 === w?void 0:w.Qa();if(this.state.value === h.Yc.sl && f.default.time.Ga() < this.jta + this.config.c5a){x=this.config.c5a - (f.default.time.Ga() - this.jta);this.Kia=this.Kd.EA(m.Rg.LC(l.N.Ma(x)),function(){t.Jia(n,p,q,u);});}else {w=q.IF(h.v.ea);z=q.IF(h.v.Y);A=f.default.time.Ga() - this.dia;if(w || z){B=function(F){return F?F.zB() || F.dt()?u.Iia(t.state.value,n,A >= t.config.UV,p,F,t.bv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=B(w);B=B(z);C=function(F){var G;return {reason:F.reason,complete:F.complete,bl:null !== (G=F.tA) && void 0 !== G?G:0};};this.fh.us({as:C(D),vs:C(B),bt:A});C=z?B:D;C.f6b=z && B.tA || 0;C.Qsb=w && D.tA || 0;D.complete && B.complete?(C.complete=!0,this.Em(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (v=C.f6b) && void 0 !== v?v:0,null !== (y=C.Qsb) && void 0 !== y?y:0)):(C.complete=!1,this.Eub(C),this.fh.us({bp:this.gp}));}}};k.prototype.Eub=function(n){var p,q,u;u=n.progress;n.Zpa?u=(f.default.time.Ga() - this.dia) / this.config.UV:u || (u=(null !== (p=n.tA) && void 0 !== p?p:0) / this.config.Zq);n=Math.min(Math.max(Math.round(100 * u),null !== (q=this.gp) && void 0 !== q?q:0),99);n != this.gp && (this.gp=n);};k.prototype.gwa=function(n,p){(0,d.assert)(p === h.Yc.Pe || void 0 !== n);this.Yv=n;this.gp=0;this.R7=void 0;this.RK.bv=0;this.o7=[];n=this.state.value === h.Yc.Pe || this.state.value === h.Yc.sl;this.dia=f.default.time.Ga();this.set(p);n || (this.vCb(),this.A0b());};k.prototype.set=function(n){this.state.set(n);};k.prototype.vCb=function(){(0,d.assert)(this.events && void 0 !== this.gp);this.R7=this.gp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.Ga(),percentage:this.gp});};k.prototype.A0b=function(){var n;n=this;this.Uia();this.hSb=this.Kd.AUa(function(){return n.uCb();},l.N.Ma(this.eub),"buffering-notification");};k.prototype.Uia=function(){var n;null === (n=this.hSb) || void 0 === n?void 0:n.Qa();};k.prototype.uCb=function(){this.yj && this.events && void 0 !== this.gp && this.gp !== this.R7 && this.events.emit("buffering",{type:"buffering",time:f.default.time.Ga(),percentage:this.gp}) && (this.R7=this.gp);};k.prototype.tCb=function(){var n;(0,d.assert)(this.events && this.Yv && void 0 !== this.D2 && void 0 !== this.G1 && void 0 !== this.Y$);this.R7=this.gp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.Ga(),actualStartPosition:this.Yv,reason:this.D2,aBufferLevelMs:this.G1,vBufferLevelMs:this.Y$,selector:this.zoa,initBitrate:this.ZT,initSelReason:null === (n=this.EL) || void 0 === n?void 0:n.reason},this.rSa));};k.prototype.Gja=function(){var n;n=this;this.config.Ndb && (!this.az || this.az.state !== m.Ak.complete && this.az.state !== m.Ak.$E?void 0 === this.az && (this.az=this.Kd.Fx(function(){return n.bdb();},"underflow")):this.az.Sf());};k.prototype.C3=function(){this.az && (this.az.state !== m.Ak.$E && this.az.Qa(),this.az=void 0);};k.prototype.bdb=function(){var n,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (n=this.config.X6,this.V.trace(("BufferingStateTracker: starting underflow timer: ").concat(n,"ms")),[4,m.Rg.LC(l.N.Ma(n))]);case 1:(u.Ra(),u.label=2);case 2:if(!this.yj)return [3,4];p=this.Ic.jOb || 0;q=f.default.time.Ga() - p;if(q >= n)return (this.V.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Vka.MTb(this.iy),[2]);this.V.trace(("BufferingStateTracker: network activity, wait ").concat(n - q,"ms"));return [4,m.Rg.LC(l.N.Ma(n - q))];case 3:return (u.Ra(),[3,2]);case 4:return [2];}});};c.__decorate([(0,g.Sb)({methodName:"onTemporaryNetworkError",ak:!0})],k.prototype,"yV",null);c.__decorate([(0,g.Sb)({methodName:"onUnderflow",ak:!0})],k.prototype,"wh",null);c.__decorate([(0,g.Sb)({methodName:"bufferingComplete",ak:!0})],k.prototype,"Em",null);c.__decorate([(0,g.Sb)({methodName:"stop",ak:!0})],k.prototype,"stop",null);c.__decorate([(0,g.Sb)({methodName:"checkStreamingBufferingComplete",ak:!0})],k.prototype,"Jia",null);c.__decorate([(0,g.Sb)({methodName:"createUnderflowTask",ak:!0})],k.prototype,"Gja",null);c.__decorate([(0,g.Sb)({methodName:"destroyUnderflowTask",ak:!0})],k.prototype,"C3",null);c.__decorate([(0,g.Sb)({methodName:"onUnderflowTimeout",ak:!0})],k.prototype,"bdb",null);return k;})();b.mAa=r;},43603:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tUa=void 0;c=a(5163);l=a(27364);b.tUa=function(f){var m,k;function h(n){(0,l.Xn)(n.newValue) && !(0,l.Xn)(n.oldValue)?(null === k || void 0 === k?void 0:k.Qa(),k=m.EA.apply(m,c.__spreadArray([],c.__read(d),!1))):null === k || void 0 === k?void 0:k.Qa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.kf;m=f.Xp;g.state.addListener(h);h({oldValue:l.Yc.Wr,newValue:g.state.value});};},98468:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ka=void 0;c=a(42866);b.$ka=function(l,f,h,d,g){var m,k;m=[];k=[];l=l.hm.values.filter(function(n){return n.Vn;}).map(function(n){var p,q;p=f(n.pa,h,d,g);q=p.map(function(u){return u.mediaType;});m=(0,c.UJ)(m,q);q=(0,c.sq)(p,n.Bd).map(function(u){return u.mediaType;});k=(0,c.UJ)(k,q);q=(0,c.sq)(n.Bd,p).map(function(u){return u.mediaType;});k=(0,c.UJ)(k,q);return {wb:n,Bd:p};});return {XSa:k,Qtb:l,Grb:m};};},58726:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Sua=b.Pia=b.Uk=b.T_a=b.feb=void 0;c=a(42866);l=a(62558);f=a(49730);b.feb=function(d,g){d=d.M[g.I];if(void 0 === d)return {PL:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {PL:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.ta || null === d.ta || Infinity === d.ta)return {PL:!0};d=d.ta - d.sa;return g.offset.G >= d?{PL:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{PL:!0};};h=c.N.Ma(100);b.T_a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.N.abs(d.offset.wa(g.offset));if(h.greaterThan(d))return !0;}return !1;};b.Uk=function(d,g,m){var k,n,p,q;p=g.Aa;g=g.mMb;void 0 === m && (m={});q=p.ga;p=p.navigator;q=p.Pd(null !== (k=null === g || void 0 === g?void 0:g.id) && void 0 !== k?k:q.xe);k=null !== (n=null === g || void 0 === g?void 0:g.m_b) && void 0 !== n?n:q.Vd;if(k.greaterThan(d))return m.v1b?{offset:d.wa(k),I:q.id}:void 0;g=p.z2a(q);for(p=g.next();!p.done;){n=p.value;p=n.Nf.wa(n.Vd);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.wa(q),f.K && (0,l.assert)(d.fi(c.N.Ia) && d.lessThan(p)),{I:n.id,offset:d});p=g.next();if(p.done && m.w1b)return {I:n.id,offset:d.wa(q)};}};b.Pia=function(d,g){g=g.M[d.I];return d.offset.lessThan(c.N.Ia)?{O2:c.N.Ia,Ln:d.offset}:g.ta && (g=c.N.Ma(g.ta - g.sa),g.isFinite() && d.offset.greaterThan(g))?{O2:g,Ln:d.offset.wa(g)}:{O2:d.offset,Ln:c.N.Ia};};b.Sua=function(d,g){d=d.M[g.I];if(void 0 !== d)return null === d.ta || void 0 === d.ta?{I:g.I,offset:c.N.max(c.N.Ia,g.offset)}:{I:g.I,offset:c.N.max(c.N.Ia,c.N.min(g.offset,c.N.Ma(d.ta - d.sa)))};};},124:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pDa=void 0;r=a(5163);c=a(42866);l=a(27364);f=r.__importDefault(a(95711)).default.ML;h=r.__importDefault(a(76733));d=r.__importDefault(a(35471));g=a(74377);m=a(62558);k=a(17329);a=(function(){function n(p,q,u,t,w){this.config=p;this.q1b=q;this.navigator=u;this.events=t;this.console=w;p=(0,g.l_a)(this.config);this.S9=p.S9.bind(p);this.Pva=p.Pva.bind(p);this.fma=p.fma.bind(p);this.Bna=p.Bna.bind(p);this.Q7a=[p.ata.bind(p),p.WV.bind(p)];}n.prototype.s_b=function(p,q,u,t,w,v,y,x){var z,A,B,D,C,F,G,E,J;A=[];if(!this.f7a(v.track,v.track.ha?v.track.gIb(t):void 0))return {stream:C,ZW:A,reason:"locationSelectionFailure"};B=v.cl;t=B.Ae;D=v.A4;C=t.$n;F=this.NJb(v,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.JSa))return {stream:void 0,ZW:A,reason:"allStreamsFiltered"};C && !C.track.equals(v.track) && (C=this.WEb(C,G));E=v.mediaType;if((y=E === l.v.ea) && C && !this.W0b(t,C))return (this.config.U_a && this.S9(C.bitrate),{stream:C,ZW:A});p=(0,l.Usa)(p);q=this.Azb(p,q,w,v,!!x);w=this.Q7a[E];x=y?this.Bna():this.fma();v=B.x$a(q,F,x,w,v.Y1a(),v.track.pa.Ox,D);if(!v)return {stream:C,ZW:A,reason:"streamSelectionFailure"};B={Ag:v.Ag,XV:v.XV};if(v.reason){J={reason:v.reason,p_b:v.Ys,Q5:v.Q5,kB:v.kB,lB:v.lB};this.Cvb(E,G,u);}this.xCb(E,v,G);C=G[v.Qh];u=C.bitrate;y?this.config.U_a && this.S9(u):this.Pva(u);t.kab(C);if(null === (z=v.ZE) || void 0 === z?0:z.length)A=v.ZE.map(function(M){return (0,c.xc)(G,function(L){return L.id === M;});}).filter(c.Q7);return {stream:C,ZW:A,EL:J,Gt:B,Gv:v.Gv,KEb:G,t_b:v};};n.prototype.Iia=function(p,q,u,t,w,v,y){var x,z,A;if(!(0,l.Xn)(q))return {complete:!0,reason:"playing"};if(!v.W7a)return {complete:!1,reason:"unknown"};if(v.eUb)return ((0,m.assert)(v.E6a),v.E6a);x=v.cl;z=x.Ae;u=this.JYa(v,u);A=z.$n;z=u.Im - u.Gd;if(z < this.config.Zq || void 0 === A)return {complete:!1,tA:z,reason:"preBuf"};if(v.mediaType === l.v.ea)return {complete:!0,tA:z,reason:"audio"};if(p=p.dTa(v.mediaType))return {complete:!0,tA:z,reason:p};this.f7a(v.track);p=new k.ZI();p.Yga([A]);x.P7a(p,(0,l.Usa)(q),u,this.Q7a[v.mediaType]);q=x.L2(u,q,w,A,{bv:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",tA:z};q.tA=z;return q;};n.prototype.wj=function(p,q,u,t){return t?t.wj(p.track.Lg,q,u.wa(p.wb.ue),p.Wg()):p.track.Lg;};n.prototype.NJb=function(p,q,u,t,w){var v;v=new k.ZI();v.Yga(this.wj(p,u,t,w));q=p.wb.Mb.wa(q);for(q=this.config.vqa - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Wg)break;v.Yga(this.wj(p,u,t,w));q-=p.wb.u.duration.G;}return v;};n.prototype.xCb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};n.prototype.wCb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:d.default.time.Ga(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};n.prototype.WEb=function(p,q){var u;u=q[0];q.filter(function(t){return t.eG;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};n.prototype.W0b=function(p,q){return 0 < this.config.oX.length?!0:(p=p.TL) && p === q.location?!1:!0;};n.prototype.f7a=function(p,q){return p.pa.Qk.Cdb(p.pa.J,p.Lg,q);};n.prototype.JYa=function(p,q){var C;for(var u,t=q.wa(this.q1b),w=[],v=p,y=q,x,z,A=0,B=0,D=!0;v;){C=v.uZa(t);if(!D && !v.Zh)break;0 < C.La.length && (y=C.La[0].Ab,void 0 === x && (x=C.La[C.La.length - 1].Mb,z=C.r8 >= C.La.length?x:C.La[C.r8].Ab),w=C.La.concat(w),A+=0 < C.dr?C.dr:0,B+=C.hN);v=this.navigator.parent(v);D=!1;}return {IE:d.default.rT()[p.mediaType],ab:Math.floor(y.G),Gd:q.G,el:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Im:Math.floor(z?z.G:q.G),uo:w.reduce(function(F,G){return F + G.xa;},0),dr:A,hN:B,rdc:w.length,La:w};};n.prototype.Azb=function(p,q,u,t,w){var v,y,x;v=this.JYa(t,q);y=t.mediaType === l.v.Y?this.config.Oxa:this.config.Eha;x=h.default.instance();return {state:p,yB:p === l.Bb.me,bf:t.XB,playbackRate:u,buffer:v,K3:y,ES:w,Zj:null === x || void 0 === x?void 0:x.Zj,mediaType:t.mediaType,Gd:q.G,Qta:0};};n.prototype.Cvb=function(p,q,u){var v,y;if(p === l.v.Y){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){v=q[w];y=v.bitrate;if(f(v)){t=Math.max(t,y);break;}else this.config.v$ && !v.hv?p="bc":v.Qq?v.jB && (p="hf"):p="av";}this.A4a !== t && (this.wCb(this.A4a,t,p,u),this.A4a=t);}};return n;})();b.pDa=a;},16567:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dHa=void 0;c=a(5163);l=a(49730);f=a(2663);h=a(27364);d=a(33285);r=(function(){function g(m,k,n){this.zma=m;this.JHb=k;this.V=n;this.fh=new d.tu({dn:this,console:n,source:"MemoryDeadlockProtector",fo:5});}g.prototype.RFb=function(m){var k,n,p,q;p=m.config;q=p.Zq + (null !== (n=null === (k=p.HN) || void 0 === k?void 0:k.G) && void 0 !== n?n:0);k=this.RKb(q,m);l.K && this.V.debug(("MDP: has prebuf: ").concat(k));return k?{D3:!0}:(n=this.Pub(p),k=n.dUb,n=n.Q5b,k && n?(l.K && this.V.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.NQb?this.L9a(m,k):{D3:!0}):{D3:!1});};g.prototype.L9a=function(m,k){var n,p,q,u,t,v,z,A;this.fh.us({o:k});u=m.X;m=m.Va;t=u.Va;u=u.Sq;for(var w=0;w < t.length;w++){if(!t[w].Zh){u=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:h.v.ea,qx:0},{mediaType:h.v.Y,qx:0},{mediaType:h.v.Ka,qx:0}];if(null === u || void 0 === u || !u.Zh){m=m.map(function(D){return D;}).filter(function(D){return -1 === t.indexOf(D);}).sort(function(D,C){return (0,f.sia)(D) - (0,f.sia)(C);});try{for(var y=c.__values(m),x=y.next();!x.done;x=y.next()){z=x.value;A=z.bL();v[h.v.ea].qx+=null !== (p=A.nR) && void 0 !== p?p:0;v[h.v.Y].qx+=null !== (q=A.TX) && void 0 !== q?q:0;l.K && this.V.debug(("Resetting discontiguous branch ").concat(z.u.id),A);z.reset();if(w=v.every(function(D){return D.qx >= k[D.mediaType].qx;}))break;}}catch(D){var B;B={error:D};}finally{try{x && !x.done && (n=y.return) && n.call(y);}finally{if(B)throw B.error;}}}return {D3:w,tdc:v};};g.prototype.Pub=function(m){var k,n,p,q,u;k=[h.v.ea,h.v.Y,h.v.Ka];if(!m.OQb)return {};n=this.JHb();p=this.zma().total;q=m.MQb;u=0;m=k.map(function(t){var w;w=n[t] - p[t] * q;u=Math.max(0 < p[t]?n[t] / p[t]:0,u);return {qx:Math.max(0,w),mediaType:t};});return {Q5b:u,dUb:m};};g.prototype.RKb=function(m,k){var n,p,q;n=this;p=!1;k=k.Nq?k.X:void 0;if(null === k || void 0 === k?0:k.lMb){p=k.Ey.Ts().map(function(u){return u.mediaType;});q=k.bHb();p=p.every(function(u){var t,w;if(u === h.v.ea)u=null !== (t=q.J1) && void 0 !== t?t:0;else if(u === h.v.Y)u=null !== (w=q.Z$) && void 0 !== w?w:0;else return (l.K && n.V.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= m;});}return p;};c.__decorate([(0,d.Sb)({methodName:"resetDiscontiguousBranches",return:!0,ak:!0})],g.prototype,"L9a",null);return g;})();b.dHa=r;},50164:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$ca=void 0;c=a(5163);l=a(57055);f=a(49730);h=a(62558);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.va=function(g){var m;m=this;this.Aa=g;this.Aa.events.on("segmentNormalized",function(){m.f9();});this.f9();};Object.defineProperties(d.prototype,{nV:{get:function(){return this.Iob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rxa:{get:function(){(0,h.assert)(this.Aa,"Must be initialized");return this.Aa.ga;},enumerable:!1,configurable:!0}});d.prototype.f9=function(){var g,m,k;g=this;if(this.Aa){m={};k=this.Aa.ga;this.Iob=c.__assign(c.__assign({},k),{M:new Proxy(k.M,{get:function(n,p){var q;if(m[p])return m[p];n=k.M[p];if(!n)return n;q=g.aJb(p);q?(q=q.osb(),m[p]=c.__assign(c.__assign(c.__assign({},q),n),{sa:q.sa,ta:q.ta})):m[p]=k.M[p];return m[p];}})});this.events.emit("updated");}};d.prototype.aJb=function(g){var m;f.K && (0,h.assert)(this.Aa,"Must be initialized");m=this.Aa.navigator;return m.j0a(g)?m.Pd(g):void 0;};return d;})();b.$ca=r;},84975:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;c=a(42866);l=a(97810);f=a(62558);h=a(29960);r=(function(){function d(){this.Va=new l.rHa();this.hm=new h.m0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Va.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Va.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Va.values();this.Va.clear();this.hm.clear();g.forEach(function(m){return m.Jf();});};d.prototype.op=function(g){return this.Va.get(g);};d.prototype.has=function(g){return this.Va.has(g);};d.prototype.root=function(){return this.hm.root;};d.prototype.contains=function(g){var m;m=g.u.id;if(this.has(m))return -1 !== this.op(m).indexOf(g);};d.prototype.rF=function(g){this.hm.rF(g);};d.prototype.e5=function(g){return this.hm.parent(g);};d.prototype.XGb=function(g){return this.hm.children(g);};d.prototype.Kna=function(g){return this.hm.Kna(g);};d.prototype.yYb=function(g){var m;if(this.Va.delete(g.u.id,g)){m=this.hm.children(g);this.hm.root === g?0 === m.length?this.hm.clear():((0,f.assert)(1 === m.length,"cannot remove the root branch with multiple successors"),this.hm.KYb(m[0])):((0,f.assert)(0 === m.length,"cannot remove non-root branch with successors"),this.hm.remove(g));}};d.prototype.forEach=function(g){var m;m=this;this.Va.forEach(function(k,n){return g(k,n,m);});};d.prototype.reduce=function(g,m){var k;k=this;return this.Va.reduce(function(n,p,q){return g(n,p,q,k);},m);};d.prototype.map=function(g){var m;m=this;return this.Va.map(function(k,n){return g(k,n,m);});};d.prototype.filter=function(g){var m;m=this;return this.Va.filter(function(k,n){return g(k,n,m);});};d.prototype.fKb=function(){var g;g={};this.forEach(function(m,k){var n;(m=m.Dr) && (null !== (n=g[k]) && void 0 !== n?n:g[k]=[]).push(m.G);});return g;};d.prototype.O4b=function(g,m){var k,n,p;k=this;g=this.yzb(g,m);n=g.zBb(this.hm);m=n.$ga;p=n.iN;n=n.u9a;this.hm.clear();this.hm=g;m.forEach(function(q){return k.Va.set(q.u.id,q);});m.forEach(function(q){return q.va();});p.forEach(function(q){return k.Va.delete(q.u.id,q);});return {iN:p,u9a:n};};d.prototype.yzb=function(g,m){var k,n,p;k=this;n=new Map();p=new h.m0();g.rF(function(q,u){var t,w;if(u){t=n.get(u);if(!t)return !0;}w=(0,c.xc)(k.op(q.u.id),function(v){return k.hm.parent(v) === t || !u;});w=null !== w && void 0 !== w?w:m(q.u.id,t);w.$g=q.$g;n.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Vn) && w.update(q.u);return !0;});return p;};return d;})();b.dKa=r;},45609:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;r=(function(){function a(c){this.console=c;this.Qia();}a.prototype.get=function(c){return this.wK[c] || this.tg[c];};a.prototype.set=function(c,l){void 0 === this.tg[c] && (this.tg[c]=l);};a.prototype.V_b=function(c,l){void 0 === this.get(c) && (this.wK[c]=l);};a.prototype.clear=function(c){this.wK[c]=void 0;this.tg[c]=void 0;};a.prototype.Xvb=function(c){var l;this.tg=(l={},l[c]=this.tg[c],l);this.wK={};};a.prototype.Qia=function(){this.tg={};this.wK={};};a.prototype.toJSON=function(){return {tg:this.tg,wK:this.wK};};return a;})();b.fKa=r;},16236:function(r,b,a){var f,h,d;function c(g,m){var k,n;k=Object.keys(g);if(k.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.Xd) !== (null === (u=m[p]) || void 0 === u?void 0:u.Xd) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=m[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(m);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,d.sq)(k,n)),!1),f.__read((0,d.sq)(n,k)),!1).length?!0:!1;}function l(g,m){return g.some(function(k,n){var p;return 0 !== (0,d.sq)(k,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || g.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.DSa=b.fUa=void 0;f=a(5163);h=a(42866);d=a(42866);b.fUa=function(g){return new h.TBa(function(m){return Object.keys(m.u.next || ({})).map(function(k){var n,p,q;k=g.Pd(k);q=null !== (p=null === (n=m.Nf) || void 0 === n?void 0:n.wa(m.Vd).G) && void 0 !== p?p:Infinity;return {b6b:k,weight:q};});});};b.DSa=function(g,m){var k,n,p,q,u,t;k=Object.keys(g.M);n=Object.keys(m.M);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});u=k.filter(function(w){var v,y,x,z,A;if(-1 === n.indexOf(w))v=!1;else {v=g.M[w];w=m.M[w];v=v.Cb !== w.Cb || v.ta !== w.ta || v.sa !== w.sa || v.Xd !== w.Xd || v.J !== w.J || l(null !== (y=v.Fq) && void 0 !== y?y:[],null !== (x=w.Fq) && void 0 !== x?x:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});t=(0,d.sq)(k,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {$ga:p,iN:q,tvb:u,A4b:t};};},22486:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hKa=b.iD=void 0;c=a(5163);l=a(62558);(function(h){h[h.$t=0]="CREATED";h[h.eea=1]="STARTED";h[h.UP=2]="REQUEST_ISSUED";h[h.xw=3]="EVALUATED";h[h.rBa=4]="DESTRUCTED";})(f=b.iD || (b.iD={}));r=(function(){function h(d){this.uN=d;this.Ua=f.$t;this.yC={};this.cX={};}Object.defineProperties(h.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});h.prototype.start=function(){var d;d=this;this.Ua !== f.eea && (this.$U(f.eea),[f.xw,f.UP].forEach(function(g){var m;m=new Promise(function(k){(0,l.assert)(d.cX && d.yC,"state promises should be defined");d.cX[g]=k;d.yC[g]=m;});}),this.uN(),this.$U(f.xw));};h.prototype.$U=function(d){this.Ua=d;this.cX && (d=this.cX[d],null === d || void 0 === d?void 0:d());};h.prototype.Qa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Ua !== f.eea)return [3,2];(0,l.assert)(this.yC,"state resolves should be defined");return [4,this.yC[f.xw]];case 1:(d.Ra(),d.label=2);case 2:return (this.cX=this.yC=void 0,this.Ua=f.rBa,[2]);}});});};h.prototype.iaa=function(d,g){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Ua === f.rBa)return [2];if(this.Ua === f.xw)return [3,6];(0,l.assert)(this.yC,"state promises should be defined");m=d;switch(m){case f.xw:return [3,1];case f.UP:return [3,3];}return [3,5];case 1:return [4,this.yC[f.xw]];case 2:return (k.Ra(),[3,6]);case 3:return [4,this.yC[f.UP]];case 4:return (k.Ra(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return h;})();b.hKa=r;},41054:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mKa=void 0;c=a(5163);l=a(61978);r=(function(){function f(h){this.lj=h;this.M={};}Object.defineProperties(f.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});f.prototype.j0a=function(h){return !!this.ga.M[h];};f.prototype.Pd=function(h){var d;d=this.M[h];if(void 0 === d){d=this.ga.M[h];if(void 0 === d)throw Error(("Segment not found (").concat(h,")"));d=new l.rKa(h,d,this.ga.Xd);this.M[h]=d;}return d;};f.prototype.PKb=function(h){return !(!h.u.next || !Object.keys(h.u.next).length);};f.prototype.oHb=function(h){var d;d=this;return h.u.next?Object.keys(h.u.next).map(function(g){return d.Pd(g);}):[];};f.prototype.z2a=function(h){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,h];case 1:(g.Ra(),d=h,g.label=2);case 2:if(!d.u.Cb)return [3,4];d=this.Pd(d.u.Cb);return [4,d];case 3:return (g.Ra(),[3,2]);case 4:return [2];}});};f.prototype.TKb=function(h,d){return (0,l.Q1a)(h.m5(d));};f.prototype.bj=function(h){var d;d=this;Object.keys(h).forEach(function(g){var m;return null === (m=d.Pd(g)) || void 0 === m?void 0:m.bj(h[g]);});};f.prototype.update=function(h){var d;d=this;this.lj=h;Object.keys(this.M).forEach(function(g){var m;m=d.lj.M[g];m && d.M[g].update(m) || delete d.M[g];});};return f;})();b.mKa=r;},61978:function(r,b,a){var l,f,h;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.rKa=b.T_=b.Q1a=void 0;l=a(5163);f=a(42866);h=a(62558);b.Q1a=c;r=(function(){function d(g,m,k){this.region=g;this.Na=m;this.eb=k;}d.prototype.toJSON=function(){return {region:this.region,ab:this.Na.Cy,mf:this.eb.Cy};};return d;})();b.T_=r;r=(function(){function d(g,m,k){var n;n=this;this.id=g;this.Hi=m;this.ePa=!1;this.m5=function(p){var q,u,t,w;return (null === (q=n.Rv) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=n.u.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Xd) && void 0 !== w?w:n.Xd;};this.tMb(m);this.n1a(m,k);this.l1a();(0,h.assert)(this.q1.lessThan(this.M0),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.u.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ap:{get:function(){return this.ePa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vd:{get:function(){return this.q1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nf:{get:function(){return this.M0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.M0.wa(this.q1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tX:{get:function(){return this.vy.length?!this.u.Cb && 0 === this.rM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{T1a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aSb:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vy:{get:function(){var g,m;return Object.keys(null !== (m=null === (g=this.u) || void 0 === g?void 0:g.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rM:{get:function(){var g;g=this;return this.vy.filter(function(m){return !!g.Wz[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bwa:{get:function(){var g;return null !== (g=this.YPa) && void 0 !== g?g:this.YPa=this.Wub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{w$:{get:function(){var g;return null !== (g=this.ZPa) && void 0 !== g?g:this.ZPa=this.Xub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oy:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.w$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xd:{get:function(){var g;return (null === (g=this.Rv) || void 0 === g?0:g.length)?"immediate":this.C1;},enumerable:!1,configurable:!0}});d.prototype.tMb=function(g){var m;this.q1=new f.N(g.sa,1E3);this.M0=void 0 !== g.ta && null !== g.ta?new f.N(g.ta,1E3):f.N.vp;this.C1=null !== (m=this.Hi.Xd) && void 0 !== m?m:this.C1;};d.prototype.n1a=function(g,m){var k,n,p;this.C1=null !== (p=null !== (n=null !== (k=g.Xd) && void 0 !== k?k:m) && void 0 !== n?n:this.C1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,m,k){this.q1=g;this.M0=m;this.Rv=k;this.ePa=!0;this.Geb();};d.prototype.update=function(g){(0,h.assert)(g.J === this.Hi.J,"Cannot change the viewable id of a segment");(0,h.assert)(g.sa === this.Hi.sa,"Cannot change the start time of a segment");(0,h.assert)(g.type === this.Hi.type,"Cannot change the type of a segment");if(g.ta !== this.Hi.ta)return !1;g.Xd !== this.Hi.Xd && this.n1a(g);this.Hi=g;return !0;};d.prototype.cZa=function(){var g;return this.rM.length?null !== (g=this.rM.map(this.m5).reduce(function(m,k){return m === k?k:void 0;})) && void 0 !== g?g:this.Xd:this.Xd;};d.prototype.bj=function(g){this.l1a(g);};d.prototype.Mub=function(g){var m,k;if(this.Bwa){m=(this.Wz[g] || 0) / this.Bwa;if(void 0 === this.u.weight || 0 === this.w$)return {uf:m};k=this.Oy;return 1 !== k && c(this.m5(g)) && this.Wz[g]?{uf:k * m,mB:this.Wz[g] / this.w$ * (1 - k)}:{uf:k * m};}return {uf:(null === (m=this.u.next) || void 0 === m?0:m[g])?1 / this.vy.length:0};};d.prototype.XKb=function(g){return -1 < this.vy.indexOf(g);};d.prototype.osb=function(){return this.Ap?l.__assign(l.__assign({},this.u),{sa:this.Vd.G,ta:this.Nf.G}):this.u;};d.prototype.l1a=function(g){var m;if(void 0 === this.u.next)this.Wz={};else {m=this.u.next;this.Wz=Object.keys(m).reduce(function(k,n){var p;p=g?g[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (k[n]=p);return k;},{});}this.Geb();};d.prototype.Wub=function(){var g;g=this;return this.rM.reduce(function(m,k){return m + g.Wz[k];},0);};d.prototype.Xub=function(){var g;g=this;return this.rM.filter(function(m){return c(g.m5(m));}).reduce(function(m,k){return m + g.Wz[k];},0);};d.prototype.Geb=function(){this.ZPa=this.YPa=void 0;};return d;})();b.rKa=r;},90468:function(r,b,a){var l,f,h;function c(d,g,m,k,n){var p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K;y=d.console;x=d.H4b;z=d.tg;A=d.gZb;B=d.MBb;D=d.Sqa;C=d.Yha;d=d.bUb;F=n || ({complete:!0,Dr:0});G=F.root;E=F.complete;J=F.Bqb;M=F.F9a;M=void 0 === M?0:M;F=F.Dr;L=M < A.length && A[M].id === g.id;H=M < A.length?A[M].id:k && z.get(k.id);N=n && k && H !== g.id?void 0 !== H?{uf:0}:k.Mub(g.id):{uf:1};z=N.uf;N=N.mB;I=void 0 === N?0:N;N=(z + I) * (null !== (p=null === n || void 0 === n?void 0:n.BWb) && void 0 !== p?p:1);h && y.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(m,", ") + ("probability: ").concat(N,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(H,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(L,", ") + ("requiredPathIndex: ").concat(M,", ") + ("activeDistance: ").concat(J,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(I,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.Bwa,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.w$));p=null !== (u=null === (q=x[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!L){if(0 === N)return {gaa:!1,V1:!0};if(!E && 0 === I && F > C)return (d.NA=Math.min(d.NA || Infinity,F - C),{gaa:!1,V1:!0});if(!q && m >= B && 1 > N || !1 === G && N < D)return {gaa:!1,V1:!0};}if(M < A.length){(0,l.assert)(A[M].id === g.id,"");K={duration:A[M].duration};}n=null !== (t=null === n || void 0 === n?void 0:n.$g) && void 0 !== t?t:[];k && 1 > z && (0 === I?n=n.concat([{uf:z}]):(t=(null === (v=null === (w=k.u.Fq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,k.duration.G - t),h && y.trace(("reevaluateBranches: immediate: ").concat(k.duration.G,", ").concat(t,", ").concat(w)),n=n.concat([{uf:z,mB:I,duration:w}])));w=d.vua.LXa(function(O){return O.u === k;});d.vua.add({u:g,$g:n,wb:K},w);m=E?m + g.duration.G:J;h && y.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(m," ") + ("probabilities: ").concat(JSON.stringify(n)));return {gaa:!0,V1:L,state:{root:!k,complete:q,BWb:N,$g:n,Bqb:m,F9a:M + 1,Dr:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.S3b=b.t6b=b.g9=void 0;l=a(62558);r=a(49730);f=a(29960);h=r.K && !1;b.g9=function(d,g,m,k,n,p,q,u,t){var w,v,y,x;v={vua:new f.m0()};y=(null === (w=m.Nf) || void 0 === w?void 0:w.wa(m.Vd).G) || 0;0 < p.length && (0,l.assert)(m.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");h && d.trace(("reevaluateBranches: starting at ").concat(m.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,H4b:k,tg:n,gZb:p,MBb:q.G + y,Sqa:u,Yha:t.G,bUb:v};g.s6b(m,function(z,A,B,D){return c(x,z,A,B,D);});return v;};b.t6b=c;b.S3b=function(d,g,m){var k;k=(0,f.Z7a)(g,function(n){return ("").concat(n.u.id);});m(("requiredBranches(").concat(d,")"),k.replace(/\n/g,"<>"));m(("requiredBranches(").concat(d,")"),g.values.map(function(n){var p;return ("").concat(n.u.id,"::").concat(null === (p=g.parent(n)) || void 0 === p?void 0:p.u.id);}).join(", "));};},86315:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hLa=void 0;c=a(19114);r=(function(){function l(f,h){this.lua=h;this.uW=[];this.uW.push(f);}l.prototype.po=function(f,h){return c.TO.X5({J:f,rW:h},this.uW);};l.prototype.Uv=function(f){return this.lua(f);};l.prototype.JYb=function(f){this.uW.pop();this.uW.push(f);};l.prototype.DQa=function(f){this.uW.unshift(f);};return l;})();b.hLa=r;},21690:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;c=a(5163);l=a(42866);f=a(62558);b.ELa=(function(){function h(){}h.nKb=function(d){var g,m,k;if(d.Wg){k=c.__read(d.Bd,2);d=k[0];k=k[1];if(d.ha || (null === k || void 0 === k?0:k.ha))return {reb:l.N.vp,seb:l.N.vp};d=null === (g=d.vo) || void 0 === g?void 0:g.Nf;g=null === (m=null === k || void 0 === k?void 0:k.vo) || void 0 === m?void 0:m.Nf;(0,f.assert)(d);m=g?l.N.min(d,g):d;return {reb:d,seb:m};}};return h;})();},63037:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.C_a=void 0;b.C_a=function(a,c){return a.reduce(function(l,f){return l + f.N4(c).G;},0);};},60857:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GYa=void 0;c=a(92523);b.GYa=function(l,f){return l.reduce(function(h,d){var g;g=f(d);d.Ts().forEach(function(m){return h.Pga(m.mediaType,m.mA,!g);});return h;},new c.lKa());};},56844:function(r,b,a){var l,f;function c(h,d){return Object.keys(h.UG).map(function(g){return h.UG[g];}).filter(function(g){return void 0 === g.PF || 1 === g.PF;}).reduce(function(g,m){return g + m.Aq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.lMa=void 0;l=a(27364);f=a(49730);r=(function(){function h(d,g,m){this.ga=d;this.console=g;this.zma=m;}h.prototype.bvb=function(d,g,m){var k,n,p,q;k=m && this.ga.config.L5b;n=this.ga.config.S$ || k;p=this.zma();if(k){k=d.global;k=(q={},q[l.v.ea]=k[l.v.ea] - c(d,l.v.ea),q[l.v.Y]=k[l.v.Y] - c(d,l.v.Y),q[l.v.Ka]=k[l.v.Ka] - c(d,l.v.Ka),q);}q=k;p=this.dTa(g) || this.Hvb(d) || this.Fvb(d,p,q) || this.Gvb(d,p,q,g);q=(0,l.Ota)(p);if(p && (!q || n))return (f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};h.prototype.dTa=function(d){var g;g=this.ga.config.tG;if(this.ga.wHb(d) >= (g || Infinity))return "mediaDurationLimit";};h.prototype.Hvb=function(d){return d.UG[this.ga.id].total.total > (this.ga.a5() || Infinity)?"playgraphMemoryLimit":void 0;};h.prototype.Fvb=function(d,g,m){d=d.global;return m?m[l.v.ea] + m[l.v.Y] > (g.owa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};h.prototype.Gvb=function(d,g,m,k){var n;n=d.global;return m?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(g.owa[k],", usage: ").concat(m) + (" (global: ").concat(n[k]," ") + (" - certain contiguous: ").concat(c(d,k),")")),m[k] > (g.owa[k] || Infinity)?k === l.v.Y?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (g.total[k] || Infinity)?k === l.v.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return h;})();b.lMa=r;},31192:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mz=void 0;c=a(27364);l=a(53265);f=a(58648);r=(function(){var L0p;L0p=2;for(;L0p !== 6;){switch(L0p){case 2:h.prototype.TVa=function(d,g){var J1u,m;J1u=2;for(;J1u !== 4;){switch(J1u){case 5:return d;break;case 2:m=null === this.o2?d * (100 - this.config.vX) / 100:(0,f.qha)(d,this.o2);this.config.Cpa && g?(d=(0,f.qha)(d,g),d=Math.max(d,m)):d=m;J1u=5;break;}}};L0p=1;break;case 1:h.prototype.Tva=function(d){var P8Q;P8Q=2;for(;P8Q !== 1;){switch(P8Q){case 2:return this.config.GWa && (d === c.Bb.zk || d === c.Bb.Pe);break;}}};h.prototype.Wm=function(d,g){var m84,m,k,n;m84=2;for(;m84 !== 5;){switch(m84){case 2:return this.Tva(g)?(null === (m=d.$T) || void 0 === m?void 0:m.Da) || (null === (k=d.ob) || void 0 === k?void 0:k.Da) || 0:(null === (n=d.ob) || void 0 === n?void 0:n.Da) || 0;break;}}};h.prototype.S9=function(d){var r1G;r1G=2;for(;r1G !== 1;){switch(r1G){case 2:this.o2=d;r1G=1;break;}}};h.prototype.fma=function(){var P_I;P_I=2;for(;P_I !== 1;){switch(P_I){case 2:return this.o2;break;case 4:return this.o2;break;}}};L0p=9;break;case 9:h.prototype.Pva=function(d){var e_P;e_P=2;for(;e_P !== 1;){switch(e_P){case 2:this.oeb=d;e_P=1;break;case 4:this.oeb=d;e_P=5;break;}}};h.prototype.Bna=function(){var l$G;l$G=2;for(;l$G !== 1;){switch(l$G){case 2:return this.oeb;break;}}};return h;break;}}function h(d){var d_y,g;d_y=2;for(;d_y !== 9;){switch(d_y){case 2:var D7y="1SI";D7y+="Y";D7y+="bZ";D7y+="rNJCp9";g=this;this.config=d;this.oeb=this.o2=null;this.ata=function(m,k,n){var B6S;B6S=2;for(;B6S !== 5;){switch(B6S){case 2:m=g.Wm(m,n);return g.config.$Ra?(k=(0,l.b4)(g.config.ZRa,k.Im - k.Gd,1),{lower:m * (1 - k),upper:void 0}):{lower:m * g.config.vX / 100,upper:void 0};break;}}};D7y;d_y=9;break;}}}})();b.mz=r;},61038:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;c=a(5163);l=a(27364);r=a(31192);f=a(29472);a=(function(h){var F87;F87=2;function d(g){var S8n,m;S8n=2;for(;S8n !== 9;){switch(S8n){case 4:var a9m="1";a9m+="SI";a9m+="Yb";a9m+="ZrNJCp9";a9m;return m;break;case 2:m=h.call(this,g) || this;m.WV=function(k,n,p,q){var V5z,A$S;V5z=2;for(;V5z !== 11;){switch(V5z){case 9:V5z=p === l.Bb.zk?8:6;break;case 5:var f$G="deliver";f$G+="yti";f$G+="me";f$G+="-ci";A$S=m.config.Oia;V5z=A$S === f$G?4:13;break;case 6:V5z=p === l.Bb.Pe?8:14;break;case 1:return m.TPb.WV(k,n,p,q);break;case 4:var W_K="delive";W_K+="r";W_K+="yt";W_K+="im";W_K+="e-ci";n=k[W_K];V5z=3;break;case 14:V5z=7;break;case 2:V5z=m.Tva(p)?1:5;break;case 12:var r8K="t";r8K+="hr";r8K+="oug";r8K+="h";r8K+="put-ci";n=k[r8K];V5z=3;break;case 3:q=m.config.Gxa * k.ob.Da;V5z=9;break;case 13:V5z=12;break;case 8:return {lower:(null === n || void 0 === n?void 0:n.initial) || k.ob.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 7:return {lower:(null === n || void 0 === n?void 0:n.low) || k.ob.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;}}};m.TPb=new f.Mca(g);S8n=4;break;case 13:"";return m;break;}}}for(;F87 !== 5;){switch(F87){case 2:c.__extends(d,h);return d;break;}}})(r.mz);b.cBa=a;},74377:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.l_a=b.mz=void 0;c=a(29472);l=a(19661);f=a(47896);h=a(61038);d=a(31192);Object.defineProperties(b,{mz:{enumerable:!0,get:function(){return d.mz;}}});b.l_a=function(g){switch(g.jqa){case "manifold":return new c.Mca(g);case "stddev":return new f.eMa(g);case "ci":return new h.cBa(g);default:return new l.PLa(g);}};},29472:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Mca=void 0;c=a(5163);r=c.__importStar(a(53265));l=c.__importDefault(a(35471));a=a(31192);f=r.iK;h=r.mTa;d=r.b4;g=r.dXa;m=r.i$a;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var R3w;R3w=2;function n(p){var q3h,q;q3h=2;for(;q3h !== 13;){switch(q3h){case 6:var c46="1";c46+="SIYbZr";c46+="NJC";c46+="p9";c46;return q;break;case 9:q.filter=p.xs.filter;q.l1b=!!p.xs.simpleScaling;p.xs.niqrfilter && p.xs.niqrcurve && (q.D5a=p.xs.niqrfilter,q.cSb=h(p.xs.niqrcurve,1,0,4));q3h=6;break;case 1:q.WV=function(u,t,w,v){var d2z,y,x,z;d2z=2;for(;d2z !== 14;){switch(d2z){case 8:void 0 !== u && (x=g(q.cSb,u),t=Math.min(t * x,1));R7xOY.m_t(11);v=q.TVa(R7xOY.N0G(t,1,z),v);return {lower:v,upper:v * q.config.Gxa};break;case 2:z=q.Wm(u,w);w=q.Tva(w)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Da) || z;y=Math.pow(Math.max(1 - w / q.wtb,0),q.ttb);w=t.Im - t.Gd;q.l1b?(t=d(q.eVa,w,1),w=d(q.dVa,w,1),t=t * y + w * (1 - y)):t=d(m(q.eVa,q.dVa,y),w,1);u=q.D5a && (null === (x=u[q.D5a]) || void 0 === x?void 0:x.jra);d2z=8;break;}}};Array.isArray(p.xs.curves) && (q.eVa=h(p.xs.curves[0],0,0,1),q.dVa=h(p.xs.curves[1],0,0,1));q.wtb=f(p.xs.threshold || 6E3,1,1E5);q.ttb=f(p.xs.gamma || 1,.1,10);q3h=9;break;case 2:q=k.call(this,p) || this;q3h=1;break;}}}for(;R3w !== 5;){switch(R3w){case 2:c.__extends(n,k);return n;break;}}})(a.mz);b.Mca=a;},19661:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PLa=void 0;c=a(5163);r=c.__importDefault(a(35471));l=a(31192);f=a(58648);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){function d(g){var u2n,m;u2n=2;for(;u2n !== 3;){switch(u2n){case 2:var t4Y="1SI";t4Y+="Yb";t4Y+="ZrNJCp";t4Y+="9";m=h.call(this,g) || this;m.WV=function(k,n,p,q){var F6u,u;F6u=2;for(;F6u !== 9;){switch(F6u){case 2:u=m.Wm(k,p);k=m.d1b(k,p);n=u?u * (100 - m.HGb(n,k)) / 100 | 0:0;F6u=4;break;case 4:q=m.TVa(n,q);return {lower:q,upper:q * m.config.Gxa};break;}}};t4Y;return m;break;}}}var l4n;l4n=2;for(;l4n !== 3;){switch(l4n){case 2:c.__extends(d,h);d.prototype.HGb=function(g,m){var g3X,k,n;g3X=2;for(;g3X !== 3;){switch(g3X){case 2:(k=this.config,n=m?k.nja:k.Pha);m=m?k.oja:k.Rha;Array.isArray(m) && (n=(0,f.cXa)(m,g.Im - g.Gd,k.Qha));g3X=4;break;case 4:return n;break;}}};d.prototype.d1b=function(g,m){var l3W;l3W=2;for(;l3W !== 5;){switch(l3W){case 2:g=this.Wm(g,m);return this.config.Gwa && g < this.config.pja;break;}}};return d;break;}}})(l.mz);b.PLa=a;},47896:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eMa=void 0;c=a(5163);r=a(31192);r=(function(l){var Q7K;function f(h){var W15,d;W15=2;for(;W15 !== 3;){switch(W15){case 14:return d;break;case 4:return d;break;case 2:var E3x="1";E3x+="S";E3x+="IYbZrN";E3x+="JCp9";d=l.call(this,h) || this;d.WV=function(g){var L29,d3N,m;L29=2;for(;L29 !== 10;){switch(L29){case 4:return m;break;case 5:L29=!g.Lm || !g.Lm.Da?4:3;break;case 3:m=Math.sqrt(g.Lm.Zd || 0);L29=9;break;case 14:L29=g.Lm && g.Lm.sO?13:4;break;case 1:var G29="d";G29+="eliver";G29+="ytime";d3N=d.config.Y1b;L29=d3N === G29?5:12;break;case 8:L29=!g.Lm || !g.Lm.XJ?4:7;break;case 7:m=Math.sqrt(g.Lm.sO || 0);L29=6;break;case 11:var H8S="e";H8S+="w";H8S+="m";H8S+="a";L29=d3N === H8S?14:4;break;case 12:var n4j="ave";n4j+="rage";n4j+="tp";L29=d3N === n4j?8:11;break;case 6:return {lower:g.Lm.XJ + d.config.pwa * m,upper:g.Lm.XJ + d.config.qwa * m};break;case 2:m={lower:g.ob.Da,upper:void 0};L29=1;break;case 9:return {lower:8 / (g.Lm.Da + d.config.pwa * m),upper:8 / (g.Lm.Da - d.config.qwa * m)};break;case 13:return (m=Math.sqrt(g.Lm.sO || 0),{lower:g.ob.Da + d.config.pwa * m,upper:g.ob.Da + d.config.qwa * m});break;}}};E3x;W15=4;break;}}}Q7K=2;for(;Q7K !== 5;){switch(Q7K){case 2:c.__extends(f,l);return f;break;}}})(r.mz);b.eMa=r;},58648:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qha=b.ata=b.cXa=void 0;c=a(53265);b.cXa=function(l,f,h){var d,g,m;d=0;if(h){l.some(function(k){var n;n=k.b;k=k.m;if(f <= n)return (d=m && n !== g?m + (k - m) / (n - g) * (f - g):k,!0);g=n;d=m=k;return !1;});}else l.some(function(k){d=k.m;return f <= k.b;});return d;};b.ata=function(l,f,h){var d;f=(null === (d=f.ob) || void 0 === d?void 0:d.Da) || 0;return l.$Ra?(l=(0,c.b4)(l.ZRa,h.Im - h.Gd,1),f * (1 - l)):f * l.vX / 100;};b.qha=function(l,f){return l < 2 * f?l / 2:l - f;};},89221:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=b.pBa=void 0;c=a(42186);l=a(45363);b.pBa=625E3;r=(function(){function f(h){this.config=h;}f.prototype.qia=function(h){var d,g,m,k,n;d=this.config.cka;g=this.config.Lec || this.config.bka;m=0 < h.S_a.nB;k=m?g * b.pBa / 1E3:this.config.UU || Infinity;n=m?Math.floor(h.S_a.nB / k):d;return {Wk:h.K6b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {t2a:{nB:q > n - 1?0:k},Cd:p,G8:1,vi:u,tbb:{audio:[(0,c.nK)(u),new l.oea()],video:[(0,c.oK)(u),new l.oea()]}};})};};return f;})();b.mBa=r;},31779:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IBa=void 0;c=a(5163);l=a(50954);f=a(35408);r=(function(){function h(){}h.prototype.X3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Cd.key;if(!(0,f.pU)(g))return [3,2];m=g.J;k=d.Cd.Oe.Tm(m);return [4,Promise.resolve(k.Wp)];case 1:return (n=q.Ra(),p=n.W,p.hp?[2,(0,l.M2)(p.hp,{config:n.config})]:[2,(0,l.g$)(m,"ps0")]);case 2:return [2,g.ga];}});});};return h;})();b.IBa=r;},65288:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;c=a(49730);l=a(44602);b.yKa=(function(){function f(){}f.LYb=function(h,d,g,m){h.events.once("seeking",function(k){var n,p;n=k.position;p=g.length;k.duplicate || (g.j9(function(q){return "segmentNormalized" !== q.Eq;}),c.K && m.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.t5)(d)) + (" due to seek to ").concat((0,l.t5)(n))));c.K && m.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.t5)(n)));g.hua();g.Qa();});};return f;})();},30570:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=void 0;c=a(5163);l=a(57055);f=a(42866);h=a(42866);d=a(27364);g=a(97810);m=a(19114);k=a(62558);n=a(89873);p=a(49730);q=a(42186);u=a(35303);t=c.__importDefault(a(35471));w=a(49789);v=a(31779);y=a(33201);x=a(89221);z=a(35408);A=a(65288);B=a(10670);r=(function(){function D(C,F,G,E,J){void 0 === E && (E=new y.JBa());void 0 === J && (J=new v.IBa());this.XWa=C;this.config=F;this.W8a=E;this.Wk=[];this.S7a=[];this.jw=[];this.Tf={x2a:0,y2a:0,u2a:0,iia:0,v2a:0,w2a:0,jia:0};this.events=new l.EventEmitter();this.V=(0,g.Nh)(t.default,G,"PREFETCH");this.Wga(new x.mBa(F));this.Wga(new B.LLa(F));this.O$a({nB:F.UVb});this.Dva(J);this.iMb();}Object.defineProperties(D.prototype,{VVb:{get:function(){return this.Wk.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});D.prototype.iab=function(C){p.K && (0,k.assert)(C,"Reconciliation strategy is undefined");this.W8a=C;return this;};D.prototype.Wga=function(C){this.S7a.unshift(C);return this;};D.prototype.rab=function(C){p.K && this.V.debug("Wish list changed",{kfc:C.length});this.jw=C;this.tta();};D.prototype.reset=function(){var C,E,J,M,L,H;if(this.config.cWb)try{for(var F=c.__values(this.Wk),G=F.next();!G.done;G=F.next()){E=G.value;J=E.ga;M=E.t6;L=E.context;if(J){J.Jf();M.j9(function(I){return "segmentNormalized" !== I.Eq;});H=(0,z.ina)(L.Cd,J.ga);J.sC(H);}}}catch(I){var N;N={error:I};}finally{try{G && !G.done && (C=F.return) && C.call(F);}finally{if(N)throw N.error;}}else this.rab([]);};D.prototype.O$a=function(C){p.K && this.V.debug("Budget changed",{VSb:this.QR,SRb:C});this.QR=C;this.tta();};D.prototype.Tvb=function(C,F){var G,E,J,M;p.K && this.V.debug("Looking for playgraph to claim");if(C=this.W8a.KXa(this.Wk,{ga:C,vi:F}))if((F=this.jw.indexOf(C.context.Cd),p.K && this.V.debug(("Claiming item: ").concat((0,z.Xm)(C.context.Cd.key)),{Cl:t.default.time.Ga() - C.Owa,buffer:null === (G=C.ga) || void 0 === G?void 0:G.Rn(f.N.Ia)}),this.AK(C.context,{lpa:!!C.ga}),C.ga)){G=C.ga;J=C.lN;M=G.Ah;A.yKa.LYb(G,M,C.t6,this.V);J.WZb(null !== (E=G.QF(M)) && void 0 !== E?E:f.N.Ia,F);G.mdb({nB:this.config.UU || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Cd,videoBytesBuffered:C.ga.zF().TX,audioBytesBuffered:C.ga.zF().nR});}this.config.Lrb || this.reset();return null === C || void 0 === C?void 0:C.ga;};D.prototype.Svb=function(){};D.prototype.getStats=function(){var C;C=t.default.time.Ga();return {wishListLength:this.jw.length,prefetchList:this.VVb.length,contents:this.Wk.map(function(F){var G,E,J,M,L;return {id:(0,z.Xm)(F.context.Cd.key),buffer:null === (G=F.ga) || void 0 === G?void 0:G.Rn(f.N.Ia),pId:null === (E=F.ga) || void 0 === E?void 0:E.id,budget:{inMemoryBytes:F.context.t2a.nB},weight:F.context.G8,age:C - F.Owa,timeOpened:C - (null !== (J=F.A3b) && void 0 !== J?J:0),state:d.Yc[null !== (L=null === (M=F.ga) || void 0 === M?void 0:M.jf.value) && void 0 !== L?L:d.Yc.Wr]};}),aggregated:{itemsRequested:this.Tf.x2a,itemsStarted:this.Tf.y2a,itemsClaimed:this.Tf.u2a,bytesClaimed:this.Tf.iia,itemsCompleted:this.Tf.v2a,itemsDiscarded:this.Tf.w2a,bytesDiscarded:this.Tf.jia}};};D.prototype.AK=function(C,F){var G;void 0 === F && (F={});c.__awaiter(this,void 0,void 0,function(){var E,J,M,L,H,N;return c.__generator(this,function(I){switch(I.label){case 0:E=c.__assign({lpa:!1,D2a:!1},F);J=E.lpa;M=E.D2a;L=(0,h.xc)(this.Wk,function(K){return K.context === C;});if(!L)return [3,3];this.Wk.splice(this.Wk.indexOf(L),1);M || (H=this.jw.length,this.jw=this.jw.filter(function(K){return K !== C.Cd;}),p.K && this.V.info("Dropping items from wishlist",H - this.jw.length),this.jw.length >= H && p.K && this.V.warn("Unable to filter out wishlist item",this.jw.map(function(K){return K.key;}),C.Cd.key));p.K && this.V.debug("Dropping playgraph",{Cl:t.default.time.Ga() - L.Owa,buffer:null === (G=L.ga) || void 0 === G?void 0:G.Rn(f.N.Ia),J:(0,z.Xm)(C.Cd.key),Mfc:!J,edc:!M});L.WA.clear();if(J)return [3,2];N=this.Ky(L);return L.ga?[4,N]:[3,2];case 1:(I.Ra(),I.label=2);case 2:(this.tta(),I.label=3);case 3:return [2];}});});};D.prototype.Dva=function(C){(0,k.assert)(C,"Playgraph resolver is undefined");this.Xsa=C;return this;};D.prototype.iMb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Tf.v2a++;});this.events.on("prefetchStarted",function(){return C.Tf.y2a++;});this.events.on("itemQueued",function(){return C.Tf.x2a++;});this.events.on("itemClaimed",function(F){var G,E;C.Tf.u2a++;C.Tf.iia+=(null !== (G=F.g6b) && void 0 !== G?G:0) + (null !== (E=F.Rsb) && void 0 !== E?E:0);});this.events.on("itemDropped",function(F){var G,E;C.Tf.w2a++;C.Tf.jia+=(null !== (G=F.g6b) && void 0 !== G?G:0) + (null !== (E=F.Rsb) && void 0 !== E?E:0);});};D.prototype.tta=function(){var C,F,G,E,J,M;C=this;F=m.TO.X5({K6b:this.jw,S_a:this.QR},this.S7a.map(function(L){return L.qia.bind(L);})).Wk;G=(0,h.sq)(F,this.Wk,function(L,H){return (0,z.isEqual)(L.Cd.key,H.context.Cd.key);});E=(0,h.sq)(this.Wk,F,function(L,H){return (0,z.isEqual)(L.context.Cd.key,H.Cd.key);});J=(0,h.sq)(this.Wk,E);p.K && this.V.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(E.length,", update: ").concat(G.length));E=E.map(function(L){var H;H=L.context.Cd.key;p.K && C.V.debug("Releasing playgraph",(0,z.Xm)(H));return C.Ky(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Cd});});});M=J.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var H,N;return c.__generator(this,function(I){switch(I.label){case 0:(H=(0,h.xc)(F,function(K){return (0,z.isEqual)(K.Cd.key,L.context.Cd.key);}),(0,k.assert)(H,"Couldn't find the requested item context"),L.context=H,I.label=1);case 1:return (I.Oj.push([1,3,,4]),[4,L.F8]);case 2:return (N=I.Ra(),[3,4]);case 3:return (I.Ra(),[2]);case 4:return ((0,h.xc)(this.Wk,function(K){return K === L;}) && (this.xRa(L.context,N),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Cd})),[2]);}});});});G=G.map(function(L){var H;H=C.Czb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Cd});return H;});this.Wk=c.__spreadArray(c.__spreadArray([],c.__read(J),!1),c.__read(G),!1);J=G.map(function(L){return L.F8.catch(function(){});});J=E.concat(M).concat(J);Promise.all(J);};D.prototype.Ky=function(C){var F;F=this;return C.F8.then(function(G){return c.__awaiter(F,void 0,void 0,function(){var E;return c.__generator(this,function(J){switch(J.label){case 0:return (p.K && this.V.debug("Removing prefetch playgraph",{size:G.Rn(f.N.Ia)}),C.WA.clear(),[4,this.XWa()]);case 1:return (E=J.Ra(),E.Ky(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Cd,videoBytesBuffered:G.zF().TX,audioBytesBuffered:G.zF().nR}),[2]);}});});},function(){});};D.prototype.j3=function(C){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J,M,L,H;H=this;return c.__generator(this,function(N){switch(N.label){case 0:return (F=C.context,G=(0,z.Xm)(F.Cd.key),p.K && this.V.debug("Creating playgraph",G),[4,this.Xsa.X3a(F)]);case 1:return (E=N.Ra(),[4,F.Cd.Oe.Tm(G).Wp]);case 2:return (J=N.Ra(),J.W.Jm?(this.AK(F,{lpa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.XWa()]);case 3:return (M=N.Ra(),L=M.wR(E,F.G8,F.vi,F.Cd.Oe,!1),C.WA.addListener(L.events,"error",function(I){p.K && H.V.debug("Prefetch playgraph resulted in error",I.cdc);H.AK(F);}),[2,L]);}});});};D.prototype.OTb=function(C,F){return c.__awaiter(this,void 0,void 0,function(){var G,E,J,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=C.context,E=(0,z.Xm)(G.Cd.key),J=G.Cd.Oe.Tm(E),[4,J.Wp]);case 1:return (M=L.Ra(),this.xRa(G,F),this.jsb(G,F,!!M.np),F.open(),F.Sy({BN:function(H,N){var I;I=H.recommendedMedia;return I?(0,h.Uu)(N,function(K){return K.new_track_id === I.ap;}):(0,h.Uu)(N,function(K){return K.track_id === H.defaultTrackOrderList[0].audioTrackId;});}},{BN:function(H,N){var I;I=H.recommendedMedia;return I?(0,h.Uu)(N,function(K){return K.new_track_id === I.tO;}):(0,h.Uu)(N,function(K){return K.track_id === H.defaultTrackOrderList[0].videoTrackId;});}}),F.sC((0,z.ina)(G.Cd,F.ga)),this.mYb(C,J),J.Gq && (p.K && this.V.warn("Viewable churn encountered during prefetcher (expired on initialization)",E),this.AK(C.context)),[2]);}});});};D.prototype.mYb=function(C,F){var E;function G(J){p.K && E.V.debug(("Viewable ").concat(J?"superseded":"expired"),(0,z.Xm)(C.context.Cd.key));C.yec=!0;E.AK(C.context,{D2a:!J});}E=this;F.events && (C.WA.addListener(F.events,"viewableEvicted",function(){G(!0);}),C.WA.addListener(F.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Cd});};D.prototype.xRa=function(C,F){F.Hdb(C.G8);F.mdb(C.t2a);};D.prototype.jsb=function(C,F,G){var E;E=C.tbb;C=E.audio;E=E.video;G && E.push(new w.BP(this.V,F.config));F.Iva(new q.su(C,!0),new q.su(E,!0));};D.prototype.Czb=function(C){var F,G,E;F=this;G=new n.zKa();E={context:C,Owa:t.default.time.Ga(),WA:new l.Qe(),lN:G};E.F8=this.j3(E).then(function(J){return c.__awaiter(F,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:for(M=J;M.Ta;){M=M.Ta;}J.Xe(G);G.Msb(J);E.t6=new u.TCa(M.events,{Z0b:function(N){var I;I=N.Eq;switch(I){case "buffering":return !1;case "bufferingStarted":E.t6.j9(function(K){return "bufferingComplete" === K.Eq || "updateStreamingPts" === K.Eq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":E.t6.j9(function(K){return K.Eq === I;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Cd});});return [4,this.OTb(E,J)];case 1:return (H.Ra(),E.A3b=t.default.time.Ga(),E.ga=J,[2,J]);}});});});E.F8.catch(function(J){p.K && F.V.error("Exception occurred creating playgraph",J);F.AK(E.context);});return E;};return D;})();b.AKa=r;},33201:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JBa=void 0;c=a(5163);l=a(62558);f=a(35408);r=(function(){function h(){}h.Xm=function(d){var g,m;g=d.M;d=d.xe;m=g[d].J;Object.keys(g).forEach(function(k){return (0,l.assert)(g[k].J === m);});return g[d].J;};h.prototype.KXa=function(d,g){var m;m=Object.keys(g.ga.M).length;return c.__read(d.filter(function(k){var n,p;return h.Xm(g.ga) === (0,f.Xm)(k.context.Cd.key) && (1 === m || m === Object.keys(null !== (p=null === (n=k.ga) || void 0 === n?void 0:n.ga.M) && void 0 !== p?p:{}).length);}),1)[0];};return h;})();b.JBa=r;},10670:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LLa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.qia=function(c,l){var f,h;f=this;c=l(c);h=c.Wk.map(function(d){return d.Cd.priority;}).sort();c.Wk.forEach(function(d){d.G8=f.config.XVb / (2 << h.lastIndexOf(d.Cd.priority));});return c;};return a;})();b.LLa=r;},45363:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;c=a(27364);r=(function(){function l(){}l.prototype.wj=function(f,h){return h === c.Yc.rm?[]:f;};return l;})();b.oea=r;},35408:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ina=b.Xm=b.isEqual=b.pU=void 0;c=a(42866);l=a(93514);b.pU=function(f){return !!f.J;};b.isEqual=function(f,h){var d,g;d=(0,b.pU)(f);g=(0,b.pU)(h);return d === g?d?f.J === h.J:f.ga === h.ga:!1;};b.Xm=function(f){if((0,b.pU)(f))return f.J;f=f.ga;return f.M[f.xe].J;};b.ina=function(f,h){var d;return f.x2?f.x2 instanceof c.N?(f=(0,l.Dx)(h,(0,b.Xm)(f.key),f.x2),(null === f || void 0 === f?0:f.offset.greaterThan(c.N.Ia))?f:{offset:c.N.Ia,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:h.xe}):f.x2:{offset:c.N.Ia,I:h.xe};};},83386:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.sca=b.Zda=void 0;a=(function(){function l(){var f;f=this;this.XQ=[];this.GYb=function(h){h=f.XQ.indexOf(h);0 <= h && f.XQ.splice(h,1);};}Object.defineProperties(l.prototype,{lha:{get:function(){return 0 !== this.XQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{b6a:{get:function(){return this.XQ.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var f;f=new c(this.GYb);this.XQ.push(f);return f;};l.prototype.Jeb=function(f){var h;h=this.add();try{Promise.resolve(f()).then(function(d){h.release();return d;},function(d){h.release();return Promise.reject(d);});}catch(d){h.release();Promise.reject(d);}};return l;})();b.Zda=a;c=(function(){function l(f){this.ypb=f;}l.prototype.release=function(){this.ypb(this);};return l;})();r=(function(){function l(f,h){this.BTb=f;this.console=h;this.counter=new a();}l.prototype.Lu=function(){var f,h;f=this;this.console.trace("Acquiring lease, total count",this.counter.b6a + 1);h=this.counter.add();return {release:function(){h.release();f.console.trace("Releasing lease, total count",f.counter.b6a);f.BTb(function(){return !f.counter.lha;});}};};return l;})();b.sca=r;},9551:function(r,b,a){var f;function c(h,d){this.epb=h.JM && h.JM.enabled;this.u1=void 0;this.sob=d;this.lga=[];this.xga=[];this.bga=[];h=h.EPa || [];d=h.map(function(g){return g.Kcc;});d.unshift(0);this.lpb=h;this.mpb=d;this.dga=[];this.oh=[];}function l(h,d){var u,t,w,v;for(var g=[],m=[],k=0;k < h.length;k++){for(var n=h[k],p=[],q=0;q < n.length;q++){u=n[q] - (m[q] || 0);t=d && d[q];w=p;v=w.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);v.call(w,u);}g.push(p);m=n;}return g;}f=a(95711).ML;c.prototype.reset=function(h){this.u1=void 0;this.lga=[];this.xga=[];this.bga=[];this.dga=[];h && (this.oh=[]);};c.prototype.add=function(h,d){var g,m,k,n;g=d.filter(function(p,q){return f(p) || q === h.Qh;});m=g.map(function(p){return p.bitrate;});d=d[h.Qh];g=g.indexOf(d);k=this.u1;if(k && (k.length !== m.length || k.some(function(p,q){return p !== m[q];}))){n=this.ZYa();n && (this.oh.push(n),this.reset(!1));}void 0 === k && (this.u1=m);this.lga.push([g,h.Cr,h.el,h.tSa,h.gub,h.XV,h.ISb,h.Ag,h.Zj,h.Bs,h.CC - h.Cr,h.wVb]);void 0 !== h.Gv && this.bga.push([h.Cr,h.Gv.Uy,h.Gv.Bx,h.Gv.Iy]);g=d && d.La;this.epb && void 0 !== g && (k=g.Qx(h.Bs),-1 != k && (g=g.get(k),k=g.duration,d=g.yb || d.yb,void 0 !== d && this.xga.push({ab:g.ab,duration:k,yb:d})));(d=h.RVb) && d.length && (d=d.slice(0),d.unshift(h.Cr),this.dga.push(d));};c.prototype.ZYa=function(){var h,d;h=l(this.lga);if(0 !== h.length){h={dltype:this.sob,bitrates:this.u1,seltrace:h,vmaftrace:this.xga,paceratetrace:l(this.bga)};d=l(this.dga,this.mpb);d && d.length && (h.predtrace={config:this.lpb,data:d});return h;}};c.prototype.get=function(){var h,d;h=this.ZYa();d=this.oh;h && d.push(h);if(0 !== d.length)return d;};r.exports=c;},23710:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Mya=void 0;c=a(50954);l=a(83981);f=a(13043);r=(function(){function h(d){this.context=d;this.pd="ad-playgraph";this.enabled=!0;}h.prototype.Qi=function(d){var g,m,k,n,p,q,u;g=d.Si;d=d.KB;if(g === f.qc.Mj || g === f.qc.im || g === f.qc.Oi || d === f.Th.Et || void 0 === g && void 0 === d){d=this.context;g=d.Lc;m=d.Ta;d=m.X;k=d.Qd?d.Hg:m.Oq?m.Ah:void 0;n=g.ss;p=void 0;q="content";d=void 0;if(k){m=m.ga.M[k.I];u=m.Rb;u && (g=g.ga.M[u],g.J != m.J && (p=m.J,q=m.type,d=this.uGb(k.I,g.J)));}g={adPlaygraph:n?c.Lda.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (g.adBreakLocationMs=d);return g;}};h.prototype.uGb=function(d,g){var m,k,n,p;if(d=(0,l.yF)(d))p=null === (n=null === (k=null === (m=this.context.Lc.Sc) || void 0 === m?void 0:m.We.ce[g]) || void 0 === k?void 0:k[d.oj]) || void 0 === n?void 0:n.Pt;return p;};return h;})();b.Mya=r;},42842:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.qza=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(42866);h=r.__importDefault(a(89956));d=r.__importDefault(a(9551));g=a(13043);m=a(88985);a=(function(){function k(n){var p,q;p=this;this.ga=n;this.Eq="aseReport";this.UR=l.N.vp;this.events=new c.EventEmitter();this.bja=m.U_.lBa;this.$fa=!1;this.WPa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.ER || n.config.pdc){this.UR=l.N.Ma(n.config.zha);this.uQb=n.config.ssb;this.ga.f2=!0;q=[];q[h.default.pm.Y]=new d.default(n.config,h.default.pm.Y);q[h.default.pm.ea]=new d.default(n.config,h.default.pm.ea);q[h.default.pm.Ka]=new d.default(n.config,h.default.pm.Ka);this.pga=q;this.ga.events.on("openComplete",function(){return p.open();});}}k.prototype.open=function(){this.ga.f2 && !this.$fa && (this.$fa=!0,this.ga.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ga.events.on("requestIssued",this.Wra.bind(this)));};k.prototype.Wra=function(n){n.result && n.streamList && (this.pga[n.mediaType].add(n.result,n.streamList),++this.WPa >= this.uQb && this.events.emit("collectionRequested"));};k.prototype.MJb=function(){var n;n=(0,f.flatten)(this.pga.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.pga.forEach(function(p){return p.reset(!0);});this.WPa=0;return n;};k.prototype.Cf=function(n){var p,q;p=n.Si;q=n.uwb;n=n.J1a || q || p === g.qc.Oi;return this.ga.f2 && this.$fa && n && (n=this.MJb()) && n.length?{Z9:!0,event:{type:"asereport",strmsel:n}}:{Z9:!1};};return k;})();b.qza=a;},69287:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GAa=void 0;c=a(59322);l=a(49730);f=a(13043);r=(function(){function h(d,g){this.E1b=d;this.dn=g;}Object.defineProperties(h.prototype,{zp:{get:function(){return ("cache-").concat(this.E1b);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});h.prototype.Qi=function(d){var g,m,k;g=d.Si;d=d.KB;if(g === f.qc.Mj || g === f.qc.im || g === f.qc.Oi || void 0 === g && void 0 === d){m=(0,c.MYa)(this.dn);g=Object.keys(m).filter(function(n){return m[n].isEnabled;});if(g.length){k={};g.forEach(function(n){k[n]={hit:m[n].kia,idx:m[n].zSa};});return {Ybc:k};}}};return h;})();b.GAa=r;},53412:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=void 0;c=a(42866);l=a(27364);f=a(13043);r=(function(){function h(d,g){this.rg=d;this.config=g;this.pd="CdnListTracker";}Object.defineProperties(h.prototype,{enabled:{get:function(){return this.config.nvb;},enumerable:!1,configurable:!0}});h.prototype.Qi=function(d){var g;g=this;if(d.Si === f.qc.Oi)return {cdndldist:JSON.stringify((0,c.zRa)(Object.keys(this.rg).map(function(m){var k;k=g.rg[m];return Object.keys(k).map(function(n){var p;p=k[n];return {cdnid:p.Gm,pbcid:p.Ep,dls:Object.keys(p.fF).map(function(q){var u,t;q=p.fF[q];t=q.mediaType === l.v.ea?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Tb,u.vf=q.yb,u);})};});})))};};return h;})();b.OAa=r;},53405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iBa=void 0;c=a(13043);r=(function(){function l(f){this.Jm=f;this.pd="content-playgraph";this.enabled=!0;}l.prototype.Qi=function(f){var h,d;h=f.Si;f=f.KB;if(h === c.qc.Mj || h === c.qc.im || h === c.qc.Oi || void 0 === h && void 0 === f){f=this.Jm.Ta;d=f.X;h=void 0;(d.Qd?d.Hg:f.Oq && f.Ah) && this.Jm.Jm && (d=d.Hg,f=this.Jm.Vg.Qt(d),d=this.Jm.Ta.ga.M[d.I].J,this.Jm.ga.M[f.I].J != d && (h=d));return {contentPlaygraph:this.Jm.Jm,auxMid:h};}};return l;})();b.iBa=r;},33285:function(r,b,a){var l,f,h,d;function c(g,m,k){var n,p,t;m=l.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{e6a:m,rq:k}));if((null === g || void 0 === g?0:g.rq) && k)if(!0 === g.rq)m.args=k;else {p={};m.args=p;try{for(var q=l.__values(g.rq),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=k[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.tu=b.zna=b.Sb=void 0;l=a(5163);f=a(42866);h=a(49730);d=l.__importDefault(a(35471));b.Sb=function(g){return function(m,k,n){var p;p=n.value;n.value=function(){var q,u,t,w,v,y;u=(0,b.zna)(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(k),v=u.RQa(w,t,null === g || void 0 === g?void 0:g.ak,null === g || void 0 === g?void 0:g.Tdc));q=null === u || void 0 === u?void 0:u.Lja;u && (u.Lja=v);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,f.apa)(y) && (y=y.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.Lja=q);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === u || void 0 === u?void 0:u.Nwb(v)):(null === g || void 0 === g?0:g.return) && !(0,f.apa)(y) && (v.data.lRet=y));}};};};b.zna=function(g){if(null === g || void 0 === g?0:g.Iea)return g.Iea;};r=(function(){function g(m){this.xp=[];this.Y0=!1;this.Afa={};this.Z=l.__assign({fo:10},m);Object.defineProperties(m.dn,{Iea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.Z.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.Y0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UNb:{get:function(){return l.__spreadArray([],l.__read(this.xp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lLb:{get:function(){return this.Afa;},enumerable:!1,configurable:!0}});g.prototype.us=function(m){var k,n;if(!this.Y0){n=null === (k=(0,b.zna)(this.Z.dn)) || void 0 === k?void 0:k.Lja;n && (n.data=l.__assign(l.__assign({},n.data),m));}};g.prototype.RQa=function(m,k,n,p){var q,u,t,w;if(!this.Y0){t=!1;w=null === (u=(q=this.Z).VQa) || void 0 === u?void 0:u.call(q,this.Z.dn);q=c({},this.Z.dn);k=l.__assign(l.__assign(l.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:m,data:w?k:void 0,time:d.default.time.Ga()};p && this.Afa[m]++;n && this.xp.length && (n=this.xp[this.xp.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.Owb(k);t || this.xp.push(k);this.xp.length > this.Z.fo && this.xp.shift();return k;}};g.prototype.Owb=function(m){var k;h.K && (null === (k=this.Z.console) || void 0 === k?void 0:k.trace(("").concat(this.Z.source,"::").concat(m.methodName),m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Z,m);};g.prototype.Nwb=function(m){var k;h.K && (null === (k=this.Z.console) || void 0 === k?void 0:k.error(("").concat(this.Z.source,"::").concat(m.methodName),m.data));};g.prototype.Qa=function(){Object.defineProperties(this.Z.dn,{Iea:{enumerable:!1,value:null,configurable:!0}});this.Y0=!0;this.clear();};g.prototype.clear=function(){this.xp=[];this.Afa={};};return g;})();b.tu=r;},83275:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(13043);r=(function(){function l(f){this.Ic=f;}Object.defineProperties(l.prototype,{pd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var h;if(f.Si === c.qc.Oi && this.Ic){f={};h=this.Ic.get();h && h.avtp && h.avtp.Da && (f.avtp=h.avtp.Da,f.dltm=h.avtp.VVa);h && h.initialThroughput && h.initialThroughput.Da && (f.initial_avtp=h.initialThroughput.Da);h && h.cdnavtp && (f.cdnavtp=h.cdnavtp,f.activecdnavtp=h.activecdnavtp);if(h=this.Ic.Vma())(h.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=h.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=h.estimatedBytesPacedVideo,f.bytestotalVideo=h.bytestotalVideo,f.pacedAvtpVideo=h.pacedAvtpVideo),h.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=h.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=h.estimatedBytesPacedAudio,f.bytestotalAudio=h.bytestotalAudio,f.pacedAvtpAudio=h.pacedAvtpAudio),h.pacedAvtp && (f.pacedAvtp=h.pacedAvtp));this.Ic.flush();if(h=this.Ic.AHb())for(var d in h){h.hasOwnProperty(d) && (f["ne" + d]=Number(h[d]).toFixed(6));}return f;}};return l;})();b.ICa=r;},64048:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LCa=void 0;c=a(13043);r=(function(){function l(f){this.X3=f;this.zp="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{pd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var h;h=f.Si;f=f.KB;if(h === c.qc.Mj || h === c.qc.im || h === c.qc.Oi || void 0 === h && void 0 === f)return (h=this.X3.zVb.map(function(d){var g;g=d.ga;return {id:g.id,weight:g.weight,relativeWeight:d.jW};}),{prefetcher:this.X3.Lv.getStats(),playgraphs:h,viewables:this.X3.q6b,players:this.X3.xVb.length});};return l;})();b.LCa=r;},10711:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.FFa=void 0;c=a(57055);l=a(42866);f=a(27364);h=a(88985);d=a(13043);r=(function(){function g(m){this.ga=m;this.Eq="liveReport";this.UR=l.N.vp;this.events=new c.EventEmitter();this.bja=h.U_.bMa;this.xQ=!1;this.trace=[];this.Ecb=1;0 < m.config.n3a && 0 < m.config.Fpa && (this.UR=l.N.Ma(m.config.Fpa),this.Ecb=Math.max(Math.floor(m.config.n3a / m.config.Fpa),1),this.xQ=!0);}g.prototype.swb=function(){var m,k,n,p;k=this.ga.X;if(k.Qd){n=k.Ey;p=n.pa;if(p.ha){if(n=null === (m=n.cf(f.v.Y)) || void 0 === m?void 0:m.$n)(m=n.Tn(),p=p.It,k=m.Mha + k.Nd.G,m=this.ga.zF(),this.trace.push([p,k,m.totalabuflmsecs,m.totalvbuflmsecs]));}else this.xQ=!1;}};g.prototype.Cf=function(m){var k;k=m.J1a;m=m.Si;this.xQ && (k || m === d.qc.Mj) && this.swb();return this.trace.length === this.Ecb || 0 < this.trace.length && m === d.qc.Oi?(k=this.trace,this.trace=[],{Z9:!0,event:{type:"livereport",samplinginterval:this.UR.G,trace:k}}):{Z9:!1};};return g;})();b.FFa=r;},99384:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=void 0;c=a(60328);l=a(13043);r=(function(){function f(h){this.Aa=h;this.enabled=!0;}Object.defineProperties(f.prototype,{pd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});f.prototype.Qi=function(h){var d,g,m,k;h=h.KB;if(h === l.Th.xr || h === l.Th.eU || h === l.Th.Lx || h === l.Th.Et || h === l.Th.dX || h === l.Th.ux || h === l.Th.nW){g=this.Aa.X;if(g.Qd){m=g.Ey;k=m.pa;m=null === (d=m.cf(c.v.Y)) || void 0 === d?void 0:d.$n;if(k.ha && m){d=m.Tn();g={encodingpipelinetime:k.It,devicepts:d.Mha + g.Nd.G};h === l.Th.xr && (g.presentationtimeoffset=d.N8.G);if(h === l.Th.xr || h === l.Th.Et)g.targetbufferduration=this.Aa.config.YL;return g;}}}};return f;})();b.GFa=r;},88985:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dGa=b.U_=void 0;c=a(57055);l=a(13043);(function(h){h[h.lBa=1]="Creation";h[h.bMa=2]="StartPlayback";})(f=b.U_ || (b.U_={}));r=(function(){function h(d,g,m){this.Kd=d;this.V=g;this.events=m;this.eH=[];this.Ok=new c.Qe();}h.prototype.Xe=function(d){var g;g={lN:d,nia:void 0};this.eH.push(g);d.bja === f.lBa && this.l$a(g);this.Ok.on(d.events,"collectionRequested",this.hTb.bind(this,g));};h.prototype.Qa=function(){this.Ok.clear();};h.prototype.xOb=function(d){var g,m;g=this;m={Si:d};this.eH.forEach(function(k){g.hxa(k.lN,m);d === l.qc.Mj && k.lN.bja === f.bMa && g.l$a(k);});};h.prototype.hTb=function(d){var g;this.hxa(d.lN,{uwb:!0});null === (g=d.nia) || void 0 === g?void 0:g.Sf();};h.prototype.l$a=function(d){var g,m,k,n;g=this;k=d.lN;n=this.Kd.AUa(function(){g.hxa(k,{J1a:!0});},k.UR,k.Eq);null === (m=d.nia) || void 0 === m?void 0:m.Qa();d.nia=n;};h.prototype.hxa=function(d,g){var m;try{m=d.Cf(g);m.Z9 && this.events.emit(d.Eq,m.event);}catch(k){this.V.error(("Error generating event for ").concat(d.Eq),k);}};return h;})();b.dGa=r;},34848:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rJa=void 0;c=a(27364);l=a(13043);r=(function(){function f(h){this.cf=h;}Object.defineProperties(f.prototype,{pd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qi=function(h){var d,g;h=h.Si;if(h === l.qc.im || h === l.qc.Oi){h={};d=this.cf(c.v.Y);g=this.cf(c.v.ea);d && (h.videoPipelineSummary=this.Kbb(d));g && (h.audioPipelineSummary=this.Kbb(g));return h;}};f.prototype.Kbb=function(h){var d,g,m,k,n;n=h.df.La;return {actualStartPlayerTimestamp:null === (d=n.Ab) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:n.$6a,completePlayerTimestamp:null === (g=h.Jl) || void 0 === g?void 0:g.G,segmentId:h.I,contentStartMs:null === (m=h.Na) || void 0 === m?void 0:m.G,contentEndMs:null === (k=h.eb) || void 0 === k?void 0:k.G,streamingPlayerMs:h.AC.G,isStreamable:h.zB(),isNormalized:h.Wg(),isDoneStreaming:h.dt(),trackNeedsHeaderRequest:h.track.hV,completedRequests:n.STa,activeRequests:h.df.Zj,unsentRequests:h.df.IC,bytes:{current:n.xa,received:n.FXb,partial:n.dr,completed:n.X2,unsent:n.G4b}};};return f;})();b.rJa=r;},48154:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cKa=void 0;c=a(5163);l=a(49730);f=a(97810);h=a(13043);d=a(66709);r=(function(){function g(m,k){var n;n=this;this.Wsa=m;this.Aa=k;this.C7a=new f.ru();k.events.on("branchesReevaluated",function(){n.C7a.push(m.size);});}Object.defineProperties(g.prototype,{pd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zp:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});g.prototype.Qi=function(m){var k;m=m.Si;if(m === h.qc.im || m === h.qc.Oi){k={branchCountStats:this.C7a.toJSON(),decisions:this.Aa.tg.toJSON(),player:this.Aa.X.rp?this.Aa.X.Va.map(function(n){return n.u.id;}):[]};this.Wsa.forEach(function(n,p){var q,u;u=(0,d.lma)(n);k[p]=c.__assign({probabilities:n.$g.map(function(t){return {duration:t.duration,immediate:t.mB,seamless:t.uf};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.Wg,hasViewable:n.Vn,headerRequested:n.Vn && n.pa.s0a},u);});return k;}};return g;})();b.cKa=r;},89873:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zKa=void 0;c=a(5163).__importDefault(a(35471));l=a(13043);r=(function(){function f(){this.creationTime=c.default.time.Ga();this.Dc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.Msb=function(h){this.ga=h;};f.prototype.WZb=function(h,d){var g;h=null === (g=this.ga) || void 0 === g?void 0:g.Rn(h);this.Dc={isPrefetchItem:!0,prefetchedVideoMs:h.gO,prefetchedAudioMs:h.fO,prefetchClaimDurationMs:c.default.time.Ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{pd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qi=function(h){if(h.Si === l.qc.Mj)return this.Dc;};return f;})();b.zKa=r;},13043:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$da=b.Th=b.qc=void 0;c=a(5163);l=a(42866);f=a(18998);(function(h){h[h.Mj=0]="startPlayback";h[h.Oi=1]="endPlayback";h[h.im=2]="underflow";})(b.qc || (b.qc={}));b.Th={xr:"startplay",sy:"midplay",Lx:"endplay",eU:"intrplay",ux:"chgstrm",MM:"playbackaborted",nW:"renderstrmswitch",oC:"repos",Et:"resumeplay",dX:"statechanged",wE:"aseReport"};r=(function(){function h(d){this.config=d;this.eH=[];}h.prototype.Xe=function(d){var g,m;m=c.__read(this.config.qsb.filter(function(k){return k.pd === d.pd;}),1)[0];this.config.DCb && (null !== (g=null === m || void 0 === m?void 0:m.enabled) && void 0 !== g?g:d.enabled)?this.eH.push(d):d.Qa && d.Qa();};h.prototype.pJb=function(d){return (0,l.xc)(this.eH,function(g){return g.pd === d.pd;});};h.prototype.Qi=function(d,g){var m,k,n,u,t;k={};n=[];try{for(var p=c.__values(this.eH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.Qi({Si:d,KB:g});t && (u.zp?k[u.zp]=t:k=c.__assign(c.__assign({},k),t));}catch(v){n.push(Error(("").concat(u.pd,"::").concat(v)));}}}catch(v){var w;w={error:v};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(w)throw w.error;}}n.length && (k["rpt-error"]=f.Eaa.stringify(new f.Eaa("Reporting error",n)));return k;};return h;})();b.$da=r;},66709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IYa=b.c_a=b.lma=b.dLa=void 0;c=a(5163);l=a(49730);f=a(13043);r=(function(){function h(d){this.ub=d;}Object.defineProperties(h.prototype,{pd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zp:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});h.prototype.Qi=function(d){var g,m,p;d=d.Si;if(d === f.qc.Oi || d === f.qc.im)if(d=this.ub.gma()){m={};try{for(var k=c.__values(d.nVb),n=k.next();!n.done;n=k.next()){p=n.value;m[p.mediaType]=this.WPb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.IYa)(d.rXb),playerIterator:m,driftStats:this.ub.Zxa};}};h.prototype.WPb=function(d){return null === d || void 0 === d?void 0:d.DZa();};return h;})();b.dLa=r;b.lma=function(h){var d,g;if(h){d=h.u;g={};h.Ts().forEach(function(m){g[m.mediaType]=(0,b.c_a)(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:h.Md,RM:g};}return h;};b.c_a=function(h){var d,g,m;if(h && h.df)return c.__assign(c.__assign({},h.df.o_a()),{unsentRequests:h.df.IC,lastFragmentContentEndPts:null === (d=h.pf) || void 0 === d?void 0:d.eb.G,trackAttributes:null === (g=h.track) || void 0 === g?void 0:g.Vm(),bitrate:null === (m=h.pf) || void 0 === m?void 0:m.bitrate});};b.IYa=function(h){return h.map(function(d){return (0,b.lma)(d);});};},46059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iLa=void 0;c=a(13043);r=(function(){function l(f,h){this.Ic=f;this.D9a=h;}Object.defineProperties(l.prototype,{pd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var h;h=f.Si;f=f.KB;if(h === c.qc.Oi || h === c.qc.im || void 0 === h && void 0 === f)return (h={numOutstandingRequests:this.D9a.BSb,requestOpportunityDelayStats:this.D9a.C9a},(f=this.Ic.Cqb) && f.length && (h.activeRequests=JSON.stringify(f)),h);};return l;})();b.iLa=r;},39886:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hea=void 0;c=a(13043);r=(function(){function l(){this.zp=this.pd=l.pd;this.enabled=!0;this.BW=[];this.S9a=0;}l.prototype.krb=function(f){this.BW.push(f);5 < this.BW.length && this.BW.shift();};l.prototype.lrb=function(){this.S9a++;};l.prototype.Qi=function(f){var h;h=f.Si;f=f.KB;if((h === c.qc.Mj || h === c.qc.im || h === c.qc.Oi || void 0 === h && void 0 === f) && this.BW.length)return {restarts:this.BW.map(function(d){return {s:d.F1b,d:d.uBb,r:d.reason,atMs:d.vVb.G};}),restartsCompleted:this.S9a};};l.pd="seamlessManager";return l;})();b.hea=r;},41471:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cMa=void 0;c=a(57055);l=a(27364);f=a(13043);r=(function(){function h(d){this.cOa=!1;this.WA=new c.Qe();this.WA.addListener(d.events,"streamSelection",this.Wra.bind(this));}h.prototype.Wra=function(d){this.cOa || (d.mediaType === l.v.ea && void 0 === this.yoa?this.yoa=d:d.mediaType === l.v.Y && void 0 === this.Aoa && (this.Aoa=d));};h.prototype.Qa=function(){this.Aoa=this.yoa=void 0;this.WA.clear();this.cOa=!0;};Object.defineProperties(h.prototype,{pd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.Qi=function(d){var g;if(d.Si === f.qc.Mj)return (d=null !== (g=this.Aoa) && void 0 !== g?g:this.yoa,g={histdiscbw:null === d || void 0 === d?void 0:d.result.Ys,histage:null === d || void 0 === d?void 0:d.result.kB},d=null === d || void 0 === d?void 0:d.streamList.map(function(m){return void 0 !== m.a4?{vmaf:m.a4,streamIndex:m.Kt,streamId:m.Ub}:void 0;}).filter(function(m){return void 0 !== m;}),0 < (null === d || void 0 === d?void 0:d.length) && (g.vmafEstimates=d),this.Qa(),g);this.Qa();};return h;})();b.cMa=r;},35556:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vMa=void 0;r=a(5163);c=a(57055);l=a(49730);f=r.__importDefault(a(35471));h=a(13043);a=(function(){function d(g){this.Kd=g;this.u0=[];this.reset();}Object.defineProperties(d.prototype,{pd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zp:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,m;g=this;null === (m=this.sJ) || void 0 === m?void 0:m.clear();this.sJ=new c.Qe();this.sJ.on(this.Kd,"clockChanged",function(){g.reset();g.cT("initial");});this.sJ.on(this.Kd,"stopping",function(){g.cT("stopping");});this.sJ.on(this.Kd.qa,"clockAdjusted",function(){g.cT("clockAdjusted");});this.sJ.on(this.Kd.qa,"stopStart",function(){g.cT("stopStart");});this.sJ.on(this.Kd.qa,"speedChanged",function(){g.cT("speedChanged");});};d.prototype.cT=function(g){this.u0.push({reason:g,audit:this.Kd.jv(),time:f.default.time.Ga()});5 < this.u0.length && this.u0.shift();};d.prototype.Qi=function(g){var m;m=g.Si;g=g.KB;if(m === h.qc.Mj || m === h.qc.im || m === h.qc.Oi || void 0 === m && void 0 === g)return this.u0;};return d;})();b.vMa=a;},48641:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Qw=void 0;c=a(5163);l=a(49730);f=a(97810);h=a(13043);r=(function(){function d(g,m){this.fh=g;this.options=c.__assign({$vb:!0},m);}Object.defineProperties(d.prototype,{zp:{get:function(){return ("trace-").concat(this.fh.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.Qi=function(g){var m,k;m=g.Si;if(m === h.qc.Oi || m === h.qc.im){g=(0,f.uVa)(this.fh.UNb);k=this.fh.lLb;m === h.qc.Oi && this.options.$vb && this.fh.clear();m=g;Object.keys(k).length && (m=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[k],!1));return m;}};d.prototype.Qa=function(){var g;null === (g=this.fh) || void 0 === g?void 0:g.Qa();};return d;})();b.Qw=r;},88181:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.eLa=void 0;c=a(5163);l=c.__importStar(a(17267));f=a(42866);h=a(29930);d=a(2746);r=a(57196);g=a(27364);m=a(62558);k=a(89755);n=a(7881);p=a(58628);q=a(54790);a=(function(u){function t(w,v,y,x,z,A,B,D){var C;C=u.call(this,w) || this;C.Z=v;C.V=y;C.Oo=x;C.Xr=z;C.Ce=A;C.Tma=D;C.oe=new k.OC(C.V);C.Pz=C.V.error.bind(C.V);C.rs=C.V.warn.bind(C.V);C.hx=C.V.trace.bind(C.V);C.GPa();C.Qo=null === B || void 0 === B?void 0:B.Fx(function(){return C.YYb();},"pruner");return C;}c.__extends(t,u);Object.defineProperties(t.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wb:{get:function(){return this.Xr;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zv:{get:function(){return 0 < this.mua;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kwa:{get:function(){return !this.BQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mua:{get:function(){return this.wc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{IC:{get:function(){return this.wc.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{SJ:{get:function(){return this.oe.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Jl:{get:function(){return this.wc.complete.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dS:{get:function(){return this.wc.QTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gja:{get:function(){return this.wc.Bwb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{AC:{get:function(){return this.wc.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{p9:{get:function(){return void 0 === this.wc.Ab?0:this.wc.Mb.G - this.wc.Ab.G;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{W2:{get:function(){return {xa:this.wc.X2,G:this.wc.empty?0:Math.max(this.wc.QTa - this.wc.Ab.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{X2:{get:function(){return this.wc.X2;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mA:{get:function(){return this.wc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{HUb:{get:function(){return this.Lnb();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Nna:{get:function(){return this.wc.length > this.wc.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zj:{get:function(){return this.wc.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{K2a:{get:function(){return this.FOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{La:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});t.prototype.Jf=function(w){var y,x;function v(){return x.forEach(function(z){z.abort();z.Ze();});}x=this.wc;w?setTimeout(v,1):v();this.GPa();this.oe.mF();null === (y=this.Qo) || void 0 === y?void 0:y.Qa();};t.prototype.reset=function(){this.Jf();this.oe.M9a();};t.prototype.close=function(){this.oe.mF();};t.prototype.M$a=function(){this.QNa=!0;};t.prototype.o_a=function(){return {endMarked:void 0 !== this.oe.count,queueCount:this.oe.count,isComplete:this.oe.ey,itemCount:this.oe.RTa,continuousEndPts:this.oe.Ar().reduce(function(w,v){return v && !v.done && (v=v.value,100 > Math.abs(v.$K.G - w) || -1 === w)?v.Zla.G:w;},-1),sentinelItemCount:this.oe.Ar().filter(function(w){return w && w.done;}).length,processedCount:this.oe.kBb,rc:this.mua};};t.prototype.LUa=function(w,v,y){var x,z;x=this.Z;(0,m.assert)(!w.header);y.ha && y.mediaType === g.v.Ka && (z=new q.Jaa(y,this.Xr.Wy.track,w,this.wc,this.wb.u,x,this.V));z || (z=h.Haa.create(y,x,v.track,w,this.wc,this.wb.u,this.V,this.Tma));this.Su(z);return z;};t.prototype.Su=function(w){var v,y;this.wc.Zs(w);(null === (v=this.Qo) || void 0 === v?void 0:v.state) === n.Ak.complete && (null === (y=this.Qo) || void 0 === y?void 0:y.Sf());this.Wmb();w.Kk && (this.BQ=!1);};t.prototype.dB=function(){return this.oe.hma();};t.prototype.ZSa=function(){this.Eu === this.wc.length && this.QNa && this.oe.mF();};t.prototype.Vcb=function(){var w,v,y;w=this;Promise.resolve();if(this.Xr.Y5(this.Ce) && this.Eu !== this.wc.length){for(var x=this.Z.qQb,z=0,A=[];this.Eu < this.wc.length;){if(y=this.wc.get(this.Eu)){if(this.wc.XXa && this.wc.XXa.qb < y.qb)break;if(!y.D1a())break;A.push(y);++z;l.sb(this.Tsa) || (this.Tsa=null === (v=y.Ab) || void 0 === v?void 0:v.G);}++this.Eu;if(!l.ii(x) && z >= x)break;}A.length && (void 0 !== this.oe.count && (this.Pz("tryToAtach() but requestQueue has sentinel:",this.oe.count),this.oe.M9a()),Promise.all(A.map(function(B){return w.oe.enqueue(B).then(function(){return w.sKb(B);});})),this.ZSa());}};t.prototype.sKb=function(w){this.FOa=w;this.dYa(w);};t.prototype.lR=function(w){var v,y,x;v=this;y=[];if(0 !== this.wc.IC){x=this.wc.$6a;this.wc.F4b.ewa(function(z){var A;if(z.Kk || x > (null === (A=z.Ab) || void 0 === A?void 0:A.G))return !0;z.Rx && (v.BQ=!1);if(!v.Jea(z))return (v.rs("request abort failed:",z.toString()),!0);y.unshift(z);});this.uPa();y.length && "function" === typeof w && w(y);}};t.prototype.YYb=function(){var w,v,y,x,z,A;return c.__generator(this,function(B){switch(B.label){case 0:B.label=1;case 1:if(!this.wc.length)return [3,3];w=this.wc.get(0);v=f.N.Ma(null !== (A=null === (z=this.Z.HN) || void 0 === z?void 0:z.G) && void 0 !== A?A:0);y=v.add(w.Mb);return [4,n.Rg.Ut(y)];case 2:B.Ra();if(1 >= this.wc.complete.length && !w.Kk)return [3,3];(0,m.assert)(w === this.wc.get(0));w.CR || this.Jea(w);x=this.wc.splice(0,1);0 < this.Eu && this.Eu--;this.Oo.tra(x);x=void 0;return [3,1];case 3:return [2];}});};t.prototype.YEb=function(w){if(this.wc.length && (w=this.wc.FXa(w)))return w;};t.prototype.sqb=function(w){var v,y,x,z,A,B,D;B=w.eb;w=this.wc.xla(w.Na.G);D=this.wc.get(w);(0,m.assert)(D && void 0 !== (null === (v=D.Na) || void 0 === v?void 0:v.G) && void 0 !== (null === (y=D.eb) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (x=D.eb) || void 0 === x?0:x.equal(B))return (this.lQa(w),[null === (z=D.eb) || void 0 === z?void 0:z.G,D.index + 1]);this.lQa(w - 1);return [null === (A=D.Na) || void 0 === A?void 0:A.G,D.index];};t.prototype.pn=function(w){var v,y;v=this;y=[];this.wc.forEach(function(x){var z;z=x.Bxa(w);1 === z?y.push(x):2 === z && v.wb.pa.tf("swapUrl failure");});return y;};t.prototype.BM=function(w){w.et && w.D1a() && this.Vcb();this.ZK(w);};t.prototype.cr=function(w,v){var y,x;w.et && !w.CR && this.Vcb();(null === (y=this.Qo) || void 0 === y?void 0:y.state) === n.Ak.complete && (null === (x=this.Qo) || void 0 === x?void 0:x.Sf());this.tF(w,v);};t.prototype.Lnb=function(){return this.wc.Zj + this.wc.IC;};t.prototype.GPa=function(){var w,v,y;v=void 0 !== this.wc && 0 < this.wc.length;y=this.wc;this.wc=new d.gza(this.V,this);this.Eu=0;this.oe.clear();this.FOa=void 0;this.Tsa=null;null === (w=this.Qo) || void 0 === w?void 0:w.Sf();this.QNa=this.BQ=!1;v && (w=y.map(function(x){return x;}),this.Oo.tra(w));};t.prototype.Wmb=function(){this.BQ || (this.BQ=!0);};t.prototype.lQa=function(w){var v;for(w+=1;w < this.mua;w++){v=this.wc.get(w);(0,m.assert)(v,"expected request to exist");this.oe.remove(v);v.aborted || (this.Jea(v),v.Ze());}this.uPa();};t.prototype.Jea=function(w){return w.abort()?!0:!1;};t.prototype.uPa=function(){var w,v,y,x;w=this;if(0 !== this.wc.length){y=[];x=0;this.wc.eXb(function(z,A){A < w.Eu && ++x;y.push(z);});this.Eu-=x;null === (v=this.Qo) || void 0 === v?void 0:v.Sf();this.Oo.tra(y);}};return t=c.__decorate([p.wF],t);})(r.NC);b.eLa=a;},36021:function(r,b,a){var c,l,f,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fLa=void 0;c=a(5163);l=a(62558);f=c.__importDefault(a(35471));h=a(33285);d=a(97810);r=(function(){var F$s;F$s=2;function g(m,k){var J1M,n;J1M=2;for(;J1M !== 14;){switch(J1M){case 8:var u$g="Req";u$g+="ues";u$g+="tPacer";var d$2="1SIY";d$2+="bZ";d$2+="rNJC";d$2+="p9";d$2;this.xp=new h.tu({dn:this,source:u$g,VQa:function(){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:return {numOutstanding:n.VD};break;}}},fo:10});this.C9a=new d.ru();J1M=14;break;case 2:var k_p="m";k_p+="edia";k_p+="|as";k_p+="ejs";var M_y="ASEJ";M_y+="S_REQUEST_P";M_y+="ACER";n=this;this.o6=m;this.config=k;this.VD=0;this.console=new f.default.Console(M_y,k_p);this.Zua=!1;J1M=8;break;}}}for(;F$s !== 13;){switch(F$s){case 8:var E0S="e";E0S+="T";E0S+="a";var G61="checkReques";G61+="t";G61+="Oppor";G61+="tunityRunn";G61+="er";var E93="k";E93+="r";var B5t="remove";B5t+="Req";B5t+="ue";B5t+="s";B5t+="t";var m$y="S";m$y+="u";var Q_T="addR";Q_T+="e";Q_T+="ques";Q_T+="t";c.__decorate([(0,h.Sb)({methodName:Q_T,ak:!0})],g.prototype,m$y,null);c.__decorate([(0,h.Sb)({methodName:B5t,ak:!0})],g.prototype,E93,null);c.__decorate([(0,h.Sb)({methodName:G61,ak:!0})],g.prototype,E0S,null);return g;break;case 2:Object.defineProperties(g.prototype,{BSb:{get:function(){var D2P;D2P=2;for(;D2P !== 1;){switch(D2P){case 4:return this.VD;break;case 2:return this.VD;break;}}},enumerable:!1,configurable:!0}});g.prototype.sj=function(){var j8M,k,m;j8M=2;for(;j8M !== 9;){switch(j8M){case 1:j8M=!this.Zua?5:9;break;case 5:this.Zua=!0;k=f.default.time.Ga();return Promise.resolve().then(function(){var I6B;I6B=2;for(;I6B !== 5;){switch(I6B){case 2:m.Zua=!1;m.eTa(k);I6B=5;break;}}});break;case 7:m=this;j8M=4;break;case 2:m=this;j8M=1;break;}}};g.prototype.Su=function(m){var a_Z,k,n;a_Z=2;for(;a_Z !== 3;){switch(a_Z){case 2:var u$8="More than";u$8+=" maxAllowedOutst";u$8+="andi";u$8+="ngReques";u$8+="ts are outstanding";this.xp.us({mediaType:m.mediaType,contentStartPts:null === (k=m.Na) || void 0 === k?void 0:k.G,contentEndPts:null === (n=m.eb) || void 0 === n?void 0:n.G});this.VD++;(0,l.assert)(this.VD <= this.config.W6,u$8);a_Z=3;break;}}};F$s=4;break;case 4:var f3w="s";f3w+="j";var i6q="checkRequ";i6q+="est";i6q+="Opp";i6q+="ortun";i6q+="ity";g.prototype.kr=function(m){var J$h,k,n;J$h=2;for(;J$h !== 9;){switch(J$h){case 3:var e4S="remov";e4S+="e";e4S+="R";e4S+="equest";this.sj(e4S);J$h=9;break;case 2:var K7c="Received remove req";K7c+="uest";K7c+=" when";K7c+=" there are no requests outstandin";K7c+="g";this.xp.us({mediaType:m.mediaType,contentStartPts:null === (k=m.Na) || void 0 === k?void 0:k.G,contentEndPts:null === (n=m.eb) || void 0 === n?void 0:n.G});this.VD--;(0,l.assert)(0 <= this.VD,K7c);J$h=3;break;}}};g.prototype.eTa=function(m){var P85,k,n,p;P85=2;for(;P85 !== 9;){switch(P85){case 3:var h9r="req";h9r+="ues";h9r+="tOpportunityRunnerComplete";this.xp.RQa(h9r,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);P85=9;break;case 4:p++;P85=5;break;case 5:P85=this.VD < k && this.o6()?4:3;break;case 1:this.C9a.push(n);P85=5;break;case 2:(k=this.config.W6,n=f.default.time.Ga() - m,p=0);P85=1;break;case 13:p--;P85=6;break;}}};c.__decorate([(0,h.Sb)({methodName:i6q,ak:!0,rq:!0})],g.prototype,f3w,null);F$s=8;break;}}})();b.fLa=r;},39266:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZLa=void 0;c=a(42866);l=a(81883);f=a(27364);r=(function(){function h(d,g){this.$k=d;this.console=g;this.e1=Infinity;this.YNa=0;this.Zpb=!1;}h.prototype.PEb=function(d,g,m,k,n){var p;if(this.$k){p=d.La;if(p){if(m === f.v.Y)(m=p.Qx(Math.ceil(this.$k * d.ca.Cy),void 0,!0),p=d.Sn(m),d=p.ve.Ni(d.ca),p.yi({start:0,end:this.$k - m * d}),this.e1=this.$k);else {void 0 !== k.Xab?(g=k.Xab,m=g * d.ca.G):(m=(0,l.Pma)(k,n) + Math.ceil(k.btb * d.ca.Cy),c.N.Ma(m).Ni(d.ca),m=g + m,g=Math.ceil(m / d.ca.Cy));m=p.Qx(m,void 0,!0);for(n=k=0;n < m;++n){p=d.Sn(n);k+=p.ve.Ni(d.ca);}k=g - k;p=d.Sn(m);p.yi({end:k});this.e1=g;}p.$3a();return p;}}};h.prototype.SKb=function(){return this.YNa >= this.e1;};h.prototype.YLb=function(d,g){this.mv(d,g);};h.prototype.xDb=function(d,g,m){d.Ofc=this.mv(g,m);};h.prototype.mv=function(d,g){return d.ve.Ni(g.ca);};h.prototype.L2=function(){if(!this.SKb())return !1;if(this.Zpb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.YNa," >= ").concat(this.e1));return !0;};return h;})();b.ZLa=r;},96331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sRa=void 0;b.sRa=function(a,c,l){var f,h;f=!0;l.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(m){return c >= m.min && c <= m.max;});!f && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (h=m.disallowedBy,!0);});}});return {inRange:f,F3:h};};},85770:function(r,b,a){var l;function c(f,h){h=Math.max(f,h);return isNaN(h)?f || -Infinity:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.eza=void 0;l=a(27364);r=(function(){function f(h){this.config=h;this.Qta=0;this.state=l.Yc.Wr;this.f5a=c(h.Mqa,h.r7);this.Tqa=c(h.yG,h.aV);}f.prototype.wj=function(h,d){var g;g=this;if(d !== this.state){this.state=d;if(d === l.Yc.Pe || d === l.Yc.h0)return h;d === l.Yc.sl && this.EXb();}return h.filter(function(m){return !(void 0 !== m.yb && m.yb < g.Tqa || (void 0 === m.yb || 0 > g.Tqa) && m.bitrate < g.f5a);});};f.prototype.EXb=function(){++this.Qta;this.Tqa=c(this.config.yG,this.config.aV - this.config.bRb * this.Qta);this.f5a=this.config.Mqa || -Infinity;};return f;})();b.eza=r;},65364:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sza=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.P0b=function(f){return f % 100 + 1 <= this.config.Bsa;};l.prototype.wj=function(f){var h,d,g,m,k,n,p,q,u,t,w;p=Number(null === (h=f[0]) || void 0 === h?void 0:h.O);if(!(this.config.V3 && this.P0b(p) && 0 < this.config.t9.length))return f;h=f.length;q=null !== (d=f[h - 1].yW) && void 0 !== d?d:0;if(d=(0,c.xc)(this.config.t9,function(v){return v.Qfc >= q && v.P9a <= q;})){for(p=0;p < h;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.yW) && void 0 !== g?g:0) < d.P9a || (null !== (m=u.yW) && void 0 !== m?m:0) < d.P9a)){w=null !== (k=t.yb) && void 0 !== k?k:Infinity;u=null !== (n=u.yb) && void 0 !== n?n:Infinity;if(!(u < d.cfc || u < d.bfc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.Bec))break;}}return f.slice(0,p);}return f;};return l;})();b.sza=r;},72573:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tza=void 0;r=(function(){function a(c){this.config=c;}a.prototype.wj=function(c){var l;l=this.config;return c.filter(function(f){return !(void 0 !== f.yb && (f.yb < l.yG || f.yb > l.e4a) || (void 0 === f.yb || 0 >= l.yG) && f.bitrate < l.Mqa || (void 0 === f.yb || Infinity === l.e4a) && f.bitrate > l.cQb);});};return a;})();b.tza=r;},85147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oK=b.nK=void 0;c=a(69044);l=a(42186);b.nK=function(f,h){h && (null === f || void 0 === f?0:f.L0a) && (h=new l.su(h).or(l.qD));return new l.su(l.Saa).and(null !== h && void 0 !== h?h:l.qD).or(l.Aca,c.YI.pF).or(l.Bca,c.YI.pF);};b.oK=function(f,h){h && f.L0a && (h=new l.su(h).or(l.qD));return new l.su(l.Saa).and(new l.uza(f)).and(new l.tza(f)).and(new l.eza(f)).and(new l.wza(f)).and(f.V3?new l.sza(f):l.qD).and(null !== h && void 0 !== h?h:l.qD).or(l.Aca,c.YI.pF).or(l.Bca,c.YI.pF);};},90672:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uza=void 0;c=a(27364);r=(function(){function l(f){this.config=f;}l.prototype.wj=function(f,h){return this.config.v$ || h !== c.Yc.rm?f.filter(function(d){return d.hv;}):f;};return l;})();b.uza=r;},42659:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fQ=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));f=a(96331);a=(function(){function h(d){this.console=d;this.wVa=[];this.fSa={};this.QVa=!1;}h.prototype.Y9=function(d,g){this.wVa=d;void 0 !== g?this.fSa[g]=d:this.QVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.QVa=!0);};h.prototype.wj=function(d){var g,m,k,n,p;g=this;if(0 === d.length)return d;n=d[0].J;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=l.default.Cs) || void 0 === m?void 0:m.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.fSa[n]) && void 0 !== k?k:this.wVa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,f.sRa)(q.profile,q.bitrate,p,g.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return h;})();b.fQ=a;},58771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;r=(function(){function a(c){var l;l=this;c.TN && c.TN.enabled && c.TN.profiles && c.TN.profiles.length && "keepLowest" === c.TN.action && (this.E2a={},c.TN.profiles.forEach(function(f){return l.E2a[f]=!0;}));}a.prototype.wj=function(c){var l,f;l={};f=this.E2a;return void 0 === f?c:c.filter(function(h){return !f[h.profile] || (l[h.profile]?!1:l[h.profile]=!0);});};return a;})();b.wza=r;},54608:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Aca=b.Saa=void 0;c=a(42866);b.Saa={wj:function(l){return l.filter(function(f){return f.Qq && !f.jB;});}};b.Aca={wj:function(l){return (l=(0,c.xc)(l,function(f){return !!f.Qq && !f.jB;}))?[l]:[];}};},42186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(74446),b);r.__exportStar(a(90672),b);r.__exportStar(a(42659),b);r.__exportStar(a(58771),b);r.__exportStar(a(72573),b);r.__exportStar(a(85770),b);r.__exportStar(a(65364),b);r.__exportStar(a(54608),b);r.__exportStar(a(673),b);r.__exportStar(a(69044),b);r.__exportStar(a(32209),b);r.__exportStar(a(85147),b);r.__exportStar(a(49789),b);},32209:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bca=void 0;b.Bca={wj:function(a){return a.length?[a[0]]:[];}};},49789:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BP=void 0;c=a(42866);l=a(49730);r=(function(){function f(h,d){this.console=h;this.config=d;this.Hxa=!1;}f.prototype.wj=function(h,d,g,m){void 0 === g && (g=c.N.Ia);void 0 === m && (m=!1);l.K && this.console.trace("Filtering streams for fastplay",{Hxa:this.Hxa,zq:g.G,kec:m});if(this.Hxa || g.G >= this.config.hQb || !1 === m){d=h.filter(this.eCb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=h.filter(this.cwb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return h;};f.prototype.eCb=function(h){return h.gi;};f.prototype.cwb=function(h){return !h.gi;};return f;})();b.BP=r;},673:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;b.qD={wj:function(a){return a;}};},69044:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.su=b.YI=void 0;c=a(673);(function(f){f[f.UM=0]="primary";f[f.pF=1]="fallback";})(l=b.YI || (b.YI={}));r=(function(){function f(h,d){var g,m;void 0 === d && (d=!1);m=this;this.JSa=d;this.filters=(g={},g[l.UM]=[],g[l.pF]=[],g);Array.isArray(h)?h.forEach(function(k){return m.and(k,l.UM);}):this.and(h);}f.prototype.and=function(h,d){void 0 === d && (d=l.UM);h !== c.qD && this.filters[d].push({filter:h,cUa:!0});return this;};f.prototype.or=function(h,d){void 0 === d && (d=l.UM);this.filters[d].push({filter:h,cUa:!1});return this;};f.prototype.filter=function(h){var d;d=this;[l.UM,l.pF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(m){return h(g,m.filter);});});};f.prototype.wj=function(h,d,g,m){var k;k=this;return [l.UM,l.pF].reduce(function(n,p){return k.filters[p].reduce(function(q,u){u.cUa?q=u.filter.wj(q,d,g,m):0 === q.length && (q=u.filter.wj(h,d,g,m));return q;},n);},h);};return f;})();b.su=r;},74446:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4399:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=b.kmb=void 0;c=a(5163);l=a(62558);r=c.__importDefault(a(35471));f=a(94656);a=a(26218);h=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}g=(function(m){function k(n,p){p=m.call(this,n.vo,p) || this;p.jE=n;return p;}c.__extends(k,m);Object.defineProperties(k.prototype,{xa:{get:function(){return this.jE.Mab(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.jE.ri(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wqa:{get:function(){return this.jE.oM && this.jE.oM[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pj:{get:function(){return this.jE.xGb(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yb:{get:function(){return this.jE.iw && this.jE.iw[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vha:{get:function(){return 8 * this.xa / (1E3 * this.MA / this.S);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.qb,contentEndTicks:this.xb,durationTicks:this.MA,timescale:this.S,startPts:this.Na.G,endPts:this.eb.G,duration:this.ve.G,additionalSAPs:this.pj};};return k;})(a.MMa);b.kmb=g;r=(function(){function m(k,n,p,q,u,t,w){this.DJ=128;this.Hc=n;this.Ib=p.offset;this.xm=p.sizes;this.t1=k;this.kJ=this.pQ=this.Gh=this.Vo=this.nga=void 0;this.Aob=q;this.Lea=u && u.ri;this.wga=t;this.Uz=Math.min(this.Hc.length,this.xm.length);k=this.Jub();this.qob=k.maxBitrate;this.rob=k.fo;this.vo.lq.length !== this.xm.length && h.trace("Mis-matched stream duration (" + this.vo.lq.length + "," + this.xm.length + ") for movie id " + w);this.vo.S1 && !this.Lea && h.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Hc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.Uz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wr:{get:function(){return this.Hc.wr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qka:{get:function(){return this.Hc.Qka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ab:{get:function(){return this.Hc.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mf:{get:function(){return this.Hc.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qqa:{get:function(){return this.Hc.qqa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yv:{get:function(){return this.qob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fo:{get:function(){return this.rob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return this.Hc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S:{get:function(){return this.Hc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uo:{get:function(){return this.Vo || this.Sea();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oM:{get:function(){return this.Aob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cha:{get:function(){return this.Lea;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iw:{get:function(){return this.wga;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vo:{get:function(){return this.Hc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ur:{get:function(){return this.nga || this.fnb();},enumerable:!1,configurable:!0}});m.prototype.Mab=function(k){if(this.xm)return this.xm[k];h.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.cm=function(k){return this.Hc.cm(k);};m.prototype.JS=function(k){return this.Hc.cm(k) + this.Hc.lf(k);};m.prototype.ri=function(k){var n,p,q;if(this.pQ !== k || void 0 === this.kJ){if(0 === k)return this.Ib;if(this.pQ === k - 1 && void 0 !== this.kJ)(this.kJ+=this.xm[this.pQ],++this.pQ);else {n=this.Gh || this.Tmb();p=Math.floor(k / this.DJ);q=p * this.DJ;for(n=n[p];q < k;++q){n+=this.xm[q];}this.pQ=k;this.kJ=n;}}return this.kJ;};m.prototype.lf=function(k){return this.Hc.lf(k);};m.prototype.get=function(k){return new g(this,k);};m.prototype.xGb=function(k){var n,p,q,u,t;(0,l.assert)(0 <= k);n=this.vo.S1;p=this.vo.WQa;q=this.Lea;if(!q || !n || !p || k >= n.length)return [];u=[];t=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < t;++n){u.push({Ij:p[n],ye:this.cm(k) + this.ca.Bv(p[n]).G,offset:q[n]});}return u;};m.prototype.Qx=function(k,n,p){return this.Hc.Qx(k,n,p);};m.prototype.wla=function(k,n,p){return this.Hc.wla(k,n,p);};m.prototype.zja=function(k,n){return this.Hc.zja(k,n);};m.prototype.Hub=function(k,n,p,q,u){var t,w,v,y,x,z,A,B,D;t=!0;w=0;v=this.Hc.lq;y=this.xm;k=Math.floor(k * this.S / 1E3);x=Math.floor(p * this.S / 1E3);z=0;A=0;B=0;if(this.Hc.oxa && this.Hc.nxa)for(w=this.Hc.oxa;w <= this.Hc.nxa;++w){z+=v[w];A+=y[w];}if(A > n)t=!1;else for(;w < this.length && (!u || w < u);){D=y[w];p=v[w];if(A + D > n){for(;1 < w - B && A + D > n && (z - v[B] >= x || A - y[B] > q);){z-=v[B];A-=y[B];++B;}if(z < k || A + D > n){t=!1;this.Hc.oxa=B;this.Hc.nxa=w;break;}}z+=p;A+=D;++w;}return t;};m.prototype.subarray=function(k,n){(0,l.assert)(void 0 === k || 0 <= k && k < this.length);(0,l.assert)(void 0 === n || n > k && n <= this.length);return new m(this.t1,this.Hc.subarray(k,n),{offset:this.ri(k),sizes:this.xm.subarray(k,n)},this.oM && this.oM.subarray(k,n),this.cha && ({ri:this.cha}),this.wga && this.wga.subarray(k,n));};m.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};m.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};m.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;h.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);h.trace(("StreamFragments: ").concat(k,": [").concat(n.Na.G,"-").concat(n.eb.G,"]") + (" @ ").concat(n.offset,", ").concat(n.xa," bytes"));}};m.prototype.Jub=function(){var k,n,p,q,u,t,y;k=0;n=0;p=this.Hc.l4a;q=this.Hc.m4a;u=this.Hc.lq;t=this.xm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,v=this.length;w < v;++w){y=t[w];y > n && (n=y,q=w);y/=u[w];y > k && (k=y,p=w);}void 0 === this.Hc.l4a && (this.Hc.l4a=p);void 0 === this.Hc.m4a && (this.Hc.m4a=q);}else (k=t[p] / u[p],n=t[q]);return {maxBitrate:Math.floor(k * this.S / 125),fo:n};};m.prototype.Sea=function(){for(var k=0,n=0;n < this.length;++n){k+=this.xm[n];}return this.Vo=k;};m.prototype.fnb=function(){return this.nga=new f.jea(this.Hc.lq,this.xm,this.Hc.S);};m.prototype.Tmb=function(){if(!this.Gh){for(var k=d?new Float64Array(Math.ceil(this.length / this.DJ)):Array(Math.ceil(this.length / this.DJ)),n=this.Ib,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.DJ;++q){n+=this.xm[p * this.DJ + q];}}this.Gh=k;}return this.Gh;};return m;})();b.jMa=r;(0,a.vv)(r.prototype.cm);(0,a.vv)(r.prototype.JS);(0,a.vv)(r.prototype.lf);(0,a.vv)(r.prototype.ri);(0,a.vv)(r.prototype.Mab);(0,a.vv)(r.prototype.get);},90187:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qea=void 0;c=a(42866);r=(function(){function l(f){this.$w=f;this.WXa=new c.rz();}Object.defineProperties(l.prototype,{N2a:{get:function(){var f,h;return null !== (f=this.gLb) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.N2a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{C6:{get:function(){var f,h;return null !== (f=this.iSb) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.C6;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$n:{get:function(){var f,h;return null !== (f=this.cg) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.$n;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{U2a:{get:function(){var f,h,d,g;return null !== (f=this.Qh) && void 0 !== f?f:(null === (h=this.track) || void 0 === h?0:h.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (g=this.parent) || void 0 === g?void 0:g.Qh:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W2a:{get:function(){var f,h;return null !== (f=this.d2b) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.W2a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{upa:{get:function(){var f,h;return null !== (f=this.e2b) && void 0 !== f?f:null === (h=this.parent) || void 0 === h?void 0:h.upa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.u_b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zeb:{get:function(){return this.WXa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var f;return null === (f=this.$w) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});l.prototype.Qa=function(){this.$w=void 0;};l.prototype.Y$a=function(f){this.gLb=f;};l.prototype.i0b=function(f){this.iSb=f;};l.prototype.kab=function(f){this.cg=f;this.WXa.resolve();};l.prototype.RW=function(f){this.Qh=f;};l.prototype.t0b=function(f){this.d2b=f;};l.prototype.lab=function(f){this.e2b=f;};l.prototype.z0b=function(f){this.u_b=f;};return l;})();b.qea=r;},62711:function(r,b,a){(function(){var W0F,c;W0F=2;for(;W0F !== 8;){switch(W0F){case 2:var A1J="1";A1J+="SIYb";A1J+="ZrNJCp";A1J+="9";a(17267);a(89956);a(95711);c=a(27364).Yc;r.exports={checkBuffering:function(l,f,h,d,g,m){var l0M=R7xOY;var F1z,n,p,q,u,w,t,v;function k(y){var G6S;G6S=2;for(;G6S !== 5;){switch(G6S){case 2:y=d.La.wla(l.Gd + y,void 0,!0);return (t - l.dr) / (t + (y.offset + y.xa) - w);break;}}}F1z=2;for(;F1z !== 54;){switch(F1z){case 23:var p5m="o";p5m+="utofr";p5m+="ange";return {complete:!0,reason:p5m};break;case 9:var C_u="m";C_u+="a";C_u+="xs";C_u+="ize";return {complete:!0,reason:C_u};break;case 6:l0M.m_t(12);var G7X=l0M.N0G(1104,17,13,5);q=m.Zq * (p?m.Pta:G7X);!d.ha && m.$Cb && d.Wb && d.Wb.Zk && d.Wb.Zk.Da > m.Upa && (q+=m.aha + d.Wb.Zk.Da * m.ysa);g && !d.ha && (q+=g.bv * m.bha);q=u?Math.min(u,q):q;F1z=11;break;case 21:F1z=n >= q?35:37;break;case 2:(n=l.Im - l.Gd,p=f === c.sl);f=d.ob || 0;(q=0,u=m.Jxa && !p?m.NB:m.uqa);F1z=4;break;case 4:u=Math.min(m.tG,u);F1z=3;break;case 37:0 < f && f < p && (q=Math.min(u,Math.max(m.gW * (p / f - 1),q)));return {complete:!1,pN:q,progress:k(q)};break;case 42:F1z=0 < v?41:40;break;case 11:F1z=!f?10:20;break;case 10:var e1d="n";e1d+="o";e1d+="t";e1d+="hroughput";return {complete:!1,pN:q,reason:e1d};break;case 41:return (q=Math.min(u,n + v),{complete:!1,pN:q,progress:k(q)});break;case 35:F1z=f > p * m.j4?34:33;break;case 24:F1z=-1 === g?23:22;break;case 38:var W1Q="noreb";W1Q+="uf";W1Q+="f";return {complete:!0,reason:W1Q};break;case 22:w=d.La.ri(g);F1z=21;break;case 40:v=p.offset;F1z=39;break;case 26:return (f < p && (q=Math.min(u,Math.max(m.gW * (p / f - 1),q))),{complete:!1,pN:q,progress:0});break;case 39:--m;F1z=28;break;case 15:var F$p="lowLiveB";F$p+="u";F$p+="f";F$p+="fer";var K4P="liveB";K4P+="uffe";K4P+="rLevel";return f > p && n > q?{complete:!0,reason:K4P}:{complete:!1,pN:q,ob:f,bitrate:p,reason:F$p};break;case 44:p=d.La.get(m);l0M.C8s(13);var i5E=l0M.A_X(33,9,16);v=i5E * v * h / f - p.ab - q;F1z=42;break;case 20:t=0;l.La.forEach(function(y){var E2B;E2B=2;for(;E2B !== 1;){switch(E2B){case 2:t+=y.ab + y.duration > l.Gd?y.xa:0;E2B=1;break;}}});h=Math.max(h,1);p=h * d.bitrate;F1z=16;break;case 34:var W3e="h";W3e+="i";W3e+="gh";W3e+="t";W3e+="p";return {complete:!0,reason:W3e};break;case 8:F1z=f <= m.$pa && (0 < f || !m.hla)?7:6;break;case 7:var X$e="low";X$e+="T";X$e+="hrough";X$e+="put";return {complete:!1,Zpa:!0,reason:X$e};break;case 16:F1z=d.ha?15:27;break;case 25:g=d.La.Qx(l.el);F1z=24;break;case 3:F1z=n >= u?9:8;break;case 27:F1z=!d.La || !d.La.length?26:25;break;case 29:--m;F1z=28;break;case 28:F1z=m > g?44:38;break;case 33:q=d.La.lf(g);m=Math.min(g + Math.floor(m.gW / q),d.La.length - 1);v=d.La.ri(m);l0M.m_t(14);var k4G=l0M.N0G(20,1,13);q=k4G * w * h / f - l.Gd;F1z=29;break;}}}};A1J;W0F=8;break;}}})();},95711:function(r,b,a){var h,d;function c(g,m){return g && g.eG && (m || !1 !== g.hv);}function l(g,m,k){return !h.sb(g) || g < m?m:g > k?k:g;}function f(g){if(!(this instanceof f))return new f(g);this.Qh=h.sb(g)?g:void 0;}h=a(17267);d=new (a(35471)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,m){if(!g)throw (g=m?" : " + m:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},ML:c,Fla:function(g,m,k){var p,q,u,t;function n(w){var v;v=g[w];if(!v.eG || k && !k(v,w))return !1;t=w;return !0;}p=g.length;q=0;u=p;h.isArray(m) && (q=l(m[0],0,p),u=l(m[1],0,p),m=m[2]);m=l(m,q - 1,u);for(p=m - 1;p >= q;--p){if(n(p))return t;}for(p=m + 1;p < u;++p){if(n(p))return t;}return -1;},ERb:function(g,m){return Math.floor(g / (125 * m) * 1E3);},pub:function(g,m){return Math.ceil(g / 1E3 * m * 125);},fec:function(g,m){return !g.slice(m + 1).some(c);},xn:f,iK:l};},35548:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.RI=b.PP=b.ZI=b.YP=void 0;c=a(74976);Object.defineProperties(b,{YP:{enumerable:!0,get:function(){return c.YP;}}});l=a(17329);Object.defineProperties(b,{ZI:{enumerable:!0,get:function(){return l.ZI;}}});f=a(75449);Object.defineProperties(b,{PP:{enumerable:!0,get:function(){return f.PP;}}});h=a(84585);Object.defineProperties(b,{RI:{enumerable:!0,get:function(){return h.RI;}}});},84585:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RI=void 0;c=a(5163);r=(function(){function l(f,h,d){var g,m,k;this.Dp=f;"HYBRID" === f?this.xL=d:"CCSP" === f && (this.Uy=null !== (g=h.Uy) && void 0 !== g?g:0,this.Bx=null !== (m=h.Bx) && void 0 !== m?m:0,this.Iy=null !== (k=h.Iy) && void 0 !== k?k:0);}Object.defineProperties(l.prototype,{B8a:{get:function(){var f;return "HYBRID" === this.Dp?[null !== (f=this.xL.Gv) && void 0 !== f?f:0]:"CCSP" === this.Dp?[this.Uy,this.Bx,this.Iy]:[];},enumerable:!1,configurable:!0}});l.prototype.Z4a=function(){return Math.min(this.Uy,this.Bx,this.Iy);};l.prototype.k6=function(){return this.B8a.some(function(f){return 0 < f;});};l.prototype.Vua=function(f){return new l(this.Dp,{Uy:f * this.Uy,Bx:f * this.Bx,Iy:f * this.Iy});};l.prototype.mqa=function(f,h,d,g){var m;m=8 * f / Math.max(d - h,1);if(!this.k6())return !1;f=this.B8a.map(function(k){return Math.abs(m - k) / k;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return l;})();b.RI=r;},75449:function(r,b,a){var u,t,w;function c(v){return f(v.cg);}function l(v,y){var x,B,D;x=h(y.oYb,v.Ag,v.cg.Wb.confidence);if(0 === x.length)return 0;a:switch(y.nUb){case "implicit":y=q(y,v.cg);y=v.DE / y;break a;case "capacityPercentage":y=Math.max(v.Ytb / v.Xtb || 0,v.DE / y.tG);break a;default:y=0;}for(var z=-1,A=0;A < x.length;A++){if(x[A].A2 >= y){z=A;break;}}if(-1 === z)return d(v,x[x.length - 1].aja);if(0 === z)return d(v,x[0].aja);B=x[z - 1].A2;A=d(v,x[z - 1].aja);D=x[z].A2;v=d(v,x[z].aja);x=Math.min((y - B) / (D - B),1);return (1 - x) * A + x * v;}function f(v){var y,x;x=null === (y=null === v || void 0 === v?void 0:v.pa) || void 0 === y?void 0:y.cM;return x?x[v.mediaType] || 0:0;}function h(v,y,x){var A;function z(B,D){return void 0 !== B && 0 < B.filter(function(C){return C === D;}).length;}A=v.filter(function(B){return z(B.D8,y);});0 === A.length && (A=v.filter(function(B){return !B.D8 || 0 === B.D8.length;}));v=A.filter(function(B){return z(B.v5a,x);});0 === v.length && (v=A.filter(function(B){return !B.v5a || 0 === B.v5a.length;}));return v.sort(function(B,D){return B.A2 - D.A2;});}function d(v,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=v.cg;z=v.z5b;A=v.P3b;B={selectedFragmentBitrate:g(v.A4,x,v.bf) * v.playbackRate,selectedPeakBitrate:(x.yv || m(x) || 0) * v.playbackRate,upswitchPeakBitrate:(z.yv || m(z) || 0) * v.playbackRate,maxPeakBitrate:(A.yv || m(A) || 0) * v.playbackRate,selectedAverageBitrate:m(x) * v.playbackRate,upswitchAverageBitrate:m(z) * v.playbackRate,maxAverageBitrate:f(x) * v.playbackRate,bufferLevelMs:v.DE,observedThroughput:k(v.cg) || 0,averagetp:n(v.cg) || 0,stddevtp:p(v.cg) || 0};v=y.offset || 0;return Object.keys(B).reduce(function(D,C){return D + (y[C] || 0) * B[C];},v);}function g(v,y,x){var z;return void 0 !== x && y.La?(void 0 === v?null === (z=y.La) || void 0 === z?void 0:z.get(x).Vha:v.tZa(y,x).Vha) || y.yv || 0:y.yv || 0;}function m(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function k(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.ob) || void 0 === y?void 0:y.Da) || 0;}function n(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.Lm) || void 0 === y?void 0:y.XJ) || 0;}function p(v){var y;v=v.Wb;return Math.sqrt(null === (y=null === v || void 0 === v?void 0:v.Lm) || void 0 === y?void 0:y.sO) || 0;}function q(v,y){var x,z;x=v.a3b;x=n(y) + x * p(y);y=y.ob || 0;z=0;0 < y && (z=x / y - 1);return v.kRb + v.$2b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.THb=b.MIb=b.YGb=b.PP=void 0;r=a(5163).__importDefault(a(35471));u=a(27364);t=a(84585);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,y){return y.ibb;},none:function(){return 0;},regression:l,epsGreedy:function(v,y){return Math.min(l(v,y) || 0,k(v.cg));},"default":c};a=(function(){var w4_;w4_=2;function v(y,x){var n__;n__=2;for(;n__ !== 7;){switch(n__){case 9:n__=y.R3 || y.Q3?8:7;break;case 8:var M24="C";M24+="C";M24+="S";M24+="P";this.Dp=M24;n__=7;break;case 3:var V7e="HYB";V7e+="R";V7e+="ID";this.Dp=V7e;n__=7;break;case 4:n__=y.T3?3:9;break;case 2:var D$9="def";D$9+="a";D$9+="ult";var M4g="1SI";M4g+="Yb";M4g+="ZrNJCp9";this.Z=y;M4g;this.algorithm=(w[x === u.v.ea?this.Z.kUb:this.Z.jUb] || w[D$9]).bind(this);n__=4;break;}}}for(;w4_ !== 9;){switch(w4_){case 2:v.prototype.qYa=function(y,x){var h1y,z,A,B;h1y=2;for(;h1y !== 6;){switch(h1y){case 4:z=y;this.Z.R2 && (z=this.Q4(y,A.Jta[0],x));h1y=9;break;case 2:A=this.Z.R2;x=null === (z=x.DPb) || void 0 === z?void 0:z.yv;h1y=5;break;case 9:B=new t.RI(this.Dp,void 0,{xLb:1,Gv:z,yia:Number(this.Z.yia),EQb:this.Z.tQb,oua:Number(this.Z.oua)});h1y=8;break;case 5:var v7B="H";v7B+="YBR";v7B+="ID";h1y=v7B === this.Dp?4:7;break;case 7:var Z4C="C";Z4C+="C";Z4C+="S";Z4C+="P";Z4C === this.Dp && (B=new t.RI(this.Dp,A?{Uy:this.Q4(y,A.Jta[0],x),Bx:this.Q4(y,A.Jta[1],x),Iy:this.Q4(y,A.Jta[2],x)}:{Uy:0,Bx:0,Iy:0},void 0));h1y=8;break;case 8:return B;break;}}};v.prototype.RIb=function(y){var g$o,x,z;g$o=2;for(;g$o !== 5;){switch(g$o){case 2:var E6R="s";E6R+="ta";E6R+="t";E6R+="ic";var w0K="C";w0K+="C";w0K+="S";w0K+="P";var d6j="H";d6j+="YB";d6j+="RID";z=null === (x=y.cg) || void 0 === x?void 0:x.mediaType;return d6j !== this.Dp || this.Z.ICb?w0K === this.Dp && (z === u.v.ea && !this.Z.GCb || z === u.v.Y && !this.Z.HCb)?0:E6R === this.Z.lUb?this.Z.ibb:f(y.cg):0;break;}}};v.prototype.Q4=function(y,x,z){var p8c;p8c=2;for(;p8c !== 3;){switch(p8c){case 2:p8c=!x?1:5;break;case 1:return 0;break;case 5:R7xOY.m_t(15);y=Math.ceil(R7xOY.A_X(x,y));return y < (this.Z.R2.vec || 0) * (z || 0)?0:y;break;}}};v.prototype.SIb=function(y){var I58,x,z,A;I58=2;for(;I58 !== 7;){switch(I58){case 9:x=y.mo?this.algorithm(y,this.Z):this.RIb(y);return this.qYa(x,y);break;case 4:I58=!this.Dp || !A || !z || (A=this.Z.D4b) && y.bf && 0 === y.bf % A || y.DE < z.QB?3:9;break;case 2:(z=null === (x=y.cg) || void 0 === x?void 0:x.mediaType,A=this.Z.T3 || z === u.v.ea && this.Z.Q3 || z === u.v.Y && this.Z.R3);x=this.qYa(0,y);z=this.Z.R2;I58=4;break;case 3:return x;break;}}};return v;break;}}})();b.PP=a;b.YGb=h;b.MIb=k;b.THb=q;},71888:function(r,b,a){(function(){function c(t,w){var u7o,v;u7o=2;for(;u7o !== 4;){switch(u7o){case 1:w.some(function(y){var F8q,x;F8q=2;for(;F8q !== 4;){switch(F8q){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (v=y.override);return x;break;}}});return v;break;case 2:v=void 0;u7o=1;break;}}}var h8o,f,h,d,g,m,k,n,p,q,u;h8o=2;function l(t,w,v,y){var S8h,B,D,C,F,G,J,M,E,A,x,z;S8h=2;for(;S8h !== 30;){switch(S8h){case 35:var T_y="m";T_y+="s";var L27=",";L27+=" ";L27+="buffer l";L27+="evel = ";var l2x=", lastUpswit";l2x+="chPts =";l2x+=" ";var T8n="  Upswitch not a";T8n+="llowed. lastDownswitc";T8n+="hPts = ";g && d.log(T8n + M + l2x + J + L27 + E + T_y);S8h=34;break;case 15:C--;S8h=20;break;case 6:S8h=A && 1 < A.length?14:34;break;case 22:S8h=(D=A[C],E=x[D],n(E) && F > G.jdb * E.bitrate * w.playbackRate)?21:23;break;case 13:S8h=0 > C?12:11;break;case 7:t.Wbb.some(function(L){var K7z,H,N,I,K,O,R;K7z=2;for(;K7z !== 9;){switch(K7z){case 2:(H=L.profiles,N=H && 0 <= H.indexOf(z));K7z=1;break;case 1:K7z=N?5:3;break;case 3:return N;break;case 6:K7z=N?3:5;break;case 5:(I=(L=L.FV) && L.x7 || t.x7,K=L && L.Sec || -Infinity,O=L && L.Aec || Infinity,R=w.buffer.IE);K7z=4;break;case 4:A=x.filter(function(Y){var g92,oa;g92=2;for(;g92 !== 5;){switch(g92){case 1:return oa >= K && oa <= O && 0 <= H.indexOf(Y.Fd) && oa * I / 8 < R;break;case 2:oa=Y.bitrate;g92=1;break;}}}).map(function(Y){var e6O;e6O=2;for(;e6O !== 1;){switch(e6O){case 4:return Y.Kt;break;case 2:return Y.Kt;break;}}});K7z=3;break;}}});S8h=6;break;case 34:var L5Y="kbps, ";L5Y+="streami";L5Y+="ngP";L5Y+="ts :";var N_7=", ";N_7+="aud";N_7+="io throughput";N_7+=":";var Y2J=" kbp";Y2J+="s, ";Y2J+="profile";Y2J+=" :";var n4l="sel";n4l+="ec";n4l+="tAudioStream: sele";n4l+="cted stream ";n4l+=":";var I$y=" ";I$y+="kb";I$y+="p";I$y+="s";var a9u=" ";a9u+="kbps, ";a9u+="t";a9u+="o ";var u48="s";u48+="witchin";u48+="g audio from ";var D8s="d";D8s+="o";D8s+="w";D8s+="n";var F_C="u";F_C+="p";F=x[v];v !== y && g && d.log((v > y?F_C:D8s) + u48 + B.bitrate + a9u + F.bitrate + I$y);g && d.log(n4l + F.bitrate + Y2J + z + N_7 + F.ob + L5Y + w.buffer.el);return new p(v);break;case 14:(B=x[y],D=B.bitrate,C=A.indexOf(y),F=B.ob,G=t.gtb);S8h=13;break;case 26:(J=this.xpa,M=this.RL);S8h=25;break;case 19:D=A[C];E=x[D];S8h=17;break;case 10:var m9o=" kbps,";m9o+=" try to downs";m9o+="wit";m9o+="ch";var J7Q=" kb";J7Q+="ps";J7Q+=" < ";var v6z="throughpu";v6z+="t f";v6z+="or a";v6z+="udi";v6z+="o ";(g && d.log(v6z + F + J7Q + G.$Va + "*" + D + m9o),--C);S8h=20;break;case 24:var d0l=", ";d0l+="s";d0l+="trea";d0l+="min";d0l+="gPts = ";var K_m=", ";K_m+="lastUpswitchPts ";K_m+="= ";var V6R="  Upswit";V6R+="ch al";V6R+="lowed. lastDownswitchPts = ";g && d.log(V6R + M + K_m + J + d0l + D.el);S8h=23;break;case 9:v=y;S8h=7;break;case 27:var W26=" k";W26+="b";W26+="p";W26+="s";var V_M=" k";V_M+="bp";V_M+="s > ";var p8I="throug";p8I+="hpu";p8I+="t for audio ";S8h=C < A.length - 1 && F > G.jdb * D * w.playbackRate && (g && d.log(p8I + F + V_M + G.jdb + "*" + D + W26),D=w.buffer,E=D.Im - D.Gd,B.La && B.La.length)?26:34;break;case 16:v=D;S8h=34;break;case 3:return new p(y);break;case 21:v=D;S8h=34;break;case 4:S8h=!(t && t.oX && 0 <= t.oX.indexOf(z))?3:9;break;case 11:S8h=C && F < G.$Va * D * w.playbackRate?10:27;break;case 25:S8h=w.yB && E > G.ly && (void 0 === M || Number(J) > M || D.el - M > G.GU)?24:35;break;case 12:v=0;S8h=34;break;case 2:var O33="M";O33+="ust have at least one se";O33+="lected stream";x=v.first;m(!f.ii(y),O33);z=x[y].Fd;S8h=4;break;case 20:S8h=0 <= C?19:34;break;case 17:S8h=n(E) && (0 == C || E.bitrate * w.playbackRate * G.$Va < F)?16:15;break;case 23:S8h=++C < A.length?22:34;break;}}}for(;h8o !== 4;){switch(h8o){case 2:var Y7D="1S";Y7D+="IYbZ";Y7D+="rNJCp9";(f=a(17267),h=a(95711),d=h.console,g=h.debug,m=h.assert,k=a(31503),n=h.ML,p=h.xn,q=a(51835),u=a(27364).Bb);r.exports={STARTING:function(t,w,v,y){var L54,x,z,A;L54=2;for(;L54 !== 7;){switch(L54){case 2:(x=t,z=v.first,A=z[y || 0].Fd);L54=1;break;case 4:var o$s=" kbp";o$s+="s, profile";o$s+=" :";var u5u="sele";u5u+="ctAudioStreamStarting: selected st";u5u+="rea";u5u+="m :";t=q[u[u.zk]](x,w,v,y);z=z[t.Qh];g && d.log(u5u + z.bitrate + o$s + z.Fd);return t;break;case 1:L54=(A=t && t.oX && 0 <= t.oX.indexOf(A)?c(A,t.Wbb):c(A,t.dtb))?5:4;break;case 5:var q1X="selectA";q1X+="udioStreamS";q1X+="ta";q1X+="rting: over";q1X+="riding config with ";(x={minInitAudioBitrate:t.cV,minHCInitAudioBitrate:t.v7,maxInitAudioBitrate:t.RU,minRequiredAudioBuffer:t.x7},g && d.log(q1X + JSON.stringify(A)),k(A,x));L54=4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};Y7D;h8o=4;break;}}})();},51835:function(r,b,a){var f,h,d,g,m,k;function c(n,p,q,u){g(!f.ii(u),"Must have at least one selected stream");return new k(u);}function l(n,p,q,u){g(!f.ii(u),"Must have at least one selected stream");return new k(u);}f=a(17267);b=a(95711);h=b.console;d=b.debug;g=b.assert;m=b.ML;k=b.xn;r.exports={STARTING:function(n,p,q){var t,w,v,y;function u(x,z){var A,B,D,C;A=x.id;B=x.bitrate;D=x.ob || 0;C=!!D;d && h.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.eG)return (d && !x.Qq && h.log("  Not available"),d && x.jB && h.log("  Failed"),!1);if(B > n.RU)return (d && h.log("  Above maxInitAudioBitrate (" + n.RU + " Kbps)"),!1);if(!(B * n.x7 / 8 < p.buffer.IE))return (d && h.log("  audio buffer too small to handle this stream"),!1);if(C){d && h.log("  Have throughput history = " + C + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / w)return (d && h.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && h.log(" bitrate requires more than available throughput");return !1;}x=n.cV;p.gNb && (x=Math.max(x,n.v7));if(B <= x)return (d && h.log("  Bitrate is less than max of minInitAudioBitrate (" + n.cV + " Kbps) " + (p.gNb?" and also minHCInitAudioBitrate (" + n.v7 + " Kbps)":"")),d && h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && h.log("  No throughput history");return !1;}t=new k();w=n.Fbc || 1;y=q.first;for(v=y.length - 1;0 <= v;--v){q=y[v];if(u(q,v)){t.Qh=v;break;}m(q) && (t.Qh=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},11877:function(r,b,a){var l,f,h,d;function c(g,m,k,n){g=k.first;if(l.ii(n))n=f(g);else if(!h(g[n]) && (n=f(g,n),0 > n))return null;return new d(n);}l=a(17267);b=a(95711);f=b.Fla;h=b.ML;d=b.xn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},18753:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(37353);b["default"]={PLAYING:r.$l,PAUSED:r.$l};},37353:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$l=void 0;r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(95711));f=r.__importDefault(a(9498));h=a(35195);d=r.__importDefault(a(35471));g=l.default.assert;m=l.default.xn;b.$l=k;(function(){var e6H;e6H=2;for(;e6H !== 5;){switch(e6H){case 2:var J$n="1SI";J$n+="Y";J$n+="b";J$n+="ZrNJC";J$n+="p9";b.$l=k=function(n,p,q,u,t,w,v){var G92,F,G,E,J,I,C,M,y,x,z,A,B,D,K,L,H,N;G92=2;for(;G92 !== 90;){switch(G92){case 6:R7xOY.C8s(5);D=R7xOY.N0G(B,y);0 > D && (D=0);D >= x.length && (D=x.length - 1);G92=12;break;case 16:q=[];t=p.buffer;t=t.Im - t.Gd;w=h.$p.OUa(p.buffer.La);w=p.buffer.IE - w.xa;G92=23;break;case 10:B=D;G92=20;break;case 67:G92=x[D].f < B?72:66;break;case 8:G92=B < y || B > D?7:6;break;case 69:G92=x[D].f === B?68:67;break;case 38:J.push(M.max);G92=37;break;case 53:G92=void 0 !== H?52:64;break;case 21:y=0;G92=35;break;case 73:D++;G92=77;break;case 23:v=z[u];x=z[u];G92=21;break;case 65:I++;G92=46;break;case 70:G92=0 <= D?69:72;break;case 55:D+=1;G92=77;break;case 57:y=void 0;G92=56;break;case 76:G92=x[D].f === B?75:74;break;case 19:A.Qh=x[B].Vfc;G92=18;break;case 20:G92=void 0 !== B?19:58;break;case 59:return A;break;case 60:A.Kbc=q;G92=59;break;case 47:I=p.bf;G92=46;break;case 30:D.Wb && D.Wb.throughput && (C=D.Wb.throughput.Da);G92=29;break;case 58:return f.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 75:y=D;G92=72;break;case 34:D=z[y];B=y <= u?!0:!1;C=void 0;J=[];G92=30;break;case 18:A.cg=z[A.Qh];G92=17;break;case 68:y=D;G92=72;break;case 7:return f.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 45:N+=H.get(I).ve.G;G92=65;break;case 52:I=p.bf;G92=51;break;case 11:G92=C === B?10:57;break;case 12:C=x[D].f;G92=11;break;case 61:y++;G92=35;break;case 28:M=D.Wb.tdigest;J.push(M.min);J.push(M.gsa);J.push(M.Bp);J.push(M.en);J.push(M.Cp);J.push(M.hsa);G92=38;break;case 48:I++;G92=51;break;case 77:G92=D < x.length?76:72;break;case 2:var C9o="player missing ";C9o+="fra";C9o+="gmentIndex";var x0d="Must have at l";x0d+="east one selected str";x0d+="eam";g(!c.ii(u),x0d);g(c.sb(p.bf),C9o);(x=n.i2b,z=q.first,A=new m(u),B=null !== (y=p.bf) && void 0 !== y?y:-1);y=x[0].f;D=x[x.length - 1].f;G92=8;break;case 17:G92=n.eDb?16:59;break;case 35:G92=y < z.length?34:60;break;case 51:G92=I < Math.min(I + n.jtb,H.length)?50:47;break;case 74:G92=x[D].f > B?72:73;break;case 50:K=H.get(I);L.push({d:K.ve.G,b:K.xa});G92=48;break;case 72:B=y;G92=20;break;case 66:D--;G92=70;break;case 46:G92=I < H.length?45:64;break;case 64:H=void 0;p.dub && (H=d.default.time.Ga() - p.dub);q.push({bf:p.bf,Rgc:H,Hec:N,Nbc:C,Ogc:J,Qgc:M,tSa:t,mYa:w,jcc:L,nec:v.bitrate,oec:null !== (F=v.yb) && void 0 !== F?F:0,ucc:D.bitrate,vcc:null !== (G=D.yb) && void 0 !== G?G:0,igc:x.bitrate,jgc:null !== (E=x.yb) && void 0 !== E?E:0,e6:B});G92=61;break;case 37:M=void 0;D.Wb && D.Wb.tputTrace && (M=D.Wb.tputTrace);(L=[],H=D.La,N=0);G92=53;break;case 71:--D;G92=70;break;case 56:G92=C < B?55:71;break;case 29:G92=D.Wb && D.Wb.tdigest?28:37;break;}}};J$n;e6H=5;break;}}})();},53008:function(r,b,a){var l;function c(f,h,d){return new l(d.first.length - 1);}a(17267);l=a(95711).xn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},96361:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(77175);b["default"]={PLAYING:r.$l,PAUSED:r.$l};},77175:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$l=void 0;r=a(5163).__importDefault(a(95711));c=r.default.console;l=r.default.xn;b.$l=f;(function(){var b8D;b8D=2;for(;b8D !== 5;){switch(b8D){case 2:var k7W="1";k7W+="SI";k7W+="Y";k7W+="bZrNJCp";k7W+="9";b.$l=f=function(h,d,g,m){var d9p,k,n,p,q,u;d9p=2;for(;d9p !== 10;){switch(d9p){case 2:(n=new l(m),p=d.buffer.el);g=g.first;d9p=5;break;case 5:R7xOY.C8s(16);var e7i=R7xOY.N0G(9,4,6);q=h.o3b * Math.pow(Math.min(e7i,(d.buffer.Im - d.buffer.Gd) / h.YL),h.n3b);h=void 0 === this.RL || p - this.RL > h.GU?g.length - 1:m;d9p=3;break;case 9:d9p=-1 < h?8:11;break;case 3:n.Qh=0;d9p=9;break;case 13:--h;d9p=9;break;case 11:return n;break;case 8:u=g[h];d9p=7;break;case 14:n.Qh=h;d9p=11;break;case 12:var M3I="S";M3I+="tream has no throughput s";M3I+="tatistics";c.warn(M3I);d9p=13;break;case 6:d9p=(m=u.Wb.ob.Da,p=u.bitrate,u=u.wta(null !== (k=d.bf) && void 0 !== k?k:-1),p * d.playbackRate < m * q && u)?14:13;break;case 7:d9p=u.Wb && u.Wb.ob?6:12;break;}}};k7W;b8D=5;break;}}})();},42102:function(r,b,a){var l;function c(){return new l(0);}a(17267);l=a(95711).xn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},9498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(496);c=a(78501);a=a(17468);b["default"]={STARTING:a.v$a,BUFFERING:r.M9,REBUFFERING:r.M9,PLAYING:c.$l,PAUSED:c.$l};},496:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.M9=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);r=r.__importDefault(a(95711));f=a(78501);h=r.default.assert;d=r.default.xn;b.M9=g;(function(){var y4g;y4g=2;for(;y4g !== 5;){switch(y4g){case 2:var B4r="1SI";B4r+="YbZr";B4r+="NJ";B4r+="Cp9";b.M9=g=function(k,n,p,q,u,t,w){var u2S;u2S=2;for(;u2S !== 1;){switch(u2S){case 2:var m$g="pl";m$g+="a";m$g+="y";m$g+="ing";return m$g === k.cia?f.$l.call(this,k,n,p,q,u,t,w):m.call(this,k,n,p,q);break;}}};B4r;y4g=5;break;}}function m(k,n,p,q){function u(z){var Z2F,A;Z2F=2;for(;Z2F !== 8;){switch(Z2F){case 2:A=z.ob;Z2F=1;break;case 1:Z2F=!A || (z.bitrate > v?k.y5b:1) * z.bitrate * n.playbackRate > A?5:4;break;case 4:var O9y="buff_";O9y+="lt_his";O9y+="t";y=O9y;x=A;return !0;break;case 5:return !1;break;}}}var T_E,x,y,t,w,v;T_E=2;for(;T_E !== 19;){switch(T_E){case 14:x=null === w || void 0 === w?void 0:w.ob;T_E=12;break;case 4:T_E=w.ob?3:12;break;case 12:q=new d();q.cg=w;p !== w && (q.reason=y,q.Ys=x);return q;break;case 3:q=Math.min(q + (k.Qrb?2:1),t.length);w=(0,l.xc)(t.slice(0,q).reverse(),u);T_E=8;break;case 6:var j86="fallback_lowe";j86+="st_acceptable_s";j86+="tream";y=j86;T_E=14;break;case 7:w=t[0];T_E=6;break;case 8:T_E=void 0 === w?7:13;break;case 2:var A5p="Must ha";A5p+="ve at le";A5p+="ast one selecte";A5p+="d stream";h(!c.ii(q),A5p);(t=p.first,w=t[q],v=w.bitrate);p=w;T_E=4;break;case 13:var T1e="s";T1e+="elec";T1e+="t_feas";T1e+="i";T1e+="ble_buffering";y=T1e;T_E=14;break;}}}})();},78501:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Bka=b.e6=b.$l=void 0;r=a(5163);l=r.__importStar(a(17267));f=a(42866);h=a(35195);d=r.__importDefault(a(89956));g=r.__importDefault(a(95711));m=r.__importDefault(a(22774));k=a(27364);n=a(11983);p=g.default.assert;q=g.default.xn;b.$l=(c=(function(){var r6g;function u(v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N,I,K){var d_7,ha,O,R,Y,oa,ka;d_7=2;for(;d_7 !== 17;){switch(d_7){case 6:d_7=!O || O < y.bitrate * K * v.Tna || !oa?14:13;break;case 8:p(A.length === E);v.bqa && (N=Math.min(N,Y));d_7=6;break;case 13:ka || (R=y);ha=new n.RLa(A);L=Math.max(0,Math.min(L,y.La.length - G));H=Math.max(0,Math.min(H,R.La.length - G - L));d_7=20;break;case 2:var t$W="Fi";t$W+="rst str";t$W+="eam u";t$W+="ndefine";t$W+="d";y=x[0].stream;R=null === (O=z[0]) || void 0 === O?void 0:O.stream;p(y,t$W);O=y.ob;(Y=C - B,oa=y.La && y.La.length,ka=(null === R || void 0 === R?void 0:R.La) && (null === R || void 0 === R?void 0:R.La.length));d_7=8;break;case 20:x.forEach(function(za){var l0C,Ca,La;l0C=2;for(;l0C !== 4;){switch(l0C){case 2:(Ca=za.stream,La=za.blocks);za=za.bf;l.sb(za) && Ca.La && ha.add(Ca.La.ur.subarray(za,za + La));l0C=4;break;}}});z.forEach(function(za){var n3Q,Ca,La;n3Q=2;for(;n3Q !== 4;){switch(n3Q){case 2:(Ca=za.stream,La=za.blocks);za=za.bf;0 < H && l.sb(za) && Ca.La && ha.add(Ca.La.ur.subarray(za,za + La));n3Q=4;break;}}});return 0 < L || 0 < H?(0,m.default)({KFb:ha,blocks:E + L + H,Gd:B,Im:C,r1b:D,dr:J,el:F,bf:E,jFb:E + L,K3:I,mYa:M,ob:O / K,eRb:N,QB:v.QB,LNb:v.v$,ECb:!1}):O > y.yv?{result:!0,IU:0,hv:!0}:{result:!1,IU:0,hv:!0};break;case 14:return !1;break;}}}r6g=2;function w(v,y,x){var l7A,z;l7A=2;for(;l7A !== 3;){switch(l7A){case 2:l7A=!x.ob?1:5;break;case 1:return v.a5a;break;case 5:z=(x.v3b || x.ob) / x.ob;return 1 >= z?v.vqa:Math.min(Math.max((v.m1b * Math.min(8 * y / x.bitrate,v.tG) - v.my) / (z - 1),v.a5a),v.vqa);break;}}}function t(v,y,x){var e$t;e$t=2;for(;e$t !== 4;){switch(e$t){case 2:v=new q();v.cg=x[0];return v;break;}}}for(;r6g !== 5;){switch(r6g){case 2:var R6t="1S";R6t+="IYbZrNJ";R6t+="C";R6t+="p";R6t+="9";R6t;return {e6:u,$l:function(v,y,x,z,A,B,D){var G14,F,G,E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca,C;G14=2;for(;G14 !== 17;){switch(G14){case 7:G14=K === d.default.MZ.umb || !A.ob?6:14;break;case 3:var j57="n";j57+="umb";j57+="er";var P29="nu";P29+="mb";P29+="er";p(P29 === typeof y.buffer.IE);p(j57 === typeof y.K3);(F=x.first,G=new q(),E=A=F[z],J=y.buffer.ab,M=y.buffer.Gd,L=y.buffer.el,H=y.buffer.Im,N=y.bf,I=H - M,K=this.Ae.N2a || d.default.MZ.zk,O=y.state === k.Bb.me || y.state === k.Bb.Uh?y.buffer.dr:0,R=v.c7,Y=null !== (C=v.my) && void 0 !== C?C:1E3);G14=7;break;case 14:x.Pla(function(La,Wa,db){var D2y,U;D2y=2;for(;D2y !== 5;){switch(D2y){case 2:void 0 !== db && (La=La[db],null !== (U=La.La) && void 0 !== U && U.length || (La.twa=!0));D2y=5;break;}}});(ka=h.$p.OUa(y.buffer.La),ha=y.buffer.IE - ka.xa);C=(v.cwa || D) && I >= v.$xa?F.length:z + 2;(za=(function(La){var I2n,P1g;I2n=2;for(;I2n !== 4;){switch(I2n){case 2:var H6t="var";H6t+="i";H6t+="a";H6t+="b";H6t+="le";P1g=v.awa;I2n=P1g === H6t?1:3;break;case 1:return F.slice(0,La).map(function(Wa){var K6s;K6s=2;for(;K6s !== 1;){switch(K6s){case 2:return [w(v,y.buffer.IE,Wa),0];break;case 4:return [w(v,y.buffer.IE,Wa),5];break;}}});break;case 5:return F.slice(0,La).map(function(Wa,db){var l8D;l8D=2;for(;l8D !== 1;){switch(l8D){case 2:return db < z?[v.Vna,v.Xpa]:db === z?[v.Una,v.Wpa]:[v.Wna,v.Ypa];break;}}});break;case 3:I2n=5;break;case 13:I2n=9;break;}}})(C),Ca=F.slice(0,C).map(function(La,Wa){var E2_=R7xOY;var M2D,db;M2D=2;for(;M2D !== 5;){switch(M2D){case 2:E2_.m_t(17);db=E2_.N0G(z,Wa);return function(){var g7F,U,ja,sa,Q,P,Z,na,qa,Ha;g7F=2;for(;g7F !== 5;){switch(g7F){case 2:a:{E2_.m_t(5);U=Math.max(E2_.N0G(Wa,1),0);ja=za[Wa][1];sa=y.playbackRate;Q=x.B_a(Wa,N,za[Wa][0]);P=Q.Ccb;Q=Q.rbb;E2_.m_t(0);ja=x.B_a(U,E2_.A_X(P,N),ja);U=ja.Ccb;Z=ja.rbb;ja=Q[0].stream;na=ja.ob || 0;qa=ja.La && ja.La.length;Ha=D?v.oEb:qa?v.j4:v.pEb;Ha=db?v.sla:Ha;if(oa && !oa.k4 && oa.ob >= na && oa.bitrate <= ja.bitrate){P=!1;}else {db || qa || (ja.twa=!0);if(!db || !qa)if(qa && !v.v$){if(na >= Math.max(ja.yv * sa,ja.bitrate * sa * Ha) && ja.hv){P=!0;break a;}}else if(na >= ja.bitrate * sa * Ha){P=!0;break a;}sa=!v.qja || ja === E || ja.$b === E.$b && B?0:(sa=ja.Wb) && sa.Zk && sa.Zk.Da?sa.Zk.Da + v.mja * (sa.Zk.Zd?Math.sqrt(sa.Zk.Zd):0):0;(P=u(v,F,Q,Z,ka,M + sa - J,R,H - J,L - J,N,ka.length,O,ha,P,U,Y,y.K3,y.playbackRate)) && P.result && (G.wec=P.IU);oa={k4:P && P.result,ob:na,bitrate:ja.bitrate};P=P && P.result;}}return P;break;}}};break;}}}));G14=10;break;case 10:p(Ca.length === za.length);Ca[z]()?z + 1 < F.length && I > v.ly && (void 0 === this.RL || this.xpa && this.xpa > this.RL || L - this.RL > v.GU && I > v.aqa) && (A=(0,f.vha)(F.slice(z + 1,C),function(La,Wa){var W3S;W3S=2;for(;W3S !== 1;){switch(W3S){case 2:return Ca[z + 1 + Wa]();break;case 4:return Ca[(z - 9) % Wa]();break;}}})):A.La && A.La.length && (A=(0,f.vha)(F.slice(0,z),function(La,Wa){var W3q;W3q=2;for(;W3q !== 1;){switch(W3q){case 2:return Ca[Wa]();break;}}}),C=F[0],A && A.Kt < C.Kt || !A) && (A=C);G.cg=A || E;return G;break;case 4:var z2U="invalid ";z2U+="player fragmen";z2U+="t";z2U+="Inde";z2U+="x";p(l.sb(y.bf),z2U);G14=3;break;case 6:return t.call(this,y,v,F,A);break;case 2:var R0P="Must have ";R0P+="at";R0P+=" least one sel";R0P+="ected stream";p(!l.ii(z),R0P);void 0 === y.bf && (y.bf=0);G14=4;break;}}},Bka:w};break;}}})(),c.$l);b.e6=c.e6;b.Bka=c.Bka;},17468:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.aNb=b.v$a=void 0;c=a(5163);l=c.__importDefault(a(31503));f=c.__importStar(a(17267));h=a(42866);d=a(65877);g=c.__importDefault(a(35471));r=c.__importStar(a(53265));a=c.__importDefault(a(95711));m=a.default.ERb;k=a.default.pub;n=a.default.iK;p=a.default.xn;q=r.Iab;a=(function(){function t(B,D,C){var p7p;p7p=2;for(;p7p !== 5;){switch(p7p){case 2:B=k(C.Zq,B * C.k7);return m(B,D);break;}}}var L8d;function v(B,D){var X$x=R7xOY;var U4Y,C;U4Y=2;for(;U4Y !== 9;){switch(U4Y){case 5:C=D.AN;U4Y=4;break;case 1:var q_U="l";q_U+="o";q_U+="g";U4Y=0 === D.AN.lastIndexOf(q_U,0)?5:3;break;case 4:return (C=D.w$a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + B)):D.Xq;break;case 7:X$x.C8s(14);var Z5U=X$x.A_X(14,0,10);X$x.C8s(18);var I_G=X$x.N0G(8,715,10,815,15);X$x.C8s(19);var G2e=X$x.N0G(15,14,213,39);B=n(B,Z5U,I_G) + G2e;U4Y=0;break;case 2:X$x.C8s(20);var Y73=X$x.N0G(9,100028,4,49993,99986);X$x.C8s(21);var y7M=X$x.N0G(20,7,5,992);B=n(B,0,Y73) / y7M;U4Y=1;break;case 3:var g1$="sigm";g1$+="o";g1$+="id";return 0 === D.AN.lastIndexOf(g1$,0)?(C=D.AN,(C=D.w$a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * q(B)):D.Xq):D.Xq;break;}}}function z(B,D,C){var z$e,F,G;z$e=2;for(;z$e !== 4;){switch(z$e){case 2:(F=new p(),G=Math.max(B.nt,B.r7));F.cg=(0,h.xc)(C.filter(function(E){var v2q;v2q=2;for(;v2q !== 1;){switch(v2q){case 2:return E.bitrate <= B.qy;break;}}}).reverse(),function(E){var V$Z,L,J,M;V$Z=2;for(;V$Z !== 13;){switch(V$Z){case 14:var G$k="no_histor";G$k+="i";G$k+="cal_lte_mi";G$k+="nbitrate";var y_R="h";y_R+="i";y_R+="st_tput_";y_R+="lt_mi";y_R+="nbitrate";var x$8="lt_hist_lt";x$8+="e_minb";x$8+="itrate";(M=J.ob,E.bitrate * D.playbackRate <= M?(F.Ys=M,J && (F.kB=J.Cl?J.Cl:0,F.lB=J.Cl?J.dh:void 0),F.reason=x$8,J=!0):M?(F.Ys=M,J && (F.kB=J.Cl?J.Cl:0,F.lB=J.Cl?J.dh:void 0),F.reason=y_R,J=!1):(F.reason=G$k,J=!0));V$Z=7;break;case 9:L=w(B,E);V$Z=8;break;case 8:var E8C="hist_b";E8C+="uf";E8C+="ftim";E8C+="e";t(E,M,B) <= L?(F.Ys=M,J && (F.kB=J.Cl?J.Cl:0,F.lB=J.Cl && J.dh),F.reason=E8C,J=!0):J=!1;V$Z=7;break;case 7:return J;break;case 2:J={ob:E.ob,Cl:E.Wb && E.Wb.Cl,dh:E.Wb && E.Wb.dh};V$Z=1;break;case 1:V$Z=E.bitrate > G?5:14;break;case 3:V$Z=M?9:6;break;case 6:J=!1;V$Z=7;break;case 5:E=E.bitrate * D.playbackRate;M=J.ob;V$Z=3;break;}}}) || C[0];return F;break;}}}L8d=2;function u(B,D){var u5D,F,C;u5D=2;for(;u5D !== 12;){switch(u5D){case 6:(F=d.wMa.UIb(B),f.wp(F)?(B.si=F,F=!0):F=!1);u5D=14;break;case 4:C.lB=B.Cl && B.dh;C.kB=B.Cl?B.Cl:0;B=(0,l.default)(C.lB,{});u5D=7;break;case 7:u5D=(F=f.sb(D.N9) && 0 <= D.N9 && 100 >= D.N9 && !f.ii(B) && !f.Zb(B))?6:14;break;case 14:var l7z="hist_throu";l7z+="ghp";l7z+="ut";var q3Q="hi";q3Q+="st_tdi";q3Q+="gest";F?(D=B.si(D.N9 / 100) || C.cg.ob,C.Ys=D,C.reason=q3Q):C.cg.ob && (D=C.cg.ob,C.Ys=D,C.reason=l7z);return C;break;case 2:C=new p();C.cg=B;B=C.cg.Wb || ({});u5D=4;break;}}}function x(B,D,C,F,G,E){var J5Q;J5Q=2;for(;J5Q !== 5;){switch(J5Q){case 2:var g2C="no_va";g2C+="l";g2C+="id_Bitrate";var D9M="no";D9M+="_val";D9M+="id_V";D9M+="MAF";var Q1l="no_valid_DelayTa";Q1l+="rg";Q1l+="e";Q1l+="t";B=C?B.yb >= E.ot && B.yb <= E.z4a:B.bitrate >= E.nt && B.bitrate <= E.qy;return (F=F < G && B)?{k4:F}:{k4:F,reason:B?Q1l:C?D9M:g2C};break;}}}function y(B,D,C){var e9p,F,G,E,J,M,L;e9p=2;for(;e9p !== 19;){switch(e9p){case 11:var c4w="fallba";c4w+="ck_no_";c4w+="acceptable_stream";var M6H="below_minInit";M6H+="VideoBit";M6H+="rate";f.Zb(G) && C[E].bitrate < B.nt && (G=u(C[E],B),G.reason=M6H);f.Zb(G) && (G=u(C[0],B),G.reason=c4w);return G;break;case 2:(F=!!B.ot && !!B.z4a && C.every(function(H){var a1f;a1f=2;for(;a1f !== 1;){switch(a1f){case 2:return H.yb && 110 >= H.yb;break;}}}),G=null,E=C.length - 1);e9p=1;break;case 1:e9p=0 <= E && (F?C[E].yb >= B.ot:C[E].bitrate >= B.nt)?5:11;break;case 9:L=x(J,G.Ys,F,M,L,B);J=L.k4;L=L.reason;G.Q5=M;e9p=14;break;case 12:E--;e9p=1;break;case 5:J=C[E];G=u(J,B);(M=t(J.bitrate * D.playbackRate,G.Ys,B),L=v(G.Ys,B));e9p=9;break;case 14:e9p=J?11:13;break;case 13:G.reason=L;e9p=12;break;}}}function w(B,D){var Y4A,C,F;Y4A=2;for(;Y4A !== 13;){switch(Y4A){case 8:R7xOY.m_t(5);B=C[R7xOY.N0G(F,1)];C=C[F];Y4A=6;break;case 4:return C[0].d;break;case 5:Y4A=0 === F?4:3;break;case 1:(C=B.S5,F=(0,h.Uu)(C,function(G){var W0T;W0T=2;for(;W0T !== 1;){switch(W0T){case 2:return D <= G.r;break;}}}));Y4A=5;break;case 3:Y4A=-1 === F?9:8;break;case 6:return Math.floor(B.d + (C.d - B.d) * (D - B.r) / (C.r - B.r));break;case 14:return B.Xq;break;case 2:Y4A=B.S5?1:14;break;case 9:return C[C.length - 1].d;break;}}}for(;L8d !== 5;){switch(L8d){case 2:var W6o="1";W6o+="SIYb";W6o+="Z";W6o+="rNJCp9";W6o;return {Ipb:function(B,D,C,F){var s7o;s7o=2;for(;s7o !== 5;){switch(s7o){case 2:var V6D="hi";V6D+="s";V6D+="toric";V6D+="al";C=C.first;return C.some(function(G){var q6r;q6r=2;for(;q6r !== 1;){switch(q6r){case 2:return G.ha;break;}}})?z(B,D,C,F):V6D === B.voa?A(B,D,C,F):B.oR?y(B,D,C,F):z(B,D,C,F);break;}}},bob:x};break;}}function A(B,D,C,F){var R_8,G;R_8=2;for(;R_8 !== 7;){switch(R_8){case 2:var x8B="v";x8B+="b";G=g.default.storage.get(x8B);R_8=1;break;case 1:var n6E="n";n6E+="u";n6E+="m";n6E+="be";n6E+="r";R_8=n6E !== typeof G?5:4;break;case 5:return B.oR?y(B,D,C,F):z(B,D,C,F);break;case 4:var z90="hi";z90+="s";z90+="t";z90+="_bit";z90+="rate";B=new p();B.cg=(0,h.xc)(C.slice().reverse(),function(E){var P6r;P6r=2;for(;P6r !== 1;){switch(P6r){case 2:return E.bitrate <= G;break;}}}) || C[0];B.reason=z90;R_8=8;break;case 8:return B;break;}}}})();r=a.bob;b.v$a=a.Ipb;b.aNb=r;},22774:function(r,b,a){var p_r="de";p_r+="f";p_r+="au";p_r+="l";p_r+="t";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);c.__importStar(a(17267));l=a(95711);b[p_r]=function(f){var H_h=R7xOY;var a4v,F,G,E,J,M,L,H,N,I,K,h,d,g,m,k,n,p,q,u,t,w,v,y,x,z,A,B,D,C;a4v=2;for(;a4v !== 50;){switch(a4v){case 29:H_h.C8s(5);G=H_h.A_X(p,g);a4v=28;break;case 41:(w+=N[d],++d,d >= N.length && ++H < h.length && (N=h.DT(H),I=h.iL(H),d=0));a4v=42;break;case 53:a4v=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 32:(g=k,w+=N[d],++d,d >= N.length && ++H < h.length && (N=h.DT(H),I=h.iL(H),d=0),G=I[d],k+=G);a4v=33;break;case 11:var A8C=" ";A8C+=">=";A8C+=" fr";A8C+="agmentsLe";A8C+="ngth: ";var C0f="Stre";C0f+="a";C0f+="mingI";C0f+="nde";C0f+="x: ";q >= B && l.console.error(C0f + q + A8C + B);g+=C;0 === p && (g=0);a4v=19;break;case 35:a4v=w < q?34:53;break;case 8:F=0;d=0;G=h.iL(0)[0];H_h.C8s(22);k=H_h.A_X(k,1E3,A,G);H_h.m_t(23);v=H_h.N0G(0,v,8);H_h.C8s(3);E=H_h.A_X(A,1E3);a4v=11;break;case 33:a4v=w < F?32:31;break;case 52:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,IU:Math.min(G,m) / (A / 1E3),hv:!0},f && ({B2:n})));break;case 23:K--;q=M[J];B=L[J];a4v=35;break;case 25:(J=G[1],M=h.DT(C),L=h.iL(C),H=0,N=h.DT(H),I=h.iL(H),K=B - q);a4v=24;break;case 34:F=Math.max(q,t);a4v=33;break;case 30:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,IU:G / (A / 1E3),hv:!1},f && ({B2:n})));break;case 28:H_h.m_t(24);g+=H_h.N0G(v,q,0,E);p+=B;a4v=43;break;case 38:J >= M.length && ++C < h.length && (u-=M.length,M=h.DT(C),L=h.iL(C),J=0);f && n.push(G / (A / 1E3));F=G;a4v=54;break;case 27:G=c.__read(h.NIb(q),2);C=G[0];a4v=25;break;case 24:a4v=K?23:51;break;case 9:m=Infinity;a4v=8;break;case 31:a4v=!z && (G=p - g,G < x)?30:29;break;case 2:var n45="1S";n45+="I";n45+="Yb";n45+="Z";n45+="rNJCp9";(h=f.KFb,d=f.blocks,g=f.Gd,m=f.Im,k=f.r1b,n=f.dr,p=f.el,q=f.bf,u=f.jFb,t=f.K3,w=f.mYa,v=f.ob,y=f.eRb,x=f.QB,z=f.LNb);f=f.ECb;n45;(A=h.S,B=Math.min(h.LFb,d),D=m - g,C=8 * n / v | 0);n=[];a4v=9;break;case 42:a4v=k < g && d < J?41:40;break;case 19:H_h.m_t(3);g*=H_h.N0G(A,1E3);H_h.C8s(3);p*=H_h.A_X(A,1E3);H_h.C8s(3);x*=H_h.N0G(A,1E3);H_h.m_t(3);y*=H_h.N0G(A,1E3);H_h.m_t(3);D*=H_h.N0G(A,1E3);a4v=27;break;case 54:m=Math.min(G,m);a4v=24;break;case 43:w-=q;a4v=42;break;case 39:a4v=J >= u && G > D?51:38;break;case 51:return c.__assign({result:!0,IU:m / (A / 1E3),hv:!0},f && ({B2:n}));break;case 40:++J;a4v=39;break;}}};},68474:function(r,b,a){var l;function c(f,h,d){f=d.first.map(function(g,m){return g.eG?m:null;}).filter(function(g){return null !== g;});return f.length?new l(f[Math.floor(Math.random() * f.length)]):null;}l=a(95711).xn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},89583:function(r,b,a){var l,f,h,d;function c(g,m,k){var n,p;n=k.first;k=this.Mfa;m=m.buffer.el;p="forward" === g.GZb;if(l.ii(k))return (k=p?f(n):f(n,n.length),this.Nfa=m,this.Mfa=k,new d(k));h(n[k]) || (k=f(n,k),this.Nfa=m,this.Mfa=k);if(0 > k)return null;if(m > this.Nfa + g.y3b){g=n.map(function(q,u){return q.eG?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?k=(g.indexOf(k) + 1) % g.length:(k=g.indexOf(k) - 1,0 > k && (k=g.length - 1));this.Mfa=g[k];this.Nfa=m;return new d(g[k]);}return new d(k);}l=a(17267);b=a(95711);f=b.Fla;h=b.ML;d=b.xn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},1614:function(r,b,a){var l,f,h,d,g,m;function c(k,n,p){var q;q=p.first;g=q;m=q.map(function(u,t){return t;});if(null === d)return (k=f(q),d=q[k].bitrate,new h(k));if(!q.length)return null;k=m.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === k?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new h(m[0])):new h(k);}b=a(95711);a=a(35471)["default"];l=b.console;f=b.Fla;h=b.xn;d=null;g=null;m=null;a.pvb && (a.pvb.cl={va:function(){m=g=d=null;},x$a:function(k){d=k;},Fdc:function(){return {all:g,Mdb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},61706:function(r,b,a){(function(){var q0Z,l,f,h,d;q0Z=2;for(;q0Z !== 6;){switch(q0Z){case 2:l=a(17267);a(89956);f=a(95711);a(35471);q0Z=3;break;case 3:var W_I="1SIYbZr";W_I+="N";W_I+="JC";W_I+="p9";var t10="de";t10+="fa";t10+="ult";(h=f.assert,d=f.xn);f=a(9498)[t10];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};W_I;q0Z=6;break;}}function c(g,m,k,n){var H5r,p;H5r=2;for(;H5r !== 11;){switch(H5r){case 3:R7xOY.m_t(25);var g04=R7xOY.A_X(15,4,14,0,2);n=k.length - g04;H5r=9;break;case 6:return (m.Qh=n,m);break;case 8:p=k[n];H5r=7;break;case 9:H5r=-1 < n?8:13;break;case 14:--n;H5r=9;break;case 13:m.Qh=0;return m;break;case 7:H5r=p.Wb && p.Wb.ob && p.bitrate < p.Wb.ob.Da - g.t3b?6:14;break;case 2:var J4m="play";J4m+="er ";J4m+="missin";J4m+="g fragmentI";J4m+="ndex";var N4A="Must ";N4A+="ha";N4A+="ve at least one selected stre";N4A+="am";h(!l.ii(n),N4A);h(l.sb(m.bf),J4m);m=d(n);k=k.first;H5r=3;break;}}}})();},22288:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aka=b.O9=b.z$a=void 0;r=a(27364);b.z$a=[r.Bb[r.Bb.zk],r.Bb[r.Bb.Pe],r.Bb[r.Bb.sl],r.Bb[r.Bb.me],r.Bb[r.Bb.Uh],"checkBuffering"];c=a(1614);b.O9={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835);},selectaudioadaptive:function(){return a(71888);},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711);},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.aka={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},11983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=void 0;r=(function(){function a(c){this.ur=[];this.ur.push(c);}Object.defineProperties(a.prototype,{S:{get:function(){return this.ur[0].S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ur.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{LFb:{get:function(){var c;return null !== (c=this.Fnb) && void 0 !== c?c:this.Fnb=this.ur.reduce(function(l,f){return l + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.iL=function(c){return this.ur[c].lf;};a.prototype.DT=function(c){return this.ur[c].sizes;};a.prototype.add=function(c){this.ur.push(c);};a.prototype.NIb=function(c){var f;for(var l=0;0 <= c;){f=this.ur[l];if(c < f.length)break;l++;c-=f.length;}return [l,c];};return a;})();b.RLa=r;},94656:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jea=void 0;c=a(5163);l=a(36418);a(62558);c.__importDefault(a(95711));r=(function(){function f(h,d,g,m){this.lf=h;this.S=g;this.length=Math.min(h.length,d.length);this.xm=d;this.kc=m;}Object.defineProperties(f.prototype,{xa:{get:function(){return void 0 !== this.kc?this.kc:this.kc=this.Sea();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.xm;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(h,d){return new f(this.lf.subarray(h,d),this.sizes.subarray(h,d),this.S);};f.prototype.concat=function(){var g,m;for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}d=[this];h=d.concat.apply(d,c.__spreadArray([],c.__read(h),!1));d=h.reduce(function(k,n){return k + n.length;},0);g=new Uint32Array(d);m=new Uint32Array(d);d=h[0].S;h.reduce(function(k,n){l.zea.set(g,n.lf,k);l.zea.set(m,n.sizes,k);return k + n.length;},0);return new f(g,m,d);};f.prototype.Sea=function(){for(var h=this.sizes,d=this.length,g=0,m=0;m < d;++m){g+=h[m];}return g;};f.prototype.P1a=function(h){return void 0 === this.fqb?!1:0 < this.fqb[h];};return f;})();b.jea=r;},74976:function(r,b,a){var c,l,f,h,d,g,m,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.YP=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);f=r.__importDefault(a(89956));h=r.__importDefault(a(35471));d=a(27364);g=a(89659);m=a(22288);k=a(75449);n=new h.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");a=(function(){var G59;G59=2;for(;G59 !== 6;){switch(G59){case 3:p.prototype.v4=function(q,u){var U$J,t;U$J=2;for(;U$J !== 3;){switch(U$J){case 2:R7xOY.m_t(26);var e6w=R7xOY.N0G(16,4,2,7);t=q.length - e6w;U$J=1;break;case 1:U$J=0 <= t?5:3;break;case 4:--t;U$J=1;break;case 14:++t;U$J=7;break;case 5:u(q[t],t,q);U$J=4;break;}}};Object.defineProperties(p.prototype,{RL:{get:function(){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 4:return this.Kfa;break;case 2:return this.Kfa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xpa:{get:function(){var e7O;e7O=2;for(;e7O !== 1;){switch(e7O){case 4:return this.Ofa;break;case 2:return this.Ofa;break;}}},enumerable:!1,configurable:!0}});return p;break;case 2:p.prototype.x$a=function(q,u,t,w,v,y,x){var k2s,I,N,T4i,K,H,z,A,B,D,C,F,G,E,J,L,M;k2s=2;for(;k2s !== 61;){switch(k2s){case 29:I=u.Wb;y=F.EPa;k2s=44;break;case 46:this.Ae.Y$a(f.default.MZ.zk);k2s=15;break;case 37:N.Bs=v && void 0 !== y && !isNaN(y) && 0 <= y && y < v.length?v.cm(y):D.el;N.ISb=I && I.ob && I.ob.Da || 0;N.tSa=D.Im - D.Gd;k2s=53;break;case 11:0 <= E || (E=M[L - 1].bitrate,M=M[L - 1].yb,E=u.pna(u.first,E,M));k2s=10;break;case 31:var w_G="pl";w_G+="a";w_G+="yi";w_G+="n";w_G+="g";q.state !== d.Bb.me && q.state !== d.Bb.Uh?(v=(0,g.A7a)(q.state),y=this.L2(q.buffer,v,q.playbackRate,u,y),(N.Em=y.complete)?N.Vtb=y.reason:(N.Em=!1,N.pN=y.pN,N.Zpa=y.Zpa,N.progress=y.progress)):(N.Em=!0,N.Vtb=w_G);k2s=30;break;case 15:void 0 !== w && this.P7a(u,q.state,q.buffer,w);N=this.PNa[d.Bb[q.state]].call(this,F,q,u,E,w,!!v,J,t);N.Ag=q.state;k2s=25;break;case 18:T4i=q.state;k2s=T4i === d.Bb.zk?17:47;break;case 43:K=[];y.forEach(function(O){var N2B,R;N2B=2;for(;N2B !== 4;){switch(N2B){case 2:R=O.stat;R=(O=I[O.filter]) && O[R];K.push(isNaN(R)?-1:R);N2B=4;break;}}});k2s=41;break;case 13:H=M[L - 1].Ub;E=(0,l.Uu)(G,function(O){var H7S;H7S=2;for(;H7S !== 1;){switch(H7S){case 2:return O.Ub === H;break;}}});k2s=11;break;case 16:this.Ae.Y$a(f.default.MZ.zk);k2s=15;break;case 19:q.state !== d.Bb.zk && void 0 === E && (q.state=d.Bb.zk);k2s=18;break;case 53:N.gub=D.uo;N.wVb=null !== (B=null === (A=null === (z=h.default.Ddc) || void 0 === z?void 0:z.call(h.default)) || void 0 === A?void 0:A[q.mediaType === d.v.Y?1:0]) && void 0 !== B?B:-1;N.Zj=q && q.Zj;k2s=50;break;case 10:c.ii(E) && (E=this.Ae.U2a);q.state === d.Bb.zk && c.sb(E) && (q.state=d.Bb.Pe);k2s=19;break;case 22:void 0 === N.gRb?this.Ae.RW(N.Qh):this.Ae.RW(N.gRb);u=G[N.Qh];N.XV=u.ob || 0;k2s=34;break;case 30:k2s=q.ES?29:48;break;case 17:this.Ofa=this.Kfa=void 0;k2s=16;break;case 49:N.CC=h.default.time.Ga();k2s=48;break;case 23:return null;break;case 50:N.Cr=C;k2s=49;break;case 2:(D=null === q || void 0 === q?void 0:q.buffer,C=h.default.time.Ga(),F=this.Z,G=u.first,E=this.Ae.U2a,J=!1);c.sb(E) && q.state === d.Bb.zk && (this.Ae.RW(void 0),E=void 0);c.sb(E) && E >= G.length && (this.Ae.RW(void 0),E=void 0);k2s=4;break;case 7:M=D.La;L=M.length;k2s=14;break;case 4:k2s=c.ii(E) && q.state === d.Bb.me && (J=!0,void 0 !== this.Ae.$n)?3:7;break;case 24:k2s=!N || null === N.Qh?23:22;break;case 65:k2s=T4i === d.Bb.me?15:64;break;case 62:var s9x="Stream selecto";s9x+="r called ";s9x+="with invalid player sta";s9x+="te ";return (n.error(s9x + d.Bb[q.state]),null);break;case 41:N.RVb=K;k2s=40;break;case 3:M=this.Ae.$n.yb;E=u.pna(u.first,this.Ae.$n.bitrate,M);k2s=8;break;case 14:k2s=0 < L?13:10;break;case 40:N.el=D.el;y=q && q.bf;v=u.La;k2s=37;break;case 47:k2s=T4i === d.Bb.Pe?46:45;break;case 44:k2s=I && y && 0 < y.length?43:40;break;case 25:N.cg && (N.ZE=[],u.sFb(function(O,R){var G5Z;G5Z=2;for(;G5Z !== 5;){switch(G5Z){case 2:O === N.cg?N.Qh=R:(O.twa || F.CCb && (!O.La || !O.La.length)) && N.ZE.push(O.Ub);O.twa=!1;G5Z=5;break;}}}),!N.ZE.length && F.u1b && D.Im - D.Gd > F.t7 && !N.cg.ha && (u=void 0,t=N.Qh + 1,t=t < G.length?G[t]:void 0,w=N.Qh - 1,w=0 <= w?G[w]:void 0,!t || t.La && t.La.length?!w || w.La && w.La.length || (u=w):u=t,u && N.ZE.push(u.Ub)),N.ZE.length || (N.ZE=void 0));k2s=24;break;case 64:k2s=T4i === d.Bb.Uh?15:63;break;case 34:var D0E="min_";D0E+="f";D0E+="ragment_vm";D0E+="af";N.reason && (u.Ht=N.reason,D0E !== N.reason && (u.p_b=N.Ys,u.Q5=N.Q5,u.kB=N.kB,u.lB=N.lB));this.O6a && (N.Gv=this.O6a.SIb({DE:D.Im - D.Gd,Ytb:D.uo || 0,Xtb:D.IE || 0,Gd:D.Gd,DPb:G[0],cg:u,z5b:G[N.Qh + 1] || u,P3b:G[G.length - 1],Ag:q.state,playbackRate:q.playbackRate,bf:q.bf,A4:x,mo:v}));c.sb(E) && u.bitrate < G[E].bitrate && (this.Kfa=D.el);k2s=31;break;case 8:this.Ae.RW(E);k2s=7;break;case 45:k2s=T4i === d.Bb.sl?46:65;break;case 63:k2s=62;break;case 48:return N;break;}}};p.prototype.L2=function(q,u,t,w,v){var V_O;V_O=2;for(;V_O !== 1;){switch(V_O){case 2:return this.PNa.checkBuffering.call(this,q,u,t,w,v,this.Z);break;}}};p.prototype.h2b=function(q,u,t){var R02;R02=2;for(;R02 !== 1;){switch(R02){case 2:c.ii(u)?this.Kfa=this.Ofa=void 0:u.bitrate < t.bitrate && (this.Ofa=q);R02=1;break;}}};p.prototype.P7a=function(q,u,t,w){var y01,v,y,x;y01=2;for(;y01 !== 5;){switch(y01){case 2:v=this;q.Pla(function(z){var U9Z;U9Z=2;for(;U9Z !== 1;){switch(U9Z){case 2:v.v4(z,function(A){var v9t;v9t=2;for(;v9t !== 1;){switch(v9t){case 2:A.eG && A.Wb && A.Wb.confidence?(y !== A.Wb && (y=A.Wb,x=w(A.Wb,t,u,A.track.pa.cM[d.v.ea])),A.ob=Math.floor(x.lower) || 1,A.v3b=Math.floor(x.upper || 1) || 1):A.ob=void 0;v9t=1;break;}}});U9Z=1;break;}}});y01=5;break;}}};G59=3;break;}}function p(q,u,t,w){var b$M,v,y;b$M=2;for(;b$M !== 6;){switch(b$M){case 8:this.PNa=m.z$a.reduce(function(x,z){var e5X,A;e5X=2;for(;e5X !== 4;){switch(e5X){case 2:A=(m.O9[q] || m.O9[m.aka[z]])()[z] || m.O9[m.aka[z]]()[z];x[z]=A.bind(v);return x;break;}}},{});w && (this.O6a=new k.PP(u,null === (y=t.track) || void 0 === y?void 0:y.mediaType));b$M=6;break;case 1:var x0x="1";x0x+="S";x0x+="IYbZ";x0x+="rNJCp9";this.v_b=q;this.Z=u;this.Ae=t;x0x;q=q || this.Z.ubb;b$M=8;break;case 2:v=this;b$M=1;break;}}}})();b.YP=a;},17329:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZI=void 0;c=a(42866);l=a(95711);r=(function(){function f(){this.s1=[];}Object.defineProperties(f.prototype,{first:{get:function(){var h;return null === (h=this.s1[0]) || void 0 === h?void 0:h.Lg;},enumerable:!1,configurable:!0}});f.prototype.Yga=function(h){this.s1.push({Lg:h});};f.prototype.Pla=function(h){this.s1.forEach(function(d,g){return h(d.Lg,g);});};f.prototype.sFb=function(h){this.Pla(function(d){d.forEach(function(g,m){return h(g,m);});});};f.prototype.B_a=function(h,d,g){var m,k,n,p,q,u,t;m=this;k=g;n=d;p=0;q=[];d=this.first[h];u=d.yb;t=d.bitrate;this.s1.forEach(function(w,v){var y,x;w=w.Lg;0 >= k || (v=(0,l.iK)(0 === v?h:m.pna(w,t,u),0,w.length - 1),v=w[v],w=null === (y=v.La) || void 0 === y?void 0:y.zja(n,k),y=null !== (x=null === w || void 0 === w?void 0:w.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:v,blocks:y,bf:n}),null === w || void 0 === w?!0:!w.$ta) || (n=0,k-=w.$ta);});return {rbb:q,Ccb:p};};f.prototype.pna=function(h,d,g){var m;m=(0,c.Uu)(h,function(k){return g && k.yb?k.yb > g:k.bitrate > d;});return 0 < m?m - 1:0 === m?0:h.length - 1;};return f;})();b.ZI=r;},47870:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mMa=void 0;c=a(5163);r=(function(){function l(f,h){this.V=f;this.gb=h;this.xwa=!1;}l.prototype.PYb=function(f){this.tf(f.message,void 0,c.__assign(c.__assign({},f.Wka),{err:f.toString()}));};l.prototype.tf=function(f,h,d){void 0 === h && (h=void 0);void 0 === d && (d={});this.xwa || (d.temporaryFailure || (this.xwa=!0),f=c.__assign({type:"error",error:null !== h && void 0 !== h?h:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.V.error("notifyStreamingError:",f),this.gb.emit("error",f));};l.prototype.Rq=function(){return this.xwa;};return l;})();b.mMa=r;},26218:function(r,b,a){var l,f,h,d;function c(g){return function(){for(var m=Array(this.length),k=0;k < this.length;++k){m[k]=g.call(this,k);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.nsb=b.vv=b.xea=b.MMa=void 0;r=a(5163);l=a(42866);f=a(62558);h=new (r.__importDefault(a(35471)).default.Console)("FRAGMENTS","media|asejs");d=(function(){function g(m,k){this.Hc=m;this.ae=k;}Object.defineProperties(g.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Na:{get:function(){return new l.N(this.qb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eb:{get:function(){return new l.N(this.xb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ve:{get:function(){return new l.N(this.MA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qb:{get:function(){return this.Hc.p1 + this.Hc.cA[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xb:{get:function(){return this.qb + this.Hc.lq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{MA:{get:function(){return this.Hc.lq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.Hc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.Hc.S;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.qb / this.ca.S,endPts:1E3 * this.xb / this.ca.S,duration:1E3 * this.MA / this.ca.S,index:this.index};};return g;})();b.MMa=d;a=(function(){function g(m,k,n,p){this.mediaType=m;this.length=n.lf.length;this.fb=n.S;this.lq=n.lf;this.S1=p && p.OM;this.WQa=p && p.vN;this.vJ=k;this.nxa=this.oxa=this.SOa=void 0;this.p1=n.wr;this.cA=new Uint32Array(this.length + 1);if(this.length){for(k=m=0;k < this.length;++k){this.cA[k]=m;m+=this.lq[k];}this.cA[k]=m;this.Mea=Math.floor((this.mf - this.ab) / this.length);}}Object.defineProperties(g.prototype,{wr:{get:function(){return this.fbb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qka:{get:function(){return this.fbb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ab:{get:function(){return this.cm(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mf:{get:function(){return this.cm(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nf:{get:function(){return new l.N(this.Qka,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qqa:{get:function(){return this.SOa || this.Smb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.fbb=function(m){return this.p1 + this.cA[m];};g.prototype.cm=function(m){return Math.floor(1E3 * (this.p1 + this.cA[m]) / this.S);};g.prototype.JS=function(m){return this.cm(m + 1);};g.prototype.lf=function(m){return this.JS(m) - this.cm(m);};g.prototype.get=function(m){return new d(this,m);};g.prototype.Qx=function(m,k,n){if(0 === this.length || m < this.cm(0))return -1;m=Math.max(m,k || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.cm(u),m < t))q=u - 1;else if(m >= t + this.lf(u))p=u + 1;else {for(;k && u < this.length && this.cm(u) < k;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.wla=function(m,k,n){m=this.Qx(m,k,n);return 0 <= m?this.get(m):void 0;};g.prototype.zja=function(m,k){var n,p,q;n=Math.floor(k * this.S / 1E3);p=Math.min(m + Math.ceil(k / this.Mea),this.length);q=this.cA[p] - this.cA[m];if(q >= n){for(;q >= n;){--p;q-=this.lq[p];}return {blocks:Math.max(p - m + 1,0),$ta:0};}for(;q < n && p <= this.length;){k-=q || 0;q+=this.lq[p];++p;}return {blocks:Math.max(p - m - 1,0),$ta:k};};g.prototype.subarray=function(m,k){(0,f.assert)(void 0 === m || 0 <= m && m < this.length);(0,f.assert)(void 0 === k || k > m && k <= this.length);return new g(this.mediaType,this.ca,{S:this.S,wr:this.p1 + this.cA[m],lf:this.lq.subarray(m,k)},this.S1 && ({OM:this.S1.subarray(m,k + 1),vN:this.WQa}));};g.prototype.forEach=function(m){for(var k=0;k < this.length;++k){m(this.get(k),k,this);}};g.prototype.map=function(m){for(var k=[],n=0;n < this.length;++n){k.push(m(this.get(n),n,this));}return k;};g.prototype.reduce=function(m,k){for(var n=0;n < this.length;++n){k=m(k,this.get(n),n,this);}return k;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Mea};};g.prototype.dump=function(){var k;h.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Mea + "ms");for(var m=0;m < this.length;++m){k=this.get(m);h.trace(("TrackFragments: ").concat(m,": [").concat(k.Na.G,"-").concat(k.eb.G,"]"));}};g.prototype.Smb=function(){for(var m=0,k=0;k < this.length;k++){m=Math.max(this.lq[k],m);}return this.SOa=m;};return g;})();b.xea=a;b.vv=c;c(a.prototype.cm);c(a.prototype.JS);c(a.prototype.lf);b.nsb=function(g){return ("[").concat(Array(g.length).map(function(m,k){return g[k].toString();}).join(","),"]");};},85177:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aQ=void 0;r=(function(){function a(c){this.LPa=c;}Object.defineProperties(a.prototype,{HL:{get:function(){return this.$nb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.LPa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xZb:{get:function(){var c;c=this;return this.LPa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.$nb=!0;};a.prototype.vM=function(c,l){var f;f=this;this.result.then(function(h){f.HL?l && l(h):c(h);});return this;};return a;})();b.aQ=r;},56742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52E3:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62558:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);return h;})(Error);b.assert=function(f,h){var d;if(!f){d=new l(h || "Assertion failed");a(22209).Zp.V.error("Assertion failed",{value:f,message:h,stack:d.stack});throw d;}};},82732:function(r){function b(a,c,l){this.LJ=a;this.nj=Math.floor((a + c - 1) / c);this.zd=c;this.vpb=l;this.reset();}b.prototype.shift=function(){this.Ad.shift();this.Gh.shift();};b.prototype.update=function(a,c){this.Ad[a]+=c;};b.prototype.push=function(a){this.Ad.push(0);this.Gh.push(a?a:0);this.jb+=this.zd;};b.prototype.add=function(a,c,l,f){var h,d;if(null === this.jb){h=Math.max(Math.floor((l - c + this.zd - 1) / this.zd),1);for(this.jb=c;this.Ad.length < h;){this.push(f);}}for(;this.jb < l;){if((this.push(f),this.vpb))for(;1 < this.Ad.length && l + f - (this.jb - this.zd * this.Ad.length + this.Gh[0]) > this.LJ;){this.shift();}else this.Ad.length > this.nj && this.shift();}if(c > this.jb - this.zd)this.update(this.Ad.length - 1,a);else if(c == l)(f=this.Ad.length - Math.max(Math.ceil((this.jb - l) / this.zd),1),0 <= f && this.update(f,a));else for(f=1;f <= this.Ad.length;++f){h=this.jb - f * this.zd;d=h + this.zd;if(!(h > l)){if(d < c)break;this.update(this.Ad.length - f,Math.round(a * (Math.min(d,l) - Math.max(h,c)) / (l - c)));}}for(;this.Ad.length > this.nj;){this.shift();}};b.prototype.reset=function(){this.Ad=[];this.Gh=[];this.jb=null;};b.prototype.setInterval=function(a){this.nj=Math.floor((a + this.zd - 1) / this.zd);};r.exports=b;},89659:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.A7a=void 0;c=a(27364);b.A7a=function(l){switch(l){case c.Bb.Pe:l=c.Yc.Pe;break;case c.Bb.sl:l=c.Yc.sl;break;case c.Bb.zk:case c.Bb.Wr:case c.Bb.X_:l=c.Yc.Wr;break;default:l=c.Yc.rm;}return l;};},19114:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TO=void 0;b.TO=(function(){function a(){}a.X5=function(c,l){var d;function f(g){return h(d++)(g,f);}function h(g){return g >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:l[g];}d=0;return f(c);};return a;})();},95971:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.d0=void 0;r=a(57055);c=a(42866);a=a(55011);l=(function(){function f(h){void 0 === h && (h={hi:!1,currentTime:c.N.Ia,speed:1});this.Ua={hi:function(){return "function" === typeof h.hi?h.hi():h.hi;},currentTime:function(){return "function" === typeof h.currentTime?h.currentTime():h.currentTime;},speed:function(){return "function" === typeof h.speed?h.speed():h.speed;}};}Object.defineProperties(f.prototype,{hi:{get:function(){return this.Ua.hi();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Ua.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Ua.speed();},enumerable:!1,configurable:!0}});return f;})();b.d0=l;(0,a.tk)(r.EventEmitter,l);},13870:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uVa=void 0;b.uVa=function(a){return JSON.parse(JSON.stringify(a));};},91219:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aBa=void 0;c=a(5163);a(62558);r=(function(){function l(f,h){this.$c=f;this.lJ=h;this.Zw();}Object.defineProperties(l.prototype,{length:{get:function(){return this.Uz;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.Uz;},enumerable:!1,configurable:!0}});l.prototype.cGb=function(){return this.wJ && this.wJ.get(0);};l.prototype.rtb=function(){return this.jJ && this.jJ.get(this.jJ.length - 1);};l.prototype.get=function(f){0 > f && (f+=this.length);for(var h=0;h < this.$c.length;++h){if(this.Gh[h + 1] > f)return this.$c[h].get(f - this.Gh[h]);}};l.prototype.push=function(f){this.$c[this.lJ(f)].push(f);this.Zw();return this.Uz;};l.prototype.shift=function(){var f;if(this.wJ){f=this.wJ.shift();this.Zw();return f;}};l.prototype.pop=function(){var f;if(this.jJ){f=this.jJ.pop();this.Zw();return f;}};l.prototype.unshift=function(f){this.$c[this.lJ(f)].unshift(f);this.Zw();return this.Uz;};l.prototype.Zs=function(f){var h;h=this.lJ(f);this.$c[h].Zs(f);this.Zw();};l.prototype.remove=function(f){var h;h=this.$c.some(function(d){return d.remove(f);});h && this.Zw();return h;};l.prototype.splice=function(f,h){var q,u,t,w;for(var d,g=[],m=2;m < arguments.length;m++){g[m - 2]=arguments[m];}m=[];for(var k,n=f + Math.max(0,h),p=0;p < this.$c.length;++p){q=this.$c[p];u=this.Gh[p];t=this.Gh[p + 1];if(f < t){w=f - u;u=Math.min(n - u,q.length);void 0 === k && 0 < w && u < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spreadArray([w,u - w],c.__read(g),!1))):(Array.prototype.push.apply(m,q.splice(w,u - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));f=t;if(f >= n)break;}}if(g.length && void 0 !== k){for(n=this.lJ(g[0]);0 < k && n < k && this.$c[k].empty;){--k;}for(;g.length && n === k;){this.$c[k].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}for(;g.length && ++k < this.$c.length && this.$c[k].empty;){for(;g.length && n === k;){this.$c[k].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}}g.length && (d=this.$c[k]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.Zw();return m;};l.prototype.find=function(f){var h,d;h=this;return this.$c.some(function(g,m){d=g.find(h.fA(f,m));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(f){var d;for(var h=0;h < this.$c.length;++h){d=this.$c[h].findIndex(this.fA(f,h));if(-1 !== d)return d + this.Gh[h];}return -1;};l.prototype.indexOf=function(f){var d;for(var h=0;h < this.$c.length;++h){d=this.$c[h].indexOf(f);if(-1 !== d)return d + this.Gh[h];}return -1;};l.prototype.map=function(f){var h,d;h=this;d=this.$c.map(function(g,m){return g.map(h.fA(f,m));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(f,h){var d;d=this;return this.$c.reduce(function(g,m,k){return m.reduce(d.nqb(f,k),g);},h);};l.prototype.forEach=function(f){var h;h=this;this.$c.forEach(function(d,g){d.forEach(h.fA(f,g));});};l.prototype.v4=function(f){for(var h=this.$c.length - 1;0 <= h;--h){this.$c[h].v4(this.fA(f,h));}};l.prototype.some=function(f){var h;h=this;return this.$c.some(function(d,g){return d.some(h.fA(f,g));});};l.prototype.ewa=function(f){for(var h=this.$c.length - 1;0 <= h;--h){if(this.$c[h].ewa(this.fA(f,h)))return !0;}return !1;};l.prototype.every=function(f){var h;h=this;return this.$c.every(function(d,g){return d.every(h.fA(f,g));});};l.prototype.rFb=function(f,h){var n,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > f(t,v[u])?w:u;},void 0);}for(var g=this,m=this.$c.map(function(){return 0;}),k=this.$c.filter(function(q){return q.empty;}).length;k < this.$c.length;){n=m.map(function(q,u){return q < g.$c[u].length?g.$c[u].get(q):void 0;});p=d(n);h(n[p],this.Gh[p] + m[p],this);++m[p];m[p] === this.$c[p].length && ++k;}};l.prototype.move=function(f){return this.remove(f)?(this.Zs(f),!0):!1;};l.prototype.M0b=function(){var f;if(this.$c[1].length){f=this.$c[1].shift();this.$c[0].push(f);this.Zw();}};l.prototype.GXa=function(f){for(var h=-1,d=0;d < this.$c.length;++d){if((h=f(this.$c[d]),-1 !== h)){h+=this.Gh[d];break;}}return h;};l.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};l.prototype.Zw=function(){var h;this.Uz=0;this.Gh=[0];this.jJ=this.wJ=void 0;for(var f=0;f < this.$c.length;++f){h=this.$c[f];this.Uz+=h.length;this.Gh.push(this.Gh[this.Gh.length - 1] + h.length);!this.wJ && h.length && (this.wJ=h);h.length && (this.jJ=h);}};l.prototype.fA=function(f,h){var d,g;d=this;g=this.Gh[h];return function(m,k){return f(m,g + k,d);};};l.prototype.nqb=function(f,h){var d,g;d=this;g=this.Gh[h];return function(m,k,n){return f(m,k,g + n,d);};};return l;})();b.aBa=r;},36344:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UTa=void 0;c=a(5163);l=a(49730);f=a(62558);b.UTa=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}l.K && (0,f.assert)(h.length);return function(g,m){var k,q,u;try{for(var n=c.__values(h),p=n.next();!p.done;p=n.next()){q=p.value;u=q(g,m);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(t)throw t.error;}}return 0;};};},6694:function(r){function b(a){this.tQ=a;this.Ib=0;this.HJ=null;}b.prototype.add=function(a,c,l){null !== this.HJ && c > this.HJ && (this.Ib+=c - this.HJ,this.HJ=null);this.tQ.add(a,c - this.Ib,l - this.Ib,this.Ib);};b.prototype.stop=function(a){null === this.HJ && (this.HJ=a);};b.prototype.get=function(){return this.tQ.get();};b.prototype.reset=function(){this.tQ.reset();};b.prototype.toString=function(){return this.tQ.toString();};r.exports=b;},7977:function(r,b,a){function c(l,f){this.LJ=l;this.nj=Math.floor((l + f - 1) / f);this.zd=f;this.reset();}a(62558);c.prototype.shift=function(){this.Ad.shift();this.Iu.shift();};c.prototype.tt=function(l){return this.CSa(this.Ad[l],l);};c.prototype.update=function(l,f){this.Ad[l]=(this.Ad[l] || 0) + f;};c.prototype.push=function(){this.Ad.push(0);this.Iu.push(0);this.jb+=this.zd;};c.prototype.add=function(l,f,h){var d,g,m;if(null === this.jb){d=Math.max(Math.floor((h - f + this.zd - 1) / this.zd),1);for(this.jb=f;this.Ad.length < d;){this.push();}}for(;this.jb <= h;){this.push();this.Ad.length > this.nj && this.shift();}if(null === this.yn || f < this.yn)this.yn=f;if(f > this.jb - this.zd)this.update(this.Ad.length - 1,l);else if(f == h)(d=this.Ad.length - Math.max(Math.ceil((this.jb - h) / this.zd),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Ad.length;++d){g=this.jb - d * this.zd;m=g + this.zd;if(!(g > h)){if(m < f)break;this.update(this.Ad.length - d,Math.round(l * (Math.min(m,h) - Math.max(g,f)) / (h - f)));}}for(;this.Ad.length > this.nj;){this.shift();}};c.prototype.start=function(l){null === this.yn && (this.yn=l);null === this.jb && (this.jb=l);};c.prototype.stop=function(l){var f,h;if(null !== this.jb)if(l - this.jb > 10 * this.LJ)this.reset();else {for(;this.jb <= l;){this.push();this.Ad.length > this.nj && this.shift();}f=this.Ad.length - Math.ceil((this.jb - this.yn) / this.zd);h=this.Ad.length - Math.ceil((this.jb - l) / this.zd);if(0 <= h)if((0 > f && (this.yn=this.jb - this.zd * this.Ad.length,f=0),f === h))this.Iu[f]+=l - this.yn;else if(h > f)for((this.Iu[f]+=(this.jb - this.yn) % this.zd,this.Iu[h]+=this.zd - (this.jb - l) % this.zd,l=f + 1);l < h;++l){this.Iu[l]=this.zd;}this.yn=null;}};c.prototype.CSa=function(l,f){f=this.cma(f);return 0 === f?null:8 * l / f;};c.prototype.cma=function(l){var f;f=this.Iu[l];null !== this.yn && (l=this.jb - (this.Ad.length - l - 1) * this.zd,l > this.yn && (f=l - this.yn <= this.zd?f + (l - this.yn):this.zd));return f;};c.prototype.get=function(l,f){var h,d;h=this.Ad.map(this.CSa,this);if("last" === l)for(l=0;l < h.length;++l){null === h[l] && (h[l]=0 < l?h[l - 1]:0);}else if("average" === l){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.zd));for(l=0;l < h.length;++l){null === h[l]?h[l]=Math.floor(d || 0):d=void 0 !== d?f * h[l] + (1 - f) * d:h[l];}}return h;};c.prototype.reset=function(){this.kbc || (this.Ad=[],this.Iu=[],this.yn=this.jb=null);};c.prototype.setInterval=function(l){this.nj=Math.floor((l + this.zd - 1) / this.zd);};r.exports=c;},34039:function(r,b,a){var l;function c(f,h,d){var g,k,n;if(f === h || !d.dm && f == h)return !0;if(typeof f !== typeof h)return !1;if(f && "object" === typeof f){for(var m in f){if(!c(f[m],h[m],d))return !1;}if(!d.Bvb){k=Object.keys(f);n=Object.keys(h).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(f[m],h[m],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.u3=void 0;l=a(5163);b.u3=function(f,h,d){void 0 === d && (d={});d=l.__assign({dm:!1,Bvb:!1},d);return c(f,h,d);};},78522:function(r,b){function a(c){var l,f;l=Math.abs(c);f=1 / (1 + l / 2);l=f * Math.exp(-l * l - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.IDb=b.K0a=b.PK=void 0;b.PK=a;b.K0a=function(c){var l,f,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(l / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var h=0;2 > h;h++){d=a(f) - l;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.IDb=function(c){return 1 - a(c);};},35303:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TCa=void 0;c=a(5163);r=(function(){function f(h,d){void 0 === d && (d={});this.Nn=h;this.options=d;this.nF=[];this.ZF=new l(h,this.Zqb.bind(this));}f.prototype.Zqb=function(h){for(var d,g,m,k,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Eq:h,rq:q};(null !== (m=null === (g=(d=this.options).Z0b) || void 0 === g?void 0:g.call(d,q,this.nF)) && void 0 !== m?m:1) && this.nF.push(q);return null !== (p=null === (n=(k=this.options).qgc) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};f.prototype.j9=function(h){this.nF=this.nF.filter(function(d,g){return !h(d,g);});};f.prototype.hua=function(){var h;h=this;this.ZF.qxa();this.nF.forEach(function(d){var g;(g=h.Nn).emit.apply(g,c.__spreadArray([d.Eq],c.__read(d.rq),!1));});this.ZF.v1a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.nF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.nF=[];};f.prototype.Qa=function(){this.clear();this.ZF.qxa();this.options=void 0;};return f;})();b.TCa=r;l=(function(){function f(h,d){this.Nn=h;this.zs=d;this.y6a=this.Nn.emit;this.kzb();this.v1a();}f.prototype.kzb=function(){var h;h=this;this.ZF=function(d){for(var g,m,k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}return (null === (m=h.zs) || void 0 === m?0:m.call.apply(m,c.__spreadArray([h,d],c.__read(k),!1)))?(g=h.y6a).call.apply(g,c.__spreadArray([h.Nn,d],c.__read(k),!1)):!1;};};f.prototype.v1a=function(){this.ZF && (this.Nn.emit=this.ZF);};f.prototype.qxa=function(){this.Nn.emit=this.y6a;};f.prototype.Qa=function(){this.qxa();this.zs=this.ZF=void 0;};return f;})();},44797:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(78522);r=(function(){function l(f,h){this.Da=f;this.Zd=h;}l.prototype.QSa=function(f){return .5 * (0,c.PK)(-(f - this.Da) / Math.sqrt(2 * this.Zd));};l.prototype.Kv=function(f){return this.Da - Math.sqrt(2 * this.Zd) * (0,c.K0a)(2 * f);};return l;})();b["default"]=r;},44602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.t5=void 0;b.t5=function(a){return ("( ").concat(a.I,", ").concat(a.offset.mb()," )");};},93514:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dx=void 0;c=a(5163);l=a(42866);b.Dx=function(f,h,d,g){var m,k,n,u,t,w;void 0 === g && (g={});n=l.N.max(d,l.N.Ia);try{for(var p=c.__values(Object.keys(f.M)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.M[u];if(t.J === h){w=l.N.Ma(t.sa);if(n.fi(w) && (!isFinite(null !== (k=t.ta) && void 0 !== k?k:NaN) || n.lessThan(l.N.Ma(t.ta))))return {I:u,offset:d.wa(w)};}}}catch(y){var v;v={error:y};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(v)throw v.error;}}if(g.o$a && (t=Object.keys(f.M).map(function(y){return {key:y,u:f.M[y]};}).filter(function(y){return y.u.J === h;}).map(function(y){var x,z;x=l.N.abs(d.wa(l.N.Ma(y.u.sa)));if(y.u.ta && isFinite(y.u.ta)){z=l.N.abs(d.wa(l.N.Ma(y.u.ta)));x=l.N.min(x,z);}return c.__assign(c.__assign({},y),{Ln:x});}),t.sort(function(y,x){return y.Ln.G - x.Ln.G;}),w=c.__read(t,1)[0]))return (t=w.u,g=w.key,w=l.N.Ma(t.sa),{I:g,offset:d.wa(w)});};},97810:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nlb=b.mDa=void 0;r=a(5163);r.__exportStar(a(53265),b);r.__exportStar(a(99982),b);r.__exportStar(a(73151),b);r.__exportStar(a(44119),b);r.__exportStar(a(13870),b);r.__exportStar(a(34039),b);r.__exportStar(a(83886),b);r.__exportStar(a(57578),b);r.__exportStar(a(64921),b);c=r.__importDefault(a(44797));b.mDa=c.default;a=r.__importDefault(a(26208));b.nlb=a.default;},34238:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.k_=void 0;c=a(78522);r=(function(){function l(f,h){this.Yqa=f;this.Zd=h;0 < h?(this.J2a=h=Math.pow(f,3) / h,f=2 * h / f,500 >= f && (this.jla=Math.exp(f))):this.jla=0;}l.prototype.QSa=function(f){var h,d,g;h=this.Yqa;d=this.jla;if(d && 0 < f){g=Math.sqrt(this.J2a / (2 * f));h=f / h;f=(0,c.PK)(g * (h - 1));g=(0,c.PK)(g * (h + 1));return Math.max((2 - f + d * g) / 2,0);}return f < h?0:f > h?1:.5;};l.prototype.Kv=function(f,h,d){for(var g=0,m=this.Yqa + 5 * Math.sqrt(this.Zd),k=1,n=0;Math.abs(k) > h && d--;){n=(g + m) / 2;k=this.QSa(n);k=f - k;0 > k?m=n:g=n;}return n;};l.prototype.hvb=function(f){var h,d,g,m;h=this.Yqa;d=this.jla;if(d && 0 < f){g=Math.sqrt(this.J2a / (2 * f));m=f / h;f=2 - (0,c.PK)(g * (m - 1));d*=(0,c.PK)(g * (m + 1));return [Math.max((f + d) / 2,0),Math.max(h * (f - d) / 2,0)];}return f < h?[0,0]:f > h?[1,h]:[.5,h / 2];};return l;})();b.k_=r;},89847:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.O2a=void 0;b.O2a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};},64921:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eqa=void 0;b.eqa=function(a){var c,l,f,h,d,g;g=null === (c=a.u) || void 0 === c?void 0:c.id;return {ab:null === (l=a.Ab) || void 0 === l?void 0:l.G,duration:(null === (f=a.Mb) || void 0 === f?NaN:f.G) - (null === (h=a.Ab) || void 0 === h?NaN:h.G),offset:a.offset,xa:a.xa,bitrate:a.bitrate,profile:a.profile,Le:!!a.Le,I:g,Ub:a.Ub,Pc:a.Pc,location:a.location,xj:a.xj,Bs:null === (d=a.Na) || void 0 === d?void 0:d.G,ut:{wb:{u:{id:g || "unknown"}}}};};},93079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wSa=void 0;c=a(74251);l=a(60829);b.wSa=function(){return function(f){var g,m,k,n;function h(p){n[p]=function(q){return m({rules:[{Hj:p,config:q}]},!0);};}function d(p){g[p]=function(q){return m({rules:[{Hj:p,config:q}]});};}g={};m=(0,c.map)(f.Z3a);for(k in f.tN){d(k);}g.W7=m({rules:[],hha:!0});g.dm=m({rules:[],dm:!0});n={};for(k in f.tN){h(k);}n.W7=m({rules:[],hha:!0},!0);n.dm=m({rules:[],dm:!0},!0);g.return=n;return {$ja:g,Jua:f,xta:function(p,q,u,t){return (0,l.JUa)(p,q,u,f.tN,f.Z3a,t);}};};};},74251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.a$a=b.NZa=b.map=void 0;c=a(5163);a(53110);b.map=function(l){return function(f,h){void 0 === h && (h=!1);return function(d,g,m){var k,n,p,q,u,t,w,v;u=Reflect.a_a(l,d,g) || ({});w="number" === typeof m;v=h;(t=w?null !== (n=(null !== (k=u.nb) && void 0 !== k?k:{})[m]) && void 0 !== n?n:{}:v?u.return:u.Iqa) || (t={rules:[]});k=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});w?(u.nb || (u.nb={}),u.nb[m]=k):v?u.return=k:u.Iqa=k;Reflect.y3(l,u,d,g);};};};b.NZa=function(l){return function(f,h){var d,g,m,k;f=null !== (k=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (m=null === f || void 0 === f?void 0:f.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== k?k:f;for(var n;f && void 0 === n;){n=Reflect.a_a(l,f,h);f=f.__proto__;}return n;};};b.a$a=function(){return function(){return function(l){return l;};};};},60829:function(r,b,a){var d,g,m,k,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var w;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(v){Object.getOwnPropertyDescriptor(q,v) || Object.getOwnPropertyDescriptor(w,v) || q[v] || Object.defineProperty(q,v,{get:function(){},configurable:!0,enumerable:!0});});}function h(p,q,u,t){var y;for(var w=[],v=4;v < arguments.length;v++){w[v - 4]=arguments[v];}y=t();if((null === y || void 0 === y?0:y.Iqa) || (null === y || void 0 === y?0:y.nb))w=w.map(function(x,z){var A;z=(0,n.J4a)(y.Iqa,null === (A=y.nb) || void 0 === A?void 0:A[z]);return (0,k.x9)(q,x,u,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,k.x9)(q,w,u,y.return,m.gu.sxa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.fGb=b.$Ab=b.JUa=void 0;d=a(5163);g=a(74251);m=a(91795);k=a(28445);n=a(23646);b.JUa=function(p,q,u,t,w,v){var y,x;void 0 === v && (v=[]);y={};x=(0,g.NZa)(w);f(q,p);v.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !l(y,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=l(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,D=x.bind(null,D,A),z=h.bind(z,F.bind(z),u,t,D),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(D=x.bind(null,z,A),z=h.bind(z,F.bind(z),u,t,D),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.$Ab=f;b.fGb=h;},91795:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gu=void 0;r=b.gu || (b.gu={});r[r.sxa=0]="up";r[r.wS=1]="down";},28445:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.x9=void 0;c=a(5163);l=a(62558);f=a(91795);b.x9=function(h,d,g,m,k,n){var p,q;void 0 === k && (k=f.gu.wS);p=h();if(m && p){q=m.hha;h=m.dm;m=m.rules.map(function(u){return ["function" === typeof u.Hj?u.Hj(g):g[u.Hj],u.config];});q || (0,l.assert)(d,"Param is null");n && m.push([{map:n,rx:function(){return !0;}},void 0]);n=m.filter(function(u){u=c.__read(u,2);return u[0].rx(d,p,u[1]);});h && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,k,p,t[1]);},d);}return d;};},23646:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.J4a=void 0;c=a(5163);l=a(42866);b.J4a=function(f,h){var d;if(f || h){d=(null === f || void 0 === f?0:f.rules) && (null === h || void 0 === h?0:h.rules)?(0,l.UJ)(f.rules,h.rules):(null === f || void 0 === f?void 0:f.rules) || (null === h || void 0 === h?void 0:h.rules);return c.__assign(c.__assign(c.__assign({},f),h),{rules:d});}};},99982:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rHa=void 0;c=a(42866);l=a(62558);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var h;h=this;return Object.keys(this.data).reduce(function(d,g){return d + h.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(h){var d;return null !== (d=this.data[h]) && void 0 !== d?d:[];};f.prototype.has=function(h,d){return (h=this.data[h])?void 0 === d?!0:-1 !== h.indexOf(d):!1;};f.prototype.count=function(h){return (h=this.data[h])?h.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var h;h=this;return (0,c.flatten)(this.keys().map(function(d){return h.data[d];}));};f.prototype.set=function(h,d){(this.data[h] || (this.data[h]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(h,d){var g,m;g=this.data[h];if(void 0 === g)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[h],!0);m=g.indexOf(d);if(-1 === m)return !1;1 === g.length?delete this.data[h]:g.splice(m,1);return !0;};f.prototype.forEach=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;this.keys().forEach(function(m){return g.data[m].forEach(function(k){return h(k,m,g);});});};f.prototype.reduce=function(h,d,g){var m,k;m=this;h=void 0 !== g?h.bind(g):h;k=d;this.forEach(function(n,p){k=h(k,n,p,m);});return k;};f.prototype.map=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].map(function(k){return h(k,m,g);});}));};f.prototype.filter=function(h,d){var g;g=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].filter(function(k){return h(k,m,g);});}));};return f;})();b.rHa=r;},86786:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q1a=void 0;c=a(5163);b.q1a=function(l,f){var m,k,n,p,q,u,t,y,x,z,A,B,D,C;for(var h,d,g=0;g < l.length;g++){m=c.__read(f,3);k=m[0];n=m[1];p=m[2];q=c.__read(l[g],3);u=q[0];m=q[1];t=q[2];if(!(k >= m)){k=[k,Math.min(m,n),u,m].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=k.length - 1;q=Array(u);p+=t;try{for(var w=(h=void 0,c.__values([f,l[g]])),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=k[f + 1];D=Math.min(B,z) - Math.max(k[f],x);if(0 < D){C=D * A / t;p-=C;q[f]=q[f]?q[f] + C:C;}if(z <= B)break;}}}catch(F){h={error:F};}finally{try{v && !v.done && (d=w.return) && d.call(w);}finally{if(h)throw h.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([k[f],k[f + 1],A]);}l.splice.apply(l,c.__spreadArray([g,1],c.__read(t),!1));if(m < n)f=[m,n,p];else return;}}f && 0 < f[2] && l.splice(l.length,0,f);};},26208:function(r){function b(a){this.pob=a;this.fE=[];this.eA=!1;this.oga=void 0;this.vm={};}b.prototype.OQa=function(a){this.fE.length === this.pob && this.fE.shift();Array.isArray(a)?this.fE=this.fE.concat(a):this.fE.push(a);this.eA=!0;};b.prototype.CT=function(){return this.fE.length;};b.prototype.dK=function(a){var c,l,f;if(this.eA || void 0 === this.oga)(this.oga=this.fE.slice(0).sort(function(h,d){return h - d;}),this.vm={},this.eA=!1);if(void 0 === this.vm[a]){c=this.oga;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.vm[a]=l === c.length - 1?c[l]:c[l] + f * (c[l + 1] - c[l]);}return this.vm[a];};r.exports=b;},57206:function(r,b){var l,f,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.KNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{KNa:{value:{},configurable:!1,enumerable:!1}})).KNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Vda=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % f;r=(function(){function d(){this.id=h=(h + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,m){c(g)[this.id]=m;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Vda=r;},26973:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Hlb=void 0;c=a(5163).__importDefault(a(35471));l=a(22209);f=["","",""];r=(function(){function h(d){this.request=d;this.complete=this.append=this.s4=this.Hpa=this.open=0;}Object.defineProperties(h.prototype,{console:{get:function(){return l.Zp.nv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nua:{get:function(){var d;return null === (d=this.request.ve) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});h.prototype.tTb=function(){this.open=c.default.time.Ga();};h.prototype.nTb=function(){this.Hpa=c.default.time.Ga();this.hx();};h.prototype.jTb=function(){this.s4=c.default.time.Ga();this.hx();};h.prototype.vM=function(){this.complete=c.default.time.Ga();this.hx();};h.prototype.hx=function(){var d;d=("RequestLedger ID: ").concat(this.request.xj());d+=(" load-open: ").concat(this.Hpa - this.open);0 < this.s4 && (" firstbyte-load: ").concat(this.s4 - this.Hpa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.s4);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.nua && this.complete - this.open > this.nua?((" duration: ").concat(this.nua),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return h;})();b.Hlb=r;},12289:function(r,b,a){var l,f,h,d,g;function c(m,k){return m.time - k.time || m.priority - k.priority || m.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dpb=b.Q2=b.X9=void 0;r=a(5163);l=a(42866);f=a(49730);h=r.__importDefault(a(35471));d=a(62558);g=(function(){function m(){var k;k=this;this.so=new l.q_([],c);this.Uwa=0;this.console=new h.default.Console("SETTIMEOUT");this.UDb=function(){var n,p;n=h.default.time.Ga();k.qX=void 0;f.K && k.console.trace(("[").concat(n,"] Wake"));try{for(;!k.so.empty && k.so.tt().time <= n;){p=k.so.pop();f.K && k.console.trace(("[").concat(h.default.time.Ga(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.zs();}}finally{k.Xua();}};}Object.defineProperties(m,{instance:{get:function(){return m.js || (m.js=new m());},enumerable:!1,configurable:!0}});m.jga=function(){(0,d.assert)(void 0 === m.js || m.js.so.empty,"Singleton SetTimeoutWithPriority reset with pending timers");m.js=void 0;};m.prototype.X9=function(k,n,p){var q,u,t;(0,d.assert)(isFinite(n) && 0 <= n);q=this.so;u=h.default.time.Ga();t=u + n;q.push({id:++this.Uwa,time:t,priority:p,zs:k});f.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.Uwa," scheduled for ").concat(t," in ").concat(n,"ms"));this.Xua();return this.Uwa;};m.prototype.Q2=function(k){var n,p,q;n=this.so;p=n.find(function(u){return u.id === k;});if(p){q=n.tt().time;n.remove(p);f.K && this.console.trace(("[").concat(h.default.time.Ga(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.tt().time > q) && this.Xua();}};m.prototype.vTa=function(){this.qX && (clearTimeout(this.qX.id),f.K && this.console.trace(("[").concat(h.default.time.Ga(),"] Clearing wake timer")),this.qX=void 0);};m.prototype.Xua=function(){var k,n;n=this.so;n.empty?this.vTa():(n=n.tt().time,n !== (null === (k=this.qX) || void 0 === k?void 0:k.time) && (this.vTa(),k=Math.max(0,n - h.default.time.Ga()),f.K && this.console.trace(("[").concat(h.default.time.Ga(),"] Setting wake timer for ").concat(n," in ").concat(k,"ms")),this.qX={id:setTimeout(this.UDb,k),time:n}));};return m;})();b.X9=function(m,k,n){return g.instance.X9(m,k,n);};b.Q2=function(m){g.instance.Q2(m);};b.Dpb=function(){g.jga();};},44119:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OLa=b.NLa=void 0;c=a(42866);r=(function(){function l(f){this.Pa=f;this.listeners=[];this.AV=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});l.prototype.set=function(f){var h;this.Pa=f;h=this.AV;this.AV=[];this.listeners.forEach(function(d){return d(f);});h.forEach(function(d){return d(f);});};l.prototype.O9a=function(){this.Pa=void 0;};l.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Pa && f(this.Pa);};l.prototype.once=function(f){void 0 !== this.Pa?f(this.Pa):this.AV.push(f);};l.prototype.ar=function(f){this.listeners=this.listeners.filter(function(h){return h !== f;});this.AV=this.AV.filter(function(h){return h !== f;});};return l;})();b.NLa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(f,h){this.listeners.push({signal:f,listener:h});f.on(h);};l.prototype.once=function(f,h){var d,g;d=this;if(void 0 === f.value){g=function(m){d.remove(f,h);h(m);};this.listeners.push({signal:f,listener:h,Leb:g});f.once(g);}else f.once(h);};l.prototype.ar=function(f,h){var d,g;g=(0,c.xc)(this.listeners,function(m){return m.signal === f && m.listener === h;});void 0 !== g && f.ar(null !== (d=g.Leb) && void 0 !== d?d:g.listener);this.remove(f,h);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var h,d;h=f.listener;d=f.Leb;return f.signal.ar(null !== d && void 0 !== d?d:h);});this.listeners=[];};l.prototype.remove=function(f,h){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== h;});};return l;})();b.OLa=r;},83886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ru=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Da=NaN;}Object.defineProperties(a.prototype,{Nv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Da=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Da+=(c - this.Da) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Da,count:this.count};};return a;})();b.ru=r;},7881:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(14644),b);r.__exportStar(a(22972),b);r.__exportStar(a(40945),b);r.__exportStar(a(96),b);r.__exportStar(a(19457),b);},14644:function(r,b,a){var c,l,f,h,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(5163);l=a(42866);f=a(62558);a(31549);h=c.__importDefault(a(35471));d=a(40945);g=a(19457);r=(function(m){function k(n,p,q){p=m.call(this,p,q) || this;p.YZb=n;p.Gfa=!1;p.h1=!1;p.reset();return p;}c.__extends(k,m);k.prototype.reset=function(){var n,p;if(this.Ua === d.Ak.y9 || this.Ua === d.Ak.pending)null === (p=null === (n=this.qJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);m.prototype.reset.call(this);this.qJ=this.YZb();this.h1=!1;this.MQ=g.Rg.LC(l.N.Ia);};k.prototype.Sf=function(){this.reset();(0,f.assert)(this.Cn);this.Cn.Gua(this);};k.prototype.N7=function(){return this.MQ;};k.prototype.Cf=function(){var n,p,q,u,t;try{this.Gfa=!0;t=null !== (p=null === (n=this.qJ) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.Gfa=!1;this.hob=h.default.time.Ga();this.Dvb();}t.done?(this.MQ=g.Rg.Xxa,null === (u=null === (q=this.qJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.qJ=void 0):this.MQ=t.value;};k.prototype.Dvb=function(){this.h1 && this.MVa();};k.prototype.MVa=function(){var n,p;this.Gfa?this.h1=!0:(this.h1=!1,null === (p=null === (n=this.qJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.qJ=void 0);};k.prototype.Qa=function(){this.MVa();m.prototype.Qa.call(this);};k.prototype.jv=function(){return {state:d.Ak[this.state],nextWakeup:{ms:this.MQ.timestamp.G,type:g.b0[this.MQ.type]},lastRunMono:this.hob};};return k;})(d.vea);b.iFa=r;},22972:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;c=a(5163);l=a(40945);f=a(19457);r=(function(h){function d(g,m,k,n){void 0 === n && (n={});k=h.call(this,k) || this;k.ava=g;k.zs=m;k.options=n;return k;}c.__extends(d,h);d.prototype.N7=function(){return this.Ua === l.Ak.pending?this.ava:f.Rg.Xxa;};d.prototype.Cf=function(){this.zs();};d.prototype.Sf=function(){this.options.rgc?(h.prototype.reset.call(this),this.Cn.Gua(this)):this.Qa();};return d;})(l.vea);b.QLa=r;},40945:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vea=b.Ak=void 0;c=a(19457);(function(f){f[f.pending=0]="pending";f[f.y9=1]="running";f[f.complete=2]="complete";f[f.$E=3]="destroyed";})(l=b.Ak || (b.Ak={}));r=(function(){function f(h,d){void 0 === d && (d=0);this.name=h;this.priority=d;this.Ua=l.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{C1a:{get:function(){return this.Ua === l.pending || this.Ua === l.y9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kd:{get:function(){return this.Cn;},enumerable:!1,configurable:!0}});f.prototype.Hsb=function(h){var d;null === (d=this.Cn) || void 0 === d?void 0:d.k9(this);this.Cn=h;};f.prototype.uN=function(){this.Ua=l.y9;this.Cf();this.N7() === c.Rg.Xxa && (this.Ua=l.complete);};f.prototype.Qa=function(){var h;this.Ua=l.$E;null === (h=this.Cn) || void 0 === h?void 0:h.k9(this);};f.prototype.WSa=function(h){this.Cn.k9(this);this.Cn=h;this.Cn.Gua(this);};f.prototype.jv=function(){};f.prototype.reset=function(){this.Ua=l.pending;};return f;})();b.vea=r;},96:function(r,b,a){var l,f,h,d,g,m,k,n,p,q,u,t,w,v,y;function c(x){var z,A,B,D,C,F;z=x.qa;A=x.zs;B=x.Ceb;D=x.fm;x=x.priority;C=void 0 === x?0:x;(0,g.assert)(z.hi,("Current time: ").concat(n.default.time.Ga()," cr: ").concat(z.currentTime));(0,g.assert)(z.currentTime.isFinite());x=B.wa(z.currentTime);x=Math.max(Math.ceil(x.Cy / z.speed),0);F=null !== D && void 0 !== D?D:{id:void 0,GVa:x,V5a:0,TTb:x};F.id=(0,p.X9)(function(){B.wa(z.currentTime).FB(h.N.Ia)?A():(F.V5a++,c({qa:z,zs:A,Ceb:B,fm:F,priority:C}));},x,C);F.GVa=x;return F;}Object.defineProperties(b,{__esModule:{value:!0}});b.jaa=b.ZP=void 0;l=a(5163);f=a(57055);h=a(42866);d=a(42866);g=a(62558);m=a(49730);k=a(36344);n=l.__importDefault(a(35471));p=a(12289);q=a(40945);u=a(14644);t=a(22972);w=a(19457);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{QH:{get:function(){return this.qga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{B5a:{get:function(){return this.Gob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xzb:{get:function(){return this.inb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yua:{get:function(){return this.Gpb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.inb=A === y.P7?0:n.default.time.Ga();this.Gob=z;this.Gpb=A;m.K && (0,g.assert)(!this.qga,"Invalid replacement of timeout value");this.qga=B;};x.prototype.complete=function(){this.qga=void 0;this.set(h.N.vp,y.P7);};return x;})();(function(x){x[x.P7=0]="none";x[x.L4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function z(A,B,D,C){var F;void 0 === D && (D="unknown");void 0 === C && (C=0);F=x.call(this) || this;F.qa=A;F.console=B;F.name=D;F.priority=C;F.Eob=0;F.X0=!1;F.gfa=!1;F.Xj=new v();F.e4=new f.Qe();F.Fi=new d.q_([],(0,k.UTa)(function(G,E){return G.hH.Ek(E.hH);},function(G,E){return E.qk.priority - G.qk.priority;},function(G,E){return G.qk.id > E.qk.id?1:G.qk.id < E.qk.id?-1:0;}));F.GRa(A);return F;}l.__extends(z,x);Object.defineProperties(z.prototype,{S0b:{get:function(){return this.qa.hi;},enumerable:!1,configurable:!0}});z.prototype.TUa=function(A,B){A=new (A.bind.apply(A,l.__spreadArray([void 0],l.__read(B),!1)))();A.id=this.Eob++;A.Hsb(this);this.Zga(A);return A;};z.prototype.Fx=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.TUa(u.iFa,A);};z.prototype.jv=function(){var A;A={hasSchedule:!!this.Xj.QH,schedule:this.Xj.QH && ({sleepTime:this.Xj.QH.GVa,originalSleepTime:this.Xj.QH.TTb,clockSkewAdjustments:this.Xj.QH.V5a}),nextWakeup:this.Xj.B5a.G,timeScheduled:this.Xj.Xzb,scheduleType:y[this.Xj.Yua],numTasks:this.Fi.length,clock:{ir:this.qa.hi,ct:this.qa.currentTime.G,sp:this.qa.speed}};m.K && this.trace("audit",A);return A;};z.prototype.EA=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.TUa(t.QLa,A);};z.prototype.AUa=function(A,B,D){return this.Fx(function(){return l.__generator(this,function(C){switch(C.label){case 0:return [4,w.Rg.LC(B)];case 1:return (C.Ra(),A(),[3,0]);case 2:return [2];}});},D);};z.prototype.GRa=function(A){var B;B=this;this.vx();this.e4.clear();this.qa=A;this.e4.on(A,"stopStart",function(){return B.eN();});this.e4.on(A,"clockAdjusted",function(){return B.tV();});this.e4.on(A,"speedChanged",function(){return B.HTb();});this.tV();this.emit("clockChanged");};z.prototype.HTb=function(){this.vx();this.eN();};z.prototype.Qa=function(){this.reset();this.X0 && (this.gfa=!0);};z.prototype.reset=function(){var A;this.vx();A=this.Fi.Ar();this.Fi.clear();A.forEach(function(B){return B.qk.Qa();});};z.prototype.Sf=function(){var A;this.vx();A=this.Fi.Ar();this.Fi.clear();A.forEach(function(B){return B.qk.Sf();});};z.prototype.tV=function(){var A,B;A=this;B=this.Fi.map(function(D){return D.qk;});this.vx();this.Fi.clear();B.forEach(function(D){return A.Zga(D,!1);});this.eN();};z.prototype.Zga=function(A,B){var D,C;void 0 === B && (B=!0);D=A.N7();C=this.wcb(D);D={qk:A,hH:C,q9:D};m.K && this.trace(("Adding task ").concat(A.name," for ").concat(C.G));(0,g.assert)(!this.Fi.contains(D));this.Fi.push(D);B && this.eN();};z.prototype.eN=function(){var A,B,D,C,F;A=this;m.K && this.trace("recheck schedule task count:" + this.Fi.length);if(this.S0b){if(this.X0)m.K && this.trace("already executing, bailing");else {D=this.Xj.B5a;C=this.Fi.tt();F=null !== (B=null === C || void 0 === C?void 0:C.hH) && void 0 !== B?B:h.N.vp;F.isFinite() && F.nra(D)?(this.vx(!1),this.qa.currentTime.fi(F)?(this.Xj.set(F,y.L4a),Promise.resolve().then(function(){A.Xj.Yua === y.L4a && (A.Xj.complete(),A.c$a());})):(m.K && this.trace("scheduling next wake up for",{phc:F.G,qk:null === C || void 0 === C?void 0:C.qk.name}),B=c({qa:this.qa,zs:function(){A.Xj.complete();A.c$a();},Ceb:F,priority:this.priority}),this.Xj.set(F,y.setTimeout,B))):F.isFinite() || this.Xj.Yua !== y.setTimeout || this.vx(!1);}}else (m.K && this.trace("should check schedule is false, stopping"),this.vx());};z.prototype.c$a=function(){var A,B,D;B=0;D=null === (A=this.Fi.tt()) || void 0 === A?void 0:A.q9;try{for(this.X0=!0;1E4 > B++ && this.o4b();){;}}finally{this.X0=!1;this.vx();1E4 < B && !this.aLb(D)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(m.K && this.trace("Next tasks",this.Fi.map(function(C){return {name:C.qk.name,qhc:C.hH.G};})),this.eN());}};z.prototype.aLb=function(A){var B,D;D=null === (B=this.Fi.tt()) || void 0 === B?void 0:B.q9;return A && D && A.timestamp.equal(D.timestamp) && A.type === D.type?!1:!0;};z.prototype.o4b=function(){var A,B,D;D=null !== (B=null === (A=this.Fi.tt()) || void 0 === A?void 0:A.hH) && void 0 !== B?B:h.N.vp;m.K && this.trace(("tryExecuteNextTask @").concat(this.qa.currentTime.G,", next wakeup at ").concat(D));if(this.qa.currentTime.fi(D) && (A=this.Fi.pop())){B=A.qk;m.K && this.trace("Running a task @" + this.qa.currentTime.G + ", scheduled for time:" + D.G + ("Name:").concat(B.name));try{B.uN();A.q9=B.N7();A.hH=this.wcb(A.q9);}catch(C){throw (this.error(("Unhandled error from a task ").concat(B.name," occurred.") + " Removing the task from future executions:" + C,{stack:C.stack}),B.Qa(),C);}finally{this.gfa?(B.Qa(),this.gfa=!1):A.hH !== h.N.vp && B.state === q.Ak.y9 && ((0,g.assert)(!this.Fi.contains(A)),this.Fi.push(A));}return !0;}};z.prototype.Gua=function(A){(0,g.assert)(A.Kd === this);this.k9(A,!1);this.Zga(A);};z.prototype.k9=function(A,B){var D;void 0 === B && (B=!0);D=this.Fi.find(function(C){return C.qk === A;});D && this.HYb(D,B);};z.prototype.HYb=function(A,B){this.Fi.remove(A);B && this.eN();};z.prototype.vx=function(A){void 0 === A && (A=!0);this.Xj.QH && (A && this.emit("stopping"),A=this.Xj.QH,(0,p.Q2)(A.id),this.Xj.complete());};z.prototype.wcb=function(A){return A.type === w.b0.absolute?A.timestamp:A.timestamp.add(this.qa.currentTime);};z.prototype.trace=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};return z;})(f.EventEmitter);b.ZP=r;b.jaa=function(x,z,A){var B;B=void 0;return (A || x.qa.hi) && x.qa.currentTime.fi(z)?{promise:Promise.resolve()}:{promise:new Promise(function(D){B=x.EA(w.Rg.Ut(z),D);}),qk:B};};},19457:function(r,b,a){var c,l,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Rg=b.b0=void 0;c=a(42866);(function(d){d[d.absolute=0]="absolute";d[d.a9a=1]="relative";})(l=b.b0 || (b.b0={}));h=(function(){function d(g,m){this.type=g;this.timestamp=m;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ia:{get:function(){f || (f=new d(l.a9a,c.N.Ia));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Ut=function(g){return new h(l.absolute,g);};Object.defineProperties(d,{A6b:{get:function(){return h.Ia;},enumerable:!1,configurable:!0}});d.LC=function(g){return new h(l.a9a,g);};d.Xxa=new h(l.absolute,c.N.vp);return d;})();b.Rg=r;},73151:function(r,b,a){var l,f;function c(h,d,g){var m;void 0 === g && (g={});m=l.__assign(l.__assign({},f),g);return h.filter(function(k){var n;n=k.Mb;k=k.Ab;return !!k && k.FB(d) && (!m.OTa || n.fi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.vla=b.LEb=b.Cla=void 0;l=a(5163);f={OTa:!1};b.Cla=function(h,d,g){void 0 === g && (g={});return c(h,d,g).pop();};b.LEb=c;b.vla=function(h,d,g){return h.filter(function(m){var k;k=m.Mb;m=m.Ab;return !!m && !!k && (m.fi(d) && m.FB(g) || k.fi(d) && k.FB(g) || m.FB(d) && k.fi(g));});};},29960:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Z7a=b.m0=void 0;a(5163);a(42866);c=a(49730);l=a(57206);f=a(62558);r=(function(){function h(){this.P=new l.Vda();}Object.defineProperties(h.prototype,{empty:{get:function(){return !this.Wv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{root:{get:function(){var d;return null === (d=this.Wv) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{values:{get:function(){var d;d=[];this.rF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});h.prototype.has=function(d){return !!this.P.get(d);};h.prototype.parent=function(d){var g;d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};h.prototype.children=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};h.prototype.Kna=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};h.prototype.add=function(d,g){var m;c.K && (0,f.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");m={value:d};void 0 === this.Wv?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.Wv=m):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.P.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.LRa(m,g));this.P.set(d,m);return this;};h.prototype.remove=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};h.prototype.removeNode=function(d){var g;g=this;this.Ola(function(m){return g.P.delete(m);},d.value);void 0 === d.parent?this.Wv=void 0:this.detach(d);};h.prototype.move=function(d,g){d=this.P.get(d);g=this.P.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.KMb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.LRa(d,g));return this;};h.prototype.KYb=function(d){var g,m;g=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");m=[];this.detach(d);this.Ola(function(k){g.P.delete(k);m.unshift(k);return !0;});this.Wv=d;};h.prototype.clear=function(){this.Wv && this.remove(this.Wv.value);return this;};h.prototype.$Xa=function(d,g){var m,k;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (k=d.children) || void 0 === k?void 0:k.forEach(function(n){return g(n.value,m);});};h.prototype.z1b=function(d,g){var m,k;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (k=d.children) || void 0 === k || !k.some(function(n){return g(n.value,m);}));};h.prototype.rF=function(d){this.aYa(d,void 0);};h.prototype.aYa=function(d,g,m,k){var n;n=this;void 0 === k && (k=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.Wv.value,d(g,m,this,k) && this.$Xa(g,function(p){return n.aYa(d,p,g,k + 1);}));};h.prototype.Ola=function(d,g){var m;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.Wv.value,this.$Xa(g,function(k){return m.Ola(d,k);}),d(g,this));};h.prototype.LXa=function(d,g){var m,k;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.Wv.value;return this.z1b(g,function(n){return !!(k=m.LXa(d,n));})?k:d(g,this)?g:void 0;}};h.prototype.zBb=function(d){var g,m,k,n;g=this;m=this.values;k=m.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !g.has(p);});m=m.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {$ga:k,iN:n,u9a:m};};h.prototype.LRa=function(d,g){var m;d.parent=g;(null !== (m=g.children) && void 0 !== m?m:g.children=[]).push(d);};h.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};h.prototype.KMb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return h;})();b.m0=r;b.Z7a=function(h,d){var g;g="";h.rF(function(m,k,n,p){g+=("").concat(Array(p + 1).join("-")).concat(d(m),"\n");return !0;});return g;};},55011:function(r,b,a){var h,d,g;function c(m){var k,n,p,t;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(k=void 0,h.__values(Object.getOwnPropertyNames(m))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}m=Object.getPrototypeOf(m);}return p;}function l(m,k,n,p,q){var u;Object.getOwnPropertyNames(m).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(m,t);void 0 !== u && Object.defineProperty(k,t,u);});}function f(m,k,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));u=Object.getPrototypeOf(m);null !== u && u !== Object.prototype && f(u,k,n,p);l(m,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.tk=b.exb=void 0;h=a(5163);d=a(62558);b.exb=f;g=Object.getOwnPropertyNames(Function);b.tk=function(m,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);m.prototype?(f(m.prototype,k.prototype,n,p),l(m,k,n,p,function(q){return -1 === g.indexOf(q);})):l(m,k.prototype,n,p,function(q){return -1 === g.indexOf(q);});return k;};},53265:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function h(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,v=c(q),y=c(u),x=0;x < t;x++){w+=q[x] * u[x];}return (w - v * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function m(q,u){return "number" === typeof q?q:u;}function k(q){return 1 / (1 + Math.exp(-q));}function n(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.i$a=b.scale=b.dXa=b.b4=b.Iab=b.mTa=b.iK=b.tanh=b.l_b=b.Nh=b.dHb=b.fHb=b.GJb=b.N_a=b.CYa=b.SJb=b.lK=b.Zf=b.xq=void 0;p=a(5163).__importStar(a(17267));b.xq=function(q,u,t){try{q.emit(u,t);}catch(w){if(q.Pz)q.Pz("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.Zf=function(q,u){void 0 !== q && p.qUb(q).forEach(function(t){u(t[0],t[1]);});};b.lK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;};b.SJb=c;b.CYa=l;b.N_a=f;b.GJb=h;b.fHb=d;b.dHb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=h(q);u=h(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Nh=function(q,u,t){return u.QUa?u.QUa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.l_b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.iK=g;b.mTa=function(q,u,t,w){return {min:g(m(q.min,u),t,w),max:g(m(q.max,u),t,w),tx:g(q.tx || 6E4,0,6E5),TSa:g(q.TSa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),j$a:g(q.j$a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.Iab=k;b.b4=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (u - (q.tx + (q.TSa || 0) * (1 - t))) / (q.scale + (q.j$a || 0) * (1 - t))),q.gamma));};b.dXa=function(q,u){return q.min + (q.max - q.min) * Math.pow(k(6 * (u - q.tx) / q.scale),q.gamma);};b.scale=n;b.i$a=function(q,u,t){return {min:n(q.min,u.min,t),max:n(q.max,u.max,t),tx:n(q.tx,u.tx,t),scale:n(q.scale,u.scale,t),gamma:n(q.gamma,u.gamma,t)};};},73098:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zD=void 0;c=a(42866);r=(function(){function l(f,h){this.WD=f;this.ND=h;this.SZb();}l.from=function(f){return "number" === typeof f?new l(f,1):new l(f.qt,f.Gs);};l.VFb=function(f){return new l(f.S,f.Ba);};Object.defineProperties(l.prototype,{qt:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gs:{get:function(){return this.ND;},enumerable:!1,configurable:!0}});l.prototype.ca=function(){return new c.N(this.ND,this.WD);};l.prototype.equal=function(f){return this.WD === f.WD && this.ND === f.ND;};l.prototype.normalize=function(f){var h;h=1E3 * this.Gs;return Math.floor(Math.floor((Math.floor(f + 1) * this.qt - 1) / h) * h / this.qt);};l.prototype.SZb=function(){var f,h,d;f=Math.floor(1E3 * this.WD / this.ND);h=Math.floor(1001 * this.WD / this.ND);d=1E3 * Math.round(f / 1E3);this.WD=d;this.ND=Math.abs(h - d) > Math.abs(f - d)?1E3:1001;};return l;})();b.zD=r;},92141:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cJ=void 0;c=a(42866);b.cJ=(function(){return function(l,f){var h;void 0 === f && (f={w:1,Lq:1});this.Yk=l;this.R6a=f;h=l.w * f.w;l=l.Lq * f.Lq;f=(0,c.YA)(h,l);this.lx={w:h / f,Lq:l / f};};})();},57578:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hea=void 0;c=a(5163).__importDefault(a(35471));r=(function(){function l(f){this.zN=new Uint16Array(f.length);for(var h=0;h < f.length;++h){this.zN[h]=f.charCodeAt(h);}}l.prototype.encrypt=function(f){for(var h=this.zN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.zN[g % h] ^ f.charCodeAt(g));}return encodeURIComponent(d);};l.prototype.decrypt=function(f,h){var d,g;void 0 === h && (h=!1);d=this.zN.length;g="";if(h)for((h=new Uint8Array(c.default.p3(f)),f=0);f < h.length;f++){g+=String.fromCharCode(this.zN[f % d] ^ h[f]);}else for((h=decodeURIComponent(f),f=0);f < h.length;f++){g+=String.fromCharCode(this.zN[f % d] ^ h.charCodeAt(f));}return g;};return l;})();b.Hea=r;},53110:function(r,b,a){var c;(function(l){(function(f){var d,g;function h(m,k){return function(n,p){"function" !== typeof m[n] && Object.defineProperty(m,n,{configurable:!0,writable:!0,value:p});k && k(n,p);};}d="object" === typeof a.B4?a.B4:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=h(l);"undefined" === typeof d.Reflect?d.Reflect=l:g=h(d.Reflect,g);f(g);})(function(f){var G,E,J,M,L,H,N,I,K,O,R;function h(Y,oa,ka){var ha;ha=R.get(Y);if(u(ha)){if(!ka)return;ha=new K();R.set(Y,ha);}Y=ha.get(oa);if(u(Y)){if(!ka)return;Y=new K();ha.set(oa,Y);}return Y;}function d(Y,oa,ka){if(g(Y,oa,ka))return !0;oa=A(oa);return null === oa?!1:d(Y,oa,ka);}function g(Y,oa,ka){oa=h(oa,ka,!1);return u(oa)?!1:!!oa.has(Y);}function m(Y,oa,ka){if(g(Y,oa,ka))return k(Y,oa,ka);oa=A(oa);if(null !== oa)return m(Y,oa,ka);}function k(Y,oa,ka){oa=h(oa,ka,!1);if(!u(oa))return oa.get(Y);}function n(Y,oa){var ka,Ca,La;ka=p(Y,oa);Y=A(Y);if(null === Y)return ka;oa=n(Y,oa);if(0 >= oa.length)return ka;if(0 >= ka.length)return oa;Y=new O();for(var ha=[],za=0;za < ka.length;za++){Ca=ka[za];La=Y.has(Ca);La || (Y.add(Ca),ha.push(Ca));}for(ka=0;ka < oa.length;ka++){Ca=oa[ka];(La=Y.has(Ca)) || (Y.add(Ca),ha.push(Ca));}return ha;}function p(Y,oa){var ka,ha;ka=[];Y=h(Y,oa,!1);if(u(Y))return ka;Y=Y.keys();oa=z(Y,M);if(!x(oa))throw new TypeError();Y=oa.call(Y);if(!t(Y))throw new TypeError();for(oa=0;;){ha=Y.next();ha=ha.done?!1:ha;if(!ha)return (ka.length=oa,ka);ha=ha.value;try{ka[oa]=ha;}catch(Ca){var za;try{za=Y["return"];za && za.call(Y);}finally{throw Ca;}}oa++;}}function q(Y){if(null === Y)return 1;switch(typeof Y){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Y?1:6;default:return 6;}}function u(Y){return void 0 === Y;}function t(Y){return "object" === typeof Y?null !== Y:"function" === typeof Y;}function w(Y,oa){var ka;switch(q(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y;}oa=3 === oa?"string":5 === oa?"number":"default";ka=z(Y,J);if(void 0 !== ka){Y=ka.call(Y,oa);if(t(Y))throw new TypeError();return Y;}a:{if("string" === ("default" === oa?"number":oa)){oa=Y.toString;if(x(oa) && (oa=oa.call(Y),!t(oa)))break a;oa=Y.valueOf;}else {oa=Y.valueOf;if(x(oa) && (oa=oa.call(Y),!t(oa)))break a;oa=Y.toString;}if(!x(oa) || (oa=oa.call(Y),t(oa)))throw new TypeError();}return oa;}function v(Y){Y=w(Y,3);return "symbol" === typeof Y?Y:"" + Y;}function y(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:"[object Array]" === Object.prototype.toString.call(Y);}function x(Y){return "function" === typeof Y;}function z(Y,oa){Y=Y[oa];if(void 0 !== Y && null !== Y){if(!x(Y))throw new TypeError();return Y;}}function A(Y){var oa,ka;oa=Object.getPrototypeOf(Y);if("function" !== typeof Y || Y === I || oa !== I)return oa;ka=Y.prototype;ka=ka && Object.getPrototypeOf(ka);if(null == ka || ka === Object.prototype)return oa;ka=ka.constructor;return "function" !== typeof ka || ka === Y?oa:ka;}function B(){var ha,za,Ca;function Y(La){return La;}function oa(La,Wa){return Wa;}function ka(La,Wa){return [La,Wa];}ha={};za=[];Ca=(function(){function La(Wa,db,U){this.ae=0;this.Te=Wa;this.zf=db;this.Jpb=U;}La.prototype["@@iterator"]=function(){return this;};La.prototype[M]=function(){return this;};La.prototype.next=function(){var Wa,db;Wa=this.ae;if(0 <= Wa && Wa < this.Te.length){db=this.Jpb(this.Te[Wa],this.zf[Wa]);Wa + 1 >= this.Te.length?(this.ae=-1,this.zf=this.Te=za):this.ae++;return {value:db,done:!1};}return {value:void 0,done:!0};};La.prototype.throw=function(Wa){0 <= this.ae && (this.ae=-1,this.zf=this.Te=za);throw Wa;};La.prototype.return=function(Wa){0 <= this.ae && (this.ae=-1,this.zf=this.Te=za);return {value:Wa,done:!0};};return La;})();return (function(){function La(){this.Te=[];this.zf=[];this.xu=ha;this.Zr=-2;}Object.defineProperty(La.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});La.prototype.has=function(Wa){return 0 <= this.Vw(Wa,!1);};La.prototype.get=function(Wa){Wa=this.Vw(Wa,!1);return 0 <= Wa?this.zf[Wa]:void 0;};La.prototype.set=function(Wa,db){Wa=this.Vw(Wa,!0);this.zf[Wa]=db;return this;};La.prototype.delete=function(Wa){var db,U;db=this.Vw(Wa,!1);if(0 <= db){U=this.Te.length;for(db+=1;db < U;db++){this.Te[db - 1]=this.Te[db];this.zf[db - 1]=this.zf[db];}this.Te.length--;this.zf.length--;Wa === this.xu && (this.xu=ha,this.Zr=-2);return !0;}return !1;};La.prototype.clear=function(){this.Te.length=0;this.zf.length=0;this.xu=ha;this.Zr=-2;};La.prototype.keys=function(){return new Ca(this.Te,this.zf,Y);};La.prototype.values=function(){return new Ca(this.Te,this.zf,oa);};La.prototype.entries=function(){return new Ca(this.Te,this.zf,ka);};La.prototype["@@iterator"]=function(){return this.entries();};La.prototype[M]=function(){return this.entries();};La.prototype.Vw=function(Wa,db){this.xu !== Wa && (this.Zr=this.Te.indexOf(this.xu=Wa));0 > this.Zr && db && (this.Zr=this.Te.length,this.Te.push(Wa),this.zf.push(void 0));return this.Zr;};return La;})();}function D(){return (function(){function Y(){this.Gf=new K();}Object.defineProperty(Y.prototype,"size",{get:function(){return this.Gf.size;},enumerable:!0,configurable:!0});Y.prototype.has=function(oa){return this.Gf.has(oa);};Y.prototype.add=function(oa){return (this.Gf.set(oa,oa),this);};Y.prototype.delete=function(oa){return this.Gf.delete(oa);};Y.prototype.clear=function(){this.Gf.clear();};Y.prototype.keys=function(){return this.Gf.keys();};Y.prototype.values=function(){return this.Gf.values();};Y.prototype.entries=function(){return this.Gf.entries();};Y.prototype["@@iterator"]=function(){return this.keys();};Y.prototype[M]=function(){return this.keys();};return Y;})();}function C(){var ha,za;function Y(){var Ca,db;do {Ca="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ka(new Uint8Array(16),16):ka(Array(16),16);Ca[6]=Ca[6] & 79 | 64;Ca[8]=Ca[8] & 191 | 128;for(var La="",Wa=0;16 > Wa;++Wa){db=Ca[Wa];if(4 === Wa || 6 === Wa || 8 === Wa)La+="-";16 > db && (La+="0");La+=db.toString(16).toLowerCase();}Ca="@@WeakMap@@" + La;}while(N.has(ha,Ca));ha[Ca]=!0;return Ca;}function oa(Ca,La){if(!G.call(Ca,za)){if(!La)return;Object.defineProperty(Ca,za,{value:N.create()});}return Ca[za];}function ka(Ca,La){for(var Wa=0;Wa < La;++Wa){Ca[Wa]=255 * Math.random() | 0;}return Ca;}ha=N.create();za=Y();return (function(){function Ca(){this.ks=Y();}Ca.prototype.has=function(La){La=oa(La,!1);return void 0 !== La?N.has(La,this.ks):!1;};Ca.prototype.get=function(La){La=oa(La,!1);return void 0 !== La?N.get(La,this.ks):void 0;};Ca.prototype.set=function(La,Wa){oa(La,!0)[this.ks]=Wa;return this;};Ca.prototype.delete=function(La){La=oa(La,!1);return void 0 !== La?delete La[this.ks]:!1;};Ca.prototype.clear=function(){this.ks=Y();};return Ca;})();}function F(Y){Y.Fmb=void 0;delete Y.Fmb;return Y;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;J=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;H=!E && !L;N={create:E?function(){return F(Object.create(null));}:L?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(Y,oa){return G.call(Y,oa);}:function(Y,oa){return (oa in Y);},get:H?function(Y,oa){return G.call(Y,oa)?Y[oa]:void 0;}:function(Y,oa){return Y[oa];}};I=Object.getPrototypeOf(Function);K=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;O=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?D():Set;R=new (E || "function" !== typeof WeakMap?C():WeakMap)();f("decorate",function(Y,oa,ka,ha){var Ca;if(u(ka)){if(!y(Y))throw new TypeError();if("function" !== typeof oa)throw new TypeError();for(ka=Y.length - 1;0 <= ka;--ka){if((ha=(0,Y[ka])(oa),!u(ha) && null !== ha)){if("function" !== typeof ha)throw new TypeError();oa=ha;}}return oa;}if(!y(Y))throw new TypeError();if(!t(oa))throw new TypeError();if(!t(ha) && !u(ha) && null !== ha)throw new TypeError();null === ha && (ha=void 0);ka=v(ka);for(var za=Y.length - 1;0 <= za;--za){Ca=(0,Y[za])(oa,ka,ha);if(!u(Ca) && null !== Ca){if(!t(Ca))throw new TypeError();ha=Ca;}}return ha;});f("metadata",function(Y,oa){return function(ka,ha){var za;if(!t(ka))throw new TypeError();if(za=!u(ha)){a:switch(q(ha)){case 3:za=!0;break a;case 4:za=!0;break a;default:za=!1;}za=!za;}if(za)throw new TypeError();h(ka,ha,!0).set(Y,oa);};});f("defineMetadata",function(Y,oa,ka,ha){if(!t(ka))throw new TypeError();u(ha) || (ha=v(ha));h(ka,ha,!0).set(Y,oa);});f("hasMetadata",function(Y,oa,ka){if(!t(oa))throw new TypeError();u(ka) || (ka=v(ka));return d(Y,oa,ka);});f("hasOwnMetadata",function(Y,oa,ka){if(!t(oa))throw new TypeError();u(ka) || (ka=v(ka));return g(Y,oa,ka);});f("getMetadata",function(Y,oa,ka){if(!t(oa))throw new TypeError();u(ka) || (ka=v(ka));return m(Y,oa,ka);});f("getOwnMetadata",function(Y,oa,ka){if(!t(oa))throw new TypeError();u(ka) || (ka=v(ka));return k(Y,oa,ka);});f("getMetadataKeys",function(Y,oa){if(!t(Y))throw new TypeError();u(oa) || (oa=v(oa));return n(Y,oa);});f("getOwnMetadataKeys",function(Y,oa){if(!t(Y))throw new TypeError();u(oa) || (oa=v(oa));return p(Y,oa);});f("deleteMetadata",function(Y,oa,ka){var ha;if(!t(oa))throw new TypeError();u(ka) || (ka=v(ka));ha=h(oa,ka,!1);if(u(ha) || !ha.delete(Y))return !1;if(0 < ha.size)return !0;Y=R.get(oa);Y.delete(ka);if(0 < Y.size)return !0;R.delete(oa);return !0;});});})(c || (c={}));},41385:function(r,b,a){var d;function c(){return Object.create(null);}function l(g){this.log=g.log;this.qa=g.qa;this.TB=c();this.Promise=g.Promise;this.Ax=g.Ax;this.mxa=g.mxa;this.nf=g.nf || !1;this.fv=c();this.vA=c();this.EE=c();this.Npb(g);g.Nn && (this.Nn=g.Nn);}function f(g){return "undefined" !== typeof g;}function h(g){var n;for(var m=0,k=arguments.length;m < k;){n=arguments[m++];if(f(n))return n;}}a(66242);d=a(64765);l.prototype.Npb=function(g){this.fv.manifest=h(g.$Db,d.fv.W);this.fv.ldl=h(g.ZDb,d.fv.wU);this.fv.metadata=h(g.gdc,d.fv.Sd);this.vA.manifest=h(g.xub,d.vA.W);this.vA.ldl=h(g.wub,d.vA.wU);this.vA.metadata=h(g.bcc,d.vA.Sd);this.EE.manifest=h(g.$bc,d.EE.W);this.EE.ldl=h(g.Zbc,d.EE.wU);this.EE.metadata=h(g.acc,d.EE.Sd);};l.prototype.MT=function(g,m){this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof m);return !!this.jOa(g,m,void 0).value;};l.prototype.jOa=function(g,m,k){var n,p;n={value:null,reason:"",log:""};p=this.TB[m];k=k?k:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(p=p[g][k]) && p.value?this.d6(m,p.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + g,n.reason="expired",this.clearData(g,m,k,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + g:"cache hit: " + m + " available for movieId:" + g,n.value=p.value):(n.log="cache miss: " + m + " data not available for movieId:" + g,n.reason="unavailable");return n;};l.prototype.getData=function(g,m,k){this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof m);g=this.jOa(g,m,k);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.mxa?JSON.parse(this.mxa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};l.prototype.setData=function(g,m,k,n,p){var q,u,t;this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof m);q=this.TB;u=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Ax?this.Ax(JSON.stringify(k),"gzip",!0):k;q=q[m];this.lob(g,m,u,q);t=this;n={creationTime:this.qa.getTime(),value:k,size:0,type:m,ika:n,YDb:setTimeout(function(){t.clearData(g,m,u,!1,"expired");},this.fv[m] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=n;q.size+=0;q.numEntries++;this.Nn && this.Nn.emit("addedCacheItem",n);return n;};l.prototype.lob=function(g,m,k,n){var p,q,u,t,w,v,y,x,z;p=this;q=n.numEntries;u=this.vA[m];t=n[g] && n[g][k];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][k];B && B.value && p.d6(m,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;v="cache_full";}this.nf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:m,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,m,k,void 0,v),this.log.debug("removed from cache: ",w,m));};l.prototype.Ria=function(g,m){var k,n;k=this;k.Fs("undefined" !== typeof g);n=g + "";m.forEach(function(p){var q;q=k.TB[p];q && Object.keys(q).forEach(function(u){u != n && k.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(g,m,k,n,p){var q;this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof m);q=this.TB[m];m=q?q[g]:void 0;k=k?k:"DEFAULTCAPS";if(m && m[k]){q.size-=m[k].size;q.numEntries--;if(q=m && m[k])(clearTimeout(q.YDb),m[k]=void 0,!n && q.ika && q.ika());this.Nn && (g={creationTime:q.creationTime,destroyFn:q.ika,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Nn.emit("deletedCacheItem",g));}};l.prototype.flush=function(g){var m;this.Fs("undefined" !== typeof g);m=this.TB;m[g]=c();m[g].numEntries=0;m[g].size=0;};l.prototype.oTa=function(){var g,m;this.Fs(!1);g=this;m=this.TB;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(k){var n;n=m[void 0][k].DEFAULTCAPS;g.qa.getTime() - n.creationTime > g.fv[void 0] && g.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.d6=function(g,m){return this.qa.getTime() - m > this.fv[g];};l.prototype.getStats=function(g,m,k){var n,p,q,u,t;n={};p=this;q=p.TB;u=f(g) && f(m);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,y;v=Object.keys(q[w]);y=q[w];v.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (n[w]=(n[w] | 0) + 1,p.d6(x.type,x.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < m && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(g){var m,k,n,p;m=[];k=this;n=k.TB;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(w){var v,y;v=t && t[w] && t[w][p];if(v && f(v.value)){y=k.d6(v.type,v.creationTime)?"expired":v.value instanceof k.Promise?"loading":"cached";m.push({movieId:w,state:y,type:q,size:v.size});}});});return m;};l.prototype.Fs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.nf))throw Error("Debug Assert Failed ");};r.exports=l;},64765:function(r){r.exports={fv:{W:12E5,wU:9E5,Sd:12E5},vA:{W:10,wU:10,Sd:10},EE:{W:10240,wU:10240,Sd:10240}};},66242:function(r){function b(a){var c;c=[];return (function h(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && h(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){f=a.pop();if("boolean" === typeof f)l+=4;else if("string" === typeof f)l+=2 * f.length;else if("number" === typeof f)l+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var h in f){a.push(f[h]);}}}return l;};},62082:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.ena=function(){return this.buffer.length - this.position;};a.prototype.Hy=function(){return this.buffer[this.position++];};a.prototype.Cj=function(c){var l;l=this.position;this.position+=c;return this.INb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.INb=function(c){return void 0 !== c.subarray;};a.prototype.Lp=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.Lta=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.ah=function(){return this.Lp(2);};a.prototype.Mp=function(){return this.Lp(4);};a.prototype.cN=function(){return this.Lp(8);};a.prototype.Pv=function(c){for(var l,f="";c--;){l=this.Hy();f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};a.prototype.Mta=function(c){for(var l=0,f=0;f < c;f++){l+=this.Hy() << (f << 3);}return l;};a.prototype.bN=function(){return this.Mta(4);};a.prototype.fY=function(c){this.xO(c,2);};a.prototype.hz=function(c){this.xO(c,4);};a.prototype.maa=function(c){this.buffer[this.position++]=c;};a.prototype.xO=function(c,l){this.position+=l;for(var f=1;f <= l;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.gz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.eY=function(c){for(var l=c.length,f=0;f < l;f++){this.buffer[this.position++]=c[f];}};a.prototype.wO=function(c,l){this.eY(c.Cj(l));};a.prototype.Neb=function(c){c=new a(c);for(var l,f;;){if((l=c.ena(),f=l >>> 14))(f=Math.min(4,f),this.maa(192 | f),this.wO(c,16384 * f));else {128 > l?this.maa(l):this.xO(l | 32768,2);this.wO(c,l);break;}}};a.prototype.C8a=function(){var f;for(var c=[],l=new a(c);;){f=this.Hy();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.Hy(),l.wO(this,f));else if((f&=63,0 < f && 4 >= f)){l.wO(this,16384 * f);continue;}else throw Error("bad asn1");}else l.wO(this,f);break;}return new Uint8Array(c);};return a;})();b.XO=r;},9412:function(r){function b(c,l,f,h){c.trace(":",f,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,f,h){f=h?f.bind(h):f;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addListener)c.addListener(l,f);else if("function" === typeof c.addEventListener)c.addEventListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,h;f=l[0];h=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,l):"function" === typeof f.removeListener && f.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},57055:function(r,b,a){b=a(76960);b.dka=0;r.exports={EventEmitter:b,Qe:a(9412)};},76960:function(r){var m,k,n,p;function b(){b.va.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,y;a(t);v=q.gb;if(void 0 === v)(v=q.gb=Object.create(null),q.OD=0);else {void 0 !== v.URb && (q.emit("newListener",u,t.listener?t.listener:t),v=q.gb);y=v[u];}void 0 === y?(v[u]=t,++q.OD):("function" === typeof y?y=v[u]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.ls?b.dka:q.ls,0 < t && y.length > t && !y.Yxa && (y.Yxa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.ev=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.QXa)return (this.target.removeListener(this.type,this.Keb),this.QXa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={QXa:!1,Keb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.Keb=u;}function h(q){var u;u=this.gb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){w.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;k=m && "function" === typeof m.apply?m.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(x){q.removeListener(u,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.OD=0;b.prototype.ls=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.va=function(){if(void 0 === this.gb || this.gb === Object.getPrototypeOf(this).gb)(this.gb=Object.create(null),this.OD=0);this.ls=this.ls || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.ls=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.gb;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,u);else {v=t.length;w=Array(v);for(var y=0;y < v;++y){w[y]=t[y];}for(t=0;t < v;++t){k(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.L8=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.V7a=function(q,u){a(u);this.L8(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,w,v,y,x;a(u);w=this.gb;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.OD?this.gb=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){y=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){x=v[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)v.shift();else {for(;y + 1 < v.length;y++){v[y]=v[y + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.ar=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.gb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.gb=Object.create(null),this.OD=0):void 0 !== u[q] && (0 === --this.OD?this.gb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.gb=Object.create(null);this.OD=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.gb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):h.call(q,u);};b.prototype.listenerCount=h;},31503:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},27E3:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);l=a(29636);f=a(67566);b["default"]=function(h){var d;h=new c.Faa(h);d=new f.dkb(h);return new l.ckb(h,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.w3a=c;}a.prototype.zva=function(c){try{this.w3a.setItem("gtp",JSON.stringify(c));}catch(l){return !1;}return !0;};a.prototype.wZa=function(){var c;try{c=this.w3a.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Wm=function(){var c;c=this.wZa();if(c && c.tp)return c.tp.a;};a.prototype.XHb=function(){var c;c=this.Ima();if(c)return c.p25;};a.prototype.YHb=function(){var c;c=this.Ima();if(c)return c.p50;};a.prototype.ZHb=function(){var c;c=this.Ima();if(c)return c.p75;};a.prototype.Ima=function(){var c;c=this.wZa();if(c && (c=c.iqr))return c;};return a;})();b.Faa=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Tu=c;this.jra=l;}a.prototype.zva=function(c){return this.Tu.zva(c);};a.prototype.Wm=function(){return this.Tu.Wm();};return a;})();b.ckb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Tu=c;}a.prototype.jra=function(){var c,l,f;c=this.Tu.XHb();l=this.Tu.YHb();f=this.Tu.ZHb();if("number" === typeof c && "number" === typeof l && "number" === typeof f)return (f - c) / l;};return a;})();b.dkb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.Ga:Date.now;},94030:function(r,b,a){var h;function c(d,g,m,k,n,p,q){this.SX=k;this.Zeb=d;this.E5a=g;this.Uqa=m;this.PNb=p;this.rC=q;this.split=n;}function l(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,m,k,n,p){this.w9=n;this.U2=p;}b=a(21457);h=a(79809);a={};a.Psb=new (function(){this.Enb=h();this.Pa=0;this.update=function(){this.Pa=h() - this.Enb;};this.type="num";})();a.zOb=new (function(){this.type="cat";})();a.AOb=new (function(){this.type="cat";})();a.COb=new (function(){this.type="cat";})();a.DOb=new (function(){this.type="cat";})();a.BOb=new (function(){this.type="cat";})();a.EOb=new (function(){this.type="cat";})();a.FOb=new (function(){this.type="cat";})();a.GOb=new (function(){this.type="cat";})();a.HOb=new (function(){this.type="cat";})();a.IOb=new (function(){this.type="cat";})();a.JOb=new (function(){this.type="cat";})();a.KOb=new (function(){this.type="cat";})();a.MOb=new (function(){this.type="cat";})();a.NOb=new (function(){this.type="cat";})();a.OOb=new (function(){this.type="cat";})();a.LOb=new (function(){this.type="cat";})();a.Btb=new (function(){this.update=function(d){for(var g in d.Fb){if("becauseYouAdded" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Ctb=new (function(){this.update=function(d){for(var g in d.Fb){if("becauseYouLiked" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Etb=new (function(){this.update=function(d){for(var g in d.Fb){if("billboard" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Zwb=new (function(){this.update=function(d){for(var g in d.Fb){if("continueWatching" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Dtb=new (function(){this.update=function(d){for(var g in d.Fb){if("bigRow" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.oGb=new (function(){this.update=function(d){for(var g in d.Fb){if("genre" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.QRb=new (function(){this.update=function(d){for(var g in d.Fb){if("netflixOriginals" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.VRb=new (function(){this.update=function(d){for(var g in d.Fb){if("newRelease" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.IVb=new (function(){this.update=function(d){for(var g in d.Fb){if("popularTitles" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.$M=new (function(){this.update=function(d){for(var g in d.Fb){if("queue" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.JXb=new (function(){this.update=function(d){for(var g in d.Fb){if("recentlyAdded" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.k1b=new (function(){this.update=function(d){for(var g in d.Fb){if("similars" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.b4b=new (function(){this.update=function(d){for(var g in d.Fb){if("trendingNow" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.z4b=new (function(){this.update=function(d){for(var g in d.Fb){if("ultraHD" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.B6b=new (function(){this.update=function(d){for(var g in d.Fb){if("watchAgain" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Q3b=new (function(){this.update=function(d){for(var g in d.Fb){if("topTen" === d.Fb[g].context){this.Pa=Math.max(d.Fb[g].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.jxb=new (function(){this.type="cat";})();a.kxb=new (function(){this.type="cat";})();a.lxb=new (function(){this.type="cat";})();a.mxb=new (function(){this.type="cat";})();a.nxb=new (function(){this.type="cat";})();a.oxb=new (function(){this.type="cat";})();a.pxb=new (function(){this.type="cat";})();a.qxb=new (function(){this.type="cat";})();a.rxb=new (function(){this.type="cat";})();a.sxb=new (function(){this.type="cat";})();a.txb=new (function(){this.type="cat";})();a.uxb=new (function(){this.type="cat";})();a.vxb=new (function(){this.type="cat";})();a.wxb=new (function(){this.type="cat";})();a.xxb=new (function(){this.type="cat";})();a.yxb=new (function(){this.type="cat";})();a.zxb=new (function(){this.type="cat";})();a.Axb=new (function(){this.type="cat";})();a.Bxb=new (function(){this.type="cat";})();a.Cxb=new (function(){this.type="cat";})();a.Dxb=new (function(){this.type="cat";})();a.Exb=new (function(){this.type="cat";})();a.Fxb=new (function(){this.type="cat";})();a.Gxb=new (function(){this.type="cat";})();a.Hxb=new (function(){this.type="cat";})();a.Ixb=new (function(){this.type="cat";})();a.Jxb=new (function(){this.type="cat";})();a.Kxb=new (function(){this.type="cat";})();a.Lxb=new (function(){this.type="cat";})();a.Mxb=new (function(){this.type="cat";})();a.Nxb=new (function(){this.type="cat";})();a.Oxb=new (function(){this.type="cat";})();a.Pxb=new (function(){this.type="cat";})();a.Qxb=new (function(){this.type="cat";})();a.Rxb=new (function(){this.type="cat";})();a.Sxb=new (function(){this.type="cat";})();a.Txb=new (function(){this.type="cat";})();a.Uxb=new (function(){this.type="cat";})();a.Vxb=new (function(){this.type="cat";})();a.Wxb=new (function(){this.type="cat";})();a.Xxb=new (function(){this.type="cat";})();a.Yxb=new (function(){this.type="cat";})();a.Zxb=new (function(){this.type="cat";})();a.$xb=new (function(){this.type="cat";})();a.ayb=new (function(){this.type="cat";})();a.byb=new (function(){this.type="cat";})();a.cyb=new (function(){this.type="cat";})();a.dyb=new (function(){this.type="cat";})();a.eyb=new (function(){this.type="cat";})();a.fyb=new (function(){this.type="cat";})();a.gyb=new (function(){this.type="cat";})();a.hyb=new (function(){this.type="cat";})();a.iyb=new (function(){this.type="cat";})();a.jyb=new (function(){this.type="cat";})();a.kyb=new (function(){this.type="cat";})();a.lyb=new (function(){this.type="cat";})();a.myb=new (function(){this.type="cat";})();a.nyb=new (function(){this.type="cat";})();a.oyb=new (function(){this.type="cat";})();a.pyb=new (function(){this.type="cat";})();a.qyb=new (function(){this.type="cat";})();a.ryb=new (function(){this.type="cat";})();a.syb=new (function(){this.type="cat";})();a.tyb=new (function(){this.type="cat";})();a.uyb=new (function(){this.type="cat";})();a.vyb=new (function(){this.type="cat";})();a.wyb=new (function(){this.type="cat";})();a.xyb=new (function(){this.type="cat";})();a.yyb=new (function(){this.type="cat";})();a.zyb=new (function(){this.type="cat";})();a.Ayb=new (function(){this.type="cat";})();a.Byb=new (function(){this.type="cat";})();a.Cyb=new (function(){this.type="cat";})();a.Dyb=new (function(){this.type="cat";})();a.Eyb=new (function(){this.type="cat";})();a.Fyb=new (function(){this.type="cat";})();a.Gyb=new (function(){this.type="cat";})();a.Hyb=new (function(){this.type="cat";})();a.Iyb=new (function(){this.type="cat";})();a.MXb=new (function(){this.type="cat";})();a.NXb=new (function(){this.type="cat";})();a.OXb=new (function(){this.type="cat";})();a.PXb=new (function(){this.type="cat";})();a.QXb=new (function(){this.type="cat";})();a.RXb=new (function(){this.type="cat";})();a.SXb=new (function(){this.type="cat";})();a.TXb=new (function(){this.type="cat";})();a.UXb=new (function(){this.type="cat";})();a.VXb=new (function(){this.type="cat";})();a.WXb=new (function(){this.type="cat";})();a.XXb=new (function(){this.type="cat";})();a.YXb=new (function(){this.type="cat";})();a.ZXb=new (function(){this.type="cat";})();a.$Xb=new (function(){this.type="cat";})();a.aYb=new (function(){this.type="cat";})();a.bYb=new (function(){this.type="cat";})();a.cYb=new (function(){this.type="cat";})();a.dYb=new (function(){this.type="cat";})();a.eYb=new (function(){this.type="cat";})();a.fYb=new (function(){this.type="cat";})();a.gYb=new (function(){this.type="cat";})();a.hYb=new (function(){this.type="cat";})();a.E2b=new (function(){this.update=function(d){"down" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.G2b=new (function(){this.update=function(d){"right" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.F2b=new (function(){this.update=function(d){"left" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.H2b=new (function(){this.update=function(d){"up" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.BQb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.rowIndex);};this.type="num";})();a.CQb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.FTa);};this.type="num";})();a.HQb=new (function(){this.JD=this.Pa=0;this.update=function(d){this.JD++;this.Pa=1 * (this.Pa + d.rowIndex) / this.JD;};this.type="num";})();a.IQb=new (function(){this.JD=this.Pa=0;this.update=function(d){this.JD++;return this.Pa=1 * (this.Pa + d.FTa) / this.JD;};this.type="num";})();a.pWb=new (function(){this.type="num";})();a.qWb=new (function(){this.type="num";})();l.prototype.rC=function(d){return this.MPa(this.P["0"].m$a(d),d);};l.prototype.MPa=function(d,g){return "string" == typeof d?this.MPa(this.P[d].m$a(g),g):d;};c.prototype.m$a=function(d){switch(this.PNb){case 0:switch(d.features[this.SX].type){case "cat":return null === d.features[this.SX].value?this.E5a:"missing" == d.features[this.SX].value?this.Uqa:this.Zeb;case "num":return null === d.features[this.SX].value?this.Uqa:d.features[this.SX].value < this.split?this.Zeb:this.E5a;default:return this.Uqa;}case 1:return this.rC;default:return this.rC;}};b.declare({eV:["modelSelector","modelone"],rwb:["colEpisodeList",5],mLb:["holdDuration",15E3],Z9a:["rowFirst",2],ETa:["colFirst",5],$9a:["rowScroll",2],GTa:["colScroll",6],HZb:["rowScrollHorizontal",6],d_b:["searchTop",3],hVa:["cwFirst",2],RT:["horizontalItemsFocusedMode",3],QNb:["itemsPerRank",1],nQb:["maxNumberPayloadsStored",10],r4a:["maxNumberTitlesScheduled",5],Ycc:["enableDetailedLogging",!0],Ufc:["rowStep",20],mcc:["colStep",15],vfc:["pageRows",100],ufc:["pageColumns",75],kqa:["maskParamsList",new (function(){var d,g;this.kqa=[];this.Vk={};this.w9=20;this.U2=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.w9) + "_" + Math.floor(g / this.U2) in this.Vk) || (this.Vk[Math.floor(d / this.w9) + "_" + Math.floor(g / this.U2)]=1,this.kqa.push(new f("grid",10,5,5,Math.floor(d / this.w9),Math.floor(g / this.U2))));}}})().kqa],P:["nodes",new l().P],mapping:["mapping",{CQb:"0",IQb:"1",BQb:"2",HQb:"3",Psb:"4",H2b:"5",F2b:"6",G2b:"7",E2b:"8",qWb:"9",pWb:"10",zOb:"11",AOb:"12",COb:"13",DOb:"14",BOb:"15",EOb:"16",FOb:"17",GOb:"18",HOb:"19",IOb:"20",JOb:"21",KOb:"22",LOb:"23",MOb:"24",NOb:"25",OOb:"26",MXb:"27",NXb:"28",OXb:"29",PXb:"30",QXb:"31",RXb:"32",SXb:"33",TXb:"34",UXb:"35",VXb:"36",WXb:"37",XXb:"38",YXb:"39",ZXb:"40",$Xb:"41",aYb:"42",bYb:"43",cYb:"44",dYb:"45",eYb:"46",fYb:"47",gYb:"48",hYb:"49",jxb:"50",kxb:"51",lxb:"52",mxb:"53",nxb:"54",oxb:"55",pxb:"56",qxb:"57",rxb:"58",sxb:"59",txb:"60",uxb:"61",vxb:"62",wxb:"63",xxb:"64",yxb:"65",zxb:"66",Axb:"67",Bxb:"68",Cxb:"69",Dxb:"70",Exb:"71",Fxb:"72",Gxb:"73",Hxb:"74",Ixb:"75",Jxb:"76",Kxb:"77",Lxb:"78",Mxb:"79",Nxb:"80",Oxb:"81",Pxb:"82",Qxb:"83",Rxb:"84",Sxb:"85",Txb:"86",Uxb:"87",Vxb:"88",Wxb:"89",Xxb:"90",Yxb:"91",Zxb:"92",$xb:"93",ayb:"94",byb:"95",cyb:"96",dyb:"97",eyb:"98",fyb:"99",gyb:"100",hyb:"101",iyb:"102",jyb:"103",kyb:"104",lyb:"105",myb:"106",nyb:"107",oyb:"108",pyb:"109",qyb:"110",ryb:"111",syb:"112",tyb:"113",uyb:"114",vyb:"115",wyb:"116",xyb:"117",yyb:"118",zyb:"119",Ayb:"120",Byb:"121",Cyb:"122",Dyb:"123",Eyb:"124",Fyb:"125",Gyb:"126",Hyb:"127",Iyb:"128",B6b:"129",JXb:"130",k1b:"131",$M:"132",Zwb:"133",oGb:"134",b4b:"135",Q3b:"136",Etb:"137",VRb:"138",z4b:"139",IVb:"140",Btb:"141",Dtb:"142",Ctb:"143",QRb:"144"}],features:["features",a],obc:["_modelName","tree"],ibc:["_format","xgboost"],nbc:["_itemsToKeep",5],mbc:["_itemsThreshold",null],Xbc:["cacheLimit",20]});r.exports={config:b,zec:f,wcc:c};},45578:function(r){r.exports={qw:{uea:0,mLa:1,yk:2,name:["transient","semiTransient","permanent"]},lw:{ZCa:0,lLa:1,V_:2,MP:3,Kw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Xac:{Lac:0,M9b:1,f8b:2,Kw:100,name:["trailer","montage","content"]},fu:{qFa:0,RKa:1,vmb:2,whb:3,Kw:100,name:["left","right","up","down"]},pP:{Jgb:0,V_:1,w9b:2,S8b:3,C7b:4,v9b:5,Hfb:6,Kw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},DI:{MP:0,sBa:1,Kw:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var f,h,d,g,m,k,n,p,q,u;function c(t,w){this.Gj=t;this.Hl=w;}function l(t){this.V=t;this.reset();}f=a(79809);h=a(45578);b=a(76122);d=a(94030).config;g=b.cHb;m=b.MGb;k=b.vBb;n=b.NSb;p=b.MSb;q=b.LSb;u=b.JXa;l.prototype.constructor=l;l.prototype.reset=function(){this.oPa=void 0;this.Wj=[];this.gPa=this.hPa=!1;};l.prototype.update=function(t,w){var v;this.Wj && (this.Wj=this.Wj.filter(this.X0b,this));if(!1 === this.hPa){v=g(t.Fb).slice(0,d.hVa);0 < v.length && (this.zG(v,h.qw.yk),this.hPa=!0,this.Wj=this.$H(v.concat(this.Wj)));}!1 === this.gPa && (v=m(t.Fb).slice(0,d.hVa),0 < v.length && (this.zG(v,h.qw.yk),this.gPa=!0,this.Wj=this.$H(v.concat(this.Wj))));switch(w){case h.lw.ZCa:w=this.xKb(t);break;case h.lw.lLa:w=this.HKb(t);break;case h.lw.V_:w=this.IKb(t);break;case h.lw.MP:w=this.CKb(t);break;default:w=this.uKb(t);}this.oPa=t;return w;};l.prototype.xKb=function(t){t=n(t.Fb,d.Z9a,d.ETa);this.zG(t,h.qw.yk);return this.Wj=this.$H(this.Wj.concat(t));};l.prototype.HKb=function(t){var w,v;this.V.log("handleScrollHorizontal");w=t.Fb;t=n(w,d.$9a,d.GTa);v=k(w,this.oPa.Fb);w=w[v].list.slice(0,d.HZb);w.concat(t);this.zG(w,h.qw.uea);return this.$H(w.concat(this.Wj));};l.prototype.zG=function(t,w){t.forEach(function(v){if(void 0 === v.wA || v.wA < w)v.wA=w;void 0 === v.ZN && (v.ZN=f());void 0 === v.Hk && (v.Hk=f());});};l.prototype.IKb=function(t){this.V.log("handleSearch");t=p(t.Fb,d.d_b);this.zG(t,h.qw.mLa);this.Wj=t.concat(this.Wj);return this.Wj=this.$H(this.Wj);};l.prototype.CKb=function(t){var w,v,y,x,z;this.V.log("handlePlayFocus: ",d.RT);w=t.direction;v=t.Fb;t=[];y=u(v);if(void 0 !== y.Gj)switch((t.push(y),w)){case h.fu.RKa:for(w=1;w < d.RT;w++){t.push(new c(y.Gj,y.Hl + w));}t.push(new c(y.Gj - 1,y.Hl));t.push(new c(y.Gj + 1,y.Hl));break;case h.fu.qFa:for(w=1;w < d.RT;w++){t.push(new c(y.Gj,y.Hl - w));}t.push(new c(y.Gj - 1,y.Hl));t.push(new c(y.Gj + 1,y.Hl));break;case h.fu.vmb:t.push(new c(y.Gj - 1,y.Hl));for(w=1;w <= d.RT / 2;w++){t.push(new c(y.Gj,y.Hl + w));t.push(new c(y.Gj,y.Hl - w));}break;case h.fu.whb:for((t.push(new c(y.Gj + 1,y.Hl)),w=1);w <= d.RT / 2;w++){t.push(new c(y.Gj,y.Hl + w));t.push(new c(y.Gj,y.Hl - w));}}x=[];t.forEach(function(A){z=q(v,A.Gj,A.Hl);void 0 !== z && x.push(z);});this.zG(x,h.qw.uea);return this.$H(x.concat(this.Wj));};l.prototype.uKb=function(t){this.V.log("ModelOne: handleDefaultCase");t=n(t.Fb,d.$9a,d.GTa);this.zG(t,h.qw.uea);return this.$H(t.concat(this.Wj));};l.prototype.X0b=function(t){return t.wA == h.qw.yk | t.wA == h.qw.mLa & f() - t.ZN < d.mLb;};l.prototype.$H=function(t){var w,v,y,x,z,A,B;w=[];v={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in v)?(w.push(B),v[A]=x,x++):(A=w[v[A]],B.Hk < A.Hk && (A.Hk=B.Hk),B.wA > A.wA && (A.wA=B.wA),B.ZN > A.ZN && (A.ZN=B.ZN));}return w;};r.exports=l;},7795:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.mg)return (this.mg={},this.mg[c]=[l],!0);f=this.mg[c];return void 0 === f?(this.mg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.mg?this.mg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.mg)return !1;f=this.mg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.mg[c],!0);f.splice(l,1);return !0;},xq:a,emit:a,removeAllListeners:function(c){this.mg && (void 0 === c?delete this.mg:delete this.mg[c]);return this;}};},65267:function(r){function b(c,l,f,h){c.trace(":",f,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,h){f=h?f.bind(h):f;h=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)h=c.addEventListener(l,f);else if("function" === typeof c.addListener)h=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,h;f=l[0];h=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,l):"function" === typeof f.removeListener && f.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),Qe:a(65267)};},99886:function(r,b,a){var h,d,g,m,k,n,p;function c(q,u,t,w,v,y){this.O=this.J=q;this.priority=u;this.ye=t;y && y.wd && (this.wd=y.wd);void 0 !== w && (this.KM=w);this.Hk=v;this.nb=y;}function l(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.V=u || console;this.V=u;this.ja=t;this.hqb=w;this.Ypb=v;this.nPa=n.$sa;this.IJ=[];this.uga=!1;this.wQ=0;new p().on(n,"changed",f,this);this.reset();}function f(){this.V.log("config changed");n.$sa && (this.nPa=n.$sa);n.eV !== this.AJ && (this.reset(),this.hua());}h=a(79809);d=a(45578);b=a(76122);g=b.assert;m=b.JXa;k=a(90638);n=a(94030).config;p=a(41628).Qe;n.declare({$sa:["ppmConfig",{X7b:{Z5a:0,Y5a:2,W5a:0,X5a:5,tab:0},Cac:{Z5a:0,Y5a:1,W5a:0,X5a:3,tab:1E3},h8b:{Z5a:0,Y5a:1,W5a:0,X5a:3,tab:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.qfa=!0;this.AJ=n.eV;this.V.log("create model: " + n.eV,n.Z9a,n.ETa);switch(n.eV){case "modelone":this.AJ=new k(this.V);break;default:this.AJ=new k(this.V);}};l.prototype.hua=function(){var u,t;if(!1 === this.uga){this.uga=!0;for(var q=0;q < this.IJ.length;q++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.IJ[q]));u=this.pUa(this.IJ[q]);t=this.vYa(u);this.AJ.update(u,t);this.qfa=!1;}this.IJ=[];}};l.prototype.update=function(q){var u,t,w;this.V.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Fb && q.Fb[0]){!1 === this.uga && this.IJ.length < n.nQb && this.IJ.push(q);u=this.pUa(q);t=this.vYa(u);this.V.log("actionType",t);u="mlmodel" == n.eV?this.AJ.update(q,t):this.AJ.update(u,t);u=this.nGb(u,n.QNb || 1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.wQ && (this.wQ=h(),this.ja && this.ja.pW && this.ja.pW({tBb:this.wQ}));if(this.ja && this.ja.NYb){this.lHb();w=[];u.forEach(function(v){w.push({Sgc:v.J});});JSON.stringify(q);JSON.stringify(u);}this.hqb.VG(u);this.Ypb.VG(u);this.qfa=!1;}};l.prototype.lHb=function(){h();};l.prototype.pW=function(){this.wQ=h();this.ja && this.ja.pW && this.ja.pW({tBb:this.wQ});};l.prototype.pUa=function(q){var u,t,w,v,y;u={};w=q.Fb || [];v=(function(x){var z,A;z={};y=d.pP.name.indexOf(x.context);z.context=0 <= y?y:d.pP.Kw;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,ye:B.ye,index:B.index,KM:B.KM,M8:B.M8,list:B.list,nb:B.nb};void 0 !== B.property && (y=d.DI.name.indexOf(B.property),A.property=0 <= y?y:d.DI.Kw);z.list.push(A);}).bind(this));u.Fb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.fu.name.indexOf(q.direction);u.direction=0 <= y?y:d.fu.Kw;}void 0 !== q.XS && (u.odc=q.XS.rowIndex,u.ndc=q.XS.vwb);u.XS=q.XS;u.Fb=[];w.forEach(v);return u;};l.prototype.vYa=function(q){var u,t,w;u=q.direction || d.fu.Kw;t=q.XS;w=q.Fb || [];!0 === this.qfa?q=d.lw.ZCa:!0 === w.some(this.$Kb)?(q=d.lw.MP,this.o9(w,u,t)):q=w[0].context === d.pP.V_?d.lw.V_:u === d.fu.RKa || u === d.fu.qFa?d.lw.lLa:d.lw.Kw;return q;};l.prototype.$Kb=function(q){return (q.list || []).some(function(u){return u.property === d.DI.MP || u.property === d.DI.sBa;});};l.prototype.o9=function(q,u,t){var w,v;this.V.log("reportPlayFocusEvent: ",u,t);w={};v=m(q);this.ja && this.ja.o9 && (w.ddc=h(),w.direction=d.fu.name[u],t && (w.rowIndex=t.rowIndex,w.FTa=t.vwb),void 0 !== v.Gj && (w.requestId=q[v.Gj].requestId),this.ja.o9 && this.ja.o9(w));};l.prototype.nGb=function(q,u){for(var t=q.length,w=[],v,y,x,z,A=0;A < t;A++){y=q[A];v=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(n.rwb,z) && !(x[B].Hk=y.Hk,this.JQa(x[B],v,w),w.length >= n.r4a);B++){;}}else this.JQa(y,v,w);if(w.length >= n.r4a)break;}return w;};l.prototype.JQa=function(q,u,t){var v,y;function w(x){x.wd && (x.nb || (x.nb={}),x.nb.wd=x.wd);return x.nb;}v=q.M8;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (y=w(x),t.push(new c(x.J,u,x.ye,x.KM,q.Hk,y)));});else if(void 0 !== v && void 0 !== v.J){v=q.M8;y=w(v);t.push(new c(v.J,u,v.ye,v.KM,q.Hk,y));}void 0 !== q.J && (y=w(q),t.push(new c(q.J,u,q.ye,q.KM,q.Hk,y)));};l.prototype.AF=function(q){var u;u=this.nPa;return q?u[q]:u;};r.exports=l;},76122:function(r,b,a){var l;function c(f){for(var h="",d=0;d < f.length;d++){h+=f[d].J + "|";}return h;}l=a(45578);r.exports={assert:function(f,h){if(!f)throw Error("PlayPredictionModel assertion failed" + (h?" : " + h:""));},bec:function(f,h,d){Array.prototype.splice.apply(f,[h,0].concat(d));},cHb:function(f){for(var h=[],d=0;d < f.length;d++){if(f[d].context === l.pP.Jgb){h=f[d].list;break;}}return h;},MGb:function(f){for(var h=[],d=0;d < f.length;d++){if(f[d].context === l.pP.Hfb){h=f[d].list;break;}}return h;},vBb:function(f,h){for(var d=0,g,m,k,n=0,p=f.length - 1;n < p;n++){g=c(f[n].list || []);k=!1;for(var q=0,u=h.length;q < u;q++){if((m=c(h[q].list || []),m == g)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},NSb:function(f,h,d){for(var g=[],m,k=0;k < Math.min(h,f.length);k++){m=f[k].list || [];g=g.concat(m.slice(0,d));}return g;},MSb:function(f,h){for(var d=[],g,m=0;m < f.length && (g=f[m].list || [],g=g.slice(0,Math.min(g.length,h)),h-=g.length,d=d.concat(g),0 !== h);m++){;}return d;},LSb:function(f,h,d){var g;h < f.length && 0 <= h && (f=f[h].list || [],d < f.length && (g=f[d]));return g;},JXa:function(f){for(var h={},d=f.length,g,m=0;m < d;m++){g=f[m].list || [];for(var k=0;k < g.length;k++){if(g[k].property === l.DI.MP || g[k].property === l.DI.sBa){h.Gj=m;h.Hl=k;break;}}}void 0 === h.Gj && void 0 === h.Hl && (h.Gj=0,h.Hl=0);return h;}};},21457:function(r,b,a){var m,k,n,p,q,u,t,w;function c(v){return v.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function f(v,y,x){var z;if("string" === typeof v)return f.call(this,c(v),y,x);z=0;Object.keys(v).forEach(function(A){var B,D,C;B=q[A];D=v[A];if(B){if(C=u[A] || w[typeof m[B]])try{D=C(D);}catch(F){x && x.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=D;p[B] !== C && (x && x.debug("Config changed for '" + A + "' from " + l(C) + " (" + typeof C + ") to " + l(D) + " (" + typeof D + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function h(){return Object.keys(q).reduce(function(v,y){var x,z;x=q[y];z=v[x];z?(z.push(y),v[x]=z.sort(function(A,B){return B.length - A.length;})):v[x]=[y];return v;},{});}function d(v,y){return v.hasOwnProperty(y)?l(v[y]):void 0;}function g(v,y){return "undefined" === typeof v?y:v;}b=a(31503);a=a(37911).EventEmitter;m={};k=Object.create(m);n=Object.create(k);p=Object.create(n);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(y){var x,z,A,B;x=v[y];z=x[0];A=x[1];B=x[2];if(m.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");m.hasOwnProperty(y) || ("function" === typeof A && (A=A()),m[y]=A);q[D]=y;"function" === typeof B && (u[D]=B);if(C=t[D])(C.forEach(function(F){var G,E;G=F[0];E={};E[D]=F[1];f.call(G,E,!1);}),delete t[D]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=f.bind(k);p.FV=f.bind(n);p.dump=function(v,y){var z,A,B,D;function x(){D && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=h();y=g(y,!0);Object.keys(q).sort().forEach(function(C){var F,G,E;C=q[C];if(!A[C]){A[C]=!0;F=d(k,C);G=d(n,C);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[C].join(",");E+=" = " + l(p[C]) + " (" + typeof p[C] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(m,C) + "]";D || (D=!0,v && v.log("Current config values"),x());v && v.log(E);}}});(y || z.length) && v && v.log("<undeclared> :",z);x();};p.In=function(v){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});v && f.call(y,v);return y;};p.h7a=function(){var v;v=h();return Object.getOwnPropertyNames(k).reduce(function(y,x){y[v[x][0]]=k[x];return y;},{});};p.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};p.mg={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.mg)return (this.mg={},this.mg[c]=[l],!0);f=this.mg[c];return void 0 === f?(this.mg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.mg?this.mg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.mg)return !1;f=this.mg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.mg[c],!0);f.splice(l,1);return !0;},xq:a,emit:a,removeAllListeners:function(c){this.mg && (void 0 === c?delete this.mg:delete this.mg[c]);return this;}};},92653:function(r){function b(c,l,f,h){c.trace(":",f,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,h){f=h?f.bind(h):f;h=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)h=c.addEventListener(l,f);else if("function" === typeof c.addListener)h=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,h;f=l[0];h=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(h,l):"function" === typeof f.removeListener && f.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),Qe:a(92653)};},36888:function(r,b,a){var l,f,h,d,g;function c(m,k,n){void 0 === n && (n=0);return m.displayTime - n <= k && k < m.displayTime + m.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.ogb=b.vza=void 0;l=a(5163);f=a(42866);h=a(93161);d=a(57055);r=(function(m){function k(n,p,q,u,t,w,v,y){var x,z,A;x=this;x=m.call(this) || this;x.Inb=n;x.CQ=p;x.Onb=q;x.la=u;x.ht=t;x.Yma=w;x.w8=v;x.options=y;x.mj=[];x.Ii=[];x.Gi=[];x.Lsa=new d.Qe();x.bva=new d.Qe();x.S2=new d.Qe();x.Mz=new g(function(){return p(n());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.ha) || !1);x.Mz.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.ym) || void 0 === B?void 0:B.Sf();x.Dra();});x.Mz.Zsa();x.xab();x.Lsa.on(x.w8,"segmentPresenting",function(){x.r6a();});x.Lsa.on(x.w8,"taskSchedulerChanged",function(){x.xab();});null === (A=x.ym) || void 0 === A?void 0:A.Qa();return x;}l.__extends(k,m);Object.defineProperty(k.prototype,"_buffering",{get:function(){return this.Mz.RR;},enumerable:!1,configurable:!0});k.prototype.z2b=function(){var n,p,q,u,t,w,v,y,x,z,A,B,D,C;C=this;return l.__generator(this,function(F){switch(F.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.ht())return (this.la.trace("Paused: exiting"),[2]);n=function(){return C.Hd.qa.currentTime.G;};p=this.Inb;this.Gi=this.Ii.concat(this.mj);this.i8a(p(),!0);F.label=1;case 1:if(!this.Gi.length)return [3,3];u=q=p();this.cTa(q);try{for((t=(B=void 0,l.__values(this.Gi)),w=t.next());!w.done;w=t.next()){v=w.value;this.la.trace(("AseTimer:Checking subtitle ").concat(v.id));q >= v.displayTime + v.duration || (c(v,q,this.options.ygc)?(this.la.trace(("AseTimer:Showing subtitle ").concat(v.id)),this.mWb(v),u=Math.max(q,v.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(v.id)),this.fwa(v)));}}catch(G){B={error:G};}finally{try{w && !w.done && (D=t.return) && D.call(t);}finally{if(B)throw B.error;}}y=this.Dub(u);if(!isFinite(y))return (this.Mz.Zsa(),[3,3]);x=n();z=this.Onb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,h.Rg.Ut(f.N.Ma(A))];case 2:return (F.Ra(),this.i8a(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.cTa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};k.prototype.i8a=function(n,p){var q,u,t,w,v;u=this;void 0 === p && (p=!1);t=p || !this.mj.length;t || (t=this.Gi[this.Gi.length - 1].displayTime > n);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(n),{tcc:this.Hd.qa.currentTime});w=this.CQ(n);if(w){this.la.trace(("AseTimer:Received ").concat(w.length," subtitles"));t=function(A){(0,f.xc)(v.Gi,function(B){return B.id === A.id;}) || n >= A.displayTime + A.duration || (v.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,Mcc:A.displayTime,end:A.endTime,Ucc:A.duration}),v.Gi.push(A));};v=this;try{for(var y=l.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Gi.filter(function(A){return !(0,f.xc)(w,function(B){return B.id === A.id;});}).forEach(function(A){return u.wV(A);});this.Gi.length || this.Mz.Zsa();}else this.wh();}};k.prototype.stop=function(){var n;this.la.trace("AseTimer:Stop");null === (n=this.ym) || void 0 === n?void 0:n.Qa();this.Mz.reset();this.i9();this.Lsa.clear();this.bva.clear();this.S2.clear();};k.prototype.i9=function(){var n,p,q,u;this.la.trace("AseTimer:Removing all",this.Ii.length);u=this.Ii;try{for(var t=l.__values(u),w=t.next();!w.done;w=t.next()){this.wV(w.value);}}catch(y){var v;v={error:y};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(v)throw v.error;}}this.Ii=[];if(null === (p=this.ym) || void 0 === p?0:p.C1a)null === (q=this.ym) || void 0 === q?void 0:q.Qa();};k.prototype.pause=function(){var n;null === (n=this.ym) || void 0 === n?void 0:n.Qa();};k.prototype.dz=function(){var n,p,q,u;(null === (n=this.ym) || void 0 === n?void 0:n.state) !== h.Ak.complete && (null === (p=this.ym) || void 0 === p?void 0:p.state) !== h.Ak.$E || this.ht() || (null === (q=this.ym) || void 0 === q?void 0:q.Sf());this.zn && this.Mz.check();this.ht() && (null === (u=this.ym) || void 0 === u?void 0:u.Qa());};k.prototype.xab=function(){var n;n=this;this.la.trace("Setting up new task scheduler");(this.Hd=this.Yma())?(this.bva.clear(),this.bva.on(this.Hd,"clockChanged",function(){return n.g6a();}),this.ym=this.Hd.Fx(function(){return n.z2b();},"subtitleWorker"),this.g6a()):this.la.warn("AseTimer: no player task scheduler");};k.prototype.Dub=function(n){var p;return null !== (p=this.Gi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > n;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};k.prototype.g6a=function(){var n,p,q;n=this;this.S2.clear();(null === (p=this.Hd) || void 0 === p?0:p.qa)?(this.la.trace("onClockChanged: clock listeners registered"),this.S2.on(this.Hd.qa,"clockAdjusted",function(u){u.reason === h.pz.xH && n.r6a();}),this.S2.on(this.Hd.qa,"stopStart",function(){var u;null === (u=n.ym) || void 0 === u?void 0:u.Sf();})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.ym) || void 0 === q?void 0:q.Sf();};k.prototype.r6a=function(){var n,p;this.la.trace("Timeline changed");this.i9();this.ht()?null === (p=this.ym) || void 0 === p?void 0:p.Qa():null === (n=this.ym) || void 0 === n?void 0:n.Sf();};k.prototype.fwa=function(n){-1 === this.mj.indexOf(n) && this.ITb(n);};k.prototype.cTa=function(n){var p,q,w;q=this.Ii.concat(this.mj);try{for(var u=l.__values(q),t=u.next();!t.done;t=u.next()){w=t.value;n >= w.displayTime + w.duration && this.wV(w);}}catch(y){var v;v={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(v)throw v.error;}}};k.prototype.mWb=function(n){-1 === this.Ii.indexOf(n) && (this.Ii.push(n),-1 !== this.mj.indexOf(n) && (this.mj=this.mj.filter(function(p){return p !== n;})),this.Tra(n));};k.prototype.Tra=function(n){this.la.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};k.prototype.ITb=function(n){this.la.trace("AseTimer:Staging",n.id);this.mj.push(n);this.emit("stagesubtitle",n);};k.prototype.wh=function(){this.la.trace("AseTimer:onUnderflow",this.zn);this.zn || (this.emit("underflow"),this.Mz.wh());};k.prototype.wV=function(n){this.la.trace("AseTimer:Removing",n.id);-1 !== this.mj.indexOf(n) && (this.mj=this.mj.filter(function(p){return p !== n;}));-1 !== this.Ii.indexOf(n) && (this.emit("removesubtitle",n),this.Ii=this.Ii.filter(function(p){return p !== n;}));this.Gi=this.Gi.filter(function(p){return p !== n;});};k.prototype.Dra=function(){var n;this.Gi.length && (this.emit("bufferingComplete"),this.ht() || (null === (n=this.ym) || void 0 === n?void 0:n.Sf()));};return k;})(d.EventEmitter);b.vza=r;g=(function(){function m(k,n,p){void 0 === p && (p=!1);this.CQ=k;this.la=n;this.Hfa=p;this.events=new d.EventEmitter();this.zn=!1;}Object.defineProperty(m.prototype,"buffering",{get:function(){return this.zn;},enumerable:!1,configurable:!0});m.prototype.Zsa=function(){var k;k=this;this.la.trace("AseTimer:Buffering watcher restart");this.zn=!0;this.jpb=this.Hfa?setInterval(function(){return k.check();},500):setInterval(function(){return k.check();},2E4);};m.prototype.wh=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.zn=!0;this.gTa(1);};m.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.jpb);clearTimeout(this.$pb);this.zn=!1;};m.prototype.gTa=function(k){var n;n=250 * (1 << k);2E3 < n && (n=2E3);this.check();this.zn && (this.$pb=setTimeout(this.gTa.bind(this,k + 1),n));};m.prototype.check=function(){var k;k=this.CQ();this.la.trace("AseTimer:Buffering complete check",null === k || void 0 === k?void 0:k.length);null !== k && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",BC:k}));};return m;})();b.ogb=g;},94536:function(r,b,a){var v,y,x,z,A,B,D,C,F;function c(G,E){var J,M;J=this;M=G.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(L){var H;H=z.Fzb(G,L);return {textNodes:L.textNodes.map(w.bind(J,M)),region:H,id:L.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function f(G,E){var J,M,L,H,N,I;J=y.rf(!0);M={};L=[];H=null;N=[];I={};J.onerror=function(K){E(K,null);};J.onend=function(){E(null,M);};J.onclosetag=function(){L.pop();};J.onopentag=function(K){var O,R,Y,oa;O=K.attributes;R=K.name;Y=M.regions;oa=M.styles;L.push(K);if("tt" === R)M=q(O);else if("body" === R)"undefined" !== typeof O.style && (M.defaultStyle=O.style,N.push(O.style));else if("initial" === R && t(L,"styling"))(I=u(O,B),M.initialStyle=I);else if("style" === R && t(L,"styling")){Y=O["xml:id"];K=I;O=u(O,B);if(Object.keys(K).length)for(var ka in K){"undefined" === typeof O[ka] && (O[ka]=K[ka]);}oa[Y]=O;}else "style" === R && t(L,"region")?(oa=Object.keys(O)[0],"string" === typeof oa && (Y[H][oa.slice(4)]=O[oa])):"region" === R && t(L,"layout") && (H=O["xml:id"],Y[H]=u(O,C));};setTimeout(function(){var K;for(J.write(G);0 < L.length && !J.error;){K=l(L).name;J.write("</" + K + ">");}J.close();},10);}function h(G,E){var J;J=G.filter(function(M){return M.startTime <= E && E <= M.endTime;});G=G.filter(function(M){return M.startTime > E;});return 0 < G.length?J.concat([G[0]]):J;}function d(){}function g(G){var E,J,M,L;E=G.preferences;J=G.Lf;M=G.ye;L=G.la;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.ae=this.yfa=null;this.cx="object" === typeof E?G.preferences:{};this.Uw="object" === typeof J?G.Lf:{};this.Dk="number" === typeof M?G.ye:0;this.lE=G.xml || "";this.ja="object" === typeof L?G.la:F;this.dE=G.request;this.Xf=G.url;this.xf=[];this.Uj=this.Dk;this.md=null;this.um=this.Bn=!1;this.ED=G.eW || 0;}function m(G,E){return G && "object" === typeof G[E] && null !== G[E]?G[E]:{};}function k(G,E){return G !== E && !(G && 0 === Object.keys(G).length && E && 0 === Object.keys(E).length);}function n(){var G,E,J;G=this;E=G.lE.indexOf("<p");if(-1 < E){J=G.lE.slice(0,E);f(J,function(M,L){null !== M?(M.r0a=J,G.emit("error",M)):(G.yfa=L,G.ae=new x(G.lE,L.tickRate),p.call(G,G.Dk));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var E,J,M,L,H,N,I,K;E=this;J=E.yfa;M=0;L=[];H=J.defaultStyle?[J.defaultStyle]:[];N=J.lang?[J.lang]:[];E.ja.info("parsing the next 5 entries...");I=E.ae.HIb(G);E.ja.debug(I);K=y.rf(!0);K.onerror=function(O){O.xml=I;E.emit("error",O);};K.onend=function(){var O;O=E.xf.reduce(function(R,Y){Y=Y.blocks.reduce(function(oa,ka){return oa.concat([ka.id]);},[]);return R.concat(Y);},[]);L.forEach(function(R){var Y;if(-1 === O.indexOf(R.id)){Y=R && R.blocks && R.blocks.filter(function(oa){return 0 < oa.textNodes.length;});Y && 0 < Y.length && (R.blocks=Y,E.xf.push(R));}});E.um=!1;E.Bn || (E.Bn=!0,E.emit("ready"));};K.ontext=function(O){("" !== O.trim() || O.match(/ +/)) && l(l(L).blocks).textNodes.push({text:O.match(/ +/) || l(N) && "ja" === l(N).slice(0,2)?O:O.trim(),style:l(H),lang:l(N),lineBreaks:M});M=0;};K.onclosetag=function(){var O;O=K.tag;"undefined" !== typeof O.attributes.style && H.pop();"undefined" !== typeof O.attributes["xml:lang"] && N.pop();};K.onopentag=function(O){var R,Y,oa,ka,ha;R=O.attributes;Y=O.name;O=J.tickRate;if("p" === Y){M=0;Y=R["xml:id"];R.style && H.push(R.style);R["xml:lang"] && N.push(R["xml:lang"]);oa=Math.floor(parseInt(R.begin) / O * 1E3);if(0 === L.length || l(L).displayTime !== oa){oa=L.push;ka={};ha=parseInt(R.begin) / O;O=parseInt(R.end) / O;ka.id=Y;ka.startTime=Math.floor(1E3 * ha);ka.endTime=Math.floor(1E3 * O);ka.style=R.style;ka.region=R.region;ka.displayTime=ka.startTime;ka.duration=ka.endTime - ka.startTime;ka.extent=R["tts:extent"] || null;ka.origin=R["tts:origin"] || null;ka.latestEndSoFar=0 > ka.endTime?0:ka.endTime;ka.blocks=[{textNodes:[],region:ka.region,id:Y,extent:ka.extent,origin:ka.origin}];oa.call(L,ka);}else l(L).blocks.push({textNodes:[],region:R.region,id:Y,extent:R["tts:extent"] || null,origin:R["tts:origin"] || null});}else "span" === Y?(H.push(R.style),R["xml:lang"] && N.push(R["xml:lang"]),O=J.styles[R.style],R.style && O && O.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(O.ruby) && l(l(L).blocks).textNodes.push({text:"",style:l(H),lang:l(N),lineBreaks:0})):"br" === Y && M++;};K.write("<entries>").write(I).write("</entries>").close();}function q(G){var E;G=u(G,D);if("string" === typeof G.extent){E=G.extent.split(" ").map(function(J){return parseInt(J,10);});G.width=E[0];G.height=E[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(E=G.cellResolution.split(" ").map(function(J){return parseInt(J,10);}),G.cellResolution={},G.cellResolution.x=E[0],G.cellResolution.y=E[1]):G.cellResolution={x:52,y:19};return G;}function u(G,E){var J;J={};E.forEach(function(M){"undefined" !== typeof G["tts:" + M]?J[M]=G["tts:" + M]:"undefined" !== typeof G["ttp:" + M]?J[M]=G["ttp:" + M]:"undefined" !== typeof G["ebutts:" + M]?J[M]=G["ebutts:" + M]:"undefined" !== typeof G["xml:" + M] && (J[M]=G["xml:" + M]);});J.styles={};J.regions={};return J;}function t(G,E){var J;for(J=G.length - 1;0 <= J;J--){if(G[J].name === E)return !0;}return !1;}function w(G,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:A.Jzb(G[E.style] || ({}),this.Uw,this.cx),id:E.id};}v=a(22699).EventEmitter;y=a(14387);x=a(18559);z=a(64433);A=a(41555);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");D=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");C=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");F={info:d,debug:d};b=Object.create(v.prototype);g.prototype=b;b.start=function(){var G;G=this;G.ja.info("incremental text stream created, starting at pts " + G.Dk);G.lE?n.call(G):G.dE({url:G.Xf},function(E,J){G.lE=J;n.call(G);});};b.ZA=function(G){var E,J,M;E=this;G < E.Uj - E.ED && (E.xf=[]);J=E.xf;M=0 < J.length?J[J.length - 1].startTime:G;E.Uj=G;for(!E.md && 5 > E.xf.length && !E.um && (E.ja.info("buffer size: " + E.xf.length + "; minimum: 5"),E.um=!0,E.md=setTimeout(function(){E.md=null;p.call(E,M + 1);},10));0 < J.length && J[0].endTime < G;){J.shift();}J=h(J,G).map(c.bind(E,E.yfa));G < E.ae.BXa() && 0 === J.length && (J=null);return J;};b.Pl=function(G,E){return this.ae?this.ae.Pl(G,E):0;};b.close=function(){};b.JC=function(G){var E;E=m(G,"preferences");G=m(G,"defaults");return k(E,this.cx) || k(G,this.Uw)?(this.cx=E,this.Uw=G,!0):!1;};r.exports={ica:g,W6a:f,Rd:l,S4:h,z3:c,JC:b.JC};},14387:function(r){var w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,H,N;function b(){}function a(I,K){if(!(this instanceof a))return new a(I,K);for(var O=0,R=v.length;O < R;O++){this[v[O]]="";}this.q=this.c=this.Qm=this.textNode="";this.nSa=w.Gca;this.cn=K || ({});this.cn.J3a=this.cn.J3a || this.cn.uec;this.Vpa=this.cn.J3a?"toLowerCase":"toUpperCase";this.Ai=[];this.closed=this.ZR=this.wN=!1;this.tag=this.error=null;this.dm=!!I;this.O5a=!(!I && !this.cn.O5a);this.state=N.Uaa;this.ww=(this.zbb=this.cn.zbb)?Object.create(w.Dmb):Object.create(w.ww);this.pA=[];this.cn.iY && (this.Bj=Object.create(M));if(this.J$=!1 !== this.cn.position)this.position=this.line=this.$R=0;this.onready && this.onready(void 0);}function c(I,K){var O;if(!(this instanceof c))return new c(I,K);b.apply(this);this.ax=new a(I,K);this.readable=this.writable=!0;O=this;this.ax.onend=function(){O.emit("end");};this.ax.onerror=function(R){O.emit("error",R);O.ax.error=null;};y.forEach(function(R){Object.defineProperty(O,"on" + R,{get:function(){return O.ax["on" + R];},set:function(Y){if(!Y)return (O.removeAllListeners(R),O.ax["on" + R]=Y);O.on(R,Y);},enumerable:!0,configurable:!1});});}function l(I){return I.split("").reduce(function(K,O){K[O]=!0;return K;},{});}function f(I,K){return "[object RegExp]" === Object.prototype.toString.call(I)?!!K.match(I):I[K];}function h(I,K,O){I.textNode && d(I);I[K] && I[K](O);}function d(I){I.textNode=g(I.cn,I.textNode);I.textNode && I.ontext && I.ontext(I.textNode);I.textNode="";}function g(I,K){I.trim && (K=K.trim());I.normalize && (K=K.replace(/\s+/g," "));return K;}function m(I,K){d(I);I.J$ && (K+="\nLine: " + I.line + "\nColumn: " + I.$R + "\nChar: " + I.c);K=Error(K);I.error=K;I.onerror && I.onerror(K);return I;}function k(I){I.wN && !I.ZR && n(I,"Unclosed root tag");I.state !== N.Uaa && I.state !== N.Vaa && I.state !== N.Ka && m(I,"Unexpected end");d(I);I.c="";I.closed=!0;I.onend && I.onend(void 0);a.call(I,I.dm,I.cn);return I;}function n(I,K){if("object" !== typeof I || !(I instanceof a))throw Error("bad call to strictFail");I.dm && m(I,K);}function p(I,K){var O,R;O=0 > I.indexOf(":")?["",I]:I.split(":");R=O[0];O=O[1];K && "xmlns" === I && (R="xmlns",O="");return {prefix:R,local:O};}function q(I){var K,O,R;I.dm || (I.Ji=I.Ji[I.Vpa]());if(-1 !== I.pA.indexOf(I.Ji) || I.tag.attributes.hasOwnProperty(I.Ji))return I.Ji=I.Ki="";if(I.cn.iY){K=p(I.Ji,!0);O=K.local;if("xmlns" === K.prefix)if("xml" === O && I.Ki !== E)n(I,"xml: prefix must be bound to " + E + "\nActual: " + I.Ki);else if("xmlns" === O && I.Ki !== J)n(I,"xmlns: prefix must be bound to " + J + "\nActual: " + I.Ki);else {K=I.tag;R=I.Ai[I.Ai.length - 1] || I;K.Bj === R.Bj && (K.Bj=Object.create(R.Bj));K.Bj[O]=I.Ki;}I.pA.push([I.Ji,I.Ki]);}else (I.tag.attributes[I.Ji]=I.Ki,h(I,"onattribute",{name:I.Ji,value:I.Ki}));I.Ji=I.Ki="";}function u(I,K){var O,R,oa,ka,ha,za,Ca;if(I.cn.iY){O=I.tag;R=p(I.tagName);O.prefix=R.prefix;O.local=R.local;O.uri=O.Bj[R.prefix] || "";O.prefix && !O.uri && (n(I,"Unbound namespace prefix: " + JSON.stringify(I.tagName)),O.uri=R.prefix);R=I.Ai[I.Ai.length - 1] || I;O.Bj && R.Bj !== O.Bj && Object.keys(O.Bj).forEach(function(La){h(I,"onopennamespace",{prefix:La,uri:O.Bj[La]});});R=0;for(var Y=I.pA.length;R < Y;R++){oa=I.pA[R];ka=oa[0];ha=oa[1];za=p(ka,!0);oa=za.prefix;Ca="" == oa?"":O.Bj[oa] || "";ha={name:ka,value:ha,prefix:oa,local:za.local,uri:Ca};oa && "xmlns" != oa && !Ca && (n(I,"Unbound namespace prefix: " + JSON.stringify(oa)),ha.uri=oa);I.tag.attributes[ka]=ha;h(I,"onattribute",ha);}I.pA.length=0;}I.tag.jec=!!K;I.wN=!0;I.Ai.push(I.tag);h(I,"onopentag",I.tag);K || (I.state=I.O5a || "script" !== I.tagName.toLowerCase()?N.Ka:N.WI,I.tag=null,I.tagName="");I.Ji=I.Ki="";I.pA.length=0;}function t(I){var K,O,Y;if(I.tagName){if(I.Kj){if("script" !== I.tagName){I.Kj+="</" + I.tagName + ">";I.tagName="";I.state=N.WI;return;}h(I,"onscript",I.Kj);I.Kj="";}K=I.Ai.length;O=I.tagName;I.dm || (O=O[I.Vpa]());for(var R=O;K--;){if(I.Ai[K].name !== R)n(I,"Unexpected close tag");else break;}if(0 > K)(n(I,"Unmatched closing tag: " + I.tagName),I.textNode+="</" + I.tagName + ">");else {I.tagName=O;for(O=I.Ai.length;O-- > K;){Y=I.tag=I.Ai.pop();I.tagName=I.tag.name;h(I,"onclosetag",I.tagName);for(var oa in Y.Bj){;}R=I.Ai[I.Ai.length - 1] || I;I.cn.iY && Y.Bj !== R.Bj && Object.keys(Y.Bj).forEach(function(ka){h(I,"onclosenamespace",{prefix:ka,uri:Y.Bj[ka]});});}0 === K && (I.ZR=!0);I.tagName=I.Ki=I.Ji="";I.pA.length=0;}}else (n(I,"Weird empty close tag."),I.textNode+="</>");I.state=N.Ka;}w={rf:function(I,K){return new a(I,K);}};w.fac=a;w.gac=c;w.PUa=function(I){return new c(I,void 0);};w.Gca=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.xk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(I){function K(){this.__proto__=I;}K.prototype=I;return new K();});Object.getPrototypeOf || (Object.getPrototypeOf=function(I){return I.__proto__;});Object.keys || (Object.keys=function(I){var K,O;K=[];for(O in I){I.hasOwnProperty(O) && K.push(O);}return K;});a.prototype={end:function(){k(this);},write:function(I){var Y,oa,ka,ha,za,Ca;if(this.closed)return m(this,"Cannot write after close. Assign an onready handler.");if(null === I)return k(this);if(this.error)throw this.error;for(var K=0,O;this.c=O=I.charAt(K++);){switch((this.J$ && (this.position++,"\n" === O?(this.line++,this.$R=0):this.$R++),this.state)){case N.Uaa:if((this.state=N.Vaa,"\ufeff" === O))continue;case N.Vaa:"<" === O?(this.state=N.ada,this.mwa=this.position):f(x,O) || (n(this,"Non-whitespace before first tag."),this.textNode=O,this.state=N.Ka);continue;case N.Ka:if(this.wN && !this.ZR){for(var R=K - 1;O && "<" !== O && "&" !== O;){(O=I.charAt(K++)) && this.J$ && (this.position++,"\n" === O?(this.line++,this.$R=0):this.$R++);}this.textNode+=I.substring(R,K - 1);}"<" !== O || this.wN && this.ZR && !this.dm?(f(x,O) || this.wN && !this.ZR || n(this,"Text data outside of root node."),"&" === O?this.state=N.tea:this.textNode+=O):(this.state=N.ada,this.mwa=this.position);continue;case N.WI:"<" === O?this.state=N.kLa:this.Kj+=O;continue;case N.kLa:"/" === O?this.state=N.dba:(this.Kj+="<" + O,this.state=N.WI);continue;case N.ada:"!" === O?(this.state=N.dea,this.sr=""):f(x,O) || (f(L,O)?(this.state=N.QHa,this.tagName=O):"/" === O?(this.state=N.dba,this.tagName=""):"?" === O?(this.state=N.qIa,this.S8=this.$G=""):(n(this,"Unencoded <"),this.mwa + 1 < this.position && (O=Array(this.position - this.mwa).join(" ") + O),this.textNode+="<" + O,this.state=N.Ka));continue;case N.dea:(this.sr + O).toUpperCase() === F?(h(this,"onopencdata"),this.state=N.zY,this.Gl=this.sr=""):"--" === this.sr + O?(this.state=N.GY,this.sr=this.Il=""):(this.sr + O).toUpperCase() === G?(this.state=N.LY,(this.doctype || this.wN) && n(this,"Inappropriately located doctype declaration"),this.sr=this.doctype=""):">" === O?(h(this,"onsgmldeclaration",this.sr),this.sr="",this.state=N.Ka):(f(B,O) && (this.state=N.nLa),this.sr+=O);continue;case N.nLa:O === this.q && (this.state=N.dea,this.q="");this.sr+=O;continue;case N.LY:">" === O?(this.state=N.Ka,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=O,"[" === O?this.state=N.mba:f(B,O) && (this.state=N.wBa,this.q=O));continue;case N.wBa:this.doctype+=O;O === this.q && (this.q="",this.state=N.LY);continue;case N.mba:this.doctype+=O;"]" === O?this.state=N.LY:f(B,O) && (this.state=N.vBa,this.q=O);continue;case N.vBa:this.doctype+=O;O === this.q && (this.state=N.mba,this.q="");continue;case N.GY:"-" === O?this.state=N.zAa:this.Il+=O;continue;case N.zAa:"-" === O?(this.state=N.yAa,(this.Il=g(this.cn,this.Il)) && h(this,"oncomment",this.Il),this.Il=""):(this.Il+="-" + O,this.state=N.GY);continue;case N.yAa:">" !== O?(n(this,"Malformed comment"),this.Il+="--" + O,this.state=N.GY):this.state=N.Ka;continue;case N.zY:"]" === O?this.state=N.oAa:this.Gl+=O;continue;case N.oAa:"]" === O?this.state=N.pAa:(this.Gl+="]" + O,this.state=N.zY);continue;case N.pAa:">" === O?(this.Gl && h(this,"oncdata",this.Gl),h(this,"onclosecdata"),this.Gl="",this.state=N.Ka):"]" === O?this.Gl+="]":(this.Gl+="]]" + O,this.state=N.zY);continue;case N.qIa:"?" === O?this.state=N.nda:f(x,O)?this.state=N.mda:this.S8+=O;continue;case N.mda:if(!this.$G && f(x,O))continue;else "?" === O?this.state=N.nda:this.$G+=O;continue;case N.nda:">" === O?(h(this,"onprocessinginstruction",{name:this.S8,body:this.$G}),this.S8=this.$G="",this.state=N.Ka):(this.$G+="?" + O,this.state=N.mda);continue;case N.QHa:if(f(H,O))this.tagName+=O;else {this.dm || (this.tagName=this.tagName[this.Vpa]());R=this.Ai[this.Ai.length - 1] || this;Y=this.tag={name:this.tagName,attributes:{}};this.cn.iY && (Y.Bj=R.Bj);this.pA.length=0;">" === O?u(this):"/" === O?this.state=N.z_:(!f(x,O) && n(this,"Invalid character in tag name"),this.state=N.kI);}continue;case N.z_:">" === O?(u(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=N.kI);continue;case N.kI:if(f(x,O))continue;else ">" === O?u(this):"/" === O?this.state=N.z_:f(L,O)?(this.Ji=O,this.Ki="",this.state=N.oY):n(this,"Invalid attribute name");continue;case N.oY:"=" === O?this.state=N.vaa:">" === O?(n(this,"Attribute without value"),this.Ki=this.Ji,q(this),u(this)):f(x,O)?this.state=N.iya:f(H,O)?this.Ji+=O:n(this,"Invalid attribute name");continue;case N.iya:if("=" === O)this.state=N.vaa;else if(f(x,O))continue;else (n(this,"Attribute without value"),this.Ki=this.tag.attributes[this.Ji]="",h(this,"onattribute",{name:this.Ji,value:""}),this.Ji="",">" === O?u(this):f(L,O)?(this.Ji=O,this.state=N.oY):(n(this,"Invalid attribute name"),this.state=N.kI));continue;case N.vaa:if(f(x,O))continue;else f(B,O)?(this.q=O,this.state=N.yaa):(n(this,"Unquoted attribute value"),this.state=N.zaa,this.Ki=O);continue;case N.yaa:if(O !== this.q){"&" === O?this.state=N.waa:this.Ki+=O;continue;}q(this);this.q="";this.state=N.jya;continue;case N.jya:f(x,O)?this.state=N.kI:">" === O?u(this):"/" === O?this.state=N.z_:f(L,O)?(n(this,"No whitespace between attributes"),this.Ji=O,this.Ki="",this.state=N.oY):n(this,"Invalid attribute name");continue;case N.zaa:if(!f(C,O)){"&" === O?this.state=N.xaa:this.Ki+=O;continue;}q(this);">" === O?u(this):this.state=N.kI;continue;case N.dba:if(this.tagName)">" === O?t(this):f(H,O)?this.tagName+=O:this.Kj?(this.Kj+="</" + this.tagName,this.tagName="",this.state=N.WI):(!f(x,O) && n(this,"Invalid tagname in closing tag"),this.state=N.vAa);else if(f(x,O))continue;else f(L,O)?this.tagName=O:this.Kj?(this.Kj+="</" + O,this.state=N.WI):n(this,"Invalid tagname in closing tag.");continue;case N.vAa:if(f(x,O))continue;">" === O?t(this):n(this,"Invalid characters in closing tag");continue;case N.tea:case N.waa:case N.xaa:switch(this.state){case N.tea:(oa=N.Ka,ka="textNode");break;case N.waa:oa=N.yaa;ka="attribValue";break;case N.xaa:(oa=N.zaa,ka="attribValue");}if(";" === O){O=ka;R=this[O];Y=this.Qm;ha=Y.toLowerCase();za="";if(this.ww[Y])Y=this.ww[Y];else if(this.ww[ha])Y=this.ww[ha];else {Y=ha;if("#" === Y.charAt(0))if("x" === Y.charAt(1)){Y=Y.slice(2);Ca=parseInt(Y,16);za=Ca.toString(16);}else (Y=Y.slice(1),Ca=parseInt(Y,10),za=Ca.toString(10));Y=Y.replace(/^0+/,"");Y=za.toLowerCase() !== Y?(n(this,"Invalid character entity"),"&" + this.Qm + ";"):String.fromCodePoint(Ca);}this[O]=R + Y;this.Qm="";this.state=oa;}else f(D,O)?this.Qm+=O:(n(this,"Invalid character entity"),this[ka]+="&" + this.Qm + O,this.Qm="",this.state=oa);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.nSa){I=Math.max(w.Gca,10);O=K=0;for(oa=v.length;O < oa;O++){ka=this[v[O]].length;if(ka > I)switch(v[O]){case "textNode":d(this);break;case "cdata":h(this,"oncdata",this.Gl);this.Gl="";break;case "script":h(this,"onscript",this.Kj);this.Kj="";break;default:m(this,"Max buffer length exceeded: " + v[O]);}K=Math.max(K,ka);}this.nSa=w.Gca - K + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Gl && (h(this,"oncdata",this.Gl),this.Gl="");"" !== this.Kj && (h(this,"onscript",this.Kj),this.Kj="");}};y=w.xk.filter(function(I){return "error" !== I && "end" !== I;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(I){this.ax.write(I.toString());this.emit("data",I);return !0;};c.prototype.end=function(I){I && I.length && this.write(I);this.ax.end();return !0;};c.prototype.on=function(I,K){var O;O=this;O.ax["on" + I] || -1 === y.indexOf(I) || (O.ax["on" + I]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,I);O.emit.apply(O,R);});return b.prototype.on.call(O,I,K);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";D=z + A + "#";C=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";M={xml:E,iY:J};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);D=l(D);C=l(C);N=0;w.Gz={Uaa:N++,Vaa:N++,Ka:N++,tea:N++,ada:N++,dea:N++,nLa:N++,LY:N++,wBa:N++,mba:N++,vBa:N++,d8b:N++,GY:N++,zAa:N++,yAa:N++,zY:N++,oAa:N++,pAa:N++,qIa:N++,mda:N++,nda:N++,QHa:N++,z_:N++,kI:N++,oY:N++,iya:N++,vaa:N++,yaa:N++,jya:N++,zaa:N++,waa:N++,xaa:N++,dba:N++,vAa:N++,WI:N++,kLa:N++};w.Dmb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.ww={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.ww).forEach(function(I){var K;K=w.ww[I];K="number" === typeof K?String.fromCharCode(K):K;w.ww[I]=K;});for(N in w.Gz){w.Gz[w.Gz[N]]=N;}N=w.Gz;String.fromCodePoint || (function(){var K,O;function I(){var R,Y,oa,ha,za;R=[];Y=-1;oa=arguments.length;if(!oa)return "";for(var ka="";++Y < oa;){ha=Number(arguments[Y]);if(!isFinite(ha) || 0 > ha || 1114111 < ha || O(ha) != ha)throw RangeError("Invalid code point: " + ha);if(65535 >= ha)R.push(ha);else {ha-=65536;za=(ha >> 10) + 55296;ha=ha % 1024 + 56320;R.push(za,ha);}if(Y + 1 == oa || 16384 < R.length)(ka+=K.apply(null,R),R.length=0);}return ka;}K=String.fromCharCode;O=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0}):String.fromCodePoint=I;})();r.exports=w;},59723:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},64433:function(r,b,a){var h,d,g,m,k,n,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:k[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}h=a(59723);r.exports={Fzb:function(q,u){var t,w,v,y,x,z,G;t=u.textNodes[0] || ({});w=q.regions;v=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});w=w && w[u.region]?w[u.region]:{};v=v && v[t.style]?v[t.style]:{};t=t.lang;z=f(h(u.extent,w.extent,"80% 80%"),q);if(w.position){for(var A=w.position.split(" "),B=[.5,.5],D=["left","top"],C=0,F=0;F < A.length;F++){G=A[F];(G in p)?(D[C]=G,F + 1 >= A.length && (B[C++]=0)):"center" === G?B[C++]=.5:B[C++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(D[0]) || -1 < ["left","right"].indexOf(D[1])?(C="bottom" === D[0]?1 - B[0]:B[0],A="right" === D[1]?1 - B[1]:B[1]):(A="right" === D[0]?1 - B[0]:B[0],C="bottom" === D[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * C];}else B=null;u=B?B:f(h(B,u.origin,w.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;D=u[0];u=u[1];z=q.create.call(q,{marginLeft:D * y + B,marginTop:u,marginRight:(1 - (D + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=w.writingMode?w.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:n[y];1 < Object.keys(w).length?(y=h(v.displayAlign,w.displayAlign,"before"),"tblr" === w.writingMode || "tbrl" === w.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === w.writingMode?g[y]:m[y],z.verticalAlignment=c(h(v.textAlign,w.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(h(v.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(h(v.textAlign,w.textAlign,"center")));z.multiRowAlignment=l(h(v.multiRowAlign,w.multiRowAlign,v.textAlign,w.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};m={before:"right",center:"center",after:"left"};k={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},41555:function(r,b,a){var m,k,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C){return "string" !== typeof C || "#" === C[0] && 7 === C.length?C:"#" === C[0] && 4 === C.length?"#" + C[1] + C[1] + C[2] + C[2] + C[3] + C[3]:n[C.toLowerCase()];}function l(C){var F,G,E;F=(C || "").split(" ");G=(/^[0-9]/).test(F);C=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:C,width:0 < G?G:0,blur:0 < F?F:0};}function f(C,F){if(-1 < F.indexOf(C))return C;}function h(C){var F,G;if(!C)return null;C=C.split(" ");if(0 === C.length)return null;F=d(C,D);F=F.length?F[0]:"outside";G=d(C,B);if(G.length)return g(G[0],"",F);G=d(C,z);C=d(C,A);return C.length || G.length?g(C.length?C[0]:"circle",G.length?G[0]:"filled",F):g("auto","",F);}function d(C,F){return C.filter(function(G){return -1 !== F.indexOf(G);});}function g(C,F,G){return {textEmphasisShape:C,textEmphasisFill:F,textEmphasisPosition:G};}m=a(59723);r.exports={Jzb:function(C,F,G){var E,J,M,L,H,N,I,K,O,R,Y,oa,ka,ha,za,Ca;E=m(G.characterSize,F.characterSize,"MEDIUM");lit(" ")[0] || "";L=-1 < M.indexOf("%")?parseInt(M,10) / 100:-1 < M.indexOf("em")?parseFloat(M):1;M="underline" === C.textDecoration;H="italic" === C.fontStyle;N=k[m(G.H6b,F.H6b,"OPAQUE")];I=k[m(G.characterOpacity,F.characterOpacity,"OPAQUE")];K=k[m(G.backgroundOpacity,C.opacity,F.backgroundOpacity,"OPAQUE")];O=c(m(G.characterColor,C.color,F.characterColor,"#ffffff"));R=c(m(G.backgroundColor,C.backgroundColor,F.backgroundColor,null));Y=c(m(G.Heb,C.Heb,F.Heb,null));oa=m(G.characterEdgeAttributes,F.characterEdgeAttributes,null);L*=q[E] || 1;ka=1;u[E] && (ka=u[E][J] || 1);L*=1 / 19 * ka;ka=0;t[E] && (ka=t[E][J] || 0);E=ka;ka=C.textOutline;ka="string" !== typeof ka?null:l(ka).width;ka=m(ka,0);ha=C.textOutline;ha="string" !== typeof ha?null:l(ha).blur;ha=m(ha,0);za=G.characterEdgeColor;Ca=C.textOutline;Ca="string" !== typeof Ca?null:l(Ca).color;return {characterUnderline:M,characterItalic:H,characterStyle:J,windowOpacity:N,characterOpacity:I,backgroundOpacity:K,characterColor:O,backgroundColor:R,windowColor:Y,characterEdgeAttributes:oa,characterSize:L,characterTracking:E,characterEdgeWidth:ka,characterEdgeBlur:ha,characterEdgeColor:c(m(za,Ca,F.characterEdgeColor,"#000000")),direction:m(G.direction,C.direction,F.direction,"ltr"),ruby:m(f(C.ruby,w),null),rubyAlign:m(f(C.rubyAlign,v),null),rubyPosition:m(f(C.rubyPosition,x),null),rubyReserve:m(f(C.rubyReserve,y),null),textEmphasis:h(C.textEmphasis),shear:C.shear?.01 * parseFloat(C.shear):null,textCombine:C.textCombine?C.textCombine:null};}};k={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");v=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];D=["before","after","outside"];},18559:function(r){function b(a,c){var l,f,h,d,g,m;l=[];f=a.indexOf("<p");h=-1;do {d={};d.y1b=f;g=a.indexOf("begin=",f) + 7;m=a.indexOf("end=",f) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);m=Math.floor(parseInt(a.substr(m,25),10) / c * 1E3);h=m > h?m:h;d.startTime=g;d.endTime=m;d.latestEndSoFar=h;d.aXa=a.indexOf("/p>",f) + 3;f=d.aXa;l.push(d);f=a.indexOf("<p",f);}while(-1 !== f);this.Mo=l;this.lE=a;}b.prototype.BXa=function(){return this.Mo[this.Mo.length - 1].endTime;};b.prototype.Pl=function(a,c){return this.Mo.filter(function(l){return l.startTime <= c && l.endTime >= a;}).length;};b.prototype.HIb=function(a){for(var c="",l=this.Mo.filter(function(h){return h.startTime <= a && a < h.endTime || h.startTime >= a;}),f=4;f + 1 < l.length && l[f + 1].startTime === l[4].startTime;){f++;}l=l.slice(0,f + 1);0 < l.length && (c=this.lE.slice(l[0].y1b,l[l.length - 1].aXa));return c;};r.exports=b;},27057:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.m_=b.IFa=b.zP=void 0;c=a(42866);b.zP=1E4;r=(function(){function f(h){this.yf=[];this.LQ=0;this.ja=h;}Object.defineProperty(f.prototype,"endOfStreamSegment",{get:function(){return this.tnb;},enumerable:!1,configurable:!0});f.prototype.MF=function(h){var d;d=(0,c.xc)(this.yf,function(g){return h >= g.ab && h < g.mf;});"undefined" === typeof d && this.ja.warn("Get Segment at pts " + h + " is undefined");return d;};f.prototype.Oga=function(h,d){var m;for(var g=this.yf;0 < g.length && 300 <= h.I - g[0].I;){this.HW();}for(;0 < g.length && 300 <= g[g.length - 1].I - h.I;){this.gva();}m=new l(h,d);h=g.length;if(0 === h || g[h - 1].I < m.I)this.hva(m);else {h=(0,c.xc)(g,function(k){return k.I >= m.I;});if((null === h || void 0 === h?void 0:h.I) === m.I)return;this.iva(g.indexOf(h),m);}m.endOfStream && (this.ja.trace("EOS segment added to segment manager"),this.tnb=m);this.LQ=g[g.length - 1].I;};f.prototype.MX=function(h){var d;if("undefined" === typeof h)this.ja.warn("Current segment is undefined.");else for((this.yl=h,this.ja.trace(("Current segment id is ").concat(h.I)));(null === (d=this.yf[0]) || void 0 === d?void 0:d.mf) < h.mf - b.zP;){this.HW();}};f.prototype.Sma=function(){if(this.No){if(this.LQ !== this.No.I)return this.yf[this.yf.indexOf(this.No) + 1];}else return this.yf[0];};f.prototype.Rt=function(h){this.No=this.gv(h);};f.prototype.gv=function(h){var d;d=(0,c.xc)(this.yf,function(g){return g.I === h;});"undefined" === typeof d && this.ja.error("Segment with segmentId " + h + " is not in segmentArray");return d;};f.prototype.pT=function(){var h;return (null === (h=this.No) || void 0 === h?void 0:h.I) || -1;};f.prototype.zxa=function(h,d){h=this.gv(h);"undefined" !== typeof h && (this.yf[this.yf.indexOf(h)].header=d);};f.prototype.x_a=function(h){return this.gv(h);};f.prototype.Ama=function(h){h=this.gv(h);return (null === h || void 0 === h?void 0:h.header) || ({});};f.prototype.HW=function(){this.yf.shift();};f.prototype.hva=function(h){this.yf.push(h);};f.prototype.iva=function(h,d){this.yf.splice(h,0,d);};f.prototype.gva=function(){this.yf.pop();};return f;})();b.IFa=r;l=(function(){return function(f,h){this.I=f.I;this.xml=f.xml;this.ab=f.ab;this.mf=f.mf;this.TF=h;this.size=f.size;this.hr=f.hr;this.endOfStream=f.endOfStream;};})();b.m_=l;},29602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;c=a(5163);r=(function(l){function f(h,d){d=l.call(this,h,d) || this;d.xml=h.xml;d.size=h.size;return d;}c.__extends(f,l);return f;})(a(27057).m_);b.KFa=r;},47602:function(r,b,a){var c,l,f,h,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(14387);h=a(27057);d=a(42353);g=a(42353);m=r.EventEmitter;a=(function(k){function n(p){var q,u,t,w,v;q=k.call(this) || this;u=p.preferences;t=p.Lf;w=p.ye;v=p.la;m.call(q);q.ix=new d.uca(v);q.cx="object" === typeof u?p.preferences:{};q.Uw="object" === typeof t?p.Lf:{};q.Dk="number" === typeof w?p.ye:0;q.ja="object" === typeof v?p.la:console;q.xf=[];q.Wh=0;q.Uj=q.Dk;q.md=null;q.Bn=!1;q.um=!1;q.ED=p.eW || 0;q.kd=new h.IFa(q.ja);q.ja.trace("LiveTextStream created with options",p);return q;}c.__extends(n,k);n.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Dk));"undefined" !== typeof this.kd.MF(this.Dk) && this.KG.call(this,this.Dk);};n.prototype.Fta=function(p){var q,u,t,w;q=this;u=p.xml;t=u.indexOf("<p");this.ja.trace("pushNextSegment",p);this.kd.Oga(p,-1 !== t?t:0);if(!this.Bn){w=this.kd.yf[0];this.kd.MX(w);this.Dk=w.ab;}-1 < t?(this.ix.KQa(u,p.I,p.hr),this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{ab:p.ab,mf:p.mf,KBb:p.hr}),!this.Bn && 4 > this.Wh && (u=0 < this.xf.length?this.xf[this.xf.length - 1].startTime + 1:this.Dk,this.ja.trace("parseNextSegment is called from push new live Segment at " + u),this.KG.call(this,u))):(this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.Bn || setTimeout(function(){q.Rt(p.I);},10));};n.prototype.ZA=function(p){var q,u,t,w,v,y;q=this;w=this;w.ja.trace(("LiveTextStream:get subtitles at pts ").concat(p));v=w.kd.MF(p);if("undefined" === typeof v)return (w.ja.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);w.kd.MX(v);p < w.Uj - w.ED?(w.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(w.Uj,", _backupTolerance: ").concat(w.ED)),w.xf=[],w.Wh=0):(w.Wh=0 < w.xf.length?Math.max(w.kd.pT() - v.I + 1,0):0,0 === w.Wh && (w.xf=[]));v=w.xf;w.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (u=v[v.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.kd.No;y=0 < v.length && void 0 !== u?u.ab:p;w.Uj=p;w.ja.info("LiveTextStream: timer is " + w.md + " bufffered segment number is " + w.Wh + " is parsing entry : " + this.um + " maxBufferedStartPts " + (null === (t=this.kd.No) || void 0 === t?void 0:t.ab));for(!w.md && 4 > w.Wh && !w.um && (w.ja.info("LiveTextStream: buffer size: " + w.Wh + "; minimum: 4"),w.um=!0,w.md=setTimeout(function(){w.md=null;q.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.KG.call(w,y + 1);},10));0 < v.length && v[0].endTime < p;){v.shift();}return (0,l.S4)(v,p).map(function(x){var z;z=w.kd.Ama(x.segId);return l.z3.call(w,z,x);});};n.prototype.Pl=function(p,q){return this.ix?this.ix.Pl(p,q):0;};n.prototype.JC=function(p){return l.JC.call(this,p);};n.prototype.close=function(){};n.prototype.KG=function(p){var q;q=this.Qma.call(this,p);"undefined" !== typeof q?(this.ja.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.TF?(this.ja.trace("This is an empty segment"),this.Rt(q.I)):(this.qsa.call(this,q),this.ja.trace("parseNextSegEntries buffer length: " + this.xf.length))):(this.ja.debug("Next segment is undefined at pts " + p),this.um=!1);};n.prototype.Qma=function(p){var q,u;u=this.ix.UZa(p);this.ja.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.kd.MF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.kd.pT()?this.kd.Sma():this.kd.gv(u);};n.prototype.qsa=function(p){var q,u,t,w,v;q=this;u=this;t=p.xml.slice(0,p.TF);w=p.xml.slice(p.TF,p.xml.lastIndexOf("/p>") + 3);(0,l.W6a)(t,function(y,x){null !== y?(y.r0a=t,y.I=p.I,u.emit("error",y)):(v=x,u.kd.zxa(p.I,v),q.nsa.call(u,w,v,p));});};n.prototype.nsa=function(p,q,u){var t,w,v,y,x,z,A;t=this;w=this;v=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ja.debug(p);A=f.rf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.xf.reduce(function(D,C){C=C.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return D.concat(C);},[]);y.forEach(function(D){var C;if(-1 === B.indexOf(D.id)){C=D && D.blocks && D.blocks.filter(function(F){return 0 < F.textNodes.length;});C && 0 < C.length && (D.blocks=C,w.xf.push(D));}});t.Rt(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Rd)((0,l.Rd)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Rd)(x),lang:(0,l.Rd)(z),lineBreaks:v});v=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){v=0;B=u.I.toString() + "_" + D["xml:id"];D.style && x.push(D.style);D["xml:lang"] && z.push(D["xml:lang"]);C=(0,g.SE)(D.begin);0 === y.length || (0,l.Rd)(y).displayTime !== C?(D=t.Aja(B,0,D,u.hr),D.segId=u.I,y.push(D)):(0,l.Rd)(y).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(x.push(D.style),D["xml:lang"] && z.push(D["xml:lang"]),B=q.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Rd)((0,l.Rd)(y).blocks).textNodes.push({text:"",style:(0,l.Rd)(x),lang:(0,l.Rd)(z),lineBreaks:0})):"br" === B && v++;};A.write("<entries>").write(p).write("</entries>").close();};n.prototype.Aja=function(p,q,u,t){var w;w={};w.id=p;w.startTime=(0,g.SE)(u.begin || "") - t;w.endTime=(0,g.SE)(u.end || "") - t;w.style=u.style;w.region=u.region;w.displayTime=w.startTime;w.duration=w.endTime - w.startTime;w.extent=u["tts:extent"] || null;w.origin=u["tts:origin"] || null;w.latestEndSoFar=q > w.endTime?q:w.endTime;w.blocks=[{textNodes:[],region:w.region,id:p,extent:w.extent || null,origin:w.origin || null}];return w;};n.prototype.Rt=function(p){this.kd.Rt(p);this.Wh+=1;this.um=!1;this.ja.trace("updateMaxParsedSegment " + p);if(!this.Bn && 4 <= this.Wh || this.kd.Oka && this.kd.x_a(p) === this.kd.Oka)(this.kd.Oka && this.kd.x_a(p) === this.kd.Oka && this.ja.trace("Marking stream ready due to EOS"),this.Bn=!0,this.emit("ready"));};return n;})(m);b.LFa=a;},42353:function(r,b,a){var l;function c(f){var h;f=f.split(".");h=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * h[0] + 60 * h[1] + h[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.SE=b.uca=void 0;l=a(42866);r=(function(){function f(h){this.Mo=[];this.ja=h;}f.prototype.KQa=function(h,d,g){var m,k,n,p,q,u;void 0 === g && (g=0);m=this.Mo;k=h.indexOf("<p");n=-1;do {p={};p.I=d;p.Sab=k;q=h.indexOf("begin=",k) + 7;u=h.indexOf("end=",k) + 5;q=c(h.substring(q,q + 12)) - g;u=c(h.substring(u,u + 12)) - g;n=u > n?u:n;p.startTime=q;p.endTime=u;p.latestEndSoFar=n;p.FDb=h.indexOf("/p>",k) + 3;k=p.FDb;if(0 === m.length || p.startTime > m[m.length - 1].startTime)(m.push(p),this.ja.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,vDb:p.endTime}));else if((u=(0,l.xc)(m,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Sab !== p.Sab))(u=m.indexOf(u),m.splice(u,0,p),this.ja.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,vDb:p.endTime}));k=h.indexOf("<p",k);}while(-1 !== k);};f.prototype.Pl=function(h,d){return this.Mo.filter(function(g){return g.startTime <= d && g.endTime >= h;}).length;};f.prototype.yta=function(h){this.Mo=this.Mo.filter(function(d){return d.startTime >= h;});};f.prototype.UZa=function(h){var d;d=(0,l.xc)(this.Mo,function(g){return g.startTime <= h && h < g.endTime || g.startTime >= h;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.BXa=function(){return 0 < this.Mo.length?this.Mo[this.Mo.length - 1].endTime:0;};return f;})();b.uca=r;b.SE=c;},17460:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.m_=b.FHa=b.zP=void 0;c=a(42866);b.zP=1E4;r=(function(){function l(f){this.yf=[];this.LQ=0;this.ja=f;}l.prototype.MF=function(f){var h;h=(0,c.xc)(this.yf,function(d){return f >= d.ab && f < d.mf;});"undefined" === typeof h && this.ja.warn("Get Segment at pts " + f + " is undefined");return h;};l.prototype.Oga=function(f){var d;for(var h=this.yf;0 < h.length && 300 <= f.I - h[0].I;){this.HW();}for(;0 < h.length && 300 <= h[h.length - 1].I - f.I;){this.gva();}d=h.length;if(0 === d || h[d - 1].I < f.I)this.hva(f);else {d=(0,c.xc)(h,function(g){return g.I >= f.I;});if((null === d || void 0 === d?void 0:d.I) === f.I)return;this.iva(h.indexOf(d),f);}this.LQ=h[h.length - 1].I;};l.prototype.MX=function(f){var h;if("undefined" === typeof f)this.ja.warn("Current segment is undefined.");else for((this.yl=f,this.ja.trace(("Current segment id is ").concat(f.I)));(null === (h=this.yf[0]) || void 0 === h?void 0:h.mf) < f.mf - b.zP;){this.HW();}};l.prototype.Sma=function(){if(this.No){if(this.LQ !== this.No.I)return this.yf[this.yf.indexOf(this.No) + 1];}else return this.yf[0];};l.prototype.Rt=function(f){this.No=this.gv(f);};l.prototype.gv=function(f){var h;h=(0,c.xc)(this.yf,function(d){return d.I === f;});"undefined" === typeof h && this.ja.error("Segment with segmentId " + f + " is not in segmentArray");return h;};l.prototype.pT=function(){var f;return (null === (f=this.No) || void 0 === f?void 0:f.I) || -1;};l.prototype.zxa=function(f,h){f=this.gv(f);"undefined" !== typeof f && (this.yf[this.yf.indexOf(f)].header=h);};l.prototype.Ama=function(f){f=this.gv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};l.prototype.HW=function(){this.yf.shift();};l.prototype.hva=function(f){this.yf.push(f);};l.prototype.iva=function(f,h){this.yf.splice(f,0,h);};l.prototype.gva=function(){this.yf.pop();};return l;})();b.FHa=r;b.m_=(function(){return function(l,f){this.I=l.I;this.xml=l.xml;this.ab=l.ab;this.mf=l.mf;this.TF=f;this.hr=l.hr;};})();},53144:function(r,b,a){var c,l,f,h,d,g,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(42756);h=a(29602);d=a(42353);g=a(17460);m=a(19070);k=r.EventEmitter;a=(function(n){function p(q,u){var t,w,v,y,x;void 0 === u && (u=f.jD.Ka);t=n.call(this) || this;w=q.preferences;v=q.Lf;y=q.ye;x=q.la;k.call(t);t.ix=new d.uca(x);t.cx="object" === typeof w?q.preferences:{};t.Uw="object" === typeof v?q.Lf:{};t.Dk="number" === typeof y?q.ye:0;t.ja="object" === typeof x?q.la:console;t.xf=[];t.Wh=0;t.Uj=t.Dk;t.md=null;t.Bn=!1;t.um=!1;t.ED=q.eW || 0;t.kd=new g.FHa(t.ja);t.OPa=u;if(u === f.jD.Ka)t.n1=new m.KLa(t.ja,t.cx,t.Uw);else throw Error("Not implemented yet");t.ja.trace("LiveTextStream created with options",q);return t;}c.__extends(p,n);p.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Dk));"undefined" !== typeof this.kd.MF(this.Dk) && this.KG.call(this,this.Dk);};p.prototype.Fta=function(q){var u,t,w,v;u=this;t=q.xml;w=t.indexOf("<p");if(this.OPa === f.jD.Ka)v=new h.KFa(q,-1 !== w?w:0);else throw Error("Not yet implemented");this.kd.Oga(v);this.Bn || (q=this.kd.yf[0],this.kd.MX(q),this.Dk=q.ab);-1 < w?(this.ix.KQa(t,v.I,v.hr),this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager"),{ab:v.ab,mf:v.mf,KBb:v.hr}),!this.Bn && 4 > this.Wh && (t=0 < this.xf.length?this.xf[this.xf.length - 1].startTime + 1:this.Dk,this.ja.trace("parseNextSegment is called from push new live Segment at " + t),this.KG.call(this,t))):(this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager, it is an empty segment")),this.Bn || setTimeout(function(){u.Rt(v.I);},10));};p.prototype.ZA=function(q){var u,t,w,v,y,x;u=this;v=this;v.ja.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=v.kd.MF(q);if("undefined" === typeof y)return (v.ja.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);v.kd.MX(y);q < v.Uj - v.ED?(v.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(v.Uj,", _backupTolerance: ").concat(v.ED)),v.xf=[],v.Wh=0):(v.Wh=0 < v.xf.length?Math.max(v.kd.pT() - y.I + 1,0):0,0 === v.Wh && (v.xf=[]));y=v.xf;v.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.kd.No;x=0 < y.length && void 0 !== t?t.ab:q;v.Uj=q;v.ja.info("LiveTextStream: timer is " + v.md + " bufffered segment number is " + v.Wh + " is parsing entry : " + this.um + " maxBufferedStartPts " + (null === (w=this.kd.No) || void 0 === w?void 0:w.ab));for(!v.md && 4 > v.Wh && !v.um && (v.ja.info("LiveTextStream: buffer size: " + v.Wh + "; minimum: 4"),v.um=!0,v.md=setTimeout(function(){v.md=null;u.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.KG.call(v,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.n1.S4(y,q).map(function(z){var A;A=v.kd.Ama(z.segId);return u.n1.z3(A,z);});};p.prototype.Pl=function(q,u){return this.ix?this.ix.Pl(q,u):0;};p.prototype.JC=function(q){return this.n1.JC(q);};p.prototype.close=function(){};p.prototype.KG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(w){switch(w.label){case 0:u=this;t=this.Qma.call(u,q);if("undefined" === typeof t)return [3,4];u.ja.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.TF)return [3,1];u.ja.trace("This is an empty segment");this.Rt(t.I);return [3,3];case 1:return [4,this.qsa.call(u,t)];case 2:(w.Ra(),u.ja.trace("parseNextSegEntries buffer length: " + u.xf.length),w.label=3);case 3:return [3,5];case 4:return (u.ja.debug("Next segment is undefined at pts " + q),this.um=!1,[2]);case 5:return [2];}});});};p.prototype.Qma=function(q){var u,t;t=this.ix.UZa(q);this.ja.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.kd.MF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.kd.pT()?this.kd.Sma():this.kd.gv(t);};p.prototype.qsa=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,v,y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(u=this,t=q.xml.slice(0,q.TF),D.label=1);case 1:return (D.Oj.push([1,3,,4]),[4,this.uUb(t)]);case 2:return (w=D.Ra(),[3,4]);case 3:return (v=D.Ra(),this.Fka(v),[3,4]);case 4:if(!w)return (y=Error("Parsing header text returned undefined"),this.Fka(y),[2]);if(w.error)return (x=w.error,x.r0a=t,x.I=q.I,this.Fka(x),[2]);A=w.head;this.kd.zxa(q.I,A);return this.OPa !== f.jD.Ka?[3,6]:[4,this.n1.nsa(q,A)];case 5:return (z=D.Ra(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.xf.reduce(function(C,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return C.concat(F);},[]),z && (z.forEach(function(C){var F;if(-1 === B.indexOf(C.id)){F=C && C.blocks && C.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (C.blocks=F,u.xf.push(C));}}),this.Rt(q.I)),[2]);}});});};p.prototype.Fka=function(q){this.ja.error(q);this.emit("error",q);};p.prototype.Rt=function(q){this.kd.Rt(q);this.Wh+=1;this.um=!1;!this.Bn && 4 <= this.Wh && (this.Bn=!0,this.emit("ready"));};p.prototype.uUb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.W6a)(q,function(t,w){t?u({error:t}):u({head:w});});})];});});};return p;})(k);b.GHa=a;},19070:function(r,b,a){var c,l,f,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;c=a(5163);l=a(94536);f=a(94536);h=a(14387);d=a(42353);r=(function(){function g(m,k,n){this.ja=m;this.cx=n;this.Uw=k;}g.prototype.nsa=function(m,k){return c.__awaiter(this,void 0,void 0,function(){var n,p,q,u,t,w,v,y,x;x=this;return c.__generator(this,function(){n=this;p=0;q=[];u=k.defaultStyle?[k.defaultStyle]:[];t=k.lang?[k.lang]:[];w=m.xml.lastIndexOf("/p>") + 3;v=m.xml.slice(m.TF,w);n.ja.debug(v);y=h.rf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=v;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Rd)((0,l.Rd)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Rd)(u),lang:(0,l.Rd)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){p=0;B=m.I.toString() + "_" + D["xml:id"];D.style && u.push(D.style);D["xml:lang"] && t.push(D["xml:lang"]);C=(0,d.SE)(D.begin);0 === q.length || (0,l.Rd)(q).displayTime !== C?(D=x.Aja(B,0,D,m.hr),D.segId=m.I,q.push(D)):(0,l.Rd)(q).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(u.push(D.style),D["xml:lang"] && t.push(D["xml:lang"]),B=k.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Rd)((0,l.Rd)(q).blocks).textNodes.push({text:"",style:(0,l.Rd)(u),lang:(0,l.Rd)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(v).write("</entries>").close();})];});});};g.prototype.S4=function(m,k){return l.S4.call(this,m,k);};g.prototype.z3=function(m,k){return l.z3.call(this,m,k);};g.prototype.JC=function(m){return f.JC.call(this,m);};g.prototype.Aja=function(m,k,n,p){var q;q={};q.id=m;q.startTime=(0,d.SE)(n.begin || "") - p;q.endTime=(0,d.SE)(n.end || "") - p;q.style=n.style;q.region=n.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=n["tts:extent"] || null;q.origin=n["tts:origin"] || null;q.latestEndSoFar=k > q.endTime?k:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:m,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.KLa=r;},56485:function(r,b,a){var l,f,h,d,g,m,k;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.pmb=void 0;l=a(5163);r=a(22699);f=a(94536);h=a(47602);d=a(53144);g=a(42756);m=a(5725);k=a(83755);r=(function(n){function p(q,u){var t,w,v,y,x;t=this;t=n.call(this) || this;t.Fu=!0;t.FQ=[];t.Uj=0;t.xPa=!0;y=t;x=q.nf || !1;t.ja=q.la || console;t.dE=q.request;t.gs=q.hJb;t.Q0=null !== (w=q.Gdc) && void 0 !== w?w:function(z,A){return z - (null !== A && void 0 !== A?A:t.gs());};t.md=null;t.Fu=!0;t.FQ=[];t.FJ=u.profile;t.Xf=u.url;t.aE=u.ye;t.cx=u.preferences;t.Uw=u.Lf;t.Uj=t.aE || 0;t.xPa=null !== (v=u.Lfc) && void 0 !== v?v:!0;w={url:t.Xf,request:t.dE,ye:t.aE,xml:u.xml,preferences:t.cx,Lf:t.Uw,la:t.ja,nf:x,bufferSize:u.bufferSize,mt:u.mt,eW:u.eW || 0,qSa:u.qSa};if("nflx-cmisc" === t.FJ)(w.offset=u.Kqa,w.size=u.R4a,w.L9=u.L9,w.zWa=u.zWa,t.Dd=new m(w));else if(u.ha && c(t.FJ))t.Dd=u.fhc?new d.GHa(w,g.jD.Ka):new h.LFa(w);else if(c(t.FJ) && "function" === typeof f.ica)t.Dd=new f.ica(w);else throw Error("SubtitleManager: " + t.FJ + " is an unsupported profile");t.Dd.on("ready",function(){var A,B,D;function z(){return y.Fu;}A=!!u.URa;y.ja.info("ready event fired by subtitle stream");y.emit("ready");B=y.Dd.ZA.bind(y.Dd);if(q.Yma && q.w8){D=a(36888).vza;y.md=new D(y.gs,B,t.Q0,y.ja,z,q.Yma,q.w8,u);}else y.md=new k(y.gs,B,t.Q0,z,y.ja,u);if("dfxp-ls-sdh" === y.FJ && "function" === typeof f.ica)y.md.on("stagesubtitle",y.fwa.bind(y));y.md.on("showsubtitle",y.Vva.bind(y));y.md.on("removesubtitle",y.bua.bind(y));y.md.on("underflow",y.im.bind(y));y.md.on("bufferingComplete",y.Em.bind(y));A && (y.ja.info("autostarting subtitles"),setTimeout(function(){y.dz(y.gs());},10));});t.Dd.on("error",t.emit.bind(t,"error"));return t;}l.__extends(p,n);p.prototype.start=function(){this.Dd.start();};p.prototype.r8a=function(){this.Fu || (this.Fu=!0,this.TWa(this.Uj));};p.prototype.dz=function(q){this.xPa && !this.Fu && 1E4 < Math.abs(q - this.Uj) && (this.ja.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.r8a());this.Uj=q;this.Fu && (this.Fu=!1,this.M1b(q));null !== this.md && (this.Y4b(q),this.md.dz(q));};p.prototype.stop=function(){var q;this.ja.info("stop called");this.Fu || this.pause();this.Dd.removeAllListeners(["ready"]);null !== this.md && this.md.stop();q=this.FQ.reduce(function(u,t){u.Fab+=t.TW;u.h4+=t.i4 || 0;u.DMb.push(t);return u;},{Fab:0,h4:0,DMb:[]});"object" === typeof this.Dd && this.Dd.close();this.ja.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.gs();this.Fu?this.ja.warn("pause called on subtitle manager, but it was already paused!"):(this.ja.info("pause called at " + q),this.Fu=!0,this.TWa(q));null !== this.md && this.md.pause();};p.prototype.i5=function(q,u){return "function" === typeof this.Dd.i5?this.Dd.i5(q,u):[];};p.prototype.Pl=function(q,u){return this.Dd.Pl(q,u);};p.prototype.ZA=function(q){return this.Dd.ZA(q);};p.prototype.vC=function(q){var t;function u(){t.ja.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.Dd.vC?this.Dd.vC(q,u):u();};p.prototype.Lj=function(q,u){"function" === typeof this.Dd.Lj && this.Dd.Lj(q,u);};p.prototype.bj=function(q,u){"function" === typeof this.Dd.bj && this.Dd.bj(q,u);};p.prototype.Dta=function(q){"function" === typeof this.Dd.Fta && this.Dd.Fta(q);};p.prototype.M4=function(){return this.FQ[this.FQ.length - 1];};p.prototype.Vva=function(q){var u,t,w,x;t=0;this.ja.info("show subtitle called at " + this.gs() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);w=this.M4();w.Jt || (w.Jt={});if(c(this.FJ))try{for(var v=l.__values(q.blocks),y=v.next();!y.done;y=v.next()){x=y.value;w.Jt.hasOwnProperty(x.id) || t++;w.Jt[x.id]=q.endTime;}}catch(A){var z;z={error:A};}finally{try{y && !y.done && (u=v.return) && u.call(v);}finally{if(z)throw z.error;}}else (w.Jt.hasOwnProperty(q.id) || t++,w.Jt[q.id]=q.endTime);this.ywb();w.TW+=t;};p.prototype.ywb=function(){var q,u,t;q=this.M4();if(null === q || void 0 === q?0:q.Jt){u=q.Jt;t=Object.keys(q.Jt);30 < t.length && (t=t.sort(function(w,v){return u[v] - u[w];}),t.splice(19,Math.max(t.length - 20,0)),q.Jt={},t.forEach(function(w){q.Jt[w]=u[w];}));}};p.prototype.bua=function(q){this.ja.info("remove subtitle called at " + this.gs() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.fwa=function(q){this.ja.info("stage subtitle called at " + this.gs() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.im=function(){this.ja.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Em=function(){this.ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.M1b=function(q){this.ja.debug("creating a new subtitle interval at " + q);this.FQ.push({ab:q,TW:0});};p.prototype.Y4b=function(q){var u;u=this.M4();u && (u.tpa=q);};p.prototype.TWa=function(q){var u;this.ja.debug("ending subtitle interval at " + q);u=this.M4();u && (u.mf=q,u.mf < u.ab && (this.ja.warn("correcting for interval where endPts is smaller than startPts"),u.ab=0 < u.mf?u.mf - 1:0),u.i4=this.Dd.Pl(u.ab,u.mf),delete u.Jt,u.i4 > u.TW && u.tpa && 500 > u.mf - u.tpa && (u.i4=this.Dd.Pl(u.ab,u.tpa)),this.ja.debug("showed " + u.TW + " during this interval"),this.ja.debug("expected " + u.i4 + " for this interval"));};return p;})(r.EventEmitter);b.pmb=r;b["default"]=r;},42756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jD=void 0;r=b.jD || (b.jD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},85981:function(r,b,a){var m,k;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function l(n,p,q){return p && (!p.entries.length && n > p.Ov || n > p.endTime) && q.entries.length && n < q.endTime;}function f(n,p,q){this.eE=this.Au=0;this.mob=n.bufferSize || 4194304;this.Lo=new g();this.$D;this.SD=n.nf;this.ja=n.la;this.mq=p;this.Xh=q;this.pq=new m(n);this.nE=new d(this.Xh.length,n.zWa);this.VQ=new h(n.qSa);}function h(n){this.xQ=0 !== n;this.on=!1;this.jj=n || 3E3;this.md;}function d(n,p){if(this.enabled=p)this.jn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.pk=n;this.index=p;}m=a(86839);k=a(90955);g.prototype.reset=function(){this.index=this.pk=void 0;};d.prototype.ba=function(n){this.enabled && n < this.jn.length && (this.jn[n]="x");};d.prototype.A6a=function(n){this.enabled && n < this.jn.length && (this.jn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.jn.join("") + "|";};h.prototype.start=function(){var n;if(this.xQ){n=this;this.on=!0;this.md=setTimeout(function(){n.on=!1;n.md=void 0;},this.jj);}};h.prototype.stop=function(){this.on=!1;clearTimeout(this.md);this.md=void 0;};Object.defineProperties(f.prototype,{Nja:{get:function(){return this.Lo;}},$ub:{get:function(){return !this.VQ.on;}}});f.prototype.KQ=function(){this.nE.enabled && this.ja.debug("Buffer: " + this.nE.toString());};f.prototype.Cpb=function(n){this.eE+=n;this.ja.debug("Reserved buffer size is",this.Au + this.eE,"after reserving",n);};f.prototype.aqb=function(n){this.eE-=n;this.ja.debug("Reserved buffer size is",this.Au + this.eE,"after unreserving",n);};f.prototype.Xmb=function(n){this.Au+=n;this.ja.debug("Buffer size is",this.Au,"after claiming",n);};f.prototype.CPa=function(n){this.Au-=n;this.ja.debug("Buffer size is",this.Au,"after clearing",n);};f.prototype.tYb=function(n,p){var q;this.CPa(n);q=this;p && this.nE.enabled && (p.forEach(function(u){q.nE.A6a(u.index);}),this.KQ());};f.prototype.Rva=function(n){var p;p=this.Dnb(n);return k.M0a(p) && k.A2b(n,p);};f.prototype.T_b=function(n){var p;p=this.uOa(n);(!p || p.index) !== (!this.Lo || this.Lo.index) && (this.$D=this.Lo.pk,p?(this.SD && this.ja.debug("Current sidx is index",p.index),this.Lo=p):(this.SD && this.ja.debug("Current sidx is out of range"),this.Lo.reset()));this.$D && "number" === typeof this.$D.index && (n < this.$D.Ov - 35E3 || n > this.$D.Kp + 35E3) && (this.Wea(this.$D.index),this.$D=void 0,this.KQ());};f.prototype.vC=function(n,p){var q,u;q=this.Xh && this.Xh.length;for(p;p < q;p++){(u=this.Xh[p]) && ((u.endTime || u.Kp) >= n - 1E4 && (u.endTime || u.Kp) < n + 3E5 || this.Wea(p));}this.VQ.stop();this.KQ();};f.prototype.Frb=function(){var n,p;this.ja.debug("executing aggressive cleanup");n=this.Xh && this.Xh.length;for(p=0;p < n;p++){p === this.Lo.index && (p+=2);this.Wea(p);}this.VQ.stop();this.KQ();};f.prototype.BJb=function(n){var p,q,u,t;p=[];q=this.uOa(n);if(!q)return (this.Lo.reset(),p);this.Lo=q;u=n + 1E4;q=q.index;t=this.Xh[q];q;for(t;q < this.Xh.length && u > t.Ov;(q++,t=this.Xh[q])){k.M0a(t) && k.B2b(n,u,t) && p.push(t);}return p;};f.prototype.eWa=function(n,p){var q,u,t,w,v,y;if(!n || !n.length)return (p && p(null),!0);this.pq.PQ && 2 <= Object.keys(this.pq.PQ).length && !this.VQ.on && (this.ja.debug("Enabling buffering quiet period"),this.VQ.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].VF,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (k.Uc(w) || (w=t.entries[0].VF),v=t.entries[t.entries.length - 1]);if(w)y=v.VF + v.eoa - w;else return (p && p(null),!0);u=k.tma(w,y);if(this.pq.PQ[u])(this.ja.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Rnb(k.mna(n)))(this.ja.debug("Reserving",y,"bytes for subtitle request",n[0].Ov,n[n.length - 1].Kp),this.Cpb(y),this.pq.XBb(n,w,y,function(x,z){q.ja.debug("Claiming reserved space.  Expected",y,"received",z);q.nE.enabled && (n.forEach(function(A){q.nE.ba(A.index);}),q.KQ());q.aqb(y);q.Xmb(z);p && p(x);}));else return (this.ja.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.qna=function(n,p){var q,u,t;q=this.mq;u=this.tOa(n,p,this.Xh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var w=0;w < u.length;w++){n=u[w];t=t.concat(n.entries.filter(p));}t=t.map(function(v){return k.Fja(v,null,q);});return k.dUa(t);};f.prototype.CJb=function(n,p,q){return this.tOa(n,p.endTime,p.jn,q,!0);};f.prototype.tOa=function(n,p,q,u,t){var w,v,y,x;if(p && n > p || 0 > n)this.ja.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){y=q[0].duration;x=q[0].Ov;if(k.Uc(y) && 0 < y)y=Math.floor((n - x) / y);else for((this.SD && this.ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!k.SBb(x,n));y++){;}for(;y < w && (!u || v.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > n)v.push(x);else if(v.length)break;if(p && p <= x.Kp)break;y++;}return v;}}};f.prototype.Dnb=function(n){var p,q,t;p=this.Xh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Ov > n || n > q.Kp))a:{this.vnb || (this.vnb=!0,q=k.cIb(this.mq.language),this.ja.error("bruteforce search for ",{movieId:this.mq.O,packageId:this.mq.gn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Ov <= n && n <= t.Kp){q=t;break a;}}q=void 0;}return q;}};f.prototype.uOa=function(n){var p,q,u,t,w,v,y,x;p=this.Lo;q=p.pk;u=p.index;t=this.Xh;this.cfa(k.Uc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,v=p);else {if(0 < u){y=t[u - 1];l(n,y,q) && (w=!0,v=p);}}}else {y=t[u - 1];x=t[u + 1];l(n,y,q)?(w=!0,v=p):x && x.endTime && n <= x.endTime && (n >= q.endTime || n >= q.Kp) && (w=!0,v=new g(x,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){v=new g(u,q);break;}}return v;};f.prototype.Rnb=function(n){return this.Au + this.eE + n <= this.mob;};f.prototype.Wea=function(n){var p,q,u;p=this.Xh[n];q=p && p.images && p.images.length || 0;if(0 < q){u=k.mna([p]);p.images=[];this.nE.A6a(n);this.CPa(u);this.SD && this.ja.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,lfc:this.Au});}};f.prototype.cfa=function(n){this.SD && k.assert(n,this.ja);};r.exports=f;},5725:function(r,b,a){var l,f,h,d,g,m;function c(k){l.call(this);this.Xf=k.url;this.dE=k.request;this.aE=k.ye || 0;this.ja=k.la;this.Xh=this.mq=null;k.mt?this.mq=k.mt:(this.Ib=k.offset,this.GJ=k.size);this.zl;this.aga=k;}l=a(22699).EventEmitter;f=a(42176);h=a(28323);d=a(1315);g=a(90955);m=c.events={Ajb:"midxready",Slb:"sidxready",Dlb:"ready",ll:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Lo:{get:function(){return this.zl && this.zl.Nja;}}});c.prototype.start=function(){this.mq?(this.ja.warn("midx was prefectched and provided"),this.hOa(this.mq)):this.pnb(this.Ib,this.GJ,this.qpb.bind(this));};c.prototype.close=function(){};c.prototype.i5=function(k,n){return this.zl && this.zl.qna(k,n);};c.prototype.Pl=function(k,n){return (k=this.i5(k,n))?k.length:k;};c.prototype.vC=function(k,n){this.ja.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.aE=k;this.zl?this.zl.vC(k,n):n && n();};c.prototype.ZA=function(k){var n,p,q;if(!this.zl || k > g.GHb(this.mq))return [];this.zl && this.zl.uka(k);n=this.Lo.pk;p=this.Lo.index;q=[];p=g.Uc(p) && this.Xh[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.qOa(n,k,[]));2 > q.length && p && p.images.length && (n=this.qOa(p,k,q),q.push.apply(q,n));return this.zl.Rva(k)?null:g.dUa(q);};c.prototype.bj=function(k,n){this.zl && this.zl.bj(k,n);};c.prototype.Lj=function(k,n){this.zl && this.zl.Lj(k,n);};c.prototype.pnb=function(k,n,p){this.ja.debug("downloading midx...");this.AOa(k,n,"binary",p);};c.prototype.qnb=function(k,n,p){this.ja.debug("downloading sidx...");this.AOa(k,n,void 0,p);};c.prototype.AOa=function(k,n,p,q){this.dE({url:this.Xf,offset:k,size:n,responseType:p},q);};c.prototype.qpb=function(k,n){if(k)this.emit(m.ll,g.nT(k,"midxdownloaderror"));else try{this.mq=new f(n);this.hOa(this.mq);}catch(p){this.emit(m.ll,g.nT(p,"midxparseerror"));}};c.prototype.hOa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.Ajb,k),this.qnb(k.startOffset,n,this.spb.bind(this,k))):this.emit(m.ll,g.nT({},"nosidxfoundinmidx"));};c.prototype.spb=function(k,n,p){var q,u,t,w;q=this;if(n)q.emit(m.ll,g.nT(n,"sidxdownloaderror"));else {u=0;t=0;q.Xh=[];try{w=0;k.entries.forEach(function(v){var y;y=new h(p,u,k.uoa,q.ja,t,t + v.duration,w);q.Xh.push(y);v.i1b=y;t=y.Kp;u+=v.size;w++;});}catch(v){q.emit(m.ll,g.nT(v,"sidxparseerror"));return;}q.emit(m.Slb,q.Xh);this.zl=new d(q.aga,k,q.Xh);n=q.aE;q.aga && q.aga.L9 || (n=Math.max(q.aE - 1E4,0));this.zl.uka(n,function(v){v && q.ja.error("initial sidx download failed");q.emit(m.Dlb);});}};c.prototype.qOa=function(k,n,p){var x;for(var q=k.entries,u=0,t=q.length,w=[],v,y=this.mq;u < t;){v=q[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.Fja(v,k.images[u].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > n && x.displayTime !== v.displayTime)break;x.VF !== v.VF && w.push(g.Fja(v,k.images[u].data,y));}u++;}return w;};r.exports=c;},42176:function(r,b,a){var l,f;function c(h,d){this.duration=h;this.size=d;this.i1b=void 0;}l=a(63844);f=a(90955);r.exports=function(h){var k;h=new l(h);this.identifier=h.Lta(4);f.assert("midx" === this.identifier);this.version=h.Lp(4);f.assert(0 === this.version);this.uoa=h.Cj(36);this.creationTime=h.cN();this.gn=h.cN();this.O=h.cN();this.DZb=h.ah();this.EZb=h.ah();this.language=h.Cj(16);h.Cj(16);this.startOffset=h.cN();this.NK=h.ah();for(var d=[],g=0,m=0;m < this.NK;m++){k=new c(h.Lp(4),h.ah());d.push(k);g+=k.duration;}this.entries=d;this.endTime=g;};},86839:function(r,b,a){var l,f;function c(h){this.Xf=h.url;this.dE=h.request;this.aE=h.ye || 0;this.SD=h.nf;this.ja=h.la;this.PQ={};}l=a(63844);f=a(90955);c.prototype.XBb=function(h,d,g,m){this.PQ[f.tma(d,g)]=!0;h && h.forEach(function(k){k.sW=!0;});this.dE({url:this.Xf,offset:d,size:g},this.Sob.bind(this,h,d,g,m));};c.prototype.Sob=function(h,d,g,m,k,n){var p,q,u,t;p=this;q=f.tma(d,g);setTimeout(function(){delete p.PQ[q];},1E3);if(k)(m && m(k,0),h && h.forEach(function(w){delete w.sW;}));else {u=new l(n);t=0;h && h.forEach(function(w){delete w.sW;w.entries.forEach(function(v,y){u.position=v.VF - d;v={data:u.Cj(v.eoa)};w.images[y]=v;f.X5b(w.images[y].data,p.cfa.bind(p));t+=w.images[y].data.length;});});m && m(null,t);}};c.prototype.cfa=function(h){this.SD && f.assert(h,this.ja);};r.exports=c;},73142:function(r){function b(a,c,l,f){this.ja=f;this.id=a;this.startTime=c && c.sa || 0;this.endTime=c && c.ta;this.C5a=c && c.next || [];this.y$a;this.mV=[];this.IL=!1;a=this.startTime;c=this.endTime;for(var h=[],d=0;d < l.length;d++){(f=l[d]) && (!c || c > f.Ov) && a < f.Kp && (f.XLb(),h.push(f));}this.jn=h;}b.prototype.oTa=function(){this.ja.debug("Cleaning up segment",this.id);for(var a,c=0,l,f=[],h=0;h < this.jn.length;h++){a=this.jn[h];(l=a.FAb()) && f.push(a);a && (c+=l);}this.jn=[];return {size:c,jn:f};};r.exports=b;},1315:function(r,b,a){var h,d;function c(g,m){var n;g=g || 0;if(m)for(var k in m.M){n=m.M[k];if(g >= (n.sa || 0) && (!n.ta || g < n.ta))return k;}}function l(g,m){return g && m && m.M[g];}function f(g,m,k){var n;this.ja=g.la;this.Xh=k;this.bA=this.Zmb(g.L9);this.Hu=[];n=k && k[k.length - 1];this.Uj=n && (n.endTime || n.Kp);this.ig=new h(g,m,k);g=c(g.ye || 0,this.bA);this.yl=this.uQ(g);}h=a(85981);d=a(73142);Object.defineProperties(f.prototype,{Nja:{get:function(){return this.ig.Nja;}}});f.prototype.qna=function(g,m){return this.ig && this.ig.qna(g,m);};f.prototype.uka=function(g,m){this.ig.T_b(g);this.fQa(g);if(!this.bA && this.Uj && g > this.Uj)m && m();else if((g=this.eOa(g,this.yl,2,m),this.bA && 0 < this.yl.C5a.length))m && m();else if(this.bA && this.yl.IL && g){2 > this.Hu.length && this.enb(this.yl);m=Math.ceil(2 / (this.Hu.length - 1));for(var k=0;k < this.Hu.length && g && 3 > k;k++){g=this.Hu[k];g=this.eOa(g.startTime,g,m);}}};f.prototype.Rva=function(g){return this.ig.Rva(g)?(this.ig.Frb(),this.uka(g),this.yl.IL=!1,!0):!1;};f.prototype.vC=function(g,m){var k;this.fQa(g);this.Hu.forEach(function(n){n.IL=!1;});k=this.yl.jn && this.yl.jn[0];this.ig.vC(g,k && k.index);(g=this.ig.BJb(g)) && g.length?this.ig.eWa(g,m):m && m();};f.prototype.Lj=function(g,m){var k;this.ja.debug("Set next segment to",m,"for segment",g);g=this.kOa(g) || this.uQ(g);g.y$a=m;k=this;g.mV=g.mV.filter(function(n){if(n.id === m)return !0;k.ffa(n);return !1;});};f.prototype.bj=function(g,m){var k;k=l(g,this.bA);Object.keys(k.next).forEach(function(n){k.next[n].weight=m[n] || 0;});};f.prototype.Zmb=function(g){var m,n;m={};if(g=(g || ({})).M){m.M={};for(var k in g){n=g[k] || ({});m.M[k]={sa:n.sa,ta:n.ta,Cb:n.Cb,next:this.Ymb(n.next)};}}return m;};f.prototype.Ymb=function(g){var m,k;m={};for(k in g){m[k]={weight:(g[k] || ({})).weight};}return m;};f.prototype.fQa=function(g){var m,k;if(this.bA && this.yl.startTime > g || this.yl.endTime && this.yl.endTime < g){m=this.yl;k=c(g,this.bA);k?(this.ja.debug("Switching segments from",this.yl.id,"to",k,"at pts",g),this.yl=this.kOa(k) || this.uQ(k),this.ffa(m)):this.ja.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.uQ=function(g){this.ja.debug("SegmentManager: creating segment",g);g=new d(g,l(g,this.bA),this.Xh,this.ja);this.Hu.push(g);this.ja.debug("SegmentManager: segment contains",g.jn.length,"sidxes");return g;};f.prototype.ffa=function(g){var m;if(g && g !== this.yl){this.ja.debug("SegmentManager: deleting segment",g.id);g.mV.forEach(this.ffa.bind(this));this.Hu=this.Hu.filter(function(k){return k !== g;});m=g.oTa();this.ig.tYb(m && m.size || 0,m && m.jn);}};f.prototype.kOa=function(g){var k;for(var m=0;g && m < this.Hu.length;m++){k=this.Hu[m];if(g === k.id)return k;}};f.prototype.enb=function(g){var m,n;m=g.y$a;if(m && "" !== m)g.mV.push(this.uQ(m));else {m=g.C5a;for(var k in m){n=m[k];if(!n || !n.weight)break;g.mV.push(this.uQ(k));}}};f.prototype.eOa=function(g,m,k,n){if(!m || m.IL)return (this.ja.debug("Done driving segment",m && m.id),!0);if(!this.ig.$ub)return (this.ja.debug("Throttling buffering in quiet period"),!1);this.ja.debug("Drive streaming of segment",m.id,"from pts",g);k=(g=this.ig.CJb(g,m,k)) && g.length || 0;if(0 === k)return (this.ja.debug("Segment is fully downloaded",m && m.id),m.IL=!0,n && n(),!0);this.ja.debug("Downloading",k,"sidxes in segment",m.id);return this.ig.eWa(g,function(p,q){p && (m.IL=!1);n && n(p,q);});};r.exports=f;},28323:function(r,b,a){var f,h;function c(d,g,m,k,n,p,q,u){this.displayTime=d;this.duration=g;this.QTb=m;this.RTb=k;this.o1b=n;this.p1b=p;this.VF=q;this.eoa=u;}function l(d,g,m,k,n,p,q){var u;d=new f(d);u=0;d.position=g;this.ja=k;this.identifier=d.Lta(4);h.assert("sidx" === this.identifier,k);this.uoa=d.Cj(36);h.Awb(this.uoa,m,k);this.duration=d.Lp(4);this.NK=d.ah();this.Ov=n;this.Kp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.kga=0;u < this.NK;){g=new c(d.Lp(4),d.Lp(4),d.ah(),d.ah(),d.ah(),d.ah(),d.cN(),d.Lp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(63844);h=a(90955);l.prototype.XLb=function(){this.kga++;};l.prototype.FAb=function(){var d;d=0;this.kga--;1 > this.kga?this.images && 0 < this.images.length && (d+=h.mna([this]),this.images=[]):this.ja.debug("Not cleaning up shared sidx with range",this.Ov,"-",this.Kp);return d;};r.exports=l;},90955:function(r){function b(h,d){return h.some(function(g){return g.id === d;});}function a(h,d){return h.filter(c.bind(null,d)).map(l).reduce(f,0);}function c(h,d){return h.id === d.id && h.displayTime + h.duration === d.displayTime;}function l(h){return h.duration;}function f(h,d){return h + d;}r.exports={Awb:function(h,d,g){for(var m=0;m < h.length;m++){if(h[m] !== d[m])return (g.error("indexId mismatch in sidx",{sIndexId:h,mIndexId:d}),!1);}return !0;},Fja:function(h,d,g){var m;m={};m.displayTime=h.displayTime;m.duration=h.duration;m.originX=h.QTb;m.originY=h.RTb;m.sizeX=h.o1b;m.sizeY=h.p1b;m.imageData=d;m.id=h.VF;m.rootContainerExtentX=g.DZb;m.rootContainerExtentY=g.EZb;return m;},tma:function(h,d){return "o_" + h + "s_" + d;},X5b:function(h,d){d("P" === String.fromCharCode(h[1]));d("N" === String.fromCharCode(h[2]));d("G" === String.fromCharCode(h[3]));},Uc:function(h){return "undefined" !== typeof h;},egc:b,Vcc:a,nT:function(h,d){var g,m;g=Object.create({});for(m in h){g[m]=h[m];}h instanceof Error && (g.message=h.message,g.stack=h.stack);g.errorString=d;return g;},assert:function(h,d){if(!h)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},M0a:function(h){return h && 0 < h.entries.length && 0 === h.images.length;},A2b:function(h,d){for(var g=d.entries.length,m,k=0;k < g;k++){if((m=d.entries[k],m.displayTime <= h && m.displayTime + m.duration >= h))return !0;}return !1;},B2b:function(h,d,g){for(var m=g.entries.length,k,n,p=0;p < m;p++){k=g.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= h && k >= h || n > h && n <= d)return !0;}return !1;},dUa:function(h){return h.map(function(d,g){d.duration+=a(h.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},mna:function(h){return h.reduce(function(d,g){return d + g.entries.reduce(function(m,k){return k.eoa + m;},0);},0);},SBb:function(h,d){return h && h.Ov <= d && h.Kp >= d;},GHb:function(h){if(h)return h.endTime;},cIb:function(h){try{return String.fromCharCode.apply(String,h);}catch(d){}return "";}};},83755:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function n(f,h,d,g,m,k){if(!(this instanceof n))return new n(f,h,d,g,m,k);c.call(this);this.gs=f;this.CQ=h;this.Q0=d;this.cob=g;this.Ii={};this.mj={};this.ja=m || console;this.zn=!1;this.Hfa=k.ha;this.upb=k && k.eW || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.md);this.md=void 0;this.i9();};b.prototype.i9=function(){var f;f=this;Object.keys(f.Ii).forEach(function(h){f.emit("removesubtitle",f.Ii[h]);});f.Ii={};f.mj={};};b.prototype.pause=function(){this.zn || (clearTimeout(this.md),this.md=void 0);};b.prototype.dz=function(f,h){var d,g;d=this;g=d.gs();f=d.CQ(g);null !== f && d.zn && (d.zn=!1,this.ja.debug("bufferingComplete"),d.emit("bufferingComplete"),this.cob())?this.ja.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(d.Ii).forEach(function(m){m=d.Ii[m];m.displayTime - d.upb <= g && g < m.displayTime + m.duration || (delete d.Ii[m.id],d.emit("removesubtitle",m));}),Object.keys(d.mj).forEach(function(m){m=d.mj[m];g >= m.displayTime + m.duration && delete d.mj[m.id];}),null !== f && 0 < f.length?(h=f.length,d.ja.debug("found " + h + " entries for pts " + g),f.forEach(function(m){m.displayTime - 0 <= g && g < m.displayTime + m.duration && !d.Ii[m.id] && (d.emit("showsubtitle",m),d.Ii[m.id]=m,delete d.mj[m.id]);}),h=f[f.length - 1],d.Ii[h.id] || d.mj[h.id] || (d.emit("stagesubtitle",h),d.mj[h.id]=h),h=d.Vpb(g,f),"number" === typeof h && Infinity > h?d.bR(h):d.bR(2E4)):null === f?(f=250 * Math.pow(2,h),2E3 < f && (f=2E3),d.ja.warn("checking buffer again in " + f + "ms"),d.zn || (d.zn=!0,d.emit("underflow")),d.bR(f,h + 1)):d.Hfa?(f=500,d.ja.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.bR(f)):d.bR(2E4));};b.prototype.bR=function(f,h){var d;d=this;d.ja.debug("Scheduling pts check.",{timeout:f,cO:d.md});clearTimeout(d.md);d.md=setTimeout(function(){d.dz(d.gs(),h);},f);};b.prototype.Vpb=function(f,h){h=h.reduce(this.Dob.bind(this,f),Infinity);return Infinity > h?this.Q0(h,f):h;};b.prototype.Dob=function(f,h,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ja.debug("next events: start",g,"end",d,"now",f);return g < h && f < g?g:d < h && f < d?d:h;};r.exports=b;},63844:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},ena:function(){return this.buffer.length - this.position;},Hy:function(){return this.buffer[this.position++];},Cj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Lp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Lta:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},ah:function(){return this.Lp(2);},Mp:function(){return this.Lp(4);},cN:function(){return this.Lp(8);},Pv:function(a){for(var c,l="";a--;){c=this.Hy();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},Mta:function(a){for(var c=0,l=0;l < a;l++){c+=this.Hy() << (l << 3);}return c;},bN:function(){return this.Mta(4);},fY:function(a){this.xO(a,2);},hz:function(a){this.xO(a,4);},maa:function(a){this.buffer[this.position++]=a;},xO:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},gz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},eY:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},wO:function(a,c){this.eY(a.Cj(c));}};r.exports=b;},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var h,d,g;function c(m,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + k + "'"));}function l(m,k,n){var p;p=d[m];"undefined" !== typeof p?p(k) || c(m,k,n):m !== typeof k && c(m,k,n);}function f(m,k){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}h=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < h.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}g=Object.keys(d).concat(h);return f(["array","function"],f);};},17267:function(r){var b;b={sb:function(a){return "number" === typeof a;},ft:function(a){return "object" === typeof a;},xg:function(a){return "string" === typeof a;},ii:function(a){return "undefined" === typeof a;},dec:function(a){return "boolean" === typeof a;},wp:function(a){return "function" === typeof a;},Zb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},qUb:function(a){var c,l;l=[];if(!b.ft(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.Is=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,h=a.length;f < h;f++){c.call(l,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(l,a[f],f,a);}return a;};r.exports=b;},75691:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;f=a(30801);b=Object.prototype.propertyIsEnumerable;h=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var u;u=q.constructor;return u && u.prototype === q;};k={W6b:!0,X6b:!0,Y6b:!0,Z6b:!0,$6b:!0,a7b:!0,b7b:!0,c7b:!0,d7b:!0,e7b:!0,f7b:!0,g7b:!0,h7b:!0,i7b:!0,j7b:!0,k7b:!0,l7b:!0,m7b:!0,n7b:!0,o7b:!0,p7b:!0,q7b:!0,r7b:!0};n=(function(){if("undefined" === typeof nb)return !1;for(var q in nb){try{if(!k["$" + q] && c.call(nb,q) && null !== nb[q] && "object" === typeof nb[q])try{m(nb[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,w,v,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=f(q);v=u && "[object String]" === l.call(q);y=[];if(!u && !t && !w)throw new TypeError("Object.keys called on a non-object");u=d && t;if(v && 0 < q.length && !c.call(q,0))for(v=0;v < q.length;++v){y.push(String(v));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(h){if("undefined" !== typeof nb && n)try{z=m(q);}catch(A){z=!1;}else z=m(q);for(w=0;w < g.length;++w){z && "constructor" === g[w] || !c.call(q,g[w]) || y.push(g[w]);}}return y;};}r.exports=p;},33464:function(r,b,a){var c,l,f,h,d;c=Array.prototype.slice;l=a(30801);f=Object.keys;h=f?function(g){return f(g);}:a(75691);d=Object.keys;h.pgc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return l(g)?d(c.call(g)):d(g);}):Object.keys=h;return Object.keys || h;};r.exports=h;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},61247:function(r,b,a){var l,f,h;function c(d,g,m){var k;if(!m)return !1;m=m[g];return "boolean" === typeof m?!0 === m:(null === m || void 0 === m?void 0:m.length) === (null === (k=d[g].Ye) || void 0 === k?void 0:k.length);}Object.defineProperty(b,"__esModule",{value:!0});b.rUa=b.un=void 0;l=a(5163);f=a(10506);b.un=-1;b.rUa=function(d,g,m,k,n){function p(w){var v,y,x,z,A,B;v=g.ce[w];y=c(g.ce,w,m);x=!!v.Ye;z=!!k && !y && x;A=0 === v.fk;v.fk > u && q.hf(("").concat(d,"-").concat(w),{J:d,sa:u,ta:v.fk,type:"content"});x || q.qrb();!z || A && !n || q.hf(("padstart-").concat(w),{J:b.un,sa:0,ta:k,type:"padding"});u=v.fk;if(v.Ye && !y){B=null === m || void 0 === m?void 0:m[w];v.Ye.forEach(function(D,C){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(C));F || q.hf(("ad-").concat(w,"-").concat(C),{J:D.id,sa:D.sa,ta:D.ta,type:"ad"});});z && q.hf(("padend-").concat(w),{J:b.un,sa:0,ta:k,type:"padding"});}}void 0 === k && (k=0);void 0 === n && (n=!1);for(var q=new h(),u=0,t=0;t < g.ce.length;++t){p(t);}q.hf(("").concat(d,"-").concat(g.ce.length),{J:d,sa:u,ta:null,type:"content"});return q.rh();};h=(function(){function d(){this.cb=new f.Ur();}d.prototype.hf=function(g,m){var k,n,p;this.qF || (this.qF=g);if(this.hC){n=l.__read(this.hC,2);p=n[0];n=n[1];n.Cb=g;n.next=(k={},k[g]={},k);"content" === n.type && -1 < ["ad","padding"].indexOf(m.type) && (n.Pn=!0);"content" === m.type && (-1 < ["ad","padding"].indexOf(n.type) || n.Pn) && (m.Js=!0);this.cb.hf(p,n);}this.hC=[g,m];};d.prototype.qrb=function(){var g,m;if(this.hC){g=l.__read(this.hC,2);m=g[0];g=g[1];"content" === g.type && (g.Pn=!0);this.cb.hf(m,g);this.hC=[m,g];}};d.prototype.rh=function(){var g;if(this.hC){g=l.__read(this.hC,2);this.cb.hf(g[0],g[1]);}this.hC=void 0;this.qF && this.cb.uC(this.qF);return this.cb.rh();};return d;})();},56916:function(r,b,a){var g;function c(m){return Object.keys(m.segments).some(function(k){return void 0 !== d(m.segments[k]);});}function l(m){return "delayedSeamless" === m?"lazy":m;}function f(m){return Object.keys(m).reduce(function(k,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=k[n]={};void 0 !== q && (n.weight=q);p && (n.Xd=l(p));return k;},{});}function h(m){var k,n;k=Object.keys(m);n=k.length;return n?k.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var k;if(m.ui){k=m.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.M2=void 0;g=a(10506);b.M2=function(m,k){var n,p,q,u,t,w;n=void 0 === k?{}:k;k=n.Ef;p=n.xe;q=n.M;n=n.config;u=!(!n || -1 === n.Tla.indexOf(m.viewableId));t=c(m)?0:(null === n || void 0 === n?void 0:n.Sla) || 0;n=new g.Ur();w=q || m.segments;n.uC(null !== p && void 0 !== p?p:m.initialSegment).bab(null !== k && void 0 !== k?k:m.mediaTypes).Ova(u?"immediate":l(m.transitionType)).Hva(Object.keys(w).reduce(function(v,y){var x,z,A,B,D,C;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?h(x.next):void 0;}B=z;if(z=x.exitZones)D=void 0;else a:{if(u && x.endTimeMs){D=x.endTimeMs - x.startTimeMs;C=d(x);if(C && C < D){D=[[C,D]];break a;}if(t && D > t){D=[[D - t,D]];break a;}}D=void 0;}C=u?D?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:m.viewableId,sa:x.startTimeMs,ta:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Xd:l(C),Fq:z || D,weight:B};x.defaultNext && (B.Cb=x.defaultNext);x.next && (B.next=f(x.next));v[y]=B;return v;},{}));return n.rh();};},77530:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Vyb=void 0;c=a(10506);b.Vyb=function(l){var f,h,d,g,m,k;f=l.Cfc;h=l.ohc;l=l.tgc;d=new c.Ur();g=l.split(" ");m=/\d+/;k=new Map();h.forEach(function(n){k.set(n,0);});g.forEach(function(n,p){var q,u,t,w,v,y,x,z;y=Number(n.split(".")[0].match(m)[0]);x=Number(n.split(".")[1].match(m)[0]);y=h[y];n=k.get(y);z=("").concat(y,"-").concat(n);k.set(y,n + 1);x={J:y,sa:null !== (t=null === (u=f.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,ta:null !== (v=null === (w=f.get(y)) || void 0 === w?void 0:w[x + 1]) && void 0 !== v?v:void 0};g.length > p + 1 && (u=Number(g[p + 1].split(".")[0].match(m)[0]),u=h[u],t=k.get(u),u=("").concat(u,"-").concat(t),x.Cb=u,x.next=(q={},q[u]={},q),k.set(y,n + 1));0 === p && d.uC(z);d.hf(z,x);});return d.rh();};},50954:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(35419),b);r.__exportStar(a(10506),b);r.__exportStar(a(10990),b);r.__exportStar(a(56916),b);r.__exportStar(a(62483),b);r.__exportStar(a(73124),b);r.__exportStar(a(72283),b);r.__exportStar(a(80830),b);r.__exportStar(a(61247),b);r.__exportStar(a(77530),b);},73124:function(r,b,a){var g,m,k;function c(n){for(var p=n.xe,q=[];p;){q.push(p);p=n.M[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,m.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(n){return (0,m.tha)(Object.keys(n.M).map(function(p){return n.M[p].J;}));}function f(n,p){return Object.keys(p.M).some(function(q){q=p.M[q];return n.J === q.J && n.sa > q.sa && (!q.ta || !!n.ta && (Infinity === n.ta || n.ta < q.ta));});}function h(n){return null === n || void 0 === n?Infinity:n;}function d(n,p){return null === n || void 0 === n?Infinity === h(p.ta):n >= p.sa && n <= h(p.ta);}Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=void 0;g=a(5163);m=a(42866);k=a(10506);b.Fqa=function(n,p){var q,u,t,w,v;q=c(p);u=l(n);t=l(p);u=(0,m.ARa)(u,t);(0,m.assert)(1 === u.length,"Source and content playgraphs should share one viewable");w=u[0];t=Object.keys(n.M).filter(function(y){return n.M[y].J === w;}).map(function(y){var G,E,J,M,L,H;for(var x,z=n.M[y],A=z.sa,B=h(z.ta),D=0 === A,C=[],F=0;F < q.length;++F){G=q[F];E=p.M[G];J=f(n.M[y],p);if(E.J !== w)D && C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{Rb:y})});else if(D){L=Math.max(z.sa,E.sa);M=(H=!Number.isFinite(B) && F === q.length - 1)?B:Math.min(B,h(E.ta));M > L && (J=Infinity !== B || !J && !H?Infinity === M?null:M:z.ta,C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{sa:L,ta:J,Rb:y})}));if(d(B,E)){if(B === h(E.ta))for(F+=1;F < q.length;++F){A=q[F];B=p.M[A];if(B.J === w)break;C.push({id:("").concat(y,":").concat(A),u:g.__assign(g.__assign({},B),{Rb:y})});}break;}}else if(d(A,E))if((D=!0,B <= h(E.ta)))C.push({id:y,u:z});else {L=z.sa;H=!Number.isFinite(B) && F === q.length - 1;J=H && J?z.ta:Math.min(B,h(E.ta));C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{sa:L,ta:J,Rb:y})});}}C.length || C.push({id:y,u:g.__assign(g.__assign({},z),{Rb:y})});for(F=0;F < C.length - 1;++F){A=C[F + 1].id;C[F].u=g.__assign(g.__assign({},C[F].u),{Cb:A,next:(x={},x[A]={},x)});}x=C[C.length - 1];x.u=g.__assign(g.__assign({},x.u),{Cb:z.Cb,next:z.next});return {id:y,u:z,Gbb:C};});v=t.reduce(function(y,x){return (y[x.id]=x.Gbb[0].id,y);},{});u=new k.Ur();t=t.reduce(function(y,x){x.Gbb.forEach(function(z){return y[z.id]=z.u;});return y;},{});return u.Hva(t,function(){return !0;},v).PQa(n.M,function(y,x){return !v[x];},v,function(y,x){return g.__assign(g.__assign({},y),{Rb:x});}).uC(v[n.xe] || n.xe).rh();};},72283:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.o4=b.XEb=b.yla=void 0;c=a(42866);b.yla=function(l,f){var h;return Object.keys(l.M).some(function(d){var g;return null === (g=(h=l.M[d]).next) || void 0 === g?void 0:g[f];})?h:void 0;};b.XEb=function(l,f){return (0,c.xc)(Object.keys(l.M),function(h){var d;return null === (d=l.M[h].next) || void 0 === d?void 0:d[f];});};b.o4=function(l,f){return Object.keys(l.M).filter(function(h){var d;return null === (d=l.M[h].next) || void 0 === d?void 0:d[f];});};},35419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},10506:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(f,h){f[h]=a(l[h]);return f;},{}):l;}function c(l,f){return Object.keys(l).reduce(function(h,d){return (h[f[d] || d]=l[d],h);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Ur=void 0;r=(function(){function l(f){f && (this.uC(f.xe),this.Ova(f.Xd),this.Hva(f.M));}l.prototype.uC=function(f){this.xe=f;return this;};l.prototype.Ova=function(f){this.Xd=f;return this;};l.prototype.bab=function(f){this.Ef=f;return this;};l.prototype.hf=function(f,h,d){this.M || (this.M={});this.M[f]=a(h);if(d){f=this.M[f];if(h=f.next)f.next=c(h,d);f.Cb && d[f.Cb] && (f.Cb=d[f.Cb]);}return this;};l.prototype.Hva=function(f,h,d){void 0 === h && (h=function(){return !0;});this.M={};return this.PQa(f,h,d);};l.prototype.PQa=function(f,h,d,g){var m;m=this;void 0 === h && (h=function(){return !0;});Object.keys(f).filter(function(k){return h(f[k],k);}).forEach(function(k){var n;n=f[k];g && (n=g(n,k));m.hf(k,n,d);});return this;};l.prototype.j0a=function(f){var h;return !(null === (h=this.M) || void 0 === h || !h[f]);};l.prototype.rh=function(){var f;if(!this.M)throw Error("Invalid playgraph - `segments` is not defined");if(!this.xe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.M[this.xe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={xe:this.xe,M:this.M};this.Xd && (f.Xd=this.Xd);this.Ef && (f.Ef=this.Ef);return f;};return l;})();b.Ur=r;},10990:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda=void 0;b.Lda=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.xe,segments:a.BAb(c.M)},void 0 !== c.Xd?{transitionType:c.Xd}:{});};a.encode=function(c){return Object.assign({xe:c.initialSegment,M:a.pDb(c.segments)},void 0 !== c.transitionType?{Xd:c.transitionType}:{});};a.pDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.oDb(c[f]);return l;},{});};a.oDb=function(c){return Object.assign({J:c.viewableId,sa:c.startTimeMs},c.endTimeMs?{ta:c.endTimeMs}:{},c.defaultNext?{Cb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{},c.next?{next:a.mDb(c.next)}:{},c.exitZones?{Fq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Rb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Js:c.fadeIn}:{},void 0 !== c.fadeOut?{Pn:c.fadeOut}:{});};a.mDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.nDb(c[f]);return l;},{});};a.nDb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{});};a.BAb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.AAb(c[f]);return l;},{});};a.AAb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.sa},c.ta?{endTimeMs:c.ta}:{},c.Cb?{defaultNext:c.Cb}:{},c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{},c.next?{next:a.yAb(c.next)}:{},c.Fq?{exitZones:c.Fq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Rb?{uxSegment:c.Rb}:{},c.type?{type:c.type}:{},void 0 !== c.Js?{fadeIn:c.Js}:{},void 0 !== c.Pn?{fadeOut:c.Pn}:{});};a.yAb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.zAb(c[f]);return l;},{});};a.zAb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{});};return a;})();},80830:function(r,b,a){var q,u,t,w;function c(v,y,x,z,A){var B,D,C;B=v.M[y];D=x.M[B.Rb];z=z.Rb;C=g(B.ta) - B.sa;C=void 0 === A?A=0:A + C;return B.J === (null === D || void 0 === D?void 0:D.J)?{RX:g(B.ta),aS:A}:B.Rb === z && (y=q.__read(l(v,y),1)[0]) && v.M[y].Rb === B.Rb?c(v,y,x,B,C):{RX:D.sa,aS:C};}function l(v,y){return Object.keys(v.M).filter(function(x){return v.M[x].Cb === y;});}function f(v,y,x,z,A){var B,D,C;void 0 === A && (A=0);y=v.M[y];B=x.M[y.Rb];z=z.Rb;D=x.M[z];C=g(y.ta) - y.sa;return y.J === (null === B || void 0 === B?void 0:B.J)?{RX:y.sa,aS:A}:y.Rb === z && y.Cb?f(v,y.Cb,x,y,A + C):{RX:g(D.ta),aS:A};}function h(v,y,x){var z,A,B,D,C,F,G,E,J,M,L,H,N;z=n(v,y,x);if(z)return z;z=v.M[x.u];A=x.offset;B=Object.keys(y.M).filter(function(I){return y.M[I].Rb === x.u;});D=[];B.forEach(function(I){var O,R,Y;function K(oa){oa=(0,w.o4)(y,oa);null === oa || void 0 === oa?void 0:oa.forEach(function(ka){var ha,za;if(y.M[ka].Rb !== x.u){ha=y.M[ka];za=ha.ta;Y={u:ka,offset:za - ha.sa};(ha=za?p(v,y,Y):void 0) && D.push({yx:Y,Vp:ha});ha || (Y={u:ka,offset:0},(ha=p(v,y,{u:ka,offset:0})) && D.push({yx:Y,Vp:ha}));K(ka);}});}O=y.M[I];R=O.ta;Y={u:I,offset:R - O.sa};(O=R?p(v,y,Y):void 0) && D.push({yx:Y,Vp:O});Y={u:I,offset:0};(R=p(v,y,Y)) && D.push({yx:Y,Vp:R});R || O || K(I);});(0,u.assert)(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");C=z.sa + A;G=Infinity;D.forEach(function(I){var K;K=I.Vp;K=C - (v.M[K.u].sa + K.offset);0 <= K && K < G && (G=K,F=I);});E=[];B.forEach(function(I){var O,R,Y,oa;function K(ka){Object.keys(y.M[ka].next || ({})).forEach(function(ha){var za,Ca,La;if(y.M[ha].Rb !== x.u){za=y.M[ha];Ca=za.sa;za=za.ta;oa={u:ha,offset:0};La=p(v,y,oa);La && E.push({yx:oa,Vp:La});La || (oa={u:ha,offset:za - Ca},(Ca=za?p(v,y,oa):void 0) && E.push({yx:oa,Vp:Ca}));}K(ha);});}O=y.M[I];R=O.sa;Y=O.ta;oa={u:I,offset:0};(O=p(v,y,oa)) && E.push({yx:oa,Vp:O});oa={u:I,offset:Y - R};(R=Y?p(v,y,oa):void 0) && E.push({yx:oa,Vp:R});O || R || K(I);});(0,u.assert)(0 < E.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;E.forEach(function(I){var K;K=I.Vp;K=v.M[K.u].sa + K.offset - C;if(0 <= K && K < M || K > M && 0 > M || Infinity === M)(M=K,J=I);});(0,u.assert)(F);(0,u.assert)(J);A=F.yx;(0,u.assert)(A,"Segment not found in the combined playgraph");z=J.yx;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.M[A.u];B=y.M[z.u];A.offset === g(L.ta) - L.sa && y.M[L.Cb].Rb === L.Rb && (A.u === z.u && A.offset === z.offset && (z={u:B.Cb,offset:0},B=y.M[z.u]),A={u:L.Cb,offset:0},L=y.M[A.u]);H=v.M[F.Vp.u].sa + F.Vp.offset;N=v.M[J.Vp.u].sa + J.Vp.offset - H;H=0 === N?0:(C - H) / N;if(A.u === z.u)return (L=L.sa + A.offset,A=A.u,{u:A,offset:L + H * (B.sa + z.offset - L) - y.M[A].sa});N=d(y,A,z);L=N.path;N=N.bF;B=0 === z.offset?0:g(B.ta) - B.sa;return k(y,L,A.offset + H * (N - A.offset - (B - z.offset)));}function d(v,y,x){var z,A;if(y.u !== x.u){for(y=[y.u];y[y.length - 1] !== x.u;){z=v.M[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.u])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Cb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Cb));}0 !== x.offset && y.push(x.u);return {path:y,bF:m(v,y)};}return {path:[],bF:x.offset - y.offset};}function g(v){return null === v || void 0 === v?Infinity:v;}function m(v,y){return y.reduce(function(x,z){var A;z=v.M[z];A=z.sa;return x + g(z.ta) - A;},0);}function k(v,y,x){var A,B,D;for(var z=0;z < y.length;++z){A=y[z];B=v.M[A];D=B.sa;B=g(B.ta) - D;if(B > x)return {u:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function n(v,y,x){var z,A,B,D,C,F,G,E,J,M,L;A=v.M[x.u];(0,u.assert)(A,("Graph position ").concat(x.u," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.ta || B <= A.ta - A.sa,("Graph position ").concat(B," offset outside segment"));if(y.M[x.u])return x;D=Object.keys(y.M).filter(function(H){return y.M[H].Rb === x.u;});(0,u.assert)(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");C={};F=0;D.forEach(function(H){if(void 0 === C[H]){for(var N=0;H;){C[H]=[F,N++];H=y.M[H].Cb;}++F;}});D.sort(function(H,N){return C[H][0] !== C[N][0]?1:C[H][1] - C[N][1];});G=A.sa + B;E=D.filter(function(H){return y.M[H].J === A.J;});J=q.__read(D,1)[0];E=E.map(function(H){return [H,y.M[H]];}).filter(function(H){var N;H=q.__read(H,2);N=H[0];return G >= H[1].sa || N === J;});if(E=(0,u.xc)(E,function(H){var N;H=q.__read(H,2)[1];N=H.Cb?y.M[H.Cb]:void 0;return !H.ta || !!H.ta && G < H.ta || (null === N || void 0 === N?void 0:N.Rb) !== x.u && G >= H.sa;})){M=q.__read(E,2);E=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.ta) && void 0 !== z?z:Infinity) - M.sa;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.yla)(y,E),z=!z || z.Rb !== M.Rb);if(z)return {u:E,offset:L};}D=D.filter(function(H){return y.M[H].J !== A.J;});if(0 === B && (B=(0,t.yla)(v,x.u),!B || B.Rb !== x.u) && (B=(0,u.xc)(D,function(H){return 0 === (0,w.o4)(y,H).length;}),void 0 !== B))return {u:B,offset:0};if(A.ta && Infinity !== A.ta && !(A.ta - A.sa !== x.offset || A.Cb && v.M[A.Cb]) && (B=(0,u.xc)(D,function(H){return !y.M[H].next || 0 === Object.keys(y.M[H].next).length;}),void 0 !== B))return (D=y.M[B],v=D.sa,D=D.ta,(0,u.assert)(D,"Content playgraph segments from other viewables must have end time"),{u:B,offset:D - v});}function p(v,y,x){var z,A;z=y.M[x.u];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.ta || A <= z.ta - z.sa,"Graph position offset outside segment");if(void 0 === z.Rb)return x;v=v.M[z.Rb];(0,u.assert)(v,"Referenced ux playgraph segment must exist");if(z.J === v.J)return (A=z.sa + A - v.sa,v=g(v.ta) - v.sa,A=Math.max(Math.min(A,v),0),{u:z.Rb,offset:A});if(0 === A && (x=(0,w.o4)(y,x.u).filter(function(B){return y.M[B].Rb === z.Rb;}),0 === A && 0 === x.length))return {u:z.Rb,offset:0};A=z.Cb?y.M[z.Cb]:void 0;if((null === A || void 0 === A?void 0:A.Rb) !== z.Rb)return {u:z.Rb,offset:v.ta?v.ta - v.sa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.WYa=b.eeb=b.LTa=void 0;q=a(5163);u=a(42866);t=a(72283);w=a(50954);b.LTa=function(v,y,x){var z,A,B,D;z=y.M[x.u];A=p(v,y,x);if(A)return A;(0,u.assert)(z.Rb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=v.M[z.Rb];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.ta,"Content playgraph segments from other viewables must have end time");if(!z.Cb || !y.M[z.Cb])return ((0,u.assert)(B.ta,"Must have definite end time to add terminal content playgraph segment"),{u:z.Rb,offset:B.ta - B.sa});D=c(y,x.u,v,z);A=D.RX;D=D.aS;if(null === A || void 0 === A)return ((0,u.assert)(B.ta,"Experience playgraph segment must have end time"),{u:z.Rb,offset:B.ta - B.sa});y=f(y,x.u,v,z);v=y.RX;y=y.aS;null !== v && void 0 !== v && isFinite(v) || (0,u.assert)(v,"Experience playgraph segment must have end time");return {u:z.Rb,offset:A + (D + x.offset) / (D + y) * (v - A)};};b.eeb=h;b.WYa=function(v,y,x){var z,A,B;return q.__generator(this,function(D){switch(D.label){case 0:(z=h(v,y,x),A=y.M[z.u],B=z.u,D.label=1);case 1:return [4,B];case 2:(D.Ra(),B=A.Cb,A=y.M[B],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.Rb) === x.u && B !== z.u)return [3,1];D.label=4;case 4:return [2];}});};},62483:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.g$=void 0;c=a(10506);b.g$=function(l,f,h){var d;d=new c.Ur();d.uC(f).Ova("lazy").bab(h).hf(f,{J:l,sa:0,ta:Infinity});return d.rh();};},61386:function(r,b,a){var d,g,m,k;function c(n){var p,q,u;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=g(this,k);q=n;u=n;d(n) && (q=f(p,n),u=l(p,n));return this.then(q,u);}function l(n,p){return function(q){var u;u=p();return h(n,u).then(function(){throw q;});};}function f(n,p){return function(q){var u;u=p();return h(n,u).then(function(){return q;});};}function h(n,p){return new n(function(q){q(p);});}a(57897)();d=a(83317);g=a(88251);m=a(18132);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,l;c=a(57897);l=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,l,f;c=a(57897);l=a(32887);f=a(14926);r.exports=function(){var h;c();h=l();f(Promise.prototype,{"finally":h},{"finally":function(){return Promise.prototype["finally"] !== h;}});return h;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(l,f){return c(l.length,function(){return l.apply(f,arguments);});});r.exports=b;},57301:function(r,b,a){var c,l,f,h,d;b=a(31187);c=a(55446);l=a(89028);f=a(77894);h=a(67758);d=a(75850);a=b(function(g,m){return l(d(f,0,h("length",m)),function(){var k,n;k=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,k);},m));});});r.exports=a;},89028:function(r,b,a){var c,l,f;c=a(35375);l=a(16805);b=a(31187);f=a(16500);a=b(function(h,d){return 1 === h?l(d):c(h,f(h,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(l,f,h){for(var d=[],g=0,m=f.length;g < m;){c(l,f[g],h) || c(l,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},42514:function(r,b,a){var c,l,f,h,d,g;b=a(31187);c=a(8414);l=a(46458);f=a(78678);h=a(18468);d=a(14128);g=a(93358);a=b(c(["filter"],d,function(m,k){return f(k)?h(function(n,p){m(k[p]) && (n[p]=k[p]);return n;},{},g(k)):l(m,k);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,l){for(var f=[],h=0,d=l.length;h < d;){for(var g=h + 1;g < d && c(l[g - 1],l[g]);){g+=1;}f.push(l.slice(h,g));h=g;}return f;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,f){return a.apply(this,arguments);};case 4:return function(c,l,f,h){return a.apply(this,arguments);};case 5:return function(c,l,f,h,d){return a.apply(this,arguments);};case 6:return function(c,l,f,h,d,g){return a.apply(this,arguments);};case 7:return function(c,l,f,h,d,g,m){return a.apply(this,arguments);};case 8:return function(c,l,f,h,d,g,m,k){return a.apply(this,arguments);};case 9:return function(c,l,f,h,d,g,m,k,n){return a.apply(this,arguments);};case 10:return function(c,l,f,h,d,g,m,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,l,f,h;b=b || [];a=a || [];l=b.length;f=a.length;h=[];for(c=0;c < l;){h[h.length]=b[c];c+=1;}for(c=0;c < f;){h[h.length]=a[c];c+=1;}return h;};},25701:function(r){r.exports=function(b,a,c){for(var l=0,f=c.length;l < f;){if(b(a,c[l]))return !0;l+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(l){return function d(h){return 0 === arguments.length || c(h)?d:l.apply(this,arguments);};};},31187:function(r,b,a){var c,l;c=a(16805);l=a(28198);r.exports=function(f){return function m(d,g){switch(arguments.length){case 0:return m;case 1:return l(d)?m:c(function(k){return f(d,k);});default:return l(d) && l(g)?m:l(d)?c(function(k){return f(k,g);}):l(g)?c(function(k){return f(d,k);}):f(d,g);}};};},20239:function(r,b,a){var c,l,f;c=a(16805);l=a(31187);f=a(28198);r.exports=function(h){return function n(g,m,k){switch(arguments.length){case 0:return n;case 1:return f(g)?n:l(function(p,q){return h(g,p,q);});case 2:return f(g) && f(m)?n:f(g)?l(function(p,q){return h(p,m,q);}):f(m)?l(function(p,q){return h(g,p,q);}):c(function(p){return h(g,m,p);});default:return f(g) && f(m) && f(k)?n:f(g) && f(m)?l(function(p,q){return h(p,q,k);}):f(g) && f(k)?l(function(p,q){return h(p,m,q);}):f(m) && f(k)?l(function(p,q){return h(g,p,q);}):f(g)?c(function(p){return h(p,m,k);}):f(m)?c(function(p){return h(g,p,k);}):f(k)?c(function(p){return h(g,m,p);}):h(g,m,k);}};};},16500:function(r,b,a){var l,f;function c(h,d,g){return function(){var q;for(var m=[],k=0,n=h,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!f(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);m[p]=q;f(q) || --n;p+=1;}return 0 >= n?g.apply(this,m):l(n,c(h,m,g));};}l=a(35375);f=a(28198);r.exports=c;},8414:function(r,b,a){var c,l;c=a(84357);l=a(11972);r.exports=function(f,h,d){return function(){var g,m;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!c(m)){for(var k=0;k < f.length;){if("function" === typeof m[f[k]])return m[f[k]].apply(m,g);k+=1;}if(l(m))return h.apply(null,g)(m);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=[];c < l;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,l;c=a(58380);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(f){return "[object Arguments]" === l.call(f);}:function(f){return c("callee",f);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,l;b=a(16805);c=a(84357);l=a(86807);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || l(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=Array(l);c < l;){f[c]=b(a[c]);c+=1;}return f;};},18468:function(r,b,a){var f,h,d,g;function c(m,k,n){for(var p=n.next();!p.done;){if((k=m["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](k);}function l(m,k,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),k));}f=a(33905);h=a(33367);d=a(23614);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,k,n){"function" === typeof m && (m=h(m));if(f(n)){for(var p=0,q=n.length;p < q;){if((k=m["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return l(m,k,n,"fantasy-land/reduce");if(null != n[g])return c(m,k,n[g]());if("function" === typeof n.next)return c(m,k,n);if("function" === typeof n.reduce)return l(m,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={va:function(){return this.gY["@@transducer/init"]();},result:function(b){return this.gY["@@transducer/result"](b);}};},14128:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(h,d){this.gY=d;this.f=h;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(h,d){return this.f(d)?this.gY["@@transducer/step"](h,d):h;};return f;})();a=b(function(f,h){return new l(f,h);});r.exports=a;},94406:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(h,d){this.gY=d;this.f=h;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(h,d){return this.gY["@@transducer/step"](h,this.f(d));};return f;})();a=b(function(f,h){return new l(f,h);});r.exports=a;},33367:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},93358:function(r,b,a){var c,l,f,h,d;b=a(16805);c=a(58380);l=a(46546);f=!({toString:null}).propertyIsEnumerable("toString");h=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var m,k,n,p;if(Object(g) !== g)return [];m=[];k=d && l(g);for(n in g){!c(n,g) || k && "length" === n || (m[m.length]=n);}if(f)for(k=h.length - 1;0 <= k;){n=h[k];if(p=c(n,g)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--k;}return m;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},81057:function(r,b,a){var c,l,f,h,d,g;b=a(31187);c=a(8414);l=a(55446);f=a(18468);h=a(94406);d=a(89028);g=a(93358);a=b(c(["fantasy-land/map","map"],h,function(m,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return m.call(this,k.apply(this,arguments));});case "[object Object]":return f(function(n,p){n[p]=m(k[p]);return n;},{},g(k));default:return l(m,k);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,l){return l > c?l:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(l,f,h){return c(function(d,g,m){return l(g,m);},f,h);});r.exports=a;},29924:function(r,b,a){var c,l;b=a(20239);c=a(78678);l=a(48796);a=b(function m(h,d,g){return l(function(k,n,p){return c(n) && c(p)?m(h,n,p):h(k,n,p);},d,g);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(l,f,h){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,h)?l(g,f[g],h[g]):f[g]);}for(g in h){c(g,h) && !c(g,d) && (d[g]=h[g]);}return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,l){for(var f=0;f < c.length;){if(null == l)return;l=l[c[f]];f+=1;}return l;});r.exports=b;},67758:function(r,b,a){var c,l;b=a(31187);c=a(81057);l=a(38695);a=b(function(f,h){return c(l(f),h);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(l,f){return c([l],f);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,l;c=a(48925);b=a(31187);l=a(42514);a=b(function(f,h){return l(c(f),h);});r.exports=a;},60024:function(r,b,a){var c,l;c=a(86614);b=a(20239);l=a(25228);a=b(function(f,h,d){return l(f,c(h,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(l,f){for(var h=0,d=f.length,g=[],m;h < d;){m=f[h];c(l,m,g) || (g[g.length]=m);h+=1;}return g;});r.exports=b;},1738:function(r,b,a){var c;(function(l){var F,G,E,J,M,L,H,N,I;function f(K,O,R){var Y;Y=I.get(K);if(!Y){if(!R)return;Y=new H();I.set(K,Y);}K=Y.get(O);if(!K){if(!R)return;K=new H();Y.set(O,K);}return K;}function h(K,O,R){if(d(K,O,R))return !0;O=w(O);return null !== O?h(K,O,R):!1;}function d(K,O,R){O=f(O,R,!1);return void 0 !== O && !!O.has(K);}function g(K,O,R){if(d(K,O,R))return m(K,O,R);O=w(O);return null !== O?g(K,O,R):void 0;}function m(K,O,R){O=f(O,R,!1);return void 0 === O?void 0:O.get(K);}function k(K,O){var R,oa;R=n(K,O);K=w(K);if(null === K)return R;O=k(K,O);if(0 >= O.length)return R;if(0 >= R.length)return O;K=new N();for(var Y=0;Y < R.length;Y++){oa=R[Y];K.add(oa);}for(R=0;R < O.length;R++){oa=O[R];K.add(oa);}return x(K);}function n(K,O){var R;K=f(K,O,!1);R=[];K && y(K,function(Y,oa){return R.push(oa);});return R;}function p(K){return void 0 === K;}function q(K){return Array.isArray?Array.isArray(K):K instanceof Array || "[object Array]" === Object.prototype.toString.call(K);}function u(K){return "object" === typeof K?null !== K:"function" === typeof K;}function t(K){return "symbol" === typeof K?K:String(K);}function w(K){var O,R;O=Object.getPrototypeOf(K);if("function" !== typeof K || K === L || O !== L)return O;R=K.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return O;R=R.constructor;return "function" !== typeof R || R === K?O:R;}function v(K){K=K.next();return K.done?void 0:K;}function y(K,O,R){var Y,oa,ka;Y=K.entries;if("function" === typeof Y){Y=Y.call(K);try{for(;oa=v(Y);){ka=oa.value;O.call(R,ka[1],ka[0],K);}}finally{oa && (K=Y["return"]) && K.call(Y);}}else (Y=K.forEach,"function" === typeof Y && Y.call(K,O,R));}function x(K){var O;O=[];y(K,function(R,Y){O.push(Y);});return O;}function z(K,O,R){var Y;Y=0;return {next:function(){var oa;if((K || O) && Y < (K || O).length){oa=Y++;switch(R){case "key":return {value:K[oa],done:!1};case "value":return {value:O[oa],done:!1};case "key+value":return {value:[K[oa],O[oa]],done:!1};}}O=K=void 0;return {value:void 0,done:!0};},"throw":function(oa){if(K || O)O=K=void 0;throw oa;},"return":function(oa){if(K || O)O=K=void 0;return {value:oa,done:!0};}};}function A(){var K;K={};return (function(){function O(){this.Te=[];this.zf=[];this.xu=K;this.Zr=-2;}Object.defineProperty(O.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});O.prototype.has=function(R){return 0 <= this.Vw(R,!1);};O.prototype.get=function(R){R=this.Vw(R,!1);return 0 <= R?this.zf[R]:void 0;};O.prototype.set=function(R,Y){R=this.Vw(R,!0);this.zf[R]=Y;return this;};O.prototype.delete=function(R){var Y;Y=this.Vw(R,!1);if(0 <= Y){R=this.Te.length;for(Y+=1;Y < R;Y++){this.Te[Y - 1]=this.Te[Y];this.zf[Y - 1]=this.zf[Y];}this.Te.length--;this.zf.length--;this.xu=K;this.Zr=-2;return !0;}return !1;};O.prototype.clear=function(){this.Te.length=0;this.zf.length=0;this.xu=K;this.Zr=-2;};O.prototype.keys=function(){return z(this.Te,void 0,"key");};O.prototype.values=function(){return z(void 0,this.zf,"value");};O.prototype.entries=function(){return z(this.Te,this.zf,"key+value");};O.prototype.Vw=function(R,Y){var oa;if(this.xu === R)return this.Zr;oa=this.Te.indexOf(R);0 > oa && Y && (oa=this.Te.length,this.Te.push(R),this.zf.push(void 0));return (this.xu=R,this.Zr=oa);};return O;})();}function B(){return (function(){function K(){this.Gf=new H();}Object.defineProperty(K.prototype,"size",{get:function(){return this.Gf.size;},enumerable:!0,configurable:!0});K.prototype.has=function(O){return this.Gf.has(O);};K.prototype.add=function(O){return (this.Gf.set(O,O),this);};K.prototype.delete=function(O){return this.Gf.delete(O);};K.prototype.clear=function(){this.Gf.clear();};K.prototype.keys=function(){return this.Gf.keys();};K.prototype.values=function(){return this.Gf.values();};K.prototype.entries=function(){return this.Gf.entries();};return K;})();}function D(){var Y,oa;function K(ka,ha){for(var za=0;za < ha;++za){ka[za]=255 * Math.random() | 0;}return ka;}function O(){var ka,Ca;do {ka="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):K(new Uint8Array(16),16):K(Array(16),16);ka[6]=ka[6] & 79 | 64;ka[8]=ka[8] & 191 | 128;for(var ha="",za=0;16 > za;++za){Ca=ka[za];if(4 === za || 6 === za || 8 === za)ha+="-";16 > Ca && (ha+="0");ha+=Ca.toString(16).toLowerCase();}ka="@@WeakMap@@" + ha;}while(M.has(Y,ka));Y[ka]=!0;return ka;}function R(ka,ha){if(!F.call(ka,oa)){if(!ha)return;Object.defineProperty(ka,oa,{value:J()});}return ka[oa];}Y=J();oa=O();return (function(){function ka(){this.ks=O();}ka.prototype.has=function(ha){ha=R(ha,!1);return void 0 !== ha?M.has(ha,this.ks):!1;};ka.prototype.get=function(ha){ha=R(ha,!1);return void 0 !== ha?M.get(ha,this.ks):void 0;};ka.prototype.set=function(ha,za){R(ha,!0)[this.ks]=za;return this;};ka.prototype.delete=function(ha){ha=R(ha,!1);return void 0 !== ha?delete ha[this.ks]:!1;};ka.prototype.clear=function(){this.ks=O();};return ka;})();}function C(K){K.fbc=1;delete K.gbc;return K;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var O;function K(){}O={};K.prototype=O;return new K().__proto__ === O;})();J=G?function(){return C(Object.create(null));}:E?function(){return C({__proto__:null});}:function(){return C({});};(function(K){var O;O=!G && !E;K.has=O?function(R,Y){return F.call(R,Y);}:function(R,Y){return (Y in R);};K.get=O?function(R,Y){return F.call(R,Y)?R[Y]:void 0;}:function(R,Y){return R[Y];};})(M || (M={}));L=Object.getPrototypeOf(Function);H="function" === typeof Map?Map:A();N="function" === typeof Set?Set:B();I=new ("function" === typeof WeakMap?WeakMap:D())();l.GA=function(K,O,R,Y){var ka;if(p(Y)){if(p(R)){if(!q(K))throw new TypeError();if("function" !== typeof O)throw new TypeError();for(R=K.length - 1;0 <= R;--R){if((Y=(0,K[R])(O),!p(Y))){if("function" !== typeof Y)throw new TypeError();O=Y;}}return O;}if(!q(K))throw new TypeError();if(!u(O))throw new TypeError();R=t(R);for(Y=K.length - 1;0 <= Y;--Y){(0,K[Y])(O,R);}}else {if(!q(K))throw new TypeError();if(!u(O))throw new TypeError();if(p(R))throw new TypeError();if(!u(Y))throw new TypeError();R=t(R);for(var oa=K.length - 1;0 <= oa;--oa){ka=(0,K[oa])(O,R,Y);if(!p(ka)){if(!u(ka))throw new TypeError();Y=ka;}}return Y;}};l.Sd=function(K,O){return function(R,Y){if(p(Y)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(K,O);}else {if(!u(R))throw new TypeError();Y=t(Y);f(R,Y,!0).set(K,O);}};};l.y3=function(K,O,R,Y){if(!u(R))throw new TypeError();p(Y) || (Y=t(Y));f(R,Y,!0).set(K,O);};l.VKb=function(K,O){var R;if(!u(O))throw new TypeError();p(R) || (R=t(R));return h(K,O,R);};l.Ona=function(K,O){var R;if(!u(O))throw new TypeError();p(R) || (R=t(R));return d(K,O,R);};l.getMetadata=function(K,O,R){if(!u(O))throw new TypeError();p(R) || (R=t(R));return g(K,O,R);};l.a_a=function(K,O,R){if(!u(O))throw new TypeError();p(R) || (R=t(R));return m(K,O,R);};l.Cdc=function(K,O){if(!u(K))throw new TypeError();p(O) || (O=t(O));return k(K,O);};l.Edc=function(K,O){if(!u(K))throw new TypeError();p(O) || (O=t(O));return n(K,O);};l.Icc=function(K,O,R){var Y;if(!u(O))throw new TypeError();p(R) || (R=t(R));Y=f(O,R,!1);if(p(Y) || !Y.delete(K))return !1;if(0 < Y.size)return !0;K=I.get(O);K.delete(R);if(0 < K.size)return !0;I.delete(O);return !0;};(function(K){if("undefined" !== typeof K.Reflect){if(K.Reflect !== l)for(var O in l){F.call(l,O) && (K.Reflect[O]=l[O]);}}else K.Reflect=l;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.B4?a.B4:Function("return this;")());})(c || (c={}));},63671:function(r,b,a){var c,l,f,h;b=a(62680);c=a(67286);l=a(58786);f=b("RegExp.prototype.exec");h=c("%TypeError%");r.exports=function(d){if(!l(d))throw new h("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},15913:function(r,b,a){var d;function c(g,m,k){this.yK=!1 === g;this.Ln=g || .01;this.lca=void 0 === m?25:m;this.FAa=void 0 === k?1.1:k;this.qj=new d(l);this.reset();}function l(g,m){return g.Pf > m.Pf?1:g.Pf < m.Pf?-1:0;}function f(g,m){return g.zv - m.zv;}function h(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Ln:!1);this.ABb=this.config.ratio || .9;this.BBb=this.config.Ngc || 1E3;this.G7=0;}d=a(35558).Clb;c.prototype.reset=function(){this.qj.clear();this.ypa=this.n=0;};c.prototype.size=function(){return this.qj.size;};c.prototype.Ar=function(g){var m;m=[];g?(this.D0(!0),this.qj.Is(function(k){m.push(k);})):this.qj.Is(function(k){m.push({Pf:k.Pf,n:k.n});});return m;};c.prototype.summary=function(){return [(this.yK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.si(0),"Q1  = " + this.si(.25),"Q2  = " + this.si(.5),"Q3  = " + this.si(.75),"max = " + this.si(1)].join("\n");};c.prototype.push=function(g,m){m=m || 1;g=Array.isArray(g)?g:[g];for(var k=0;k < g.length;k++){this.dOa(g[k],m);}};c.prototype.Gta=function(g){g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.dOa(g[m].Pf,g[m].n);}};c.prototype.D0=function(g){var m;if(!(this.n === this.ypa || !g && this.FAa && this.FAa > this.n / this.ypa)){m=0;this.qj.Is(function(k){k.zv=m + k.n / 2;m=k.rK=m + k.n;});this.n=this.ypa=m;}};c.prototype.cFb=function(g){var m,k;if(0 === this.size())return null;m=this.qj.lowerBound({Pf:g});k=null === m.data()?m.YG():m.data();return k.Pf === g || this.yK?k:(m=m.YG()) && Math.abs(m.Pf - g) < Math.abs(k.Pf - g)?m:k;};c.prototype.BJ=function(g,m,k){this.qj.Zs({Pf:g,n:m,rK:k});this.n+=m;};c.prototype.s0=function(g,m,k){m !== g.Pf && (g.Pf+=k * (m - g.Pf) / (g.n + k));g.rK+=k;g.zv+=k / 2;g.n+=k;this.n+=k;};c.prototype.dOa=function(g,m){var k,n,p;k=this.qj.min();n=this.qj.max();p=this.cFb(g);p && p.Pf === g?this.s0(p,g,m):p === k?this.BJ(g,m,0):p === n?this.BJ(g,m,this.n):this.yK?this.BJ(g,m,p.rK):(k=p.zv / this.n,Math.floor(4 * this.n * this.Ln * k * (1 - k)) - p.n >= m?this.s0(p,g,m):this.BJ(g,m,p.rK));this.D0(!1);!this.yK && this.lca && this.size() > this.lca / this.Ln && this.Ax();};c.prototype.Mtb=function(g){var m,k;this.qj.cs=f;m=this.qj.upperBound({zv:g});this.qj.cs=l;k=m.YG();g=k && k.zv === g?k:m.next();return [k,g];};c.prototype.si=function(g){var m;m=(Array.isArray(g)?g:[g]).map(this.fpb,this);return Array.isArray(g)?m:m[0];};c.prototype.fpb=function(g){var m,k;if(0 !== this.size()){this.D0(!0);this.qj.min();this.qj.max();g*=this.n;m=this.Mtb(g);k=m[0];m=m[1];return m === k || null === k || null === m?(k || m).Pf:this.yK?g <= k.rK?k.Pf:m.Pf:k.Pf + (g - k.zv) * (m.Pf - k.Pf) / (m.zv - k.zv);}};c.prototype.Ax=function(){var g;if(!this.VTa){g=this.Ar();this.reset();for(this.VTa=!0;0 < g.length;){this.Gta(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.D0(!0);this.VTa=!1;}};h.prototype=Object.create(c.prototype);h.prototype.constructor=h;h.prototype.push=function(g){c.prototype.push.call(this,g);this.Nvb();};h.prototype.BJ=function(g,m,k){this.G7+=1;c.prototype.BJ.call(this,g,m,k);};h.prototype.s0=function(g,m,k){1 === g.n && --this.G7;c.prototype.s0.call(this,g,m,k);};h.prototype.Nvb=function(){!("auto" !== this.mode || this.size() < this.BBb) && this.G7 / this.size() > this.ABb && (this.mode="cont",this.yK=!1,this.Ln=this.config.Ln || .01,this.Ax());};r.exports={TDigest:c,Digest:h};},5163:function(r,b,a){var J,M;function c(){c=Object.assign || (function(L){for(var H,N=1,I=arguments.length;N < I;N++){H=arguments[N];for(var K in H){Object.prototype.hasOwnProperty.call(H,K) && (L[K]=H[K]);}}return L;});return c.apply(this,arguments);}function l(L,H){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(N,I){N.__proto__=I;}) || (function(N,I){for(var K in I){Object.prototype.hasOwnProperty.call(I,K) && (N[K]=I[K]);}});return l(L,H);}function f(L,H){function N(){this.constructor=L;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");l(L,H);L.prototype=null === H?Object.create(H):(N.prototype=H.prototype,new N());}function h(L,H){var N,I,K;N={};for(I in L){Object.prototype.hasOwnProperty.call(L,I) && 0 > H.indexOf(I) && (N[I]=L[I]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){K=0;for(I=Object.getOwnPropertySymbols(L);K < I.length;K++){0 > H.indexOf(I[K]) && Object.prototype.propertyIsEnumerable.call(L,I[K]) && (N[I[K]]=L[I[K]]);}}return N;}function d(L,H,N,I){var K,O,R;K=arguments.length;O=3 > K?H:null === I?I=Object.getOwnPropertyDescriptor(H,N):I;if("object" === typeof Reflect && "function" === typeof Reflect.GA)O=Reflect.GA(L,H,N,I);else for(var Y=L.length - 1;0 <= Y;Y--){if(R=L[Y])O=(3 > K?R(O):3 < K?R(H,N,O):R(H,N)) || O;}return (3 < K && O && Object.defineProperty(H,N,O),O);}function g(L,H){return function(N,I){H(N,I,L);};}function m(L,H){if("object" === typeof Reflect && "function" === typeof Reflect.Sd)return Reflect.Sd(L,H);}function k(L,H,N,I){function K(O){return O instanceof N?O:new N(function(R){R(O);});}return new (N || (N=Promise))(function(O,R){function Y(ha){try{ka(I.next(ha));}catch(za){R(za);}}function oa(ha){try{ka(I["throw"](ha));}catch(za){R(za);}}function ka(ha){ha.done?O(ha.value):K(ha.value).then(Y,oa);}ka((I=I.apply(L,H || [])).next());});}function n(L,H){var K,O,R,Y,oa;function N(ka){return function(ha){return I([ka,ha]);};}function I(ka){if(O)throw new TypeError("Generator is already executing.");for(;(oa && (oa=0,ka[0] && (K=0)),K);){try{if((O=1,R && (Y=ka[0] & 2?R["return"]:ka[0]?R["throw"] || ((Y=R["return"]) && Y.call(R),0):R.next) && !(Y=Y.call(R,ka[1])).done))return Y;if((R=0,Y))ka=[ka[0] & 2,Y.value];switch(ka[0]){case 0:case 1:Y=ka;break;case 4:return (K.label++,{value:ka[1],done:!1});case 5:K.label++;R=ka[1];ka=[0];continue;case 7:ka=K.IG.pop();K.Oj.pop();continue;default:if(!(Y=K.Oj,Y=0 < Y.length && Y[Y.length - 1]) && (6 === ka[0] || 2 === ka[0])){K=0;continue;}if(3 === ka[0] && (!Y || ka[1] > Y[0] && ka[1] < Y[3]))K.label=ka[1];else if(6 === ka[0] && K.label < Y[1])(K.label=Y[1],Y=ka);else if(Y && K.label < Y[2])(K.label=Y[2],K.IG.push(ka));else {Y[2] && K.IG.pop();K.Oj.pop();continue;}}ka=H.call(L,K);}catch(ha){ka=[6,ha];R=0;}finally{O=Y=0;}}if(ka[0] & 5)throw ka[1];return {value:ka[0]?ka[1]:void 0,done:!0};}K={label:0,Ra:function(){if(Y[0] & 1)throw Y[1];return Y[1];},Oj:[],IG:[]};return (oa={next:N(0),"throw":N(1),"return":N(2)},"function" === typeof Symbol && (oa[Symbol.iterator]=function(){return this;}),oa);}function p(L,H){for(var N in L){"default" === N || Object.prototype.hasOwnProperty.call(H,N) || J(H,L,N);}}function q(L){var H,N,I;H="function" === typeof Symbol && Symbol.iterator;N=H && L[H];I=0;if(N)return N.call(L);if(L && "number" === typeof L.length)return {next:function(){L && I >= L.length && (L=void 0);return {value:L && L[I++],done:!L};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,H){var N,I,K;N="function" === typeof Symbol && L[Symbol.iterator];if(!N)return L;L=N.call(L);K=[];try{for(;(void 0 === H || 0 < H--) && !(I=L.next()).done;){K.push(I.value);}}catch(R){var O;O={error:R};}finally{try{I && !I.done && (N=L["return"]) && N.call(L);}finally{if(O)throw O.error;}}return K;}function t(){for(var L=[],H=0;H < arguments.length;H++){L=L.concat(u(arguments[H]));}return L;}function w(){var I;for(var L=0,H=0,N=arguments.length;H < N;H++){L+=arguments[H].length;}L=Array(L);I=0;for(H=0;H < N;H++){for(var K=arguments[H],O=0,R=K.length;O < R;(O++,I++)){L[I]=K[O];}}return L;}function v(L,H,N){if(N || 2 === arguments.length)for(var I=0,K=H.length,O;I < K;I++){!O && (I in H) || (O || (O=Array.prototype.slice.call(H,0,I)),O[I]=H[I]);}return L.concat(O || Array.prototype.slice.call(H));}function y(L){return this instanceof y?(this.X$=L,this):new y(L);}function x(L,H,N){var oa,ka,ha;function I(za){oa[za] && (ka[za]=function(Ca){return new Promise(function(La,Wa){1 < ha.push([za,Ca,La,Wa]) || K(za,Ca);});});}function K(za,Ca){var La;try{La=oa[za](Ca);La.value instanceof y?Promise.resolve(La.value.X$).then(O,R):Y(ha[0][2],La);}catch(Wa){Y(ha[0][3],Wa);}}function O(za){K("next",za);}function R(za){K("throw",za);}function Y(za,Ca){(za(Ca),ha.shift(),ha.length) && K(ha[0][0],ha[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");oa=N.apply(L,H || []);ha=[];return (ka={},I("next"),I("throw"),I("return"),ka[Symbol.asyncIterator]=function(){return this;},ka);}function z(L){var N,I;function H(K,O){N[K]=L[K]?function(R){return (I=!I)?{value:y(L[K](R)),done:"return" === K}:O?O(R):R;}:O;}return (N={},H("next"),H("throw",function(K){throw K;}),H("return"),N[Symbol.iterator]=function(){return this;},N);}function A(L){var I,K;function H(O){K[O]=L[O] && (function(R){return new Promise(function(Y,oa){R=L[O](R);N(Y,oa,R.done,R.value);});});}function N(O,R,Y,oa){Promise.resolve(oa).then(function(ka){O({value:ka,done:Y});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=L[Symbol.asyncIterator];return I?I.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),K={},H("next"),H("throw"),H("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function B(L,H){Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H;return L;}function D(L){var H;if(L && L.__esModule)return L;H={};if(null != L)for(var N in L){"default" !== N && Object.prototype.hasOwnProperty.call(L,N) && J(H,L,N);}M(H,L);return H;}function C(L){return L && L.__esModule?L:{default:L};}function F(L,H,N,I){if("a" === N && !I)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?L !== H || !I:!H.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === N?I:"a" === N?I.call(L):I?I.value:H.get(L);}function G(L,H,N,I,K){if("m" === I)throw new TypeError("Private method is not writable");if("a" === I && !K)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?L !== H || !K:!H.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === I?K.call(L,N):K?K.value=N:H.set(L,N),N);}function E(L,H){if(null === H || "object" !== typeof H && "function" !== typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?H === L:L.has(H);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return k;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return J;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return n;},__importDefault:function(){return C;},__importStar:function(){return D;},__makeTemplateObject:function(){return B;},__metadata:function(){return m;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return h;},__spread:function(){return t;},__spreadArray:function(){return v;},__spreadArrays:function(){return w;},__values:function(){return q;}});J=Object.create?function(L,H,N,I){var K;void 0 === I && (I=N);K=Object.getOwnPropertyDescriptor(H,N);if(!K || (("get" in K)?!H.__esModule:K.writable || K.configurable))K={enumerable:!0,get:function(){return H[N];}};Object.defineProperty(L,I,K);}:function(L,H,N,I){void 0 === I && (I=N);L[I]=H[N];};M=Object.create?function(L,H){Object.defineProperty(L,"default",{enumerable:!0,value:H});}:function(L,H){L["default"]=H;};},794:function(r,b,a){var c,l,f,h,d,g,m,k,n,p;c=a(67286)("%TypeError%");l=a(57017);f=a(32249);h=a(70126);d=a(38476);g=a(38733);m=a(80907);k=a(4);n=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({ZMa:p,fFa:g,eFa:d},t)?t:n(t);if(!l({ZMa:p,fFa:g,eFa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,k,h,q,u,t);};},70126:function(r,b,a){var c,l,f;c=a(10487);l=a(84902);f=a(18132);r.exports=function(h){"undefined" !== typeof h && c(f,"Property Descriptor","Desc",h);return l(h);};},38476:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(h){if("undefined" === typeof h)return !1;l(f,"Property Descriptor","Desc",h);return c(h,"[[Get]]") || c(h,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,l,f;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(h){b=null;}if(b && c){l={};f={};b(f,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(h){try{c(h,f);}catch(d){return d === l;}};}else r.exports=function(h){return "function" === typeof h && !!h.prototype;};},38733:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(h){if("undefined" === typeof h)return !1;l(f,"Property Descriptor","Desc",h);return c(h,"[[Value]]") || c(h,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f?0 === l?1 / l === 1 / f:!0:c(l) && c(f);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f || c(l) && c(f);};},88251:function(r,b,a){var c,l,f,h;b=a(67286);c=b("%Symbol.species%",!0);l=b("%TypeError%");f=a(20451);h=a(18132);r.exports=function(d,g){if("Object" !== h(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== h(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new l("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,l,f,h,d,g;c=a(46382);l=a(26827);f=a(84583);h=a(97911);d=a(51832);g=a(79747);r.exports=function(m){var k;m=f(m);if(h(m) || 0 === m)return 0;if(!d(m))return m;k=l(c(m));return 0 === k?0:g(m) * k;};},69808:function(r,b,a){var c,l;c=a(74339);l=a(76113);r.exports=function(f){f=l(f);return 0 >= f?0:f > c?c:f;};},84583:function(r,b,a){var c,l,f,h,d,g,m,k,n,p,q,u,t,w;c=a(67286);l=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");h=c("%parseInt%");c=a(62680);d=a(63671);g=a(45819);m=c("String.prototype.slice");k=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(99197);r.exports=function x(y){var z;y=g(y)?y:w(y,f);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(k(y))return x(h(m(y,2),2));if(n(y))return x(h(m(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},48668:function(r,b,a){var c,l;c=a(67286)("%Object%");l=a(77850);r.exports=function(f){l(f);return c(f);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},83891:function(r,b,a){var c,l,f,h,d;c=a(23198);l=a(67286)("%TypeError%");f=a(18132);h=a(14463);d=a(83317);r.exports=function(g){var m,k;if("Object" !== f(g))throw new l("ToPropertyDescriptor requires an object");m={};c(g,"enumerable") && (m["[[Enumerable]]"]=h(g.enumerable));c(g,"configurable") && (m["[[Configurable]]"]=h(g.configurable));c(g,"value") && (m["[[Value]]"]=g.value);c(g,"writable") && (m["[[Writable]]"]=h(g.writable));if(c(g,"get")){k=g.get;if("undefined" !== typeof k && !d(k))throw new l("getter must be a function");m["[[Get]]"]=k;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new l("setter must be a function");m["[[Set]]"]=g;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(l){return c(l);};},26827:function(r,b,a){var c,l;c=a(18132);l=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:l(f);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(l,f){if(null == l)throw new c(f || "Cannot call method on " + l);return l;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,l,f,h,d;b=a(81181);c=a(67286);l=b() && c("%Object.defineProperty%",!0);f=b.NKb();h=f && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(g,m,k,n,p,q){if(!l){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];n[p]=g;return m(n[p],g);}if(f && "length" === p && ("[[Value]]" in q) && h(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,k(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},10487:function(r,b,a){var c,l,f,h;b=a(67286);c=b("%TypeError%");l=b("%SyntaxError%");f=a(23198);h={"Property Descriptor":function(d){var g,m;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(f(d,m) && !g[m])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && h["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,m,k){var n;n=h[g];if("function" !== typeof n)throw new l("unknown record type: " + g);if("Object" !== d(k) || !n(k))throw new c(m + " must be a " + g);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,l;b=a(67286);c=a(23198);l=b("%TypeError%");r.exports=function(f,h){var d,g;if("Object" !== f.ZMa(h))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in h){if(c(h,g) && !d[g])return !1;}if(f.fFa(h) && f.eFa(h))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r,b,a){a=a(67286);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Oa={};(function(){ra.d=function(r,b){for(var a in b){ra.c6a(b,a) && !ra.c6a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){ra.B4=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof nb)return nb;}})();})();(function(){ra.c6a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){ra.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();ra(1738);ra(30026)();ra(65574)();nb._cad_global={};nb.DEBUG=!1;ra(33096);ra(22365);ra(32687);ra(3887);ra(52569);ra(8825);ra(87051);ra(22894);ra(32219);ra(24066);ra(45146);ra(94886);ra(37509);ra(2734);ra(77705);ra(31298);ra(15208);ra(981);ra(73100);ra(7953);ra(15531);ra(97154);ra(33579);ra(50350);ra(75876);ra(19630);ra(59416);ra(50040);ra(70);ra(29204);ra(99732);ra(52828);ra(1481);ra(61726);ra(24427);ra(62604);ra(78857);ra(74413);ra(84281);ra(991);ra(46493);ra(24674);ra(93114);ra(36792);ra(43422);ra(74098);ra(86258);ra(18128);ra(45526);ra(90762);ra(73056);ra(67263);ra(53754);ra(20318);ra(70632);ra(59032);ra(45706);ra(3390);ra(2898);ra(76563);ra(39480);ra(13044);ra(62439);ra(6305);ra(42654);ra(78719);ra(59405);ra(58343);ra(59219);ra(61524);ra(13777);ra(41325);ra(42433);ra(30689);ra(66093);})();}).call(nb);})(window);}).call(window);